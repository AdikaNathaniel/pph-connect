function Uz(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function QG(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var Jw={exports:{}},eh={};var ZT;function JG(){if(ZT)return eh;ZT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return eh.Fragment=t,eh.jsx=r,eh.jsxs=r,eh}var XT;function e7(){return XT||(XT=1,Jw.exports=JG()),Jw.exports}var s=e7(),e_={exports:{}},bt={};var QT;function t7(){if(QT)return bt;QT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(B,Q,V){this.props=B,this.context=Q,this.refs=_,this.updater=V||b}j.prototype.isReactComponent={},j.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},j.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function E(){}E.prototype=j.prototype;function N(B,Q,V){this.props=B,this.context=Q,this.refs=_,this.updater=V||b}var k=N.prototype=new E;k.constructor=N,w(k,j.prototype),k.isPureReactComponent=!0;var O=Array.isArray;function T(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function P(B,Q,V){var ae=V.ref;return{$$typeof:e,type:B,key:Q,ref:ae!==void 0?ae:null,props:V}}function L(B,Q){return P(B.type,Q,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function $(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(V){return Q[V]})}var U=/\/+/g;function X(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?$(""+B.key):Q.toString(36)}function Y(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(T,T):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function F(B,Q,V,ae,Z){var ne=typeof B;(ne==="undefined"||ne==="boolean")&&(B=null);var ee=!1;if(B===null)ee=!0;else switch(ne){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(B.$$typeof){case e:case t:ee=!0;break;case m:return ee=B._init,F(ee(B._payload),Q,V,ae,Z)}}if(ee)return Z=Z(B),ee=ae===""?"."+X(B,0):ae,O(Z)?(V="",ee!=null&&(V=ee.replace(U,"$&/")+"/"),F(Z,Q,V,"",function(ge){return ge})):Z!=null&&(M(Z)&&(Z=L(Z,V+(Z.key==null||B&&B.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+ee)),Q.push(Z)),1;ee=0;var pe=ae===""?".":ae+":";if(O(B))for(var G=0;G<B.length;G++)ae=B[G],ne=pe+X(ae,G),ee+=F(ae,Q,V,ne,Z);else if(G=g(B),typeof G=="function")for(B=G.call(B),G=0;!(ae=B.next()).done;)ae=ae.value,ne=pe+X(ae,G++),ee+=F(ae,Q,V,ne,Z);else if(ne==="object"){if(typeof B.then=="function")return F(Y(B),Q,V,ae,Z);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ee}function H(B,Q,V){if(B==null)return B;var ae=[],Z=0;return F(B,ae,"","",function(ne){return Q.call(V,ne,Z++)}),ae}function I(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(V){(B._status===0||B._status===-1)&&(B._status=1,B._result=V)},function(V){(B._status===0||B._status===-1)&&(B._status=2,B._result=V)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ue={map:H,forEach:function(B,Q,V){H(B,function(){Q.apply(this,arguments)},V)},count:function(B){var Q=0;return H(B,function(){Q++}),Q},toArray:function(B){return H(B,function(Q){return Q})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return bt.Activity=p,bt.Children=ue,bt.Component=j,bt.Fragment=r,bt.Profiler=a,bt.PureComponent=N,bt.StrictMode=n,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,bt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},bt.cache=function(B){return function(){return B.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(B,Q,V){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ae=w({},B.props),Z=B.key;if(Q!=null)for(ne in Q.key!==void 0&&(Z=""+Q.key),Q)!A.call(Q,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&Q.ref===void 0||(ae[ne]=Q[ne]);var ne=arguments.length-2;if(ne===1)ae.children=V;else if(1<ne){for(var ee=Array(ne),pe=0;pe<ne;pe++)ee[pe]=arguments[pe+2];ae.children=ee}return P(B.type,Z,ae)},bt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},bt.createElement=function(B,Q,V){var ae,Z={},ne=null;if(Q!=null)for(ae in Q.key!==void 0&&(ne=""+Q.key),Q)A.call(Q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Z[ae]=Q[ae]);var ee=arguments.length-2;if(ee===1)Z.children=V;else if(1<ee){for(var pe=Array(ee),G=0;G<ee;G++)pe[G]=arguments[G+2];Z.children=pe}if(B&&B.defaultProps)for(ae in ee=B.defaultProps,ee)Z[ae]===void 0&&(Z[ae]=ee[ae]);return P(B,ne,Z)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(B){return{$$typeof:c,render:B}},bt.isValidElement=M,bt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:I}},bt.memo=function(B,Q){return{$$typeof:f,type:B,compare:Q===void 0?null:Q}},bt.startTransition=function(B){var Q=R.T,V={};R.T=V;try{var ae=B(),Z=R.S;Z!==null&&Z(V,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(T,q)}catch(ne){q(ne)}finally{Q!==null&&V.types!==null&&(Q.types=V.types),R.T=Q}},bt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},bt.use=function(B){return R.H.use(B)},bt.useActionState=function(B,Q,V){return R.H.useActionState(B,Q,V)},bt.useCallback=function(B,Q){return R.H.useCallback(B,Q)},bt.useContext=function(B){return R.H.useContext(B)},bt.useDebugValue=function(){},bt.useDeferredValue=function(B,Q){return R.H.useDeferredValue(B,Q)},bt.useEffect=function(B,Q){return R.H.useEffect(B,Q)},bt.useEffectEvent=function(B){return R.H.useEffectEvent(B)},bt.useId=function(){return R.H.useId()},bt.useImperativeHandle=function(B,Q,V){return R.H.useImperativeHandle(B,Q,V)},bt.useInsertionEffect=function(B,Q){return R.H.useInsertionEffect(B,Q)},bt.useLayoutEffect=function(B,Q){return R.H.useLayoutEffect(B,Q)},bt.useMemo=function(B,Q){return R.H.useMemo(B,Q)},bt.useOptimistic=function(B,Q){return R.H.useOptimistic(B,Q)},bt.useReducer=function(B,Q,V){return R.H.useReducer(B,Q,V)},bt.useRef=function(B){return R.H.useRef(B)},bt.useState=function(B){return R.H.useState(B)},bt.useSyncExternalStore=function(B,Q,V){return R.H.useSyncExternalStore(B,Q,V)},bt.useTransition=function(){return R.H.useTransition()},bt.version="19.2.0",bt}var JT;function Md(){return JT||(JT=1,e_.exports=t7()),e_.exports}var x=Md();const re=ei(x),ax=Uz({__proto__:null,default:re},[x]);var t_={exports:{}},th={},r_={exports:{}},n_={};var eP;function r7(){return eP||(eP=1,(function(e){function t(F,H){var I=F.length;F.push(H);e:for(;0<I;){var q=I-1>>>1,ue=F[q];if(0<a(ue,H))F[q]=H,F[I]=ue,I=q;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var H=F[0],I=F.pop();if(I!==H){F[0]=I;e:for(var q=0,ue=F.length,B=ue>>>1;q<B;){var Q=2*(q+1)-1,V=F[Q],ae=Q+1,Z=F[ae];if(0>a(V,I))ae<ue&&0>a(Z,V)?(F[q]=Z,F[ae]=I,q=ae):(F[q]=V,F[Q]=I,q=Q);else if(ae<ue&&0>a(Z,I))F[q]=Z,F[ae]=I,q=ae;else break e}}return H}function a(F,H){var I=F.sortIndex-H.sortIndex;return I!==0?I:F.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],f=[],m=1,p=null,y=3,g=!1,b=!1,w=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function k(F){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=F)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function O(F){if(w=!1,k(F),!b)if(r(d)!==null)b=!0,T||(T=!0,$());else{var H=r(f);H!==null&&Y(O,H.startTime-F)}}var T=!1,R=-1,A=5,P=-1;function L(){return _?!0:!(e.unstable_now()-P<A)}function M(){if(_=!1,T){var F=e.unstable_now();P=F;var H=!0;try{e:{b=!1,w&&(w=!1,E(R),R=-1),g=!0;var I=y;try{t:{for(k(F),p=r(d);p!==null&&!(p.expirationTime>F&&L());){var q=p.callback;if(typeof q=="function"){p.callback=null,y=p.priorityLevel;var ue=q(p.expirationTime<=F);if(F=e.unstable_now(),typeof ue=="function"){p.callback=ue,k(F),H=!0;break t}p===r(d)&&n(d),k(F)}else n(d);p=r(d)}if(p!==null)H=!0;else{var B=r(f);B!==null&&Y(O,B.startTime-F),H=!1}}break e}finally{p=null,y=I,g=!1}H=void 0}}finally{H?$():T=!1}}}var $;if(typeof N=="function")$=function(){N(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=M,$=function(){X.postMessage(null)}}else $=function(){j(M,0)};function Y(F,H){R=j(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var I=y;y=H;try{return F()}finally{y=I}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var I=y;y=F;try{return H()}finally{y=I}},e.unstable_scheduleCallback=function(F,H,I){var q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=I+ue,F={id:m++,callback:H,priorityLevel:F,startTime:I,expirationTime:ue,sortIndex:-1},I>q?(F.sortIndex=I,t(f,F),r(d)===null&&F===r(f)&&(w?(E(R),R=-1):w=!0,Y(O,I-q))):(F.sortIndex=ue,t(d,F),b||g||(b=!0,T||(T=!0,$()))),F},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(F){var H=y;return function(){var I=y;y=H;try{return F.apply(this,arguments)}finally{y=I}}}})(n_)),n_}var tP;function n7(){return tP||(tP=1,r_.exports=r7()),r_.exports}var a_={exports:{}},Vn={};var rP;function a7(){if(rP)return Vn;rP=1;var e=Md();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Vn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},Vn.flushSync=function(d){var f=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=f,n.p=m,n.d.f()}},Vn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Vn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Vn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:g}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Vn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Vn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Vn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Vn.requestFormReset=function(d){n.d.r(d)},Vn.unstable_batchedUpdates=function(d,f){return d(f)},Vn.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},Vn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Vn.version="19.2.0",Vn}var nP;function Bz(){if(nP)return a_.exports;nP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a_.exports=a7(),a_.exports}var aP;function i7(){if(aP)return th;aP=1;var e=n7(),t=Md(),r=Bz();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(n(188))}function f(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var h=l,v=u;;){var S=h.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===h)return d(S),l;if(C===v)return d(S),u;C=C.sibling}throw Error(n(188))}if(h.return!==v.return)h=S,v=C;else{for(var D=!1,z=S.child;z;){if(z===h){D=!0,h=S,v=C;break}if(z===v){D=!0,v=S,h=C;break}z=z.sibling}if(!D){for(z=C.child;z;){if(z===h){D=!0,h=C,v=S;break}if(z===v){D=!0,v=C,h=S;break}z=z.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function X(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case O:return"Suspense";case T:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case N:return l.displayName||"Context";case E:return(l._context.displayName||"Context")+".Consumer";case k:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case R:return u=l.displayName||null,u!==null?u:X(l.type)||"Memo";case A:u=l._payload,l=l._init;try{return X(l(u))}catch{}}return null}var Y=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},q=[],ue=-1;function B(l){return{current:l}}function Q(l){0>ue||(l.current=q[ue],q[ue]=null,ue--)}function V(l,u){ue++,q[ue]=l.current,l.current=u}var ae=B(null),Z=B(null),ne=B(null),ee=B(null);function pe(l,u){switch(V(ne,u),V(Z,l),V(ae,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?xT(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=xT(u),l=bT(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Q(ae),V(ae,l)}function G(){Q(ae),Q(Z),Q(ne)}function ge(l){l.memoizedState!==null&&V(ee,l);var u=ae.current,h=bT(u,l.type);u!==h&&(V(Z,l),V(ae,h))}function ye(l){Z.current===l&&(Q(ae),Q(Z)),ee.current===l&&(Q(ee),Zf._currentValue=I)}var le,Ue;function Le(l){if(le===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||"",Ue=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+l+Ue}var Qe=!1;function Be(l,u){if(!l||Qe)return"";Qe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var fe=me}Reflect.construct(l,[],we)}else{try{we.call()}catch(me){fe=me}l.call(we.prototype)}}else{try{throw Error()}catch(me){fe=me}(we=l())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),D=C[0],z=C[1];if(D&&z){var K=D.split(`
`),ce=z.split(`
`);for(S=v=0;v<K.length&&!K[v].includes("DetermineComponentFrameRoot");)v++;for(;S<ce.length&&!ce[S].includes("DetermineComponentFrameRoot");)S++;if(v===K.length||S===ce.length)for(v=K.length-1,S=ce.length-1;1<=v&&0<=S&&K[v]!==ce[S];)S--;for(;1<=v&&0<=S;v--,S--)if(K[v]!==ce[S]){if(v!==1||S!==1)do if(v--,S--,0>S||K[v]!==ce[S]){var ve=`
`+K[v].replace(" at new "," at ");return l.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",l.displayName)),ve}while(1<=v&&0<=S);break}}}finally{Qe=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Le(h):""}function Rt(l,u){switch(l.tag){case 26:case 27:case 5:return Le(l.type);case 16:return Le("Lazy");case 13:return l.child!==u&&u!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Be(l.type,!1);case 11:return Be(l.type.render,!1);case 1:return Be(l.type,!0);case 31:return Le("Activity");default:return""}}function Nt(l){try{var u="",h=null;do u+=Rt(l,h),h=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var St=Object.prototype.hasOwnProperty,W=e.unstable_scheduleCallback,ie=e.unstable_cancelCallback,de=e.unstable_shouldYield,Ae=e.unstable_requestPaint,be=e.unstable_now,Ce=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,ot=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,gr=e.unstable_LowPriority,dn=e.unstable_IdlePriority,Tr=e.log,Cr=e.unstable_setDisableYieldValue,fn=null,vr=null;function Jn(l){if(typeof Tr=="function"&&Cr(l),vr&&typeof vr.setStrictMode=="function")try{vr.setStrictMode(fn,l)}catch{}}var Pr=Math.clz32?Math.clz32:zt,ql=Math.log,xt=Math.LN2;function zt(l){return l>>>=0,l===0?32:31-(ql(l)/xt|0)|0}var ft=256,Bt=262144,Fr=4194304;function kt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function ht(l,u,h){var v=l.pendingLanes;if(v===0)return 0;var S=0,C=l.suspendedLanes,D=l.pingedLanes;l=l.warmLanes;var z=v&134217727;return z!==0?(v=z&~C,v!==0?S=kt(v):(D&=z,D!==0?S=kt(D):h||(h=z&~l,h!==0&&(S=kt(h))))):(z=v&~C,z!==0?S=kt(z):D!==0?S=kt(D):h||(h=v&~l,h!==0&&(S=kt(h)))),S===0?0:u!==0&&u!==S&&(u&C)===0&&(C=S&-S,h=u&-u,C>=h||C===32&&(h&4194048)!==0)?u:S}function or(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Qr(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var l=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),l}function ni(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Er(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function fa(l,u,h,v,S,C){var D=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var z=l.entanglements,K=l.expirationTimes,ce=l.hiddenUpdates;for(h=D&~h;0<h;){var ve=31-Pr(h),we=1<<ve;z[ve]=0,K[ve]=-1;var fe=ce[ve];if(fe!==null)for(ce[ve]=null,ve=0;ve<fe.length;ve++){var me=fe[ve];me!==null&&(me.lane&=-536870913)}h&=~we}v!==0&&Vl(l,v,0),C!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=C&~(D&~u))}function Vl(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-Pr(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|h&261930}function ha(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var v=31-Pr(h),S=1<<v;S&u|l[v]&u&&(l[v]|=u),h&=~S}}function ma(l,u){var h=u&-u;return h=(h&42)!==0?1:ou(h),(h&(l.suspendedLanes|u))!==0?0:h}function ou(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Di(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function qb(){var l=H.p;return l!==0?l:(l=window.event,l===void 0?32:qT(l.type))}function iO(l,u){var h=H.p;try{return H.p=l,u()}finally{H.p=h}}var Fo=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Fo,pa="__reactProps$"+Fo,lu="__reactContainer$"+Fo,Vb="__reactEvents$"+Fo,U9="__reactListeners$"+Fo,B9="__reactHandles$"+Fo,sO="__reactResources$"+Fo,df="__reactMarker$"+Fo;function Hb(l){delete l[Pn],delete l[pa],delete l[Vb],delete l[U9],delete l[B9]}function cu(l){var u=l[Pn];if(u)return u;for(var h=l.parentNode;h;){if(u=h[lu]||h[Pn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=NT(l);l!==null;){if(h=l[Pn])return h;l=NT(l)}return u}l=h,h=l.parentNode}return null}function uu(l){if(l=l[Pn]||l[lu]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function ff(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function du(l){var u=l[sO];return u||(u=l[sO]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function jn(l){l[df]=!0}var oO=new Set,lO={};function Hl(l,u){fu(l,u),fu(l+"Capture",u)}function fu(l,u){for(lO[l]=u,l=0;l<u.length;l++)oO.add(u[l])}var q9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cO={},uO={};function V9(l){return St.call(uO,l)?!0:St.call(cO,l)?!1:q9.test(l)?uO[l]=!0:(cO[l]=!0,!1)}function lp(l,u,h){if(V9(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function cp(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function Ls(l,u,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+v)}}function ai(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function dO(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function H9(l,u,h){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,C=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(D){h=""+D,C.call(this,D)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Wb(l){if(!l._valueTracker){var u=dO(l)?"checked":"value";l._valueTracker=H9(l,u,""+l[u])}}function fO(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return l&&(v=dO(l)?l.checked?"true":"false":l.value),l=v,l!==h?(u.setValue(l),!0):!1}function up(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var W9=/[\n"\\]/g;function ii(l){return l.replace(W9,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Kb(l,u,h,v,S,C,D,z){l.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?l.type=D:l.removeAttribute("type"),u!=null?D==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+ai(u)):l.value!==""+ai(u)&&(l.value=""+ai(u)):D!=="submit"&&D!=="reset"||l.removeAttribute("value"),u!=null?Gb(l,D,ai(u)):h!=null?Gb(l,D,ai(h)):v!=null&&l.removeAttribute("value"),S==null&&C!=null&&(l.defaultChecked=!!C),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.name=""+ai(z):l.removeAttribute("name")}function hO(l,u,h,v,S,C,D,z){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),u!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){Wb(l);return}h=h!=null?""+ai(h):"",u=u!=null?""+ai(u):h,z||u===l.value||(l.value=u),l.defaultValue=u}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=z?l.checked:!!v,l.defaultChecked=!!v,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(l.name=D),Wb(l)}function Gb(l,u,h){u==="number"&&up(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function hu(l,u,h,v){if(l=l.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=u.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&v&&(l[h].defaultSelected=!0)}else{for(h=""+ai(h),u=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function mO(l,u,h){if(u!=null&&(u=""+ai(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+ai(h):""}function pO(l,u,h,v){if(u==null){if(v!=null){if(h!=null)throw Error(n(92));if(Y(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),u=h}h=ai(u),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v),Wb(l)}function mu(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var K9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gO(l,u,h){var v=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,h):typeof h!="number"||h===0||K9.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function vO(l,u,h){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in u)v=u[S],u.hasOwnProperty(S)&&h[S]!==v&&gO(l,S,v)}else for(var C in u)u.hasOwnProperty(C)&&gO(l,C,u[C])}function Yb(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dp(l){return Y9.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function zs(){}var Zb=null;function Xb(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var pu=null,gu=null;function yO(l){var u=uu(l);if(u&&(l=u.stateNode)){var h=l[pa]||null;e:switch(l=u.stateNode,u.type){case"input":if(Kb(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+ii(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==l&&v.form===l.form){var S=v[pa]||null;if(!S)throw Error(n(90));Kb(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)v=h[u],v.form===l.form&&fO(v)}break e;case"textarea":mO(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&hu(l,!!h.multiple,u,!1)}}}var Qb=!1;function xO(l,u,h){if(Qb)return l(u,h);Qb=!0;try{var v=l(u);return v}finally{if(Qb=!1,(pu!==null||gu!==null)&&(Qp(),pu&&(u=pu,l=gu,gu=pu=null,yO(u),l)))for(u=0;u<l.length;u++)yO(l[u])}}function hf(l,u){var h=l.stateNode;if(h===null)return null;var v=h[pa]||null;if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jb=!1;if(Fs)try{var mf={};Object.defineProperty(mf,"passive",{get:function(){Jb=!0}}),window.addEventListener("test",mf,mf),window.removeEventListener("test",mf,mf)}catch{Jb=!1}var Uo=null,e0=null,fp=null;function bO(){if(fp)return fp;var l,u=e0,h=u.length,v,S="value"in Uo?Uo.value:Uo.textContent,C=S.length;for(l=0;l<h&&u[l]===S[l];l++);var D=h-l;for(v=1;v<=D&&u[h-v]===S[C-v];v++);return fp=S.slice(l,1<v?1-v:void 0)}function hp(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function mp(){return!0}function wO(){return!1}function ga(l){function u(h,v,S,C,D){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(h=l[z],this[z]=h?h(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?mp:wO,this.isPropagationStopped=wO,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=mp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=mp)},persist:function(){},isPersistent:mp}),u}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pp=ga(Wl),pf=p({},Wl,{view:0,detail:0}),Z9=ga(pf),t0,r0,gf,gp=p({},pf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==gf&&(gf&&l.type==="mousemove"?(t0=l.screenX-gf.screenX,r0=l.screenY-gf.screenY):r0=t0=0,gf=l),t0)},movementY:function(l){return"movementY"in l?l.movementY:r0}}),_O=ga(gp),X9=p({},gp,{dataTransfer:0}),Q9=ga(X9),J9=p({},pf,{relatedTarget:0}),n0=ga(J9),eK=p({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),tK=ga(eK),rK=p({},Wl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),nK=ga(rK),aK=p({},Wl,{data:0}),jO=ga(aK),iK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lK(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=oK[l])?!!u[l]:!1}function a0(){return lK}var cK=p({},pf,{key:function(l){if(l.key){var u=iK[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=hp(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?sK[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(l){return l.type==="keypress"?hp(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?hp(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),uK=ga(cK),dK=p({},gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),SO=ga(dK),fK=p({},pf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),hK=ga(fK),mK=p({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),pK=ga(mK),gK=p({},gp,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),vK=ga(gK),yK=p({},Wl,{newState:0,oldState:0}),xK=ga(yK),bK=[9,13,27,32],i0=Fs&&"CompositionEvent"in window,vf=null;Fs&&"documentMode"in document&&(vf=document.documentMode);var wK=Fs&&"TextEvent"in window&&!vf,CO=Fs&&(!i0||vf&&8<vf&&11>=vf),EO=" ",NO=!1;function kO(l,u){switch(l){case"keyup":return bK.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OO(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var vu=!1;function _K(l,u){switch(l){case"compositionend":return OO(u);case"keypress":return u.which!==32?null:(NO=!0,EO);case"textInput":return l=u.data,l===EO&&NO?null:l;default:return null}}function jK(l,u){if(vu)return l==="compositionend"||!i0&&kO(l,u)?(l=bO(),fp=e0=Uo=null,vu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return CO&&u.locale!=="ko"?null:u.data;default:return null}}var SK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AO(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!SK[l.type]:u==="textarea"}function RO(l,u,h,v){pu?gu?gu.push(v):gu=[v]:pu=v,u=ig(u,"onChange"),0<u.length&&(h=new pp("onChange","change",null,h,v),l.push({event:h,listeners:u}))}var yf=null,xf=null;function CK(l){hT(l,0)}function vp(l){var u=ff(l);if(fO(u))return l}function TO(l,u){if(l==="change")return u}var PO=!1;if(Fs){var s0;if(Fs){var o0="oninput"in document;if(!o0){var DO=document.createElement("div");DO.setAttribute("oninput","return;"),o0=typeof DO.oninput=="function"}s0=o0}else s0=!1;PO=s0&&(!document.documentMode||9<document.documentMode)}function MO(){yf&&(yf.detachEvent("onpropertychange",IO),xf=yf=null)}function IO(l){if(l.propertyName==="value"&&vp(xf)){var u=[];RO(u,xf,l,Xb(l)),xO(CK,u)}}function EK(l,u,h){l==="focusin"?(MO(),yf=u,xf=h,yf.attachEvent("onpropertychange",IO)):l==="focusout"&&MO()}function NK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vp(xf)}function kK(l,u){if(l==="click")return vp(u)}function OK(l,u){if(l==="input"||l==="change")return vp(u)}function AK(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ta=typeof Object.is=="function"?Object.is:AK;function bf(l,u){if(Ta(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!St.call(u,S)||!Ta(l[S],u[S]))return!1}return!0}function $O(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function LO(l,u){var h=$O(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=u&&v>=u)return{node:h,offset:u-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$O(h)}}function zO(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?zO(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function FO(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=up(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=up(l.document)}return u}function l0(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var RK=Fs&&"documentMode"in document&&11>=document.documentMode,yu=null,c0=null,wf=null,u0=!1;function UO(l,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;u0||yu==null||yu!==up(v)||(v=yu,"selectionStart"in v&&l0(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),wf&&bf(wf,v)||(wf=v,v=ig(c0,"onSelect"),0<v.length&&(u=new pp("onSelect","select",null,u,h),l.push({event:u,listeners:v}),u.target=yu)))}function Kl(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var xu={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionrun:Kl("Transition","TransitionRun"),transitionstart:Kl("Transition","TransitionStart"),transitioncancel:Kl("Transition","TransitionCancel"),transitionend:Kl("Transition","TransitionEnd")},d0={},BO={};Fs&&(BO=document.createElement("div").style,"AnimationEvent"in window||(delete xu.animationend.animation,delete xu.animationiteration.animation,delete xu.animationstart.animation),"TransitionEvent"in window||delete xu.transitionend.transition);function Gl(l){if(d0[l])return d0[l];if(!xu[l])return l;var u=xu[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in BO)return d0[l]=u[h];return l}var qO=Gl("animationend"),VO=Gl("animationiteration"),HO=Gl("animationstart"),TK=Gl("transitionrun"),PK=Gl("transitionstart"),DK=Gl("transitioncancel"),WO=Gl("transitionend"),KO=new Map,f0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");f0.push("scrollEnd");function Mi(l,u){KO.set(l,u),Hl(u,[l])}var yp=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},si=[],bu=0,h0=0;function xp(){for(var l=bu,u=h0=bu=0;u<l;){var h=si[u];si[u++]=null;var v=si[u];si[u++]=null;var S=si[u];si[u++]=null;var C=si[u];if(si[u++]=null,v!==null&&S!==null){var D=v.pending;D===null?S.next=S:(S.next=D.next,D.next=S),v.pending=S}C!==0&&GO(h,S,C)}}function bp(l,u,h,v){si[bu++]=l,si[bu++]=u,si[bu++]=h,si[bu++]=v,h0|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function m0(l,u,h,v){return bp(l,u,h,v),wp(l)}function Yl(l,u){return bp(l,null,null,u),wp(l)}function GO(l,u,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var S=!1,C=l.return;C!==null;)C.childLanes|=h,v=C.alternate,v!==null&&(v.childLanes|=h),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(S=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,S&&u!==null&&(S=31-Pr(h),l=C.hiddenUpdates,v=l[S],v===null?l[S]=[u]:v.push(u),u.lane=h|536870912),C):null}function wp(l){if(50<qf)throw qf=0,jw=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var wu={};function MK(l,u,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(l,u,h,v){return new MK(l,u,h,v)}function p0(l){return l=l.prototype,!(!l||!l.isReactComponent)}function Us(l,u){var h=l.alternate;return h===null?(h=Pa(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function YO(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function _p(l,u,h,v,S,C){var D=0;if(v=l,typeof l=="function")p0(l)&&(D=1);else if(typeof l=="string")D=FG(l,h,ae.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=Pa(31,h,u,S),l.elementType=P,l.lanes=C,l;case w:return Zl(h.children,S,C,u);case _:D=8,S|=24;break;case j:return l=Pa(12,h,u,S|2),l.elementType=j,l.lanes=C,l;case O:return l=Pa(13,h,u,S),l.elementType=O,l.lanes=C,l;case T:return l=Pa(19,h,u,S),l.elementType=T,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case N:D=10;break e;case E:D=9;break e;case k:D=11;break e;case R:D=14;break e;case A:D=16,v=null;break e}D=29,h=Error(n(130,l===null?"null":typeof l,"")),v=null}return u=Pa(D,h,u,S),u.elementType=l,u.type=v,u.lanes=C,u}function Zl(l,u,h,v){return l=Pa(7,l,v,u),l.lanes=h,l}function g0(l,u,h){return l=Pa(6,l,null,u),l.lanes=h,l}function ZO(l){var u=Pa(18,null,null,0);return u.stateNode=l,u}function v0(l,u,h){return u=Pa(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var XO=new WeakMap;function oi(l,u){if(typeof l=="object"&&l!==null){var h=XO.get(l);return h!==void 0?h:(u={value:l,source:u,stack:Nt(u)},XO.set(l,u),u)}return{value:l,source:u,stack:Nt(u)}}var _u=[],ju=0,jp=null,_f=0,li=[],ci=0,Bo=null,ss=1,os="";function Bs(l,u){_u[ju++]=_f,_u[ju++]=jp,jp=l,_f=u}function QO(l,u,h){li[ci++]=ss,li[ci++]=os,li[ci++]=Bo,Bo=l;var v=ss;l=os;var S=32-Pr(v)-1;v&=~(1<<S),h+=1;var C=32-Pr(u)+S;if(30<C){var D=S-S%5;C=(v&(1<<D)-1).toString(32),v>>=D,S-=D,ss=1<<32-Pr(u)+S|h<<S|v,os=C+l}else ss=1<<C|h<<S|v,os=l}function y0(l){l.return!==null&&(Bs(l,1),QO(l,1,0))}function x0(l){for(;l===jp;)jp=_u[--ju],_u[ju]=null,_f=_u[--ju],_u[ju]=null;for(;l===Bo;)Bo=li[--ci],li[ci]=null,os=li[--ci],li[ci]=null,ss=li[--ci],li[ci]=null}function JO(l,u){li[ci++]=ss,li[ci++]=os,li[ci++]=Bo,ss=u.id,os=u.overflow,Bo=l}var Dn=null,dr=null,Ft=!1,qo=null,ui=!1,b0=Error(n(519));function Vo(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jf(oi(u,l)),b0}function eA(l){var u=l.stateNode,h=l.type,v=l.memoizedProps;switch(u[Pn]=l,u[pa]=v,h){case"dialog":It("cancel",u),It("close",u);break;case"iframe":case"object":case"embed":It("load",u);break;case"video":case"audio":for(h=0;h<Hf.length;h++)It(Hf[h],u);break;case"source":It("error",u);break;case"img":case"image":case"link":It("error",u),It("load",u);break;case"details":It("toggle",u);break;case"input":It("invalid",u),hO(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":It("invalid",u);break;case"textarea":It("invalid",u),pO(u,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||v.suppressHydrationWarning===!0||vT(u.textContent,h)?(v.popover!=null&&(It("beforetoggle",u),It("toggle",u)),v.onScroll!=null&&It("scroll",u),v.onScrollEnd!=null&&It("scrollend",u),v.onClick!=null&&(u.onclick=zs),u=!0):u=!1,u||Vo(l,!0)}function tA(l){for(Dn=l.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Dn=Dn.return}}function Su(l){if(l!==Dn)return!1;if(!Ft)return tA(l),Ft=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Lw(l.type,l.memoizedProps)),h=!h),h&&dr&&Vo(l),tA(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));dr=ET(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));dr=ET(l)}else u===27?(u=dr,al(l.type)?(l=qw,qw=null,dr=l):dr=u):dr=Dn?fi(l.stateNode.nextSibling):null;return!0}function Xl(){dr=Dn=null,Ft=!1}function w0(){var l=qo;return l!==null&&(ba===null?ba=l:ba.push.apply(ba,l),qo=null),l}function jf(l){qo===null?qo=[l]:qo.push(l)}var _0=B(null),Ql=null,qs=null;function Ho(l,u,h){V(_0,u._currentValue),u._currentValue=h}function Vs(l){l._currentValue=_0.current,Q(_0)}function j0(l,u,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===h)break;l=l.return}}function S0(l,u,h,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var C=S.dependencies;if(C!==null){var D=S.child;C=C.firstContext;e:for(;C!==null;){var z=C;C=S;for(var K=0;K<u.length;K++)if(z.context===u[K]){C.lanes|=h,z=C.alternate,z!==null&&(z.lanes|=h),j0(C.return,h,l),v||(D=null);break e}C=z.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=h,C=D.alternate,C!==null&&(C.lanes|=h),j0(D,h,l),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Cu(l,u,h,v){l=null;for(var S=u,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var z=S.type;Ta(S.pendingProps.value,D.value)||(l!==null?l.push(z):l=[z])}}else if(S===ee.current){if(D=S.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Zf):l=[Zf])}S=S.return}l!==null&&S0(u,l,h,v),u.flags|=262144}function Sp(l){for(l=l.firstContext;l!==null;){if(!Ta(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Jl(l){Ql=l,qs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Mn(l){return rA(Ql,l)}function Cp(l,u){return Ql===null&&Jl(l),rA(l,u)}function rA(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},qs===null){if(l===null)throw Error(n(308));qs=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else qs=qs.next=u;return h}var IK=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},$K=e.unstable_scheduleCallback,LK=e.unstable_NormalPriority,en={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C0(){return{controller:new IK,data:new Map,refCount:0}}function Sf(l){l.refCount--,l.refCount===0&&$K(LK,function(){l.controller.abort()})}var Cf=null,E0=0,Eu=0,Nu=null;function zK(l,u){if(Cf===null){var h=Cf=[];E0=0,Eu=Ow(),Nu={status:"pending",value:void 0,then:function(v){h.push(v)}}}return E0++,u.then(nA,nA),u}function nA(){if(--E0===0&&Cf!==null){Nu!==null&&(Nu.status="fulfilled");var l=Cf;Cf=null,Eu=0,Nu=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function FK(l,u){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var aA=F.S;F.S=function(l,u){UR=be(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&zK(l,u),aA!==null&&aA(l,u)};var ec=B(null);function N0(){var l=ec.current;return l!==null?l:nr.pooledCache}function Ep(l,u){u===null?V(ec,ec.current):V(ec,u.pool)}function iA(){var l=N0();return l===null?null:{parent:en._currentValue,pool:l}}var ku=Error(n(460)),k0=Error(n(474)),Np=Error(n(542)),kp={then:function(){}};function sA(l){return l=l.status,l==="fulfilled"||l==="rejected"}function oA(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(zs,zs),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,cA(l),l;default:if(typeof u.status=="string")u.then(zs,zs);else{if(l=nr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=v}},function(v){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,cA(l),l}throw rc=u,ku}}function tc(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(rc=h,ku):h}}var rc=null;function lA(){if(rc===null)throw Error(n(459));var l=rc;return rc=null,l}function cA(l){if(l===ku||l===Np)throw Error(n(483))}var Ou=null,Ef=0;function Op(l){var u=Ef;return Ef+=1,Ou===null&&(Ou=[]),oA(Ou,l,u)}function Nf(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Ap(l,u){throw u.$$typeof===y?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function uA(l){function u(te,J){if(l){var oe=te.deletions;oe===null?(te.deletions=[J],te.flags|=16):oe.push(J)}}function h(te,J){if(!l)return null;for(;J!==null;)u(te,J),J=J.sibling;return null}function v(te){for(var J=new Map;te!==null;)te.key!==null?J.set(te.key,te):J.set(te.index,te),te=te.sibling;return J}function S(te,J){return te=Us(te,J),te.index=0,te.sibling=null,te}function C(te,J,oe){return te.index=oe,l?(oe=te.alternate,oe!==null?(oe=oe.index,oe<J?(te.flags|=67108866,J):oe):(te.flags|=67108866,J)):(te.flags|=1048576,J)}function D(te){return l&&te.alternate===null&&(te.flags|=67108866),te}function z(te,J,oe,xe){return J===null||J.tag!==6?(J=g0(oe,te.mode,xe),J.return=te,J):(J=S(J,oe),J.return=te,J)}function K(te,J,oe,xe){var nt=oe.type;return nt===w?ve(te,J,oe.props.children,xe,oe.key):J!==null&&(J.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&tc(nt)===J.type)?(J=S(J,oe.props),Nf(J,oe),J.return=te,J):(J=_p(oe.type,oe.key,oe.props,null,te.mode,xe),Nf(J,oe),J.return=te,J)}function ce(te,J,oe,xe){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=v0(oe,te.mode,xe),J.return=te,J):(J=S(J,oe.children||[]),J.return=te,J)}function ve(te,J,oe,xe,nt){return J===null||J.tag!==7?(J=Zl(oe,te.mode,xe,nt),J.return=te,J):(J=S(J,oe),J.return=te,J)}function we(te,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=g0(""+J,te.mode,oe),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case g:return oe=_p(J.type,J.key,J.props,null,te.mode,oe),Nf(oe,J),oe.return=te,oe;case b:return J=v0(J,te.mode,oe),J.return=te,J;case A:return J=tc(J),we(te,J,oe)}if(Y(J)||$(J))return J=Zl(J,te.mode,oe,null),J.return=te,J;if(typeof J.then=="function")return we(te,Op(J),oe);if(J.$$typeof===N)return we(te,Cp(te,J),oe);Ap(te,J)}return null}function fe(te,J,oe,xe){var nt=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return nt!==null?null:z(te,J,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return oe.key===nt?K(te,J,oe,xe):null;case b:return oe.key===nt?ce(te,J,oe,xe):null;case A:return oe=tc(oe),fe(te,J,oe,xe)}if(Y(oe)||$(oe))return nt!==null?null:ve(te,J,oe,xe,null);if(typeof oe.then=="function")return fe(te,J,Op(oe),xe);if(oe.$$typeof===N)return fe(te,J,Cp(te,oe),xe);Ap(te,oe)}return null}function me(te,J,oe,xe,nt){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return te=te.get(oe)||null,z(J,te,""+xe,nt);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return te=te.get(xe.key===null?oe:xe.key)||null,K(J,te,xe,nt);case b:return te=te.get(xe.key===null?oe:xe.key)||null,ce(J,te,xe,nt);case A:return xe=tc(xe),me(te,J,oe,xe,nt)}if(Y(xe)||$(xe))return te=te.get(oe)||null,ve(J,te,xe,nt,null);if(typeof xe.then=="function")return me(te,J,oe,Op(xe),nt);if(xe.$$typeof===N)return me(te,J,oe,Cp(J,xe),nt);Ap(J,xe)}return null}function Ve(te,J,oe,xe){for(var nt=null,qt=null,Ye=J,At=J=0,Lt=null;Ye!==null&&At<oe.length;At++){Ye.index>At?(Lt=Ye,Ye=null):Lt=Ye.sibling;var Vt=fe(te,Ye,oe[At],xe);if(Vt===null){Ye===null&&(Ye=Lt);break}l&&Ye&&Vt.alternate===null&&u(te,Ye),J=C(Vt,J,At),qt===null?nt=Vt:qt.sibling=Vt,qt=Vt,Ye=Lt}if(At===oe.length)return h(te,Ye),Ft&&Bs(te,At),nt;if(Ye===null){for(;At<oe.length;At++)Ye=we(te,oe[At],xe),Ye!==null&&(J=C(Ye,J,At),qt===null?nt=Ye:qt.sibling=Ye,qt=Ye);return Ft&&Bs(te,At),nt}for(Ye=v(Ye);At<oe.length;At++)Lt=me(Ye,te,At,oe[At],xe),Lt!==null&&(l&&Lt.alternate!==null&&Ye.delete(Lt.key===null?At:Lt.key),J=C(Lt,J,At),qt===null?nt=Lt:qt.sibling=Lt,qt=Lt);return l&&Ye.forEach(function(cl){return u(te,cl)}),Ft&&Bs(te,At),nt}function lt(te,J,oe,xe){if(oe==null)throw Error(n(151));for(var nt=null,qt=null,Ye=J,At=J=0,Lt=null,Vt=oe.next();Ye!==null&&!Vt.done;At++,Vt=oe.next()){Ye.index>At?(Lt=Ye,Ye=null):Lt=Ye.sibling;var cl=fe(te,Ye,Vt.value,xe);if(cl===null){Ye===null&&(Ye=Lt);break}l&&Ye&&cl.alternate===null&&u(te,Ye),J=C(cl,J,At),qt===null?nt=cl:qt.sibling=cl,qt=cl,Ye=Lt}if(Vt.done)return h(te,Ye),Ft&&Bs(te,At),nt;if(Ye===null){for(;!Vt.done;At++,Vt=oe.next())Vt=we(te,Vt.value,xe),Vt!==null&&(J=C(Vt,J,At),qt===null?nt=Vt:qt.sibling=Vt,qt=Vt);return Ft&&Bs(te,At),nt}for(Ye=v(Ye);!Vt.done;At++,Vt=oe.next())Vt=me(Ye,te,At,Vt.value,xe),Vt!==null&&(l&&Vt.alternate!==null&&Ye.delete(Vt.key===null?At:Vt.key),J=C(Vt,J,At),qt===null?nt=Vt:qt.sibling=Vt,qt=Vt);return l&&Ye.forEach(function(XG){return u(te,XG)}),Ft&&Bs(te,At),nt}function er(te,J,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:e:{for(var nt=oe.key;J!==null;){if(J.key===nt){if(nt=oe.type,nt===w){if(J.tag===7){h(te,J.sibling),xe=S(J,oe.props.children),xe.return=te,te=xe;break e}}else if(J.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===A&&tc(nt)===J.type){h(te,J.sibling),xe=S(J,oe.props),Nf(xe,oe),xe.return=te,te=xe;break e}h(te,J);break}else u(te,J);J=J.sibling}oe.type===w?(xe=Zl(oe.props.children,te.mode,xe,oe.key),xe.return=te,te=xe):(xe=_p(oe.type,oe.key,oe.props,null,te.mode,xe),Nf(xe,oe),xe.return=te,te=xe)}return D(te);case b:e:{for(nt=oe.key;J!==null;){if(J.key===nt)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){h(te,J.sibling),xe=S(J,oe.children||[]),xe.return=te,te=xe;break e}else{h(te,J);break}else u(te,J);J=J.sibling}xe=v0(oe,te.mode,xe),xe.return=te,te=xe}return D(te);case A:return oe=tc(oe),er(te,J,oe,xe)}if(Y(oe))return Ve(te,J,oe,xe);if($(oe)){if(nt=$(oe),typeof nt!="function")throw Error(n(150));return oe=nt.call(oe),lt(te,J,oe,xe)}if(typeof oe.then=="function")return er(te,J,Op(oe),xe);if(oe.$$typeof===N)return er(te,J,Cp(te,oe),xe);Ap(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(h(te,J.sibling),xe=S(J,oe),xe.return=te,te=xe):(h(te,J),xe=g0(oe,te.mode,xe),xe.return=te,te=xe),D(te)):h(te,J)}return function(te,J,oe,xe){try{Ef=0;var nt=er(te,J,oe,xe);return Ou=null,nt}catch(Ye){if(Ye===ku||Ye===Np)throw Ye;var qt=Pa(29,Ye,null,te.mode);return qt.lanes=xe,qt.return=te,qt}finally{}}}var nc=uA(!0),dA=uA(!1),Wo=!1;function O0(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function A0(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Ko(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Go(l,u,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Wt&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,u=wp(l),GO(l,null,h),u}return bp(l,v,u,h),wp(l)}function kf(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,ha(l,h)}}function R0(l,u){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?S=C=D:C=C.next=D,h=h.next}while(h!==null);C===null?S=C=u:C=C.next=u}else S=C=u;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var T0=!1;function Of(){if(T0){var l=Nu;if(l!==null)throw l}}function Af(l,u,h,v){T0=!1;var S=l.updateQueue;Wo=!1;var C=S.firstBaseUpdate,D=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var K=z,ce=K.next;K.next=null,D===null?C=ce:D.next=ce,D=K;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==D&&(z===null?ve.firstBaseUpdate=ce:z.next=ce,ve.lastBaseUpdate=K))}if(C!==null){var we=S.baseState;D=0,ve=ce=K=null,z=C;do{var fe=z.lane&-536870913,me=fe!==z.lane;if(me?($t&fe)===fe:(v&fe)===fe){fe!==0&&fe===Eu&&(T0=!0),ve!==null&&(ve=ve.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Ve=l,lt=z;fe=u;var er=h;switch(lt.tag){case 1:if(Ve=lt.payload,typeof Ve=="function"){we=Ve.call(er,we,fe);break e}we=Ve;break e;case 3:Ve.flags=Ve.flags&-65537|128;case 0:if(Ve=lt.payload,fe=typeof Ve=="function"?Ve.call(er,we,fe):Ve,fe==null)break e;we=p({},we,fe);break e;case 2:Wo=!0}}fe=z.callback,fe!==null&&(l.flags|=64,me&&(l.flags|=8192),me=S.callbacks,me===null?S.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(ce=ve=me,K=we):ve=ve.next=me,D|=fe;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;me=z,z=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);ve===null&&(K=we),S.baseState=K,S.firstBaseUpdate=ce,S.lastBaseUpdate=ve,C===null&&(S.shared.lanes=0),Jo|=D,l.lanes=D,l.memoizedState=we}}function fA(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function hA(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)fA(h[l],u)}var Au=B(null),Rp=B(0);function mA(l,u){l=Js,V(Rp,l),V(Au,u),Js=l|u.baseLanes}function P0(){V(Rp,Js),V(Au,Au.current)}function D0(){Js=Rp.current,Q(Au),Q(Rp)}var Da=B(null),di=null;function Yo(l){var u=l.alternate;V(Ur,Ur.current&1),V(Da,l),di===null&&(u===null||Au.current!==null||u.memoizedState!==null)&&(di=l)}function M0(l){V(Ur,Ur.current),V(Da,l),di===null&&(di=l)}function pA(l){l.tag===22?(V(Ur,Ur.current),V(Da,l),di===null&&(di=l)):Zo()}function Zo(){V(Ur,Ur.current),V(Da,Da.current)}function Ma(l){Q(Da),di===l&&(di=null),Q(Ur)}var Ur=B(0);function Tp(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Uw(h)||Bw(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Hs=0,Ot=null,Qt=null,tn=null,Pp=!1,Ru=!1,ac=!1,Dp=0,Rf=0,Tu=null,UK=0;function Dr(){throw Error(n(321))}function I0(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Ta(l[h],u[h]))return!1;return!0}function $0(l,u,h,v,S,C){return Hs=C,Ot=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=l===null||l.memoizedState===null?QA:Q0,ac=!1,C=h(v,S),ac=!1,Ru&&(C=vA(u,h,v,S)),gA(l),C}function gA(l){F.H=Df;var u=Qt!==null&&Qt.next!==null;if(Hs=0,tn=Qt=Ot=null,Pp=!1,Rf=0,Tu=null,u)throw Error(n(300));l===null||rn||(l=l.dependencies,l!==null&&Sp(l)&&(rn=!0))}function vA(l,u,h,v){Ot=l;var S=0;do{if(Ru&&(Tu=null),Rf=0,Ru=!1,25<=S)throw Error(n(301));if(S+=1,tn=Qt=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}F.H=JA,C=u(h,v)}while(Ru);return C}function BK(){var l=F.H,u=l.useState()[0];return u=typeof u.then=="function"?Tf(u):u,l=l.useState()[0],(Qt!==null?Qt.memoizedState:null)!==l&&(Ot.flags|=1024),u}function L0(){var l=Dp!==0;return Dp=0,l}function z0(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function F0(l){if(Pp){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Pp=!1}Hs=0,tn=Qt=Ot=null,Ru=!1,Rf=Dp=0,Tu=null}function ea(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ot.memoizedState=tn=l:tn=tn.next=l,tn}function Br(){if(Qt===null){var l=Ot.alternate;l=l!==null?l.memoizedState:null}else l=Qt.next;var u=tn===null?Ot.memoizedState:tn.next;if(u!==null)tn=u,Qt=l;else{if(l===null)throw Ot.alternate===null?Error(n(467)):Error(n(310));Qt=l,l={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?Ot.memoizedState=tn=l:tn=tn.next=l}return tn}function Mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tf(l){var u=Rf;return Rf+=1,Tu===null&&(Tu=[]),l=oA(Tu,l,u),u=Ot,(tn===null?u.memoizedState:tn.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?QA:Q0),l}function Ip(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Tf(l);if(l.$$typeof===N)return Mn(l)}throw Error(n(438,String(l)))}function U0(l){var u=null,h=Ot.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var v=Ot.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Mp(),Ot.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),v=0;v<l;v++)h[v]=L;return u.index++,h}function Ws(l,u){return typeof u=="function"?u(l):u}function $p(l){var u=Br();return B0(u,Qt,l)}function B0(l,u,h){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var S=l.baseQueue,C=v.pending;if(C!==null){if(S!==null){var D=S.next;S.next=C.next,C.next=D}u.baseQueue=S=C,v.pending=null}if(C=l.baseState,S===null)l.memoizedState=C;else{u=S.next;var z=D=null,K=null,ce=u,ve=!1;do{var we=ce.lane&-536870913;if(we!==ce.lane?($t&we)===we:(Hs&we)===we){var fe=ce.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),we===Eu&&(ve=!0);else if((Hs&fe)===fe){ce=ce.next,fe===Eu&&(ve=!0);continue}else we={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(z=K=we,D=C):K=K.next=we,Ot.lanes|=fe,Jo|=fe;we=ce.action,ac&&h(C,we),C=ce.hasEagerState?ce.eagerState:h(C,we)}else fe={lane:we,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(z=K=fe,D=C):K=K.next=fe,Ot.lanes|=we,Jo|=we;ce=ce.next}while(ce!==null&&ce!==u);if(K===null?D=C:K.next=z,!Ta(C,l.memoizedState)&&(rn=!0,ve&&(h=Nu,h!==null)))throw h;l.memoizedState=C,l.baseState=D,l.baseQueue=K,v.lastRenderedState=C}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function q0(l){var u=Br(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var v=h.dispatch,S=h.pending,C=u.memoizedState;if(S!==null){h.pending=null;var D=S=S.next;do C=l(C,D.action),D=D.next;while(D!==S);Ta(C,u.memoizedState)||(rn=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),h.lastRenderedState=C}return[C,v]}function yA(l,u,h){var v=Ot,S=Br(),C=Ft;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=u();var D=!Ta((Qt||S).memoizedState,h);if(D&&(S.memoizedState=h,rn=!0),S=S.queue,W0(wA.bind(null,v,S,l),[l]),S.getSnapshot!==u||D||tn!==null&&tn.memoizedState.tag&1){if(v.flags|=2048,Pu(9,{destroy:void 0},bA.bind(null,v,S,h,u),null),nr===null)throw Error(n(349));C||(Hs&127)!==0||xA(v,u,h)}return h}function xA(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=Ot.updateQueue,u===null?(u=Mp(),Ot.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function bA(l,u,h,v){u.value=h,u.getSnapshot=v,_A(u)&&jA(l)}function wA(l,u,h){return h(function(){_A(u)&&jA(l)})}function _A(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Ta(l,h)}catch{return!0}}function jA(l){var u=Yl(l,2);u!==null&&wa(u,l,2)}function V0(l){var u=ea();if(typeof l=="function"){var h=l;if(l=h(),ac){Jn(!0);try{h()}finally{Jn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:l},u}function SA(l,u,h,v){return l.baseState=h,B0(l,Qt,typeof v=="function"?v:Ws)}function qK(l,u,h,v,S){if(Fp(l))throw Error(n(485));if(l=u.action,l!==null){var C={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};F.T!==null?h(!0):C.isTransition=!1,v(C),h=u.pending,h===null?(C.next=u.pending=C,CA(u,C)):(C.next=h.next,u.pending=h.next=C)}}function CA(l,u){var h=u.action,v=u.payload,S=l.state;if(u.isTransition){var C=F.T,D={};F.T=D;try{var z=h(S,v),K=F.S;K!==null&&K(D,z),EA(l,u,z)}catch(ce){H0(l,u,ce)}finally{C!==null&&D.types!==null&&(C.types=D.types),F.T=C}}else try{C=h(S,v),EA(l,u,C)}catch(ce){H0(l,u,ce)}}function EA(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){NA(l,u,v)},function(v){return H0(l,u,v)}):NA(l,u,h)}function NA(l,u,h){u.status="fulfilled",u.value=h,kA(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,CA(l,h)))}function H0(l,u,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=h,kA(u),u=u.next;while(u!==v)}l.action=null}function kA(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function OA(l,u){return u}function AA(l,u){if(Ft){var h=nr.formState;if(h!==null){e:{var v=Ot;if(Ft){if(dr){t:{for(var S=dr,C=ui;S.nodeType!==8;){if(!C){S=null;break t}if(S=fi(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){dr=fi(S.nextSibling),v=S.data==="F!";break e}}Vo(v)}v=!1}v&&(u=h[0])}}return h=ea(),h.memoizedState=h.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OA,lastRenderedState:u},h.queue=v,h=YA.bind(null,Ot,v),v.dispatch=h,v=V0(!1),C=X0.bind(null,Ot,!1,v.queue),v=ea(),S={state:u,dispatch:null,action:l,pending:null},v.queue=S,h=qK.bind(null,Ot,S,C,h),S.dispatch=h,v.memoizedState=l,[u,h,!1]}function RA(l){var u=Br();return TA(u,Qt,l)}function TA(l,u,h){if(u=B0(l,u,OA)[0],l=$p(Ws)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Tf(u)}catch(D){throw D===ku?Np:D}else v=u;u=Br();var S=u.queue,C=S.dispatch;return h!==u.memoizedState&&(Ot.flags|=2048,Pu(9,{destroy:void 0},VK.bind(null,S,h),null)),[v,C,l]}function VK(l,u){l.action=u}function PA(l){var u=Br(),h=Qt;if(h!==null)return TA(u,h,l);Br(),u=u.memoizedState,h=Br();var v=h.queue.dispatch;return h.memoizedState=l,[u,v,!1]}function Pu(l,u,h,v){return l={tag:l,create:h,deps:v,inst:u,next:null},u=Ot.updateQueue,u===null&&(u=Mp(),Ot.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,u.lastEffect=l),l}function DA(){return Br().memoizedState}function Lp(l,u,h,v){var S=ea();Ot.flags|=l,S.memoizedState=Pu(1|u,{destroy:void 0},h,v===void 0?null:v)}function zp(l,u,h,v){var S=Br();v=v===void 0?null:v;var C=S.memoizedState.inst;Qt!==null&&v!==null&&I0(v,Qt.memoizedState.deps)?S.memoizedState=Pu(u,C,h,v):(Ot.flags|=l,S.memoizedState=Pu(1|u,C,h,v))}function MA(l,u){Lp(8390656,8,l,u)}function W0(l,u){zp(2048,8,l,u)}function HK(l){Ot.flags|=4;var u=Ot.updateQueue;if(u===null)u=Mp(),Ot.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function IA(l){var u=Br().memoizedState;return HK({ref:u,nextImpl:l}),function(){if((Wt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function $A(l,u){return zp(4,2,l,u)}function LA(l,u){return zp(4,4,l,u)}function zA(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function FA(l,u,h){h=h!=null?h.concat([l]):null,zp(4,4,zA.bind(null,u,l),h)}function K0(){}function UA(l,u){var h=Br();u=u===void 0?null:u;var v=h.memoizedState;return u!==null&&I0(u,v[1])?v[0]:(h.memoizedState=[l,u],l)}function BA(l,u){var h=Br();u=u===void 0?null:u;var v=h.memoizedState;if(u!==null&&I0(u,v[1]))return v[0];if(v=l(),ac){Jn(!0);try{l()}finally{Jn(!1)}}return h.memoizedState=[v,u],v}function G0(l,u,h){return h===void 0||(Hs&1073741824)!==0&&($t&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=qR(),Ot.lanes|=l,Jo|=l,h)}function qA(l,u,h,v){return Ta(h,u)?h:Au.current!==null?(l=G0(l,h,v),Ta(l,u)||(rn=!0),l):(Hs&42)===0||(Hs&1073741824)!==0&&($t&261930)===0?(rn=!0,l.memoizedState=h):(l=qR(),Ot.lanes|=l,Jo|=l,u)}function VA(l,u,h,v,S){var C=H.p;H.p=C!==0&&8>C?C:8;var D=F.T,z={};F.T=z,X0(l,!1,u,h);try{var K=S(),ce=F.S;if(ce!==null&&ce(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ve=FK(K,v);Pf(l,u,ve,La(l))}else Pf(l,u,v,La(l))}catch(we){Pf(l,u,{then:function(){},status:"rejected",reason:we},La())}finally{H.p=C,D!==null&&z.types!==null&&(D.types=z.types),F.T=D}}function WK(){}function Y0(l,u,h,v){if(l.tag!==5)throw Error(n(476));var S=HA(l).queue;VA(l,S,u,I,h===null?WK:function(){return WA(l),h(v)})}function HA(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:I},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function WA(l){var u=HA(l);u.next===null&&(u=l.alternate.memoizedState),Pf(l,u.next.queue,{},La())}function Z0(){return Mn(Zf)}function KA(){return Br().memoizedState}function GA(){return Br().memoizedState}function KK(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=La();l=Ko(h);var v=Go(u,l,h);v!==null&&(wa(v,u,h),kf(v,u,h)),u={cache:C0()},l.payload=u;return}u=u.return}}function GK(l,u,h){var v=La();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Fp(l)?ZA(u,h):(h=m0(l,u,h,v),h!==null&&(wa(h,l,v),XA(h,u,v)))}function YA(l,u,h){var v=La();Pf(l,u,h,v)}function Pf(l,u,h,v){var S={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Fp(l))ZA(u,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var D=u.lastRenderedState,z=C(D,h);if(S.hasEagerState=!0,S.eagerState=z,Ta(z,D))return bp(l,u,S,0),nr===null&&xp(),!1}catch{}finally{}if(h=m0(l,u,S,v),h!==null)return wa(h,l,v),XA(h,u,v),!0}return!1}function X0(l,u,h,v){if(v={lane:2,revertLane:Ow(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Fp(l)){if(u)throw Error(n(479))}else u=m0(l,h,v,2),u!==null&&wa(u,l,2)}function Fp(l){var u=l.alternate;return l===Ot||u!==null&&u===Ot}function ZA(l,u){Ru=Pp=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function XA(l,u,h){if((h&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,ha(l,h)}}var Df={readContext:Mn,use:Ip,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr,useHostTransitionStatus:Dr,useFormState:Dr,useActionState:Dr,useOptimistic:Dr,useMemoCache:Dr,useCacheRefresh:Dr};Df.useEffectEvent=Dr;var QA={readContext:Mn,use:Ip,useCallback:function(l,u){return ea().memoizedState=[l,u===void 0?null:u],l},useContext:Mn,useEffect:MA,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Lp(4194308,4,zA.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Lp(4194308,4,l,u)},useInsertionEffect:function(l,u){Lp(4,2,l,u)},useMemo:function(l,u){var h=ea();u=u===void 0?null:u;var v=l();if(ac){Jn(!0);try{l()}finally{Jn(!1)}}return h.memoizedState=[v,u],v},useReducer:function(l,u,h){var v=ea();if(h!==void 0){var S=h(u);if(ac){Jn(!0);try{h(u)}finally{Jn(!1)}}}else S=u;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=GK.bind(null,Ot,l),[v.memoizedState,l]},useRef:function(l){var u=ea();return l={current:l},u.memoizedState=l},useState:function(l){l=V0(l);var u=l.queue,h=YA.bind(null,Ot,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:K0,useDeferredValue:function(l,u){var h=ea();return G0(h,l,u)},useTransition:function(){var l=V0(!1);return l=VA.bind(null,Ot,l.queue,!0,!1),ea().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var v=Ot,S=ea();if(Ft){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),nr===null)throw Error(n(349));($t&127)!==0||xA(v,u,h)}S.memoizedState=h;var C={value:h,getSnapshot:u};return S.queue=C,MA(wA.bind(null,v,C,l),[l]),v.flags|=2048,Pu(9,{destroy:void 0},bA.bind(null,v,C,h,u),null),h},useId:function(){var l=ea(),u=nr.identifierPrefix;if(Ft){var h=os,v=ss;h=(v&~(1<<32-Pr(v)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Dp++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=UK++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Z0,useFormState:AA,useActionState:AA,useOptimistic:function(l){var u=ea();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=X0.bind(null,Ot,!0,h),h.dispatch=u,[l,u]},useMemoCache:U0,useCacheRefresh:function(){return ea().memoizedState=KK.bind(null,Ot)},useEffectEvent:function(l){var u=ea(),h={impl:l};return u.memoizedState=h,function(){if((Wt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},Q0={readContext:Mn,use:Ip,useCallback:UA,useContext:Mn,useEffect:W0,useImperativeHandle:FA,useInsertionEffect:$A,useLayoutEffect:LA,useMemo:BA,useReducer:$p,useRef:DA,useState:function(){return $p(Ws)},useDebugValue:K0,useDeferredValue:function(l,u){var h=Br();return qA(h,Qt.memoizedState,l,u)},useTransition:function(){var l=$p(Ws)[0],u=Br().memoizedState;return[typeof l=="boolean"?l:Tf(l),u]},useSyncExternalStore:yA,useId:KA,useHostTransitionStatus:Z0,useFormState:RA,useActionState:RA,useOptimistic:function(l,u){var h=Br();return SA(h,Qt,l,u)},useMemoCache:U0,useCacheRefresh:GA};Q0.useEffectEvent=IA;var JA={readContext:Mn,use:Ip,useCallback:UA,useContext:Mn,useEffect:W0,useImperativeHandle:FA,useInsertionEffect:$A,useLayoutEffect:LA,useMemo:BA,useReducer:q0,useRef:DA,useState:function(){return q0(Ws)},useDebugValue:K0,useDeferredValue:function(l,u){var h=Br();return Qt===null?G0(h,l,u):qA(h,Qt.memoizedState,l,u)},useTransition:function(){var l=q0(Ws)[0],u=Br().memoizedState;return[typeof l=="boolean"?l:Tf(l),u]},useSyncExternalStore:yA,useId:KA,useHostTransitionStatus:Z0,useFormState:PA,useActionState:PA,useOptimistic:function(l,u){var h=Br();return Qt!==null?SA(h,Qt,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:U0,useCacheRefresh:GA};JA.useEffectEvent=IA;function J0(l,u,h,v){u=l.memoizedState,h=h(v,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var ew={enqueueSetState:function(l,u,h){l=l._reactInternals;var v=La(),S=Ko(v);S.payload=u,h!=null&&(S.callback=h),u=Go(l,S,v),u!==null&&(wa(u,l,v),kf(u,l,v))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var v=La(),S=Ko(v);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=Go(l,S,v),u!==null&&(wa(u,l,v),kf(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=La(),v=Ko(h);v.tag=2,u!=null&&(v.callback=u),u=Go(l,v,h),u!==null&&(wa(u,l,h),kf(u,l,h))}};function eR(l,u,h,v,S,C,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,D):u.prototype&&u.prototype.isPureReactComponent?!bf(h,v)||!bf(S,C):!0}function tR(l,u,h,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==l&&ew.enqueueReplaceState(u,u.state,null)}function ic(l,u){var h=u;if("ref"in u){h={};for(var v in u)v!=="ref"&&(h[v]=u[v])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function rR(l){yp(l)}function nR(l){console.error(l)}function aR(l){yp(l)}function Up(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function iR(l,u,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function tw(l,u,h){return h=Ko(h),h.tag=3,h.payload={element:null},h.callback=function(){Up(l,u)},h}function sR(l){return l=Ko(l),l.tag=3,l}function oR(l,u,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var C=v.value;l.payload=function(){return S(C)},l.callback=function(){iR(u,h,v)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){iR(u,h,v),typeof S!="function"&&(el===null?el=new Set([this]):el.add(this));var z=v.stack;this.componentDidCatch(v.value,{componentStack:z!==null?z:""})})}function YK(l,u,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=h.alternate,u!==null&&Cu(u,h,S,!0),h=Da.current,h!==null){switch(h.tag){case 31:case 13:return di===null?Jp():h.alternate===null&&Mr===0&&(Mr=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===kp?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([v]):u.add(v),Ew(l,v,S)),!1;case 22:return h.flags|=65536,v===kp?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([v]):h.add(v)),Ew(l,v,S)),!1}throw Error(n(435,h.tag))}return Ew(l,v,S),Jp(),!1}if(Ft)return u=Da.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,v!==b0&&(l=Error(n(422),{cause:v}),jf(oi(l,h)))):(v!==b0&&(u=Error(n(423),{cause:v}),jf(oi(u,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=oi(v,h),S=tw(l.stateNode,v,S),R0(l,S),Mr!==4&&(Mr=2)),!1;var C=Error(n(520),{cause:v});if(C=oi(C,h),Bf===null?Bf=[C]:Bf.push(C),Mr!==4&&(Mr=2),u===null)return!0;v=oi(v,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=tw(h.stateNode,v,l),R0(h,l),!1;case 1:if(u=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(el===null||!el.has(C))))return h.flags|=65536,S&=-S,h.lanes|=S,S=sR(S),oR(S,l,h,v),R0(h,S),!1}h=h.return}while(h!==null);return!1}var rw=Error(n(461)),rn=!1;function In(l,u,h,v){u.child=l===null?dA(u,null,h,v):nc(u,l.child,h,v)}function lR(l,u,h,v,S){h=h.render;var C=u.ref;if("ref"in v){var D={};for(var z in v)z!=="ref"&&(D[z]=v[z])}else D=v;return Jl(u),v=$0(l,u,h,D,C,S),z=L0(),l!==null&&!rn?(z0(l,u,S),Ks(l,u,S)):(Ft&&z&&y0(u),u.flags|=1,In(l,u,v,S),u.child)}function cR(l,u,h,v,S){if(l===null){var C=h.type;return typeof C=="function"&&!p0(C)&&C.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=C,uR(l,u,C,v,S)):(l=_p(h.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,!uw(l,S)){var D=C.memoizedProps;if(h=h.compare,h=h!==null?h:bf,h(D,v)&&l.ref===u.ref)return Ks(l,u,S)}return u.flags|=1,l=Us(C,v),l.ref=u.ref,l.return=u,u.child=l}function uR(l,u,h,v,S){if(l!==null){var C=l.memoizedProps;if(bf(C,v)&&l.ref===u.ref)if(rn=!1,u.pendingProps=v=C,uw(l,S))(l.flags&131072)!==0&&(rn=!0);else return u.lanes=l.lanes,Ks(l,u,S)}return nw(l,u,h,v,S)}function dR(l,u,h,v){var S=v.children,C=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,l!==null){for(v=u.child=l.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~C}else v=0,u.child=null;return fR(l,u,C,h,v)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ep(u,C!==null?C.cachePool:null),C!==null?mA(u,C):P0(),pA(u);else return v=u.lanes=536870912,fR(l,u,C!==null?C.baseLanes|h:h,h,v)}else C!==null?(Ep(u,C.cachePool),mA(u,C),Zo(),u.memoizedState=null):(l!==null&&Ep(u,null),P0(),Zo());return In(l,u,S,h),u.child}function Mf(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function fR(l,u,h,v,S){var C=N0();return C=C===null?null:{parent:en._currentValue,pool:C},u.memoizedState={baseLanes:h,cachePool:C},l!==null&&Ep(u,null),P0(),pA(u),l!==null&&Cu(l,u,v,!0),u.childLanes=S,null}function Bp(l,u){return u=Vp({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function hR(l,u,h){return nc(u,l.child,null,h),l=Bp(u,u.pendingProps),l.flags|=2,Ma(u),u.memoizedState=null,l}function ZK(l,u,h){var v=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Ft){if(v.mode==="hidden")return l=Bp(u,v),u.lanes=536870912,Mf(null,l);if(M0(u),(l=dr)?(l=CT(l,ui),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Bo!==null?{id:ss,overflow:os}:null,retryLane:536870912,hydrationErrors:null},h=ZO(l),h.return=u,u.child=h,Dn=u,dr=null)):l=null,l===null)throw Vo(u);return u.lanes=536870912,null}return Bp(u,v)}var C=l.memoizedState;if(C!==null){var D=C.dehydrated;if(M0(u),S)if(u.flags&256)u.flags&=-257,u=hR(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(rn||Cu(l,u,h,!1),S=(h&l.childLanes)!==0,rn||S){if(v=nr,v!==null&&(D=ma(v,h),D!==0&&D!==C.retryLane))throw C.retryLane=D,Yl(l,D),wa(v,l,D),rw;Jp(),u=hR(l,u,h)}else l=C.treeContext,dr=fi(D.nextSibling),Dn=u,Ft=!0,qo=null,ui=!1,l!==null&&JO(u,l),u=Bp(u,v),u.flags|=4096;return u}return l=Us(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function qp(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function nw(l,u,h,v,S){return Jl(u),h=$0(l,u,h,v,void 0,S),v=L0(),l!==null&&!rn?(z0(l,u,S),Ks(l,u,S)):(Ft&&v&&y0(u),u.flags|=1,In(l,u,h,S),u.child)}function mR(l,u,h,v,S,C){return Jl(u),u.updateQueue=null,h=vA(u,v,h,S),gA(l),v=L0(),l!==null&&!rn?(z0(l,u,C),Ks(l,u,C)):(Ft&&v&&y0(u),u.flags|=1,In(l,u,h,C),u.child)}function pR(l,u,h,v,S){if(Jl(u),u.stateNode===null){var C=wu,D=h.contextType;typeof D=="object"&&D!==null&&(C=Mn(D)),C=new h(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ew,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},O0(u),D=h.contextType,C.context=typeof D=="object"&&D!==null?Mn(D):wu,C.state=u.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(J0(u,h,D,v),C.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&ew.enqueueReplaceState(C,C.state,null),Af(u,v,C,S),Of(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){C=u.stateNode;var z=u.memoizedProps,K=ic(h,z);C.props=K;var ce=C.context,ve=h.contextType;D=wu,typeof ve=="object"&&ve!==null&&(D=Mn(ve));var we=h.getDerivedStateFromProps;ve=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function",z=u.pendingProps!==z,ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z||ce!==D)&&tR(u,C,v,D),Wo=!1;var fe=u.memoizedState;C.state=fe,Af(u,v,C,S),Of(),ce=u.memoizedState,z||fe!==ce||Wo?(typeof we=="function"&&(J0(u,h,we,v),ce=u.memoizedState),(K=Wo||eR(u,h,K,v,fe,ce,D))?(ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ce),C.props=v,C.state=ce,C.context=D,v=K):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,A0(l,u),D=u.memoizedProps,ve=ic(h,D),C.props=ve,we=u.pendingProps,fe=C.context,ce=h.contextType,K=wu,typeof ce=="object"&&ce!==null&&(K=Mn(ce)),z=h.getDerivedStateFromProps,(ce=typeof z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==we||fe!==K)&&tR(u,C,v,K),Wo=!1,fe=u.memoizedState,C.state=fe,Af(u,v,C,S),Of();var me=u.memoizedState;D!==we||fe!==me||Wo||l!==null&&l.dependencies!==null&&Sp(l.dependencies)?(typeof z=="function"&&(J0(u,h,z,v),me=u.memoizedState),(ve=Wo||eR(u,h,ve,v,fe,me,K)||l!==null&&l.dependencies!==null&&Sp(l.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,me,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,me,K)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=me),C.props=v,C.state=me,C.context=K,v=ve):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),v=!1)}return C=v,qp(l,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,l!==null&&v?(u.child=nc(u,l.child,null,S),u.child=nc(u,null,h,S)):In(l,u,h,S),u.memoizedState=C.state,l=u.child):l=Ks(l,u,S),l}function gR(l,u,h,v){return Xl(),u.flags|=256,In(l,u,h,v),u.child}var aw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function iw(l){return{baseLanes:l,cachePool:iA()}}function sw(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=$a),l}function vR(l,u,h){var v=u.pendingProps,S=!1,C=(u.flags&128)!==0,D;if((D=C)||(D=l!==null&&l.memoizedState===null?!1:(Ur.current&2)!==0),D&&(S=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,l===null){if(Ft){if(S?Yo(u):Zo(),(l=dr)?(l=CT(l,ui),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Bo!==null?{id:ss,overflow:os}:null,retryLane:536870912,hydrationErrors:null},h=ZO(l),h.return=u,u.child=h,Dn=u,dr=null)):l=null,l===null)throw Vo(u);return Bw(l)?u.lanes=32:u.lanes=536870912,null}var z=v.children;return v=v.fallback,S?(Zo(),S=u.mode,z=Vp({mode:"hidden",children:z},S),v=Zl(v,S,h,null),z.return=u,v.return=u,z.sibling=v,u.child=z,v=u.child,v.memoizedState=iw(h),v.childLanes=sw(l,D,h),u.memoizedState=aw,Mf(null,v)):(Yo(u),ow(u,z))}var K=l.memoizedState;if(K!==null&&(z=K.dehydrated,z!==null)){if(C)u.flags&256?(Yo(u),u.flags&=-257,u=lw(l,u,h)):u.memoizedState!==null?(Zo(),u.child=l.child,u.flags|=128,u=null):(Zo(),z=v.fallback,S=u.mode,v=Vp({mode:"visible",children:v.children},S),z=Zl(z,S,h,null),z.flags|=2,v.return=u,z.return=u,v.sibling=z,u.child=v,nc(u,l.child,null,h),v=u.child,v.memoizedState=iw(h),v.childLanes=sw(l,D,h),u.memoizedState=aw,u=Mf(null,v));else if(Yo(u),Bw(z)){if(D=z.nextSibling&&z.nextSibling.dataset,D)var ce=D.dgst;D=ce,v=Error(n(419)),v.stack="",v.digest=D,jf({value:v,source:null,stack:null}),u=lw(l,u,h)}else if(rn||Cu(l,u,h,!1),D=(h&l.childLanes)!==0,rn||D){if(D=nr,D!==null&&(v=ma(D,h),v!==0&&v!==K.retryLane))throw K.retryLane=v,Yl(l,v),wa(D,l,v),rw;Uw(z)||Jp(),u=lw(l,u,h)}else Uw(z)?(u.flags|=192,u.child=l.child,u=null):(l=K.treeContext,dr=fi(z.nextSibling),Dn=u,Ft=!0,qo=null,ui=!1,l!==null&&JO(u,l),u=ow(u,v.children),u.flags|=4096);return u}return S?(Zo(),z=v.fallback,S=u.mode,K=l.child,ce=K.sibling,v=Us(K,{mode:"hidden",children:v.children}),v.subtreeFlags=K.subtreeFlags&65011712,ce!==null?z=Us(ce,z):(z=Zl(z,S,h,null),z.flags|=2),z.return=u,v.return=u,v.sibling=z,u.child=v,Mf(null,v),v=u.child,z=l.child.memoizedState,z===null?z=iw(h):(S=z.cachePool,S!==null?(K=en._currentValue,S=S.parent!==K?{parent:K,pool:K}:S):S=iA(),z={baseLanes:z.baseLanes|h,cachePool:S}),v.memoizedState=z,v.childLanes=sw(l,D,h),u.memoizedState=aw,Mf(l.child,v)):(Yo(u),h=l.child,l=h.sibling,h=Us(h,{mode:"visible",children:v.children}),h.return=u,h.sibling=null,l!==null&&(D=u.deletions,D===null?(u.deletions=[l],u.flags|=16):D.push(l)),u.child=h,u.memoizedState=null,h)}function ow(l,u){return u=Vp({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Vp(l,u){return l=Pa(22,l,null,u),l.lanes=0,l}function lw(l,u,h){return nc(u,l.child,null,h),l=ow(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function yR(l,u,h){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),j0(l.return,u,h)}function cw(l,u,h,v,S,C){var D=l.memoizedState;D===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S,treeForkCount:C}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=h,D.tailMode=S,D.treeForkCount=C)}function xR(l,u,h){var v=u.pendingProps,S=v.revealOrder,C=v.tail;v=v.children;var D=Ur.current,z=(D&2)!==0;if(z?(D=D&1|2,u.flags|=128):D&=1,V(Ur,D),In(l,u,v,h),v=Ft?_f:0,!z&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&yR(l,h,u);else if(l.tag===19)yR(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=u.child,S=null;h!==null;)l=h.alternate,l!==null&&Tp(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),cw(u,!1,S,h,C,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Tp(l)===null){u.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}cw(u,!0,h,null,C,v);break;case"together":cw(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function Ks(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),Jo|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(Cu(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,h=Us(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=Us(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function uw(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Sp(l)))}function XK(l,u,h){switch(u.tag){case 3:pe(u,u.stateNode.containerInfo),Ho(u,en,l.memoizedState.cache),Xl();break;case 27:case 5:ge(u);break;case 4:pe(u,u.stateNode.containerInfo);break;case 10:Ho(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,M0(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Yo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?vR(l,u,h):(Yo(u),l=Ks(l,u,h),l!==null?l.sibling:null);Yo(u);break;case 19:var S=(l.flags&128)!==0;if(v=(h&u.childLanes)!==0,v||(Cu(l,u,h,!1),v=(h&u.childLanes)!==0),S){if(v)return xR(l,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),V(Ur,Ur.current),v)break;return null;case 22:return u.lanes=0,dR(l,u,h,u.pendingProps);case 24:Ho(u,en,l.memoizedState.cache)}return Ks(l,u,h)}function bR(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)rn=!0;else{if(!uw(l,h)&&(u.flags&128)===0)return rn=!1,XK(l,u,h);rn=(l.flags&131072)!==0}else rn=!1,Ft&&(u.flags&1048576)!==0&&QO(u,_f,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=tc(u.elementType),u.type=l,typeof l=="function")p0(l)?(v=ic(l,v),u.tag=1,u=pR(null,u,l,v,h)):(u.tag=0,u=nw(null,u,l,v,h));else{if(l!=null){var S=l.$$typeof;if(S===k){u.tag=11,u=lR(null,u,l,v,h);break e}else if(S===R){u.tag=14,u=cR(null,u,l,v,h);break e}}throw u=X(l)||l,Error(n(306,u,""))}}return u;case 0:return nw(l,u,u.type,u.pendingProps,h);case 1:return v=u.type,S=ic(v,u.pendingProps),pR(l,u,v,S,h);case 3:e:{if(pe(u,u.stateNode.containerInfo),l===null)throw Error(n(387));v=u.pendingProps;var C=u.memoizedState;S=C.element,A0(l,u),Af(u,v,null,h);var D=u.memoizedState;if(v=D.cache,Ho(u,en,v),v!==C.cache&&S0(u,[en],h,!0),Of(),v=D.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=gR(l,u,v,h);break e}else if(v!==S){S=oi(Error(n(424)),u),jf(S),u=gR(l,u,v,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(dr=fi(l.firstChild),Dn=u,Ft=!0,qo=null,ui=!0,h=dA(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(Xl(),v===S){u=Ks(l,u,h);break e}In(l,u,v,h)}u=u.child}return u;case 26:return qp(l,u),l===null?(h=RT(u.type,null,u.pendingProps,null))?u.memoizedState=h:Ft||(h=u.type,l=u.pendingProps,v=sg(ne.current).createElement(h),v[Pn]=u,v[pa]=l,$n(v,h,l),jn(v),u.stateNode=v):u.memoizedState=RT(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ge(u),l===null&&Ft&&(v=u.stateNode=kT(u.type,u.pendingProps,ne.current),Dn=u,ui=!0,S=dr,al(u.type)?(qw=S,dr=fi(v.firstChild)):dr=S),In(l,u,u.pendingProps.children,h),qp(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Ft&&((S=v=dr)&&(v=NG(v,u.type,u.pendingProps,ui),v!==null?(u.stateNode=v,Dn=u,dr=fi(v.firstChild),ui=!1,S=!0):S=!1),S||Vo(u)),ge(u),S=u.type,C=u.pendingProps,D=l!==null?l.memoizedProps:null,v=C.children,Lw(S,C)?v=null:D!==null&&Lw(S,D)&&(u.flags|=32),u.memoizedState!==null&&(S=$0(l,u,BK,null,null,h),Zf._currentValue=S),qp(l,u),In(l,u,v,h),u.child;case 6:return l===null&&Ft&&((l=h=dr)&&(h=kG(h,u.pendingProps,ui),h!==null?(u.stateNode=h,Dn=u,dr=null,l=!0):l=!1),l||Vo(u)),null;case 13:return vR(l,u,h);case 4:return pe(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=nc(u,null,v,h):In(l,u,v,h),u.child;case 11:return lR(l,u,u.type,u.pendingProps,h);case 7:return In(l,u,u.pendingProps,h),u.child;case 8:return In(l,u,u.pendingProps.children,h),u.child;case 12:return In(l,u,u.pendingProps.children,h),u.child;case 10:return v=u.pendingProps,Ho(u,u.type,v.value),In(l,u,v.children,h),u.child;case 9:return S=u.type._context,v=u.pendingProps.children,Jl(u),S=Mn(S),v=v(S),u.flags|=1,In(l,u,v,h),u.child;case 14:return cR(l,u,u.type,u.pendingProps,h);case 15:return uR(l,u,u.type,u.pendingProps,h);case 19:return xR(l,u,h);case 31:return ZK(l,u,h);case 22:return dR(l,u,h,u.pendingProps);case 24:return Jl(u),v=Mn(en),l===null?(S=N0(),S===null&&(S=nr,C=C0(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=h),S=C),u.memoizedState={parent:v,cache:S},O0(u),Ho(u,en,S)):((l.lanes&h)!==0&&(A0(l,u),Af(u,null,null,h),Of()),S=l.memoizedState,C=u.memoizedState,S.parent!==v?(S={parent:v,cache:v},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Ho(u,en,v)):(v=C.cache,Ho(u,en,v),v!==S.cache&&S0(u,[en],h,!0))),In(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Gs(l){l.flags|=4}function dw(l,u,h,v,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(KR())l.flags|=8192;else throw rc=kp,k0}else l.flags&=-16777217}function wR(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!IT(u))if(KR())l.flags|=8192;else throw rc=kp,k0}function Hp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Jr():536870912,l.lanes|=u,$u|=u)}function If(l,u){if(!Ft)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function fr(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(u)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=h,u}function QK(l,u,h){var v=u.pendingProps;switch(x0(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(u),null;case 1:return fr(u),null;case 3:return h=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Vs(en),G(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Su(u)?Gs(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,w0())),fr(u),null;case 26:var S=u.type,C=u.memoizedState;return l===null?(Gs(u),C!==null?(fr(u),wR(u,C)):(fr(u),dw(u,S,null,v,h))):C?C!==l.memoizedState?(Gs(u),fr(u),wR(u,C)):(fr(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&Gs(u),fr(u),dw(u,S,l,v,h)),null;case 27:if(ye(u),h=ne.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Gs(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return fr(u),null}l=ae.current,Su(u)?eA(u):(l=kT(S,v,h),u.stateNode=l,Gs(u))}return fr(u),null;case 5:if(ye(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Gs(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return fr(u),null}if(C=ae.current,Su(u))eA(u);else{var D=sg(ne.current);switch(C){case 1:C=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=D.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?D.createElement("select",{is:v.is}):D.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?D.createElement(S,{is:v.is}):D.createElement(S)}}C[Pn]=u,C[pa]=v;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)C.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=C;e:switch($n(C,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Gs(u)}}return fr(u),dw(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Gs(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(l=ne.current,Su(u)){if(l=u.stateNode,h=u.memoizedProps,v=null,S=Dn,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[Pn]=u,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||vT(l.nodeValue,h)),l||Vo(u,!0)}else l=sg(l).createTextNode(v),l[Pn]=u,u.stateNode=l}return fr(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(v=Su(u),h!==null){if(l===null){if(!v)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[Pn]=u}else Xl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fr(u),l=!1}else h=w0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(Ma(u),u):(Ma(u),null);if((u.flags&128)!==0)throw Error(n(558))}return fr(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=Su(u),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Pn]=u}else Xl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fr(u),S=!1}else S=w0(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(Ma(u),u):(Ma(u),null)}return Ma(u),(u.flags&128)!==0?(u.lanes=h,u):(h=v!==null,l=l!==null&&l.memoizedState!==null,h&&(v=u.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==S&&(v.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),Hp(u,u.updateQueue),fr(u),null);case 4:return G(),l===null&&Pw(u.stateNode.containerInfo),fr(u),null;case 10:return Vs(u.type),fr(u),null;case 19:if(Q(Ur),v=u.memoizedState,v===null)return fr(u),null;if(S=(u.flags&128)!==0,C=v.rendering,C===null)if(S)If(v,!1);else{if(Mr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(C=Tp(l),C!==null){for(u.flags|=128,If(v,!1),l=C.updateQueue,u.updateQueue=l,Hp(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)YO(h,l),h=h.sibling;return V(Ur,Ur.current&1|2),Ft&&Bs(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&be()>Zp&&(u.flags|=128,S=!0,If(v,!1),u.lanes=4194304)}else{if(!S)if(l=Tp(C),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,Hp(u,l),If(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Ft)return fr(u),null}else 2*be()-v.renderingStartTime>Zp&&h!==536870912&&(u.flags|=128,S=!0,If(v,!1),u.lanes=4194304);v.isBackwards?(C.sibling=u.child,u.child=C):(l=v.last,l!==null?l.sibling=C:u.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=be(),l.sibling=null,h=Ur.current,V(Ur,S?h&1|2:h&1),Ft&&Bs(u,v.treeForkCount),l):(fr(u),null);case 22:case 23:return Ma(u),D0(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(h&536870912)!==0&&(u.flags&128)===0&&(fr(u),u.subtreeFlags&6&&(u.flags|=8192)):fr(u),h=u.updateQueue,h!==null&&Hp(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==h&&(u.flags|=2048),l!==null&&Q(ec),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Vs(en),fr(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function JK(l,u){switch(x0(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Vs(en),G(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return ye(u),null;case 31:if(u.memoizedState!==null){if(Ma(u),u.alternate===null)throw Error(n(340));Xl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Ma(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));Xl()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Q(Ur),null;case 4:return G(),null;case 10:return Vs(u.type),null;case 22:case 23:return Ma(u),D0(),l!==null&&Q(ec),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Vs(en),null;case 25:return null;default:return null}}function _R(l,u){switch(x0(u),u.tag){case 3:Vs(en),G();break;case 26:case 27:case 5:ye(u);break;case 4:G();break;case 31:u.memoizedState!==null&&Ma(u);break;case 13:Ma(u);break;case 19:Q(Ur);break;case 10:Vs(u.type);break;case 22:case 23:Ma(u),D0(),l!==null&&Q(ec);break;case 24:Vs(en)}}function $f(l,u){try{var h=u.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&l)===l){v=void 0;var C=h.create,D=h.inst;v=C(),D.destroy=v}h=h.next}while(h!==S)}}catch(z){Yt(u,u.return,z)}}function Xo(l,u,h){try{var v=u.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var C=S.next;v=C;do{if((v.tag&l)===l){var D=v.inst,z=D.destroy;if(z!==void 0){D.destroy=void 0,S=u;var K=h,ce=z;try{ce()}catch(ve){Yt(S,K,ve)}}}v=v.next}while(v!==C)}}catch(ve){Yt(u,u.return,ve)}}function jR(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{hA(u,h)}catch(v){Yt(l,l.return,v)}}}function SR(l,u,h){h.props=ic(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){Yt(l,u,v)}}function Lf(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(S){Yt(l,u,S)}}function ls(l,u){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){Yt(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Yt(l,u,S)}else h.current=null}function CR(l){var u=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){Yt(l,l.return,S)}}function fw(l,u,h){try{var v=l.stateNode;wG(v,l.type,h,u),v[pa]=u}catch(S){Yt(l,l.return,S)}}function ER(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&al(l.type)||l.tag===4}function hw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||ER(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&al(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function mw(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=zs));else if(v!==4&&(v===27&&al(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(mw(l,u,h),l=l.sibling;l!==null;)mw(l,u,h),l=l.sibling}function Wp(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(v!==4&&(v===27&&al(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Wp(l,u,h),l=l.sibling;l!==null;)Wp(l,u,h),l=l.sibling}function NR(l){var u=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);$n(u,v,h),u[Pn]=l,u[pa]=h}catch(C){Yt(l,l.return,C)}}var Ys=!1,nn=!1,pw=!1,kR=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function eG(l,u){if(l=l.containerInfo,Iw=hg,l=FO(l),l0(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var D=0,z=-1,K=-1,ce=0,ve=0,we=l,fe=null;t:for(;;){for(var me;we!==h||S!==0&&we.nodeType!==3||(z=D+S),we!==C||v!==0&&we.nodeType!==3||(K=D+v),we.nodeType===3&&(D+=we.nodeValue.length),(me=we.firstChild)!==null;)fe=we,we=me;for(;;){if(we===l)break t;if(fe===h&&++ce===S&&(z=D),fe===C&&++ve===v&&(K=D),(me=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=me}h=z===-1||K===-1?null:{start:z,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for($w={focusedElem:l,selectionRange:h},hg=!1,Sn=u;Sn!==null;)if(u=Sn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Sn=l;else for(;Sn!==null;){switch(u=Sn,C=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,h=u,S=C.memoizedProps,C=C.memoizedState,v=h.stateNode;try{var Ve=ic(h.type,S);l=v.getSnapshotBeforeUpdate(Ve,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(lt){Yt(h,h.return,lt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)Fw(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Fw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Sn=l;break}Sn=u.return}}function OR(l,u,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Xs(l,h),v&4&&$f(5,h);break;case 1:if(Xs(l,h),v&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(D){Yt(h,h.return,D)}else{var S=ic(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(D){Yt(h,h.return,D)}}v&64&&jR(h),v&512&&Lf(h,h.return);break;case 3:if(Xs(l,h),v&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{hA(l,u)}catch(D){Yt(h,h.return,D)}}break;case 27:u===null&&v&4&&NR(h);case 26:case 5:Xs(l,h),u===null&&v&4&&CR(h),v&512&&Lf(h,h.return);break;case 12:Xs(l,h);break;case 31:Xs(l,h),v&4&&TR(l,h);break;case 13:Xs(l,h),v&4&&PR(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=cG.bind(null,h),OG(l,h))));break;case 22:if(v=h.memoizedState!==null||Ys,!v){u=u!==null&&u.memoizedState!==null||nn,S=Ys;var C=nn;Ys=v,(nn=u)&&!C?Qs(l,h,(h.subtreeFlags&8772)!==0):Xs(l,h),Ys=S,nn=C}break;case 30:break;default:Xs(l,h)}}function AR(l){var u=l.alternate;u!==null&&(l.alternate=null,AR(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Hb(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var yr=null,va=!1;function Zs(l,u,h){for(h=h.child;h!==null;)RR(l,u,h),h=h.sibling}function RR(l,u,h){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(fn,h)}catch{}switch(h.tag){case 26:nn||ls(h,u),Zs(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:nn||ls(h,u);var v=yr,S=va;al(h.type)&&(yr=h.stateNode,va=!1),Zs(l,u,h),Kf(h.stateNode),yr=v,va=S;break;case 5:nn||ls(h,u);case 6:if(v=yr,S=va,yr=null,Zs(l,u,h),yr=v,va=S,yr!==null)if(va)try{(yr.nodeType===9?yr.body:yr.nodeName==="HTML"?yr.ownerDocument.body:yr).removeChild(h.stateNode)}catch(C){Yt(h,u,C)}else try{yr.removeChild(h.stateNode)}catch(C){Yt(h,u,C)}break;case 18:yr!==null&&(va?(l=yr,jT(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Hu(l)):jT(yr,h.stateNode));break;case 4:v=yr,S=va,yr=h.stateNode.containerInfo,va=!0,Zs(l,u,h),yr=v,va=S;break;case 0:case 11:case 14:case 15:Xo(2,h,u),nn||Xo(4,h,u),Zs(l,u,h);break;case 1:nn||(ls(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"&&SR(h,u,v)),Zs(l,u,h);break;case 21:Zs(l,u,h);break;case 22:nn=(v=nn)||h.memoizedState!==null,Zs(l,u,h),nn=v;break;default:Zs(l,u,h)}}function TR(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Hu(l)}catch(h){Yt(u,u.return,h)}}}function PR(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Hu(l)}catch(h){Yt(u,u.return,h)}}function tG(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new kR),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new kR),u;default:throw Error(n(435,l.tag))}}function Kp(l,u){var h=tG(l);u.forEach(function(v){if(!h.has(v)){h.add(v);var S=uG.bind(null,l,v);v.then(S,S)}})}function ya(l,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],C=l,D=u,z=D;e:for(;z!==null;){switch(z.tag){case 27:if(al(z.type)){yr=z.stateNode,va=!1;break e}break;case 5:yr=z.stateNode,va=!1;break e;case 3:case 4:yr=z.stateNode.containerInfo,va=!0;break e}z=z.return}if(yr===null)throw Error(n(160));RR(C,D,S),yr=null,va=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)DR(u,l),u=u.sibling}var Ii=null;function DR(l,u){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:ya(u,l),xa(l),v&4&&(Xo(3,l,l.return),$f(3,l),Xo(5,l,l.return));break;case 1:ya(u,l),xa(l),v&512&&(nn||h===null||ls(h,h.return)),v&64&&Ys&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=Ii;if(ya(u,l),xa(l),v&512&&(nn||h===null||ls(h,h.return)),v&4){var C=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":C=S.getElementsByTagName("title")[0],(!C||C[df]||C[Pn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(v),S.head.insertBefore(C,S.querySelector("head > title"))),$n(C,v,h),C[Pn]=l,jn(C),v=C;break e;case"link":var D=DT("link","href",S).get(v+(h.href||""));if(D){for(var z=0;z<D.length;z++)if(C=D[z],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(z,1);break t}}C=S.createElement(v),$n(C,v,h),S.head.appendChild(C);break;case"meta":if(D=DT("meta","content",S).get(v+(h.content||""))){for(z=0;z<D.length;z++)if(C=D[z],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(z,1);break t}}C=S.createElement(v),$n(C,v,h),S.head.appendChild(C);break;default:throw Error(n(468,v))}C[Pn]=l,jn(C),v=C}l.stateNode=v}else MT(S,l.type,l.stateNode);else l.stateNode=PT(S,v,l.memoizedProps);else C!==v?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,v===null?MT(S,l.type,l.stateNode):PT(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&fw(l,l.memoizedProps,h.memoizedProps)}break;case 27:ya(u,l),xa(l),v&512&&(nn||h===null||ls(h,h.return)),h!==null&&v&4&&fw(l,l.memoizedProps,h.memoizedProps);break;case 5:if(ya(u,l),xa(l),v&512&&(nn||h===null||ls(h,h.return)),l.flags&32){S=l.stateNode;try{mu(S,"")}catch(Ve){Yt(l,l.return,Ve)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,fw(l,S,h!==null?h.memoizedProps:S)),v&1024&&(pw=!0);break;case 6:if(ya(u,l),xa(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(Ve){Yt(l,l.return,Ve)}}break;case 3:if(cg=null,S=Ii,Ii=og(u.containerInfo),ya(u,l),Ii=S,xa(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Hu(u.containerInfo)}catch(Ve){Yt(l,l.return,Ve)}pw&&(pw=!1,MR(l));break;case 4:v=Ii,Ii=og(l.stateNode.containerInfo),ya(u,l),xa(l),Ii=v;break;case 12:ya(u,l),xa(l);break;case 31:ya(u,l),xa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Kp(l,v)));break;case 13:ya(u,l),xa(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Yp=be()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Kp(l,v)));break;case 22:S=l.memoizedState!==null;var K=h!==null&&h.memoizedState!==null,ce=Ys,ve=nn;if(Ys=ce||S,nn=ve||K,ya(u,l),nn=ve,Ys=ce,xa(l),v&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||K||Ys||nn||sc(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){K=h=u;try{if(C=K.stateNode,S)D=C.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{z=K.stateNode;var we=K.memoizedProps.style,fe=we!=null&&we.hasOwnProperty("display")?we.display:null;z.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(Ve){Yt(K,K.return,Ve)}}}else if(u.tag===6){if(h===null){K=u;try{K.stateNode.nodeValue=S?"":K.memoizedProps}catch(Ve){Yt(K,K.return,Ve)}}}else if(u.tag===18){if(h===null){K=u;try{var me=K.stateNode;S?ST(me,!0):ST(K.stateNode,!1)}catch(Ve){Yt(K,K.return,Ve)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Kp(l,h))));break;case 19:ya(u,l),xa(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Kp(l,v)));break;case 30:break;case 21:break;default:ya(u,l),xa(l)}}function xa(l){var u=l.flags;if(u&2){try{for(var h,v=l.return;v!==null;){if(ER(v)){h=v;break}v=v.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,C=hw(l);Wp(l,C,S);break;case 5:var D=h.stateNode;h.flags&32&&(mu(D,""),h.flags&=-33);var z=hw(l);Wp(l,z,D);break;case 3:case 4:var K=h.stateNode.containerInfo,ce=hw(l);mw(l,ce,K);break;default:throw Error(n(161))}}catch(ve){Yt(l,l.return,ve)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function MR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;MR(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Xs(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)OR(l,u.alternate,u),u=u.sibling}function sc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Xo(4,u,u.return),sc(u);break;case 1:ls(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&SR(u,u.return,h),sc(u);break;case 27:Kf(u.stateNode);case 26:case 5:ls(u,u.return),sc(u);break;case 22:u.memoizedState===null&&sc(u);break;case 30:sc(u);break;default:sc(u)}l=l.sibling}}function Qs(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,S=l,C=u,D=C.flags;switch(C.tag){case 0:case 11:case 15:Qs(S,C,h),$f(4,C);break;case 1:if(Qs(S,C,h),v=C,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ce){Yt(v,v.return,ce)}if(v=C,S=v.updateQueue,S!==null){var z=v.stateNode;try{var K=S.shared.hiddenCallbacks;if(K!==null)for(S.shared.hiddenCallbacks=null,S=0;S<K.length;S++)fA(K[S],z)}catch(ce){Yt(v,v.return,ce)}}h&&D&64&&jR(C),Lf(C,C.return);break;case 27:NR(C);case 26:case 5:Qs(S,C,h),h&&v===null&&D&4&&CR(C),Lf(C,C.return);break;case 12:Qs(S,C,h);break;case 31:Qs(S,C,h),h&&D&4&&TR(S,C);break;case 13:Qs(S,C,h),h&&D&4&&PR(S,C);break;case 22:C.memoizedState===null&&Qs(S,C,h),Lf(C,C.return);break;case 30:break;default:Qs(S,C,h)}u=u.sibling}}function gw(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Sf(h))}function vw(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Sf(l))}function $i(l,u,h,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)IR(l,u,h,v),u=u.sibling}function IR(l,u,h,v){var S=u.flags;switch(u.tag){case 0:case 11:case 15:$i(l,u,h,v),S&2048&&$f(9,u);break;case 1:$i(l,u,h,v);break;case 3:$i(l,u,h,v),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Sf(l)));break;case 12:if(S&2048){$i(l,u,h,v),l=u.stateNode;try{var C=u.memoizedProps,D=C.id,z=C.onPostCommit;typeof z=="function"&&z(D,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(K){Yt(u,u.return,K)}}else $i(l,u,h,v);break;case 31:$i(l,u,h,v);break;case 13:$i(l,u,h,v);break;case 23:break;case 22:C=u.stateNode,D=u.alternate,u.memoizedState!==null?C._visibility&2?$i(l,u,h,v):zf(l,u):C._visibility&2?$i(l,u,h,v):(C._visibility|=2,Du(l,u,h,v,(u.subtreeFlags&10256)!==0||!1)),S&2048&&gw(D,u);break;case 24:$i(l,u,h,v),S&2048&&vw(u.alternate,u);break;default:$i(l,u,h,v)}}function Du(l,u,h,v,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=l,D=u,z=h,K=v,ce=D.flags;switch(D.tag){case 0:case 11:case 15:Du(C,D,z,K,S),$f(8,D);break;case 23:break;case 22:var ve=D.stateNode;D.memoizedState!==null?ve._visibility&2?Du(C,D,z,K,S):zf(C,D):(ve._visibility|=2,Du(C,D,z,K,S)),S&&ce&2048&&gw(D.alternate,D);break;case 24:Du(C,D,z,K,S),S&&ce&2048&&vw(D.alternate,D);break;default:Du(C,D,z,K,S)}u=u.sibling}}function zf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,v=u,S=v.flags;switch(v.tag){case 22:zf(h,v),S&2048&&gw(v.alternate,v);break;case 24:zf(h,v),S&2048&&vw(v.alternate,v);break;default:zf(h,v)}u=u.sibling}}var Ff=8192;function Mu(l,u,h){if(l.subtreeFlags&Ff)for(l=l.child;l!==null;)$R(l,u,h),l=l.sibling}function $R(l,u,h){switch(l.tag){case 26:Mu(l,u,h),l.flags&Ff&&l.memoizedState!==null&&UG(h,Ii,l.memoizedState,l.memoizedProps);break;case 5:Mu(l,u,h);break;case 3:case 4:var v=Ii;Ii=og(l.stateNode.containerInfo),Mu(l,u,h),Ii=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=Ff,Ff=16777216,Mu(l,u,h),Ff=v):Mu(l,u,h));break;default:Mu(l,u,h)}}function LR(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Uf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Sn=v,FR(v,l)}LR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)zR(l),l=l.sibling}function zR(l){switch(l.tag){case 0:case 11:case 15:Uf(l),l.flags&2048&&Xo(9,l,l.return);break;case 3:Uf(l);break;case 12:Uf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Gp(l)):Uf(l);break;default:Uf(l)}}function Gp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Sn=v,FR(v,l)}LR(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Xo(8,u,u.return),Gp(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Gp(u));break;default:Gp(u)}l=l.sibling}}function FR(l,u){for(;Sn!==null;){var h=Sn;switch(h.tag){case 0:case 11:case 15:Xo(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Sf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Sn=v;else e:for(h=l;Sn!==null;){v=Sn;var S=v.sibling,C=v.return;if(AR(v),v===h){Sn=null;break e}if(S!==null){S.return=C,Sn=S;break e}Sn=C}}}var rG={getCacheForType:function(l){var u=Mn(en),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return Mn(en).controller.signal}},nG=typeof WeakMap=="function"?WeakMap:Map,Wt=0,nr=null,Mt=null,$t=0,Gt=0,Ia=null,Qo=!1,Iu=!1,yw=!1,Js=0,Mr=0,Jo=0,oc=0,xw=0,$a=0,$u=0,Bf=null,ba=null,bw=!1,Yp=0,UR=0,Zp=1/0,Xp=null,el=null,hn=0,tl=null,Lu=null,eo=0,ww=0,_w=null,BR=null,qf=0,jw=null;function La(){return(Wt&2)!==0&&$t!==0?$t&-$t:F.T!==null?Ow():qb()}function qR(){if($a===0)if(($t&536870912)===0||Ft){var l=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),$a=l}else $a=536870912;return l=Da.current,l!==null&&(l.flags|=32),$a}function wa(l,u,h){(l===nr&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)&&(zu(l,0),rl(l,$t,$a,!1)),Er(l,h),((Wt&2)===0||l!==nr)&&(l===nr&&((Wt&2)===0&&(oc|=h),Mr===4&&rl(l,$t,$a,!1)),cs(l))}function VR(l,u,h){if((Wt&6)!==0)throw Error(n(327));var v=!h&&(u&127)===0&&(u&l.expiredLanes)===0||or(l,u),S=v?sG(l,u):Cw(l,u,!0),C=v;do{if(S===0){Iu&&!v&&rl(l,u,0,!1);break}else{if(h=l.current.alternate,C&&!aG(h)){S=Cw(l,u,!1),C=!1;continue}if(S===2){if(C=u,l.errorRecoveryDisabledLanes&C)var D=0;else D=l.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var z=l;S=Bf;var K=z.current.memoizedState.isDehydrated;if(K&&(zu(z,D).flags|=256),D=Cw(z,D,!1),D!==2){if(yw&&!K){z.errorRecoveryDisabledLanes|=C,oc|=C,S=4;break e}C=ba,ba=S,C!==null&&(ba===null?ba=C:ba.push.apply(ba,C))}S=D}if(C=!1,S!==2)continue}}if(S===1){zu(l,0),rl(l,u,0,!0);break}e:{switch(v=l,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:rl(v,u,$a,!Qo);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(S=Yp+300-be(),10<S)){if(rl(v,u,$a,!Qo),ht(v,0,!0)!==0)break e;eo=u,v.timeoutHandle=wT(HR.bind(null,v,h,ba,Xp,bw,u,$a,oc,$u,Qo,C,"Throttled",-0,0),S);break e}HR(v,h,ba,Xp,bw,u,$a,oc,$u,Qo,C,null,-0,0)}}break}while(!0);cs(l)}function HR(l,u,h,v,S,C,D,z,K,ce,ve,we,fe,me){if(l.timeoutHandle=-1,we=u.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zs},$R(u,C,we);var Ve=(C&62914560)===C?Yp-be():(C&4194048)===C?UR-be():0;if(Ve=BG(we,Ve),Ve!==null){eo=C,l.cancelPendingCommit=Ve(JR.bind(null,l,u,C,h,v,S,D,z,K,ve,we,null,fe,me)),rl(l,C,D,!ce);return}}JR(l,u,C,h,v,S,D,z,K)}function aG(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],C=S.getSnapshot;S=S.value;try{if(!Ta(C(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function rl(l,u,h,v){u&=~xw,u&=~oc,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var S=u;0<S;){var C=31-Pr(S),D=1<<C;v[C]=-1,S&=~D}h!==0&&Vl(l,h,u)}function Qp(){return(Wt&6)===0?(Vf(0),!1):!0}function Sw(){if(Mt!==null){if(Gt===0)var l=Mt.return;else l=Mt,qs=Ql=null,F0(l),Ou=null,Ef=0,l=Mt;for(;l!==null;)_R(l.alternate,l),l=l.return;Mt=null}}function zu(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,SG(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),eo=0,Sw(),nr=l,Mt=h=Us(l.current,null),$t=u,Gt=0,Ia=null,Qo=!1,Iu=or(l,u),yw=!1,$u=$a=xw=oc=Jo=Mr=0,ba=Bf=null,bw=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var S=31-Pr(v),C=1<<S;u|=l[S],v&=~C}return Js=u,xp(),h}function WR(l,u){Ot=null,F.H=Df,u===ku||u===Np?(u=lA(),Gt=3):u===k0?(u=lA(),Gt=4):Gt=u===rw?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ia=u,Mt===null&&(Mr=1,Up(l,oi(u,l.current)))}function KR(){var l=Da.current;return l===null?!0:($t&4194048)===$t?di===null:($t&62914560)===$t||($t&536870912)!==0?l===di:!1}function GR(){var l=F.H;return F.H=Df,l===null?Df:l}function YR(){var l=F.A;return F.A=rG,l}function Jp(){Mr=4,Qo||($t&4194048)!==$t&&Da.current!==null||(Iu=!0),(Jo&134217727)===0&&(oc&134217727)===0||nr===null||rl(nr,$t,$a,!1)}function Cw(l,u,h){var v=Wt;Wt|=2;var S=GR(),C=YR();(nr!==l||$t!==u)&&(Xp=null,zu(l,u)),u=!1;var D=Mr;e:do try{if(Gt!==0&&Mt!==null){var z=Mt,K=Ia;switch(Gt){case 8:Sw(),D=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(u=!0);var ce=Gt;if(Gt=0,Ia=null,Fu(l,z,K,ce),h&&Iu){D=0;break e}break;default:ce=Gt,Gt=0,Ia=null,Fu(l,z,K,ce)}}iG(),D=Mr;break}catch(ve){WR(l,ve)}while(!0);return u&&l.shellSuspendCounter++,qs=Ql=null,Wt=v,F.H=S,F.A=C,Mt===null&&(nr=null,$t=0,xp()),D}function iG(){for(;Mt!==null;)ZR(Mt)}function sG(l,u){var h=Wt;Wt|=2;var v=GR(),S=YR();nr!==l||$t!==u?(Xp=null,Zp=be()+500,zu(l,u)):Iu=or(l,u);e:do try{if(Gt!==0&&Mt!==null){u=Mt;var C=Ia;t:switch(Gt){case 1:Gt=0,Ia=null,Fu(l,u,C,1);break;case 2:case 9:if(sA(C)){Gt=0,Ia=null,XR(u);break}u=function(){Gt!==2&&Gt!==9||nr!==l||(Gt=7),cs(l)},C.then(u,u);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:sA(C)?(Gt=0,Ia=null,XR(u)):(Gt=0,Ia=null,Fu(l,u,C,7));break;case 5:var D=null;switch(Mt.tag){case 26:D=Mt.memoizedState;case 5:case 27:var z=Mt;if(D?IT(D):z.stateNode.complete){Gt=0,Ia=null;var K=z.sibling;if(K!==null)Mt=K;else{var ce=z.return;ce!==null?(Mt=ce,eg(ce)):Mt=null}break t}}Gt=0,Ia=null,Fu(l,u,C,5);break;case 6:Gt=0,Ia=null,Fu(l,u,C,6);break;case 8:Sw(),Mr=6;break e;default:throw Error(n(462))}}oG();break}catch(ve){WR(l,ve)}while(!0);return qs=Ql=null,F.H=v,F.A=S,Wt=h,Mt!==null?0:(nr=null,$t=0,xp(),Mr)}function oG(){for(;Mt!==null&&!de();)ZR(Mt)}function ZR(l){var u=bR(l.alternate,l,Js);l.memoizedProps=l.pendingProps,u===null?eg(l):Mt=u}function XR(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=mR(h,u,u.pendingProps,u.type,void 0,$t);break;case 11:u=mR(h,u,u.pendingProps,u.type.render,u.ref,$t);break;case 5:F0(u);default:_R(h,u),u=Mt=YO(u,Js),u=bR(h,u,Js)}l.memoizedProps=l.pendingProps,u===null?eg(l):Mt=u}function Fu(l,u,h,v){qs=Ql=null,F0(u),Ou=null,Ef=0;var S=u.return;try{if(YK(l,S,u,h,$t)){Mr=1,Up(l,oi(h,l.current)),Mt=null;return}}catch(C){if(S!==null)throw Mt=S,C;Mr=1,Up(l,oi(h,l.current)),Mt=null;return}u.flags&32768?(Ft||v===1?l=!0:Iu||($t&536870912)!==0?l=!1:(Qo=l=!0,(v===2||v===9||v===3||v===6)&&(v=Da.current,v!==null&&v.tag===13&&(v.flags|=16384))),QR(u,l)):eg(u)}function eg(l){var u=l;do{if((u.flags&32768)!==0){QR(u,Qo);return}l=u.return;var h=QK(u.alternate,u,Js);if(h!==null){Mt=h;return}if(u=u.sibling,u!==null){Mt=u;return}Mt=u=l}while(u!==null);Mr===0&&(Mr=5)}function QR(l,u){do{var h=JK(l.alternate,l);if(h!==null){h.flags&=32767,Mt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){Mt=l;return}Mt=l=h}while(l!==null);Mr=6,Mt=null}function JR(l,u,h,v,S,C,D,z,K){l.cancelPendingCommit=null;do tg();while(hn!==0);if((Wt&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(C=u.lanes|u.childLanes,C|=h0,fa(l,h,C,D,z,K),l===nr&&(Mt=nr=null,$t=0),Lu=u,tl=l,eo=h,ww=C,_w=S,BR=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,dG(yt,function(){return aT(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=F.T,F.T=null,S=H.p,H.p=2,D=Wt,Wt|=4;try{eG(l,u,h)}finally{Wt=D,H.p=S,F.T=v}}hn=1,eT(),tT(),rT()}}function eT(){if(hn===1){hn=0;var l=tl,u=Lu,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var v=H.p;H.p=2;var S=Wt;Wt|=4;try{DR(u,l);var C=$w,D=FO(l.containerInfo),z=C.focusedElem,K=C.selectionRange;if(D!==z&&z&&z.ownerDocument&&zO(z.ownerDocument.documentElement,z)){if(K!==null&&l0(z)){var ce=K.start,ve=K.end;if(ve===void 0&&(ve=ce),"selectionStart"in z)z.selectionStart=ce,z.selectionEnd=Math.min(ve,z.value.length);else{var we=z.ownerDocument||document,fe=we&&we.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),Ve=z.textContent.length,lt=Math.min(K.start,Ve),er=K.end===void 0?lt:Math.min(K.end,Ve);!me.extend&&lt>er&&(D=er,er=lt,lt=D);var te=LO(z,lt),J=LO(z,er);if(te&&J&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==J.node||me.focusOffset!==J.offset)){var oe=we.createRange();oe.setStart(te.node,te.offset),me.removeAllRanges(),lt>er?(me.addRange(oe),me.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),me.addRange(oe))}}}}for(we=[],me=z;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<we.length;z++){var xe=we[z];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}hg=!!Iw,$w=Iw=null}finally{Wt=S,H.p=v,F.T=h}}l.current=u,hn=2}}function tT(){if(hn===2){hn=0;var l=tl,u=Lu,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var v=H.p;H.p=2;var S=Wt;Wt|=4;try{OR(l,u.alternate,u)}finally{Wt=S,H.p=v,F.T=h}}hn=3}}function rT(){if(hn===4||hn===3){hn=0,Ae();var l=tl,u=Lu,h=eo,v=BR;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?hn=5:(hn=0,Lu=tl=null,nT(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(el=null),Di(h),u=u.stateNode,vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(fn,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=F.T,S=H.p,H.p=2,F.T=null;try{for(var C=l.onRecoverableError,D=0;D<v.length;D++){var z=v[D];C(z.value,{componentStack:z.stack})}}finally{F.T=u,H.p=S}}(eo&3)!==0&&tg(),cs(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===jw?qf++:(qf=0,jw=l):qf=0,Vf(0)}}function nT(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Sf(u)))}function tg(){return eT(),tT(),rT(),aT()}function aT(){if(hn!==5)return!1;var l=tl,u=ww;ww=0;var h=Di(eo),v=F.T,S=H.p;try{H.p=32>h?32:h,F.T=null,h=_w,_w=null;var C=tl,D=eo;if(hn=0,Lu=tl=null,eo=0,(Wt&6)!==0)throw Error(n(331));var z=Wt;if(Wt|=4,zR(C.current),IR(C,C.current,D,h),Wt=z,Vf(0,!1),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(fn,C)}catch{}return!0}finally{H.p=S,F.T=v,nT(l,u)}}function iT(l,u,h){u=oi(h,u),u=tw(l.stateNode,u,2),l=Go(l,u,2),l!==null&&(Er(l,2),cs(l))}function Yt(l,u,h){if(l.tag===3)iT(l,l,h);else for(;u!==null;){if(u.tag===3){iT(u,l,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(el===null||!el.has(v))){l=oi(h,l),h=sR(2),v=Go(u,h,2),v!==null&&(oR(h,v,u,l),Er(v,2),cs(v));break}}u=u.return}}function Ew(l,u,h){var v=l.pingCache;if(v===null){v=l.pingCache=new nG;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(h)||(yw=!0,S.add(h),l=lG.bind(null,l,u,h),u.then(l,l))}function lG(l,u,h){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,nr===l&&($t&h)===h&&(Mr===4||Mr===3&&($t&62914560)===$t&&300>be()-Yp?(Wt&2)===0&&zu(l,0):xw|=h,$u===$t&&($u=0)),cs(l)}function sT(l,u){u===0&&(u=Jr()),l=Yl(l,u),l!==null&&(Er(l,u),cs(l))}function cG(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),sT(l,h)}function uG(l,u){var h=0;switch(l.tag){case 31:case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),sT(l,h)}function dG(l,u){return W(l,u)}var rg=null,Uu=null,Nw=!1,ng=!1,kw=!1,nl=0;function cs(l){l!==Uu&&l.next===null&&(Uu===null?rg=Uu=l:Uu=Uu.next=l),ng=!0,Nw||(Nw=!0,hG())}function Vf(l,u){if(!kw&&ng){kw=!0;do for(var h=!1,v=rg;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var C=0;else{var D=v.suspendedLanes,z=v.pingedLanes;C=(1<<31-Pr(42|l)+1)-1,C&=S&~(D&~z),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,uT(v,C))}else C=$t,C=ht(v,v===nr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||or(v,C)||(h=!0,uT(v,C));v=v.next}while(h);kw=!1}}function fG(){oT()}function oT(){ng=Nw=!1;var l=0;nl!==0&&jG()&&(l=nl);for(var u=be(),h=null,v=rg;v!==null;){var S=v.next,C=lT(v,u);C===0?(v.next=null,h===null?rg=S:h.next=S,S===null&&(Uu=h)):(h=v,(l!==0||(C&3)!==0)&&(ng=!0)),v=S}hn!==0&&hn!==5||Vf(l),nl!==0&&(nl=0)}function lT(l,u){for(var h=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var D=31-Pr(C),z=1<<D,K=S[D];K===-1?((z&h)===0||(z&v)!==0)&&(S[D]=Qr(z,u)):K<=u&&(l.expiredLanes|=z),C&=~z}if(u=nr,h=$t,h=ht(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===u&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&ie(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||or(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(v!==null&&ie(v),Di(h)){case 2:case 8:h=ot;break;case 32:h=yt;break;case 268435456:h=dn;break;default:h=yt}return v=cT.bind(null,l),h=W(h,v),l.callbackPriority=u,l.callbackNode=h,u}return v!==null&&v!==null&&ie(v),l.callbackPriority=2,l.callbackNode=null,2}function cT(l,u){if(hn!==0&&hn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(tg()&&l.callbackNode!==h)return null;var v=$t;return v=ht(l,l===nr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(VR(l,v,u),lT(l,be()),l.callbackNode!=null&&l.callbackNode===h?cT.bind(null,l):null)}function uT(l,u){if(tg())return null;VR(l,u,!0)}function hG(){CG(function(){(Wt&6)!==0?W(Pe,fG):oT()})}function Ow(){if(nl===0){var l=Eu;l===0&&(l=ft,ft<<=1,(ft&261888)===0&&(ft=256)),nl=l}return nl}function dT(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:dp(""+l)}function fT(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function mG(l,u,h,v,S){if(u==="submit"&&h&&h.stateNode===S){var C=dT((S[pa]||null).action),D=v.submitter;D&&(u=(u=D[pa]||null)?dT(u.formAction):D.getAttribute("formAction"),u!==null&&(C=u,D=null));var z=new pp("action","action",null,v,S);l.push({event:z,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(nl!==0){var K=D?fT(S,D):new FormData(S);Y0(h,{pending:!0,data:K,method:S.method,action:C},null,K)}}else typeof C=="function"&&(z.preventDefault(),K=D?fT(S,D):new FormData(S),Y0(h,{pending:!0,data:K,method:S.method,action:C},C,K))},currentTarget:S}]})}}for(var Aw=0;Aw<f0.length;Aw++){var Rw=f0[Aw],pG=Rw.toLowerCase(),gG=Rw[0].toUpperCase()+Rw.slice(1);Mi(pG,"on"+gG)}Mi(qO,"onAnimationEnd"),Mi(VO,"onAnimationIteration"),Mi(HO,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(TK,"onTransitionRun"),Mi(PK,"onTransitionStart"),Mi(DK,"onTransitionCancel"),Mi(WO,"onTransitionEnd"),fu("onMouseEnter",["mouseout","mouseover"]),fu("onMouseLeave",["mouseout","mouseover"]),fu("onPointerEnter",["pointerout","pointerover"]),fu("onPointerLeave",["pointerout","pointerover"]),Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hf));function hT(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],S=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var D=v.length-1;0<=D;D--){var z=v[D],K=z.instance,ce=z.currentTarget;if(z=z.listener,K!==C&&S.isPropagationStopped())break e;C=z,S.currentTarget=ce;try{C(S)}catch(ve){yp(ve)}S.currentTarget=null,C=K}else for(D=0;D<v.length;D++){if(z=v[D],K=z.instance,ce=z.currentTarget,z=z.listener,K!==C&&S.isPropagationStopped())break e;C=z,S.currentTarget=ce;try{C(S)}catch(ve){yp(ve)}S.currentTarget=null,C=K}}}}function It(l,u){var h=u[Vb];h===void 0&&(h=u[Vb]=new Set);var v=l+"__bubble";h.has(v)||(mT(u,l,2,!1),h.add(v))}function Tw(l,u,h){var v=0;u&&(v|=4),mT(h,l,v,u)}var ag="_reactListening"+Math.random().toString(36).slice(2);function Pw(l){if(!l[ag]){l[ag]=!0,oO.forEach(function(h){h!=="selectionchange"&&(vG.has(h)||Tw(h,!1,l),Tw(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[ag]||(u[ag]=!0,Tw("selectionchange",!1,u))}}function mT(l,u,h,v){switch(qT(u)){case 2:var S=HG;break;case 8:S=WG;break;default:S=Gw}h=S.bind(null,u,h,l),S=void 0,!Jb||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(u,h,{capture:!0,passive:S}):l.addEventListener(u,h,!0):S!==void 0?l.addEventListener(u,h,{passive:S}):l.addEventListener(u,h,!1)}function Dw(l,u,h,v,S){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var z=v.stateNode.containerInfo;if(z===S)break;if(D===4)for(D=v.return;D!==null;){var K=D.tag;if((K===3||K===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;z!==null;){if(D=cu(z),D===null)return;if(K=D.tag,K===5||K===6||K===26||K===27){v=C=D;continue e}z=z.parentNode}}v=v.return}xO(function(){var ce=C,ve=Xb(h),we=[];e:{var fe=KO.get(l);if(fe!==void 0){var me=pp,Ve=l;switch(l){case"keypress":if(hp(h)===0)break e;case"keydown":case"keyup":me=uK;break;case"focusin":Ve="focus",me=n0;break;case"focusout":Ve="blur",me=n0;break;case"beforeblur":case"afterblur":me=n0;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=_O;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Q9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=hK;break;case qO:case VO:case HO:me=tK;break;case WO:me=pK;break;case"scroll":case"scrollend":me=Z9;break;case"wheel":me=vK;break;case"copy":case"cut":case"paste":me=nK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=SO;break;case"toggle":case"beforetoggle":me=xK}var lt=(u&4)!==0,er=!lt&&(l==="scroll"||l==="scrollend"),te=lt?fe!==null?fe+"Capture":null:fe;lt=[];for(var J=ce,oe;J!==null;){var xe=J;if(oe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||oe===null||te===null||(xe=hf(J,te),xe!=null&&lt.push(Wf(J,xe,oe))),er)break;J=J.return}0<lt.length&&(fe=new me(fe,Ve,null,h,ve),we.push({event:fe,listeners:lt}))}}if((u&7)===0){e:{if(fe=l==="mouseover"||l==="pointerover",me=l==="mouseout"||l==="pointerout",fe&&h!==Zb&&(Ve=h.relatedTarget||h.fromElement)&&(cu(Ve)||Ve[lu]))break e;if((me||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(Ve=h.relatedTarget||h.toElement,me=ce,Ve=Ve?cu(Ve):null,Ve!==null&&(er=i(Ve),lt=Ve.tag,Ve!==er||lt!==5&&lt!==27&&lt!==6)&&(Ve=null)):(me=null,Ve=ce),me!==Ve)){if(lt=_O,xe="onMouseLeave",te="onMouseEnter",J="mouse",(l==="pointerout"||l==="pointerover")&&(lt=SO,xe="onPointerLeave",te="onPointerEnter",J="pointer"),er=me==null?fe:ff(me),oe=Ve==null?fe:ff(Ve),fe=new lt(xe,J+"leave",me,h,ve),fe.target=er,fe.relatedTarget=oe,xe=null,cu(ve)===ce&&(lt=new lt(te,J+"enter",Ve,h,ve),lt.target=oe,lt.relatedTarget=er,xe=lt),er=xe,me&&Ve)t:{for(lt=yG,te=me,J=Ve,oe=0,xe=te;xe;xe=lt(xe))oe++;xe=0;for(var nt=J;nt;nt=lt(nt))xe++;for(;0<oe-xe;)te=lt(te),oe--;for(;0<xe-oe;)J=lt(J),xe--;for(;oe--;){if(te===J||J!==null&&te===J.alternate){lt=te;break t}te=lt(te),J=lt(J)}lt=null}else lt=null;me!==null&&pT(we,fe,me,lt,!1),Ve!==null&&er!==null&&pT(we,er,Ve,lt,!0)}}e:{if(fe=ce?ff(ce):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var qt=TO;else if(AO(fe))if(PO)qt=OK;else{qt=NK;var Ye=EK}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&Yb(ce.elementType)&&(qt=TO):qt=kK;if(qt&&(qt=qt(l,ce))){RO(we,qt,h,ve);break e}Ye&&Ye(l,fe,ce),l==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&Gb(fe,"number",fe.value)}switch(Ye=ce?ff(ce):window,l){case"focusin":(AO(Ye)||Ye.contentEditable==="true")&&(yu=Ye,c0=ce,wf=null);break;case"focusout":wf=c0=yu=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,UO(we,h,ve);break;case"selectionchange":if(RK)break;case"keydown":case"keyup":UO(we,h,ve)}var At;if(i0)e:{switch(l){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else vu?kO(l,h)&&(Lt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Lt="onCompositionStart");Lt&&(CO&&h.locale!=="ko"&&(vu||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&vu&&(At=bO()):(Uo=ve,e0="value"in Uo?Uo.value:Uo.textContent,vu=!0)),Ye=ig(ce,Lt),0<Ye.length&&(Lt=new jO(Lt,l,null,h,ve),we.push({event:Lt,listeners:Ye}),At?Lt.data=At:(At=OO(h),At!==null&&(Lt.data=At)))),(At=wK?_K(l,h):jK(l,h))&&(Lt=ig(ce,"onBeforeInput"),0<Lt.length&&(Ye=new jO("onBeforeInput","beforeinput",null,h,ve),we.push({event:Ye,listeners:Lt}),Ye.data=At)),mG(we,l,ce,h,ve)}hT(we,u)})}function Wf(l,u,h){return{instance:l,listener:u,currentTarget:h}}function ig(l,u){for(var h=u+"Capture",v=[];l!==null;){var S=l,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=hf(l,h),S!=null&&v.unshift(Wf(l,S,C)),S=hf(l,u),S!=null&&v.push(Wf(l,S,C))),l.tag===3)return v;l=l.return}return[]}function yG(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function pT(l,u,h,v,S){for(var C=u._reactName,D=[];h!==null&&h!==v;){var z=h,K=z.alternate,ce=z.stateNode;if(z=z.tag,K!==null&&K===v)break;z!==5&&z!==26&&z!==27||ce===null||(K=ce,S?(ce=hf(h,C),ce!=null&&D.unshift(Wf(h,ce,K))):S||(ce=hf(h,C),ce!=null&&D.push(Wf(h,ce,K)))),h=h.return}D.length!==0&&l.push({event:u,listeners:D})}var xG=/\r\n?/g,bG=/\u0000|\uFFFD/g;function gT(l){return(typeof l=="string"?l:""+l).replace(xG,`
`).replace(bG,"")}function vT(l,u){return u=gT(u),gT(l)===u}function Jt(l,u,h,v,S,C){switch(h){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||mu(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&mu(l,""+v);break;case"className":cp(l,"class",v);break;case"tabIndex":cp(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":cp(l,h,v);break;case"style":vO(l,v,C);break;case"data":if(u!=="object"){cp(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=dp(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(u!=="input"&&Jt(l,u,"name",S.name,S,null),Jt(l,u,"formEncType",S.formEncType,S,null),Jt(l,u,"formMethod",S.formMethod,S,null),Jt(l,u,"formTarget",S.formTarget,S,null)):(Jt(l,u,"encType",S.encType,S,null),Jt(l,u,"method",S.method,S,null),Jt(l,u,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=dp(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=zs);break;case"onScroll":v!=null&&It("scroll",l);break;case"onScrollEnd":v!=null&&It("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=dp(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":It("beforetoggle",l),It("toggle",l),lp(l,"popover",v);break;case"xlinkActuate":Ls(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Ls(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Ls(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Ls(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Ls(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Ls(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Ls(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Ls(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Ls(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":lp(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=G9.get(h)||h,lp(l,h,v))}}function Mw(l,u,h,v,S,C){switch(h){case"style":vO(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"children":typeof v=="string"?mu(l,v):(typeof v=="number"||typeof v=="bigint")&&mu(l,""+v);break;case"onScroll":v!=null&&It("scroll",l);break;case"onScrollEnd":v!=null&&It("scrollend",l);break;case"onClick":v!=null&&(l.onclick=zs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lO.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),C=l[pa]||null,C=C!=null?C[h]:null,typeof C=="function"&&l.removeEventListener(u,C,S),typeof v=="function")){typeof C!="function"&&C!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,v,S);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):lp(l,h,v)}}}function $n(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",l),It("load",l);var v=!1,S=!1,C;for(C in h)if(h.hasOwnProperty(C)){var D=h[C];if(D!=null)switch(C){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Jt(l,u,C,D,h,null)}}S&&Jt(l,u,"srcSet",h.srcSet,h,null),v&&Jt(l,u,"src",h.src,h,null);return;case"input":It("invalid",l);var z=C=D=S=null,K=null,ce=null;for(v in h)if(h.hasOwnProperty(v)){var ve=h[v];if(ve!=null)switch(v){case"name":S=ve;break;case"type":D=ve;break;case"checked":K=ve;break;case"defaultChecked":ce=ve;break;case"value":C=ve;break;case"defaultValue":z=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,u));break;default:Jt(l,u,v,ve,h,null)}}hO(l,C,z,K,ce,D,S,!1);return;case"select":It("invalid",l),v=D=C=null;for(S in h)if(h.hasOwnProperty(S)&&(z=h[S],z!=null))switch(S){case"value":C=z;break;case"defaultValue":D=z;break;case"multiple":v=z;default:Jt(l,u,S,z,h,null)}u=C,h=D,l.multiple=!!v,u!=null?hu(l,!!v,u,!1):h!=null&&hu(l,!!v,h,!0);return;case"textarea":It("invalid",l),C=S=v=null;for(D in h)if(h.hasOwnProperty(D)&&(z=h[D],z!=null))switch(D){case"value":v=z;break;case"defaultValue":S=z;break;case"children":C=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:Jt(l,u,D,z,h,null)}pO(l,v,S,C);return;case"option":for(K in h)if(h.hasOwnProperty(K)&&(v=h[K],v!=null))switch(K){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Jt(l,u,K,v,h,null)}return;case"dialog":It("beforetoggle",l),It("toggle",l),It("cancel",l),It("close",l);break;case"iframe":case"object":It("load",l);break;case"video":case"audio":for(v=0;v<Hf.length;v++)It(Hf[v],l);break;case"image":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"embed":case"source":case"link":It("error",l),It("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(v=h[ce],v!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Jt(l,u,ce,v,h,null)}return;default:if(Yb(u)){for(ve in h)h.hasOwnProperty(ve)&&(v=h[ve],v!==void 0&&Mw(l,u,ve,v,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(v=h[z],v!=null&&Jt(l,u,z,v,h,null))}function wG(l,u,h,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,D=null,z=null,K=null,ce=null,ve=null;for(me in h){var we=h[me];if(h.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":K=we;default:v.hasOwnProperty(me)||Jt(l,u,me,null,v,we)}}for(var fe in v){var me=v[fe];if(we=h[fe],v.hasOwnProperty(fe)&&(me!=null||we!=null))switch(fe){case"type":C=me;break;case"name":S=me;break;case"checked":ce=me;break;case"defaultChecked":ve=me;break;case"value":D=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,u));break;default:me!==we&&Jt(l,u,fe,me,v,we)}}Kb(l,D,z,K,ce,ve,C,S);return;case"select":me=D=z=fe=null;for(C in h)if(K=h[C],h.hasOwnProperty(C)&&K!=null)switch(C){case"value":break;case"multiple":me=K;default:v.hasOwnProperty(C)||Jt(l,u,C,null,v,K)}for(S in v)if(C=v[S],K=h[S],v.hasOwnProperty(S)&&(C!=null||K!=null))switch(S){case"value":fe=C;break;case"defaultValue":z=C;break;case"multiple":D=C;default:C!==K&&Jt(l,u,S,C,v,K)}u=z,h=D,v=me,fe!=null?hu(l,!!h,fe,!1):!!v!=!!h&&(u!=null?hu(l,!!h,u,!0):hu(l,!!h,h?[]:"",!1));return;case"textarea":me=fe=null;for(z in h)if(S=h[z],h.hasOwnProperty(z)&&S!=null&&!v.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Jt(l,u,z,null,v,S)}for(D in v)if(S=v[D],C=h[D],v.hasOwnProperty(D)&&(S!=null||C!=null))switch(D){case"value":fe=S;break;case"defaultValue":me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&Jt(l,u,D,S,v,C)}mO(l,fe,me);return;case"option":for(var Ve in h)if(fe=h[Ve],h.hasOwnProperty(Ve)&&fe!=null&&!v.hasOwnProperty(Ve))switch(Ve){case"selected":l.selected=!1;break;default:Jt(l,u,Ve,null,v,fe)}for(K in v)if(fe=v[K],me=h[K],v.hasOwnProperty(K)&&fe!==me&&(fe!=null||me!=null))switch(K){case"selected":l.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Jt(l,u,K,fe,v,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lt in h)fe=h[lt],h.hasOwnProperty(lt)&&fe!=null&&!v.hasOwnProperty(lt)&&Jt(l,u,lt,null,v,fe);for(ce in v)if(fe=v[ce],me=h[ce],v.hasOwnProperty(ce)&&fe!==me&&(fe!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,u));break;default:Jt(l,u,ce,fe,v,me)}return;default:if(Yb(u)){for(var er in h)fe=h[er],h.hasOwnProperty(er)&&fe!==void 0&&!v.hasOwnProperty(er)&&Mw(l,u,er,void 0,v,fe);for(ve in v)fe=v[ve],me=h[ve],!v.hasOwnProperty(ve)||fe===me||fe===void 0&&me===void 0||Mw(l,u,ve,fe,v,me);return}}for(var te in h)fe=h[te],h.hasOwnProperty(te)&&fe!=null&&!v.hasOwnProperty(te)&&Jt(l,u,te,null,v,fe);for(we in v)fe=v[we],me=h[we],!v.hasOwnProperty(we)||fe===me||fe==null&&me==null||Jt(l,u,we,fe,v,me)}function yT(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _G(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var S=h[v],C=S.transferSize,D=S.initiatorType,z=S.duration;if(C&&z&&yT(D)){for(D=0,z=S.responseEnd,v+=1;v<h.length;v++){var K=h[v],ce=K.startTime;if(ce>z)break;var ve=K.transferSize,we=K.initiatorType;ve&&yT(we)&&(K=K.responseEnd,D+=ve*(K<z?1:(z-ce)/(K-ce)))}if(--v,u+=8*(C+D)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Iw=null,$w=null;function sg(l){return l.nodeType===9?l:l.ownerDocument}function xT(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Lw(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var zw=null;function jG(){var l=window.event;return l&&l.type==="popstate"?l===zw?!1:(zw=l,!0):(zw=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,SG=typeof clearTimeout=="function"?clearTimeout:void 0,_T=typeof Promise=="function"?Promise:void 0,CG=typeof queueMicrotask=="function"?queueMicrotask:typeof _T<"u"?function(l){return _T.resolve(null).then(l).catch(EG)}:wT;function EG(l){setTimeout(function(){throw l})}function al(l){return l==="head"}function jT(l,u){var h=u,v=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(v===0){l.removeChild(S),Hu(u);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")Kf(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,Kf(h);for(var C=h.firstChild;C;){var D=C.nextSibling,z=C.nodeName;C[df]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=D}}else h==="body"&&Kf(l.ownerDocument.body);h=S}while(h);Hu(u)}function ST(l,u){var h=l;l=0;do{var v=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=v}while(h)}function Fw(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":Fw(h),Hb(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function NG(l,u,h,v){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[df])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=fi(l.nextSibling),l===null)break}return null}function kG(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=fi(l.nextSibling),l===null))return null;return l}function CT(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=fi(l.nextSibling),l===null))return null;return l}function Uw(l){return l.data==="$?"||l.data==="$~"}function Bw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function OG(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var v=function(){u(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function fi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var qw=null;function ET(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return fi(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function NT(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function kT(l,u,h){switch(u=sg(h),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Kf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Hb(l)}var hi=new Map,OT=new Set;function og(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var to=H.d;H.d={f:AG,r:RG,D:TG,C:PG,L:DG,m:MG,X:$G,S:IG,M:LG};function AG(){var l=to.f(),u=Qp();return l||u}function RG(l){var u=uu(l);u!==null&&u.tag===5&&u.type==="form"?WA(u):to.r(l)}var Bu=typeof document>"u"?null:document;function AT(l,u,h){var v=Bu;if(v&&typeof u=="string"&&u){var S=ii(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),OT.has(S)||(OT.add(S),l={rel:l,crossOrigin:h,href:u},v.querySelector(S)===null&&(u=v.createElement("link"),$n(u,"link",l),jn(u),v.head.appendChild(u)))}}function TG(l){to.D(l),AT("dns-prefetch",l,null)}function PG(l,u){to.C(l,u),AT("preconnect",l,u)}function DG(l,u,h){to.L(l,u,h);var v=Bu;if(v&&l&&u){var S='link[rel="preload"][as="'+ii(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+ii(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+ii(h.imageSizes)+'"]')):S+='[href="'+ii(l)+'"]';var C=S;switch(u){case"style":C=qu(l);break;case"script":C=Vu(l)}hi.has(C)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),hi.set(C,l),v.querySelector(S)!==null||u==="style"&&v.querySelector(Gf(C))||u==="script"&&v.querySelector(Yf(C))||(u=v.createElement("link"),$n(u,"link",l),jn(u),v.head.appendChild(u)))}}function MG(l,u){to.m(l,u);var h=Bu;if(h&&l){var v=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+ii(v)+'"][href="'+ii(l)+'"]',C=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Vu(l)}if(!hi.has(C)&&(l=p({rel:"modulepreload",href:l},u),hi.set(C,l),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Yf(C)))return}v=h.createElement("link"),$n(v,"link",l),jn(v),h.head.appendChild(v)}}}function IG(l,u,h){to.S(l,u,h);var v=Bu;if(v&&l){var S=du(v).hoistableStyles,C=qu(l);u=u||"default";var D=S.get(C);if(!D){var z={loading:0,preload:null};if(D=v.querySelector(Gf(C)))z.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=hi.get(C))&&Vw(l,h);var K=D=v.createElement("link");jn(K),$n(K,"link",l),K._p=new Promise(function(ce,ve){K.onload=ce,K.onerror=ve}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,lg(D,u,v)}D={type:"stylesheet",instance:D,count:1,state:z},S.set(C,D)}}}function $G(l,u){to.X(l,u);var h=Bu;if(h&&l){var v=du(h).hoistableScripts,S=Vu(l),C=v.get(S);C||(C=h.querySelector(Yf(S)),C||(l=p({src:l,async:!0},u),(u=hi.get(S))&&Hw(l,u),C=h.createElement("script"),jn(C),$n(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function LG(l,u){to.M(l,u);var h=Bu;if(h&&l){var v=du(h).hoistableScripts,S=Vu(l),C=v.get(S);C||(C=h.querySelector(Yf(S)),C||(l=p({src:l,async:!0,type:"module"},u),(u=hi.get(S))&&Hw(l,u),C=h.createElement("script"),jn(C),$n(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function RT(l,u,h,v){var S=(S=ne.current)?og(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=qu(h.href),h=du(S).hoistableStyles,v=h.get(u),v||(v={type:"style",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=qu(h.href);var C=du(S).hoistableStyles,D=C.get(l);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,D),(C=S.querySelector(Gf(l)))&&!C._p&&(D.instance=C,D.state.loading=5),hi.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},hi.set(l,h),C||zG(S,l,h,D.state))),u&&v===null)throw Error(n(528,""));return D}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Vu(h),h=du(S).hoistableScripts,v=h.get(u),v||(v={type:"script",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function qu(l){return'href="'+ii(l)+'"'}function Gf(l){return'link[rel="stylesheet"]['+l+"]"}function TT(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function zG(l,u,h,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),$n(u,"link",h),jn(u),l.head.appendChild(u))}function Vu(l){return'[src="'+ii(l)+'"]'}function Yf(l){return"script[async]"+l}function PT(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+ii(h.href)+'"]');if(v)return u.instance=v,jn(v),v;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),jn(v),$n(v,"style",S),lg(v,h.precedence,l),u.instance=v;case"stylesheet":S=qu(h.href);var C=l.querySelector(Gf(S));if(C)return u.state.loading|=4,u.instance=C,jn(C),C;v=TT(h),(S=hi.get(S))&&Vw(v,S),C=(l.ownerDocument||l).createElement("link"),jn(C);var D=C;return D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),$n(C,"link",v),u.state.loading|=4,lg(C,h.precedence,l),u.instance=C;case"script":return C=Vu(h.src),(S=l.querySelector(Yf(C)))?(u.instance=S,jn(S),S):(v=h,(S=hi.get(C))&&(v=p({},h),Hw(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),jn(S),$n(S,"link",v),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,lg(v,h.precedence,l));return u.instance}function lg(l,u,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,C=S,D=0;D<v.length;D++){var z=v[D];if(z.dataset.precedence===u)C=z;else if(C!==S)break}C?C.parentNode.insertBefore(l,C.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function Vw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Hw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var cg=null;function DT(l,u,h){if(cg===null){var v=new Map,S=cg=new Map;S.set(h,v)}else S=cg,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var C=h[S];if(!(C[df]||C[Pn]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(u)||"";D=l+D;var z=v.get(D);z?z.push(C):v.set(D,[C])}}return v}function MT(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function FG(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function IT(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function UG(l,u,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=qu(v.href),C=u.querySelector(Gf(S));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=ug.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=C,jn(C);return}C=u.ownerDocument||u,v=TT(v),(S=hi.get(S))&&Vw(v,S),C=C.createElement("link"),jn(C);var D=C;D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),$n(C,"link",v),h.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=ug.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var Ww=0;function BG(l,u){return l.stylesheets&&l.count===0&&fg(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var v=setTimeout(function(){if(l.stylesheets&&fg(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+u);0<l.imgBytes&&Ww===0&&(Ww=62500*_G());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&fg(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>Ww?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function ug(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var dg=null;function fg(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,dg=new Map,u.forEach(qG,l),dg=null,ug.call(l))}function qG(l,u){if(!(u.state.loading&4)){var h=dg.get(l);if(h)var v=h.get(null);else{h=new Map,dg.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var D=S[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),v=D)}v&&h.set(null,v)}S=u.instance,D=S.getAttribute("data-precedence"),C=h.get(D)||v,C===v&&h.set(null,S),h.set(D,S),this.count++,v=ug.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),C?C.parentNode.insertBefore(S,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Zf={$$typeof:N,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function VG(l,u,h,v,S,C,D,z,K){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function $T(l,u,h,v,S,C,D,z,K,ce,ve,we){return l=new VG(l,u,h,D,K,ce,ve,we,z),u=1,C===!0&&(u|=24),C=Pa(3,null,null,u),l.current=C,C.stateNode=l,u=C0(),u.refCount++,l.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:h,cache:u},O0(C),l}function LT(l){return l?(l=wu,l):wu}function zT(l,u,h,v,S,C){S=LT(S),v.context===null?v.context=S:v.pendingContext=S,v=Ko(u),v.payload={element:h},C=C===void 0?null:C,C!==null&&(v.callback=C),h=Go(l,v,u),h!==null&&(wa(h,l,u),kf(h,l,u))}function FT(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function Kw(l,u){FT(l,u),(l=l.alternate)&&FT(l,u)}function UT(l){if(l.tag===13||l.tag===31){var u=Yl(l,67108864);u!==null&&wa(u,l,67108864),Kw(l,67108864)}}function BT(l){if(l.tag===13||l.tag===31){var u=La();u=ou(u);var h=Yl(l,u);h!==null&&wa(h,l,u),Kw(l,u)}}var hg=!0;function HG(l,u,h,v){var S=F.T;F.T=null;var C=H.p;try{H.p=2,Gw(l,u,h,v)}finally{H.p=C,F.T=S}}function WG(l,u,h,v){var S=F.T;F.T=null;var C=H.p;try{H.p=8,Gw(l,u,h,v)}finally{H.p=C,F.T=S}}function Gw(l,u,h,v){if(hg){var S=Yw(v);if(S===null)Dw(l,u,v,mg,h),VT(l,v);else if(GG(S,l,u,h,v))v.stopPropagation();else if(VT(l,v),u&4&&-1<KG.indexOf(l)){for(;S!==null;){var C=uu(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=kt(C.pendingLanes);if(D!==0){var z=C;for(z.pendingLanes|=2,z.entangledLanes|=2;D;){var K=1<<31-Pr(D);z.entanglements[1]|=K,D&=~K}cs(C),(Wt&6)===0&&(Zp=be()+500,Vf(0))}}break;case 31:case 13:z=Yl(C,2),z!==null&&wa(z,C,2),Qp(),Kw(C,2)}if(C=Yw(v),C===null&&Dw(l,u,v,mg,h),C===S)break;S=C}S!==null&&v.stopPropagation()}else Dw(l,u,v,null,h)}}function Yw(l){return l=Xb(l),Zw(l)}var mg=null;function Zw(l){if(mg=null,l=cu(l),l!==null){var u=i(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===31){if(l=c(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return mg=l,null}function qT(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Pe:return 2;case ot:return 8;case yt:case gr:return 32;case dn:return 268435456;default:return 32}default:return 32}}var Xw=!1,il=null,sl=null,ol=null,Xf=new Map,Qf=new Map,ll=[],KG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(l,u){switch(l){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Xf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qf.delete(u.pointerId)}}function Jf(l,u,h,v,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},u!==null&&(u=uu(u),u!==null&&UT(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function GG(l,u,h,v,S){switch(u){case"focusin":return il=Jf(il,l,u,h,v,S),!0;case"dragenter":return sl=Jf(sl,l,u,h,v,S),!0;case"mouseover":return ol=Jf(ol,l,u,h,v,S),!0;case"pointerover":var C=S.pointerId;return Xf.set(C,Jf(Xf.get(C)||null,l,u,h,v,S)),!0;case"gotpointercapture":return C=S.pointerId,Qf.set(C,Jf(Qf.get(C)||null,l,u,h,v,S)),!0}return!1}function HT(l){var u=cu(l.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,iO(l.priority,function(){BT(h)});return}}else if(u===31){if(u=c(h),u!==null){l.blockedOn=u,iO(l.priority,function(){BT(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function pg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=Yw(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);Zb=v,h.target.dispatchEvent(v),Zb=null}else return u=uu(h),u!==null&&UT(u),l.blockedOn=h,!1;u.shift()}return!0}function WT(l,u,h){pg(l)&&h.delete(u)}function YG(){Xw=!1,il!==null&&pg(il)&&(il=null),sl!==null&&pg(sl)&&(sl=null),ol!==null&&pg(ol)&&(ol=null),Xf.forEach(WT),Qf.forEach(WT)}function gg(l,u){l.blockedOn===u&&(l.blockedOn=null,Xw||(Xw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YG)))}var vg=null;function KT(l){vg!==l&&(vg=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vg===l&&(vg=null);for(var u=0;u<l.length;u+=3){var h=l[u],v=l[u+1],S=l[u+2];if(typeof v!="function"){if(Zw(v||h)===null)continue;break}var C=uu(h);C!==null&&(l.splice(u,3),u-=3,Y0(C,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function Hu(l){function u(K){return gg(K,l)}il!==null&&gg(il,l),sl!==null&&gg(sl,l),ol!==null&&gg(ol,l),Xf.forEach(u),Qf.forEach(u);for(var h=0;h<ll.length;h++){var v=ll[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<ll.length&&(h=ll[0],h.blockedOn===null);)HT(h),h.blockedOn===null&&ll.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],C=h[v+1],D=S[pa]||null;if(typeof C=="function")D||KT(h);else if(D){var z=null;if(C&&C.hasAttribute("formAction")){if(S=C,D=C[pa]||null)z=D.formAction;else if(Zw(S)!==null)continue}else z=D.action;typeof z=="function"?h[v+1]=z:(h.splice(v,3),v-=3),KT(h)}}}function GT(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function Qw(l){this._internalRoot=l}yg.prototype.render=Qw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var h=u.current,v=La();zT(h,v,l,u,null,null)},yg.prototype.unmount=Qw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;zT(l.current,2,null,l,null,null),Qp(),u[lu]=null}};function yg(l){this._internalRoot=l}yg.prototype.unstable_scheduleHydration=function(l){if(l){var u=qb();l={blockedOn:null,target:l,priority:u};for(var h=0;h<ll.length&&u!==0&&u<ll[h].priority;h++);ll.splice(h,0,l),h===0&&HT(l)}};var YT=t.version;if(YT!=="19.2.0")throw Error(n(527,YT,"19.2.0"));H.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var ZG={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{fn=xg.inject(ZG),vr=xg}catch{}}return th.createRoot=function(l,u){if(!a(l))throw Error(n(299));var h=!1,v="",S=rR,C=nR,D=aR;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=$T(l,1,!1,null,null,h,v,null,S,C,D,GT),l[lu]=u.current,Pw(l),new Qw(u)},th.hydrateRoot=function(l,u,h){if(!a(l))throw Error(n(299));var v=!1,S="",C=rR,D=nR,z=aR,K=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.formState!==void 0&&(K=h.formState)),u=$T(l,1,!0,u,h??null,v,S,K,C,D,z,GT),u.context=LT(null),h=u.current,v=La(),v=ou(v),S=Ko(v),S.callback=null,Go(h,S,v),h=v,u.current.lanes=h,Er(u,h),cs(u),l[lu]=u.current,Pw(l),new yg(u)},th.version="19.2.0",th}var iP;function s7(){if(iP)return t_.exports;iP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),t_.exports=i7(),t_.exports}var o7=s7();const l7=ei(o7);var sP="popstate";function c7(e={}){function t(n,a){let{pathname:i,search:o,hash:c}=n.location;return AS("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Dh(a)}return d7(t,r,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ci(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function u7(){return Math.random().toString(36).substring(2,10)}function oP(e,t){return{usr:e.state,key:e.key,idx:t}}function AS(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Id(t):t,state:r,key:t&&t.key||n||u7()}}function Dh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Id(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function d7(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",d=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=m(),j=_==null?null:_-f;f=_,d&&d({action:c,location:w.location,delta:j})}function y(_,j){c="PUSH";let E=AS(w.location,_,j);f=m()+1;let N=oP(E,f),k=w.createHref(E);try{o.pushState(N,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(k)}i&&d&&d({action:c,location:w.location,delta:1})}function g(_,j){c="REPLACE";let E=AS(w.location,_,j);f=m();let N=oP(E,f),k=w.createHref(E);o.replaceState(N,"",k),i&&d&&d({action:c,location:w.location,delta:0})}function b(_){return f7(_)}let w={get action(){return c},get location(){return e(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(sP,p),d=_,()=>{a.removeEventListener(sP,p),d=null}},createHref(_){return t(a,_)},createURL:b,encodeLocation(_){let j=b(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:g,go(_){return o.go(_)}};return w}function f7(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),_r(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Dh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function qz(e,t,r="/"){return h7(e,t,r,!1)}function h7(e,t,r,n){let a=typeof t=="string"?Id(t):t,i=yo(a.pathname||"/",r);if(i==null)return null;let o=Vz(e);m7(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=C7(i);c=j7(o[d],f,n)}return c}function Vz(e,t=[],r=[],n="",a=!1){let i=(o,c,d=a,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;_r(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=mo([n,m.relativePath]),y=r.concat(m);o.children&&o.children.length>0&&(_r(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Vz(o.children,t,y,p,d)),!(o.path==null&&!o.index)&&t.push({path:p,score:w7(p,o.index),routesMeta:y})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of Hz(o.path))i(o,c,!0,d)}),t}function Hz(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Hz(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function m7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:_7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var p7=/^:[\w-]+$/,g7=3,v7=2,y7=1,x7=10,b7=-2,lP=e=>e==="*";function w7(e,t){let r=e.split("/"),n=r.length;return r.some(lP)&&(n+=b7),t&&(n+=v7),r.filter(a=>!lP(a)).reduce((a,i)=>a+(p7.test(i)?g7:i===""?y7:x7),n)}function _7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function j7(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Nv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Nv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:mo([i,p.pathname]),pathnameBase:O7(mo([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=mo([i,p.pathnameBase]))}return o}function Nv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=S7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let b=c[y]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[y];return p&&!g?f[m]=void 0:f[m]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function S7(e,t=!1,r=!0){Ci(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function C7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ci(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function E7(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Id(e):e;return{pathname:r?r.startsWith("/")?r:N7(r,t):t,search:A7(n),hash:R7(a)}}function N7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function i_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function k7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function RC(e){let t=k7(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function TC(e,t,r,n=!1){let a;typeof e=="string"?a=Id(e):(a={...e},_r(!a.pathname||!a.pathname.includes("?"),i_("?","pathname","search",a)),_r(!a.pathname||!a.pathname.includes("#"),i_("#","pathname","hash",a)),_r(!a.search||!a.search.includes("#"),i_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;a.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=E7(a,c),f=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var mo=e=>e.join("/").replace(/\/\/+/g,"/"),O7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),A7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,R7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function T7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wz=["POST","PUT","PATCH","DELETE"];new Set(Wz);var P7=["GET",...Wz];new Set(P7);var $d=x.createContext(null);$d.displayName="DataRouter";var ix=x.createContext(null);ix.displayName="DataRouterState";x.createContext(!1);var Kz=x.createContext({isTransitioning:!1});Kz.displayName="ViewTransition";var D7=x.createContext(new Map);D7.displayName="Fetchers";var M7=x.createContext(null);M7.displayName="Await";var rs=x.createContext(null);rs.displayName="Navigation";var ym=x.createContext(null);ym.displayName="Location";var ns=x.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var PC=x.createContext(null);PC.displayName="RouteError";function I7(e,{relative:t}={}){_r(Ld(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(rs),{hash:a,pathname:i,search:o}=xm(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:mo([r,i])),n.createHref({pathname:c,search:o,hash:a})}function Ld(){return x.useContext(ym)!=null}function ti(){return _r(Ld(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(ym).location}var Gz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Yz(e){x.useContext(rs).static||x.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=x.useContext(ns);return e?Y7():$7()}function $7(){_r(Ld(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext($d),{basename:t,navigator:r}=x.useContext(rs),{matches:n}=x.useContext(ns),{pathname:a}=ti(),i=JSON.stringify(RC(n)),o=x.useRef(!1);return Yz(()=>{o.current=!0}),x.useCallback((d,f={})=>{if(Ci(o.current,Gz),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=TC(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:mo([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,i,a,e])}x.createContext(null);function Qc(){let{matches:e}=x.useContext(ns),t=e[e.length-1];return t?t.params:{}}function xm(e,{relative:t}={}){let{matches:r}=x.useContext(ns),{pathname:n}=ti(),a=JSON.stringify(RC(r));return x.useMemo(()=>TC(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function L7(e,t){return Zz(e,t)}function Zz(e,t,r,n,a){_r(Ld(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(rs),{matches:o}=x.useContext(ns),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";Xz(f,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let y=ti(),g;if(t){let E=typeof t=="string"?Id(t):t;_r(m==="/"||E.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=y;let b=g.pathname||"/",w=b;if(m!=="/"){let E=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=qz(e,{pathname:w});Ci(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ci(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=q7(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:mo([m,i.encodeLocation?i.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?m:mo([m,i.encodeLocation?i.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,r,n,a);return t&&j?x.createElement(ym.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function z7(){let e=G7(),t=T7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,o)}var F7=x.createElement(z7,null),U7=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(ns.Provider,{value:this.props.routeContext},x.createElement(PC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function B7({routeContext:e,match:t,children:r}){let n=x.useContext($d);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ns.Provider,{value:e},r)}function q7(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);_r(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(r)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:p,errors:y}=r,g=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,p)=>{let y,g=!1,b=null,w=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||F7,c&&(d<0&&p===0?(Xz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===p&&(g=!0,w=m.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,p+1)),j=()=>{let E;return y?E=b:g?E=w:m.route.Component?E=x.createElement(m.route.Component,null):m.route.element?E=m.route.element:E=f,x.createElement(B7,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:E})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(U7,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):j()},null)}function DC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V7(e){let t=x.useContext($d);return _r(t,DC(e)),t}function H7(e){let t=x.useContext(ix);return _r(t,DC(e)),t}function W7(e){let t=x.useContext(ns);return _r(t,DC(e)),t}function MC(e){let t=W7(e),r=t.matches[t.matches.length-1];return _r(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function K7(){return MC("useRouteId")}function G7(){let e=x.useContext(PC),t=H7("useRouteError"),r=MC("useRouteError");return e!==void 0?e:t.errors?.[r]}function Y7(){let{router:e}=V7("useNavigate"),t=MC("useNavigate"),r=x.useRef(!1);return Yz(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{Ci(r.current,Gz),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var cP={};function Xz(e,t,r){!t&&!cP[e]&&(cP[e]=!0,Ci(!1,r))}x.memo(Z7);function Z7({routes:e,future:t,state:r,unstable_onError:n}){return Zz(e,void 0,r,n,t)}function IC({to:e,replace:t,state:r,relative:n}){_r(Ld(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(rs);Ci(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(ns),{pathname:o}=ti(),c=Or(),d=TC(e,RC(i),o,n==="path"),f=JSON.stringify(d);return x.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function xr(e){_r(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X7({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){_r(!Ld(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Id(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=r,g=x.useMemo(()=>{let b=yo(d,o);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:y},navigationType:n}},[o,d,f,m,p,y,n]);return Ci(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:x.createElement(rs.Provider,{value:c},x.createElement(ym.Provider,{children:t,value:g}))}function Q7({children:e,location:t}){return L7(RS(e),t)}function RS(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,RS(n.props.children,i));return}_r(n.type===xr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_r(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=RS(n.props.children,i)),r.push(o)}),r}var fv="get",hv="application/x-www-form-urlencoded";function sx(e){return e!=null&&typeof e.tagName=="string"}function J7(e){return sx(e)&&e.tagName.toLowerCase()==="button"}function eY(e){return sx(e)&&e.tagName.toLowerCase()==="form"}function tY(e){return sx(e)&&e.tagName.toLowerCase()==="input"}function rY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nY(e,t){return e.button===0&&(!t||t==="_self")&&!rY(e)}function TS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function aY(e,t){let r=TS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var bg=null;function iY(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var sY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s_(e){return e!=null&&!sY.has(e)?(Ci(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hv}"`),null):e}function oY(e,t){let r,n,a,i,o;if(eY(e)){let c=e.getAttribute("action");n=c?yo(c,t):null,r=e.getAttribute("method")||fv,a=s_(e.getAttribute("enctype"))||hv,i=new FormData(e)}else if(J7(e)||tY(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?yo(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||fv,a=s_(e.getAttribute("formenctype"))||s_(c.getAttribute("enctype"))||hv,i=new FormData(c,e),!iY()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,p)}}else{if(sx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fv,n=null,a=hv,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lY(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&yo(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function cY(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function dY(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await cY(i,r);return o.links?o.links():[]}return[]}));return pY(n.flat(1).filter(uY).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function uP(e,t,r,n,a,i){let o=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>o(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function fY(e,t,{includeHydrateFallback:r}={}){return hY(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function hY(e){return[...new Set(e)]}function mY(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function pY(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(mY(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function Qz(){let e=x.useContext($d);return $C(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function gY(){let e=x.useContext(ix);return $C(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var LC=x.createContext(void 0);LC.displayName="FrameworkContext";function Jz(){let e=x.useContext(LC);return $C(e,"You must render this element inside a <HydratedRouter> element"),e}function vY(e,t){let r=x.useContext(LC),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(E=>{o(E.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let g=()=>{a(!0)},b=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,y,{}]:[i,y,{onFocus:rh(c,g),onBlur:rh(d,b),onMouseEnter:rh(f,g),onMouseLeave:rh(m,b),onTouchStart:rh(p,g)}]:[!1,y,{}]}function rh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function yY({page:e,...t}){let{router:r}=Qz(),n=x.useMemo(()=>qz(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(bY,{page:e,matches:n,...t}):null}function xY(e){let{manifest:t,routeModules:r}=Jz(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return dY(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function bY({page:e,matches:t,...r}){let n=ti(),{manifest:a,routeModules:i}=Jz(),{basename:o}=Qz(),{loaderData:c,matches:d}=gY(),f=x.useMemo(()=>uP(e,t,d,a,n,"data"),[e,t,d,a,n]),m=x.useMemo(()=>uP(e,t,d,a,n,"assets"),[e,t,d,a,n]),p=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(j=>{let E=a.routes[j.route.id];!E||!E.hasLoader||(!f.some(N=>N.route.id===j.route.id)&&j.route.id in c&&i[j.route.id]?.shouldRevalidate||E.hasClientLoader?w=!0:b.add(j.route.id))}),b.size===0)return[];let _=lY(e,o,"data");return w&&b.size>0&&_.searchParams.set("_routes",t.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[o,c,n,a,f,t,e,i]),y=x.useMemo(()=>fY(m,a),[m,a]),g=xY(m);return x.createElement(x.Fragment,null,p.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),y.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:w})=>x.createElement("link",{key:b,nonce:r.nonce,...w})))}function wY(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var e4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{e4&&(window.__reactRouterVersion="7.9.5")}catch{}function _Y({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=c7({window:r,v5Compat:!0}));let a=n.current,[i,o]=x.useState({action:a.action,location:a.location}),c=x.useCallback(d=>{x.startTransition(()=>o(d))},[o]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.createElement(X7,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var t4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gs=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},g){let{basename:b}=x.useContext(rs),w=typeof f=="string"&&t4.test(f),_,j=!1;if(typeof f=="string"&&w&&(_=f,e4))try{let P=new URL(window.location.href),L=f.startsWith("//")?new URL(P.protocol+f):new URL(f),M=yo(L.pathname,b);L.origin===P.origin&&M!=null?f=M+L.search+L.hash:j=!0}catch{Ci(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=I7(f,{relative:a}),[N,k,O]=vY(n,y),T=EY(f,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:p});function R(P){t&&t(P),P.defaultPrevented||T(P)}let A=x.createElement("a",{...y,...O,href:_||E,onClick:j||i?t:R,ref:wY(g,k),target:d,"data-discover":!w&&r==="render"?"true":void 0});return N&&!w?x.createElement(x.Fragment,null,A,x.createElement(yY,{page:E})):A});gs.displayName="Link";var jY=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...f},m){let p=xm(o,{relative:f.relative}),y=ti(),g=x.useContext(ix),{navigator:b,basename:w}=x.useContext(rs),_=g!=null&&RY(p)&&c===!0,j=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=y.pathname,N=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(E=E.toLowerCase(),N=N?N.toLowerCase():null,j=j.toLowerCase()),N&&w&&(N=yo(N,w)||N);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=E===j||!a&&E.startsWith(j)&&E.charAt(k)==="/",T=N!=null&&(N===j||!a&&N.startsWith(j)&&N.charAt(j.length)==="/"),R={isActive:O,isPending:T,isTransitioning:_},A=O?t:void 0,P;typeof n=="function"?P=n(R):P=[n,O?"active":null,T?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let L=typeof i=="function"?i(R):i;return x.createElement(gs,{...f,"aria-current":A,className:P,ref:m,style:L,to:o,viewTransition:c},typeof d=="function"?d(R):d)});jY.displayName="NavLink";var SY=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=fv,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},g)=>{let b=OY(),w=AY(c,{relative:f}),_=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&t4.test(c),E=N=>{if(d&&d(N),N.defaultPrevented)return;N.preventDefault();let k=N.nativeEvent.submitter,O=k?.getAttribute("formmethod")||o;b(k||N.currentTarget,{fetcherKey:t,method:O,navigate:r,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:p})};return x.createElement("form",{ref:g,method:_,action:w,onSubmit:n?d:E,...y,"data-discover":!j&&e==="render"?"true":void 0})});SY.displayName="Form";function CY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r4(e){let t=x.useContext($d);return _r(t,CY(e)),t}function EY(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let c=Or(),d=ti(),f=xm(e,{relative:i});return x.useCallback(m=>{if(nY(m,t)){m.preventDefault();let p=r!==void 0?r:Dh(d)===Dh(f);c(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[d,c,f,r,n,t,e,a,i,o])}function zC(e){Ci(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(TS(e)),r=x.useRef(!1),n=ti(),a=x.useMemo(()=>aY(n.search,r.current?null:t.current),[n.search]),i=Or(),o=x.useCallback((c,d)=>{const f=TS(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,i("?"+f,d)},[i,a]);return[a,o]}var NY=0,kY=()=>`__${String(++NY)}__`;function OY(){let{router:e}=r4("useSubmit"),{basename:t}=x.useContext(rs),r=K7();return x.useCallback(async(n,a={})=>{let{action:i,method:o,encType:c,formData:d,body:f}=oY(n,t);if(a.navigate===!1){let m=a.fetcherKey||kY();await e.fetch(m,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function AY(e,{relative:t}={}){let{basename:r}=x.useContext(rs),n=x.useContext(ns);_r(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...xm(e||".",{relative:t})},o=ti();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:mo([r,i.pathname])),Dh(i)}function RY(e,{relative:t}={}){let r=x.useContext(Kz);_r(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=r4("useViewTransitionState"),a=xm(e,{relative:t});if(!r.isTransitioning)return!1;let i=yo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=yo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Nv(a.pathname,o)!=null||Nv(a.pathname,i)!=null}var Jc=Bz();const n4=ei(Jc);var zd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},TY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},PY=class{#e=TY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},xc=new PY;function DY(e){setTimeout(e,0)}var Tc=typeof window>"u"||"Deno"in globalThis;function ra(){}function MY(e,t){return typeof e=="function"?e(t):e}function PS(e){return typeof e=="number"&&e>=0&&e!==1/0}function a4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function wl(e,t){return typeof e=="function"?e(t):e}function vi(e,t){return typeof e=="function"?e(t):e}function dP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(n){if(t.queryHash!==FC(o,t.options))return!1}else if(!Mh(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function fP(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Pc(t.options.mutationKey)!==Pc(i))return!1}else if(!Mh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function FC(e,t){return(t?.queryKeyHashFn||Pc)(e)}function Pc(e){return JSON.stringify(e,(t,r)=>DS(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Mh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Mh(e[r],t[r])):!1}var IY=Object.prototype.hasOwnProperty;function i4(e,t){if(e===t)return e;const r=hP(e)&&hP(t);if(!r&&!(DS(e)&&DS(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,c=r?new Array(o):{};let d=0;for(let f=0;f<o;f++){const m=r?f:i[f],p=e[m],y=t[m];if(p===y){c[m]=p,(r?f<a:IY.call(e,m))&&d++;continue}if(p===null||y===null||typeof p!="object"||typeof y!="object"){c[m]=y;continue}const g=i4(p,y);c[m]=g,g===p&&d++}return a===o&&d===a?e:c}function kv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function hP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function DS(e){if(!mP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mP(e){return Object.prototype.toString.call(e)==="[object Object]"}function $Y(e){return new Promise(t=>{xc.setTimeout(t,e)})}function MS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?i4(e,t):t}function LY(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function zY(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var UC=Symbol();function s4(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===UC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function o4(e,t){return typeof e=="function"?e(...t):!!e}var FY=class extends zd{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Tc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},BC=new FY;function IS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var UY=DY;function BY(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=UY;const i=c=>{t?e.push(c):a(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var vn=BY(),qY=class extends zd{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Tc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Ov=new qY;function VY(e){return Math.min(1e3*2**e,3e4)}function l4(e){return(e??"online")==="online"?Ov.isOnline():!0}var $S=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function c4(e){let t=!1,r=0,n;const a=IS(),i=()=>a.status!=="pending",o=w=>{if(!i()){const _=new $S(w);y(_),e.onCancel?.(_)}},c=()=>{t=!0},d=()=>{t=!1},f=()=>BC.isFocused()&&(e.networkMode==="always"||Ov.isOnline())&&e.canRun(),m=()=>l4(e.networkMode)&&e.canRun(),p=w=>{i()||(n?.(),a.resolve(w))},y=w=>{i()||(n?.(),a.reject(w))},g=()=>new Promise(w=>{n=_=>{(i()||f())&&w(_)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(j){w=Promise.reject(j)}Promise.resolve(w).then(p).catch(j=>{if(i())return;const E=e.retry??(Tc?0:3),N=e.retryDelay??VY,k=typeof N=="function"?N(r,j):N,O=E===!0||typeof E=="number"&&r<E||typeof E=="function"&&E(r,j);if(t||!O){y(j);return}r++,e.onFail?.(r,j),$Y(k).then(()=>f()?void 0:g()).then(()=>{t?y(j):b()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n?.(),a),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?b():g().then(b),a)}}var u4=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PS(this.gcTime)&&(this.#e=xc.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(xc.clearTimeout(this.#e),this.#e=void 0)}},HY=class extends u4{#e;#t;#r;#a;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=gP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=gP(this.options);t.data!==void 0&&(this.setState(pP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=MS(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>vi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===UC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>wl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!a4(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const c=s4(this.options,t),f=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,f,this):c(f)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=c4({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof $S&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(c,d)=>{this.#i({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof $S){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...d4(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...pP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function d4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var WY=class extends zd{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=IS(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#o;#i;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),vP(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return LS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return LS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!kv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&yP(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||vi(this.options.enabled,this.#t)!==vi(t.enabled,this.#t)||wl(this.options.staleTime,this.#t)!==wl(t.staleTime,this.#t))&&this.#g();const a=this.#v();n&&(this.#t!==r||vi(this.options.enabled,this.#t)!==vi(t.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return GY(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ra)),t}#g(){this.#b();const e=wl(this.options.staleTime,this.#t);if(Tc||this.#a.isStale||!PS(e))return;const r=a4(this.#a.dataUpdatedAt,e)+1;this.#c=xc.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Tc||vi(this.options.enabled,this.#t)===!1||!PS(this.#l)||this.#l===0)&&(this.#u=xc.setInterval(()=>{(this.options.refetchIntervalInBackground||BC.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(xc.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(xc.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,o=this.#s,d=e!==r?e.state:this.#r,{state:f}=e;let m={...f},p=!1,y;if(t._optimisticResults){const A=this.hasListeners(),P=!A&&vP(e,t),L=A&&yP(e,r,t,n);(P||L)&&(m={...m,...d4(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:w}=m;y=m.data;let _=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let A;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(A=a.data,_=!0):A=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,A!==void 0&&(w="success",y=MS(a?.data,A,t),p=!0)}if(t.select&&y!==void 0&&!_)if(a&&y===i?.data&&t.select===this.#p)y=this.#f;else try{this.#p=t.select,y=t.select(y),y=MS(a?.data,y,t),this.#f=y,this.#i=null}catch(A){this.#i=A}this.#i&&(g=this.#i,y=this.#f,b=Date.now(),w="error");const j=m.fetchStatus==="fetching",E=w==="pending",N=w==="error",k=E&&j,O=y!==void 0,R={status:w,fetchStatus:m.fetchStatus,isPending:E,isSuccess:w==="success",isError:N,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!E,isLoadingError:N&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:N&&O,isStale:qC(e,t),refetch:this.refetch,promise:this.#o,isEnabled:vi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const A=M=>{R.status==="error"?M.reject(R.error):R.data!==void 0&&M.resolve(R.data)},P=()=>{const M=this.#o=R.promise=IS();A(M)},L=this.#o;switch(L.status){case"pending":e.queryHash===r.queryHash&&A(L);break;case"fulfilled":(R.status==="error"||R.data!==L.value)&&P();break;case"rejected":(R.status!=="error"||R.error!==L.reason)&&P();break}}return R}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),kv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(o=>{const c=o;return this.#a[c]!==e[c]&&i.has(c)})};this.#j({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function KY(e,t){return vi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vP(e,t){return KY(e,t)||e.state.data!==void 0&&LS(e,t,t.refetchOnMount)}function LS(e,t,r){if(vi(t.enabled,e)!==!1&&wl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&qC(e,t)}return!1}function yP(e,t,r,n){return(e!==t||vi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&qC(e,r)}function qC(e,t){return vi(t.enabled,e)!==!1&&e.isStaleByTime(wl(t.staleTime,e))}function GY(e,t){return!kv(e.getCurrentResult(),t)}function xP(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=s4(t.options,t.fetchOptions),g=async(b,w,_)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const E=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:w,direction:_?"backward":"forward",meta:t.options.meta};return p(T),T})(),N=await y(E),{maxPages:k}=t.options,O=_?zY:LY;return{pages:O(b.pages,N,k),pageParams:O(b.pageParams,w,k)}};if(a&&i.length){const b=a==="backward",w=b?YY:bP,_={pages:i,pageParams:o},j=w(n,_);c=await g(_,j,b)}else{const b=e??i.length;do{const w=d===0?o[0]??n.initialPageParam:bP(n,c);if(d>0&&w==null)break;c=await g(c,w),d++}while(d<b)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function bP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function YY(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var ZY=class extends u4{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||f4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=c4({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function f4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XY=class extends zd{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new ZY({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=wg(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=wg(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wg(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=wg(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>fP(t,r))}findAll(e={}){return this.getAll().filter(t=>fP(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ra))))}};function wg(e){return e.options.scope?.id}var QY=class extends zd{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),kv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Pc(r.mutationKey)!==Pc(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??f4();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){vn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},JY=class extends zd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??FC(n,t);let i=this.get(a);return i||(i=new HY({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>dP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>dP(e,r)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},eZ=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new JY,this.#t=e.mutationCache||new XY,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=BC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ov.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(wl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,o=MY(t,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return vn.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return vn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=vn.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ra).catch(ra)}invalidateQueries(e,t={}){return vn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=vn.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ra)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ra)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(wl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ra).catch(ra)}fetchInfiniteQuery(e){return e.behavior=xP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ra).catch(ra)}ensureInfiniteQueryData(e){return e.behavior=xP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Ov.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Pc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Mh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(Pc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Mh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=FC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===UC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},h4=x.createContext(void 0),jr=e=>{const t=x.useContext(h4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(h4.Provider,{value:e,children:t})),m4=x.createContext(!1),rZ=()=>x.useContext(m4);m4.Provider;function nZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var aZ=x.createContext(nZ()),iZ=()=>x.useContext(aZ),sZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},oZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},lZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||o4(r,[e.error,n])),cZ=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uZ=(e,t)=>e.isLoading&&e.isFetching&&!t,dZ=(e,t)=>e?.suspense&&t.isPending,wP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function fZ(e,t,r){const n=rZ(),a=iZ(),i=jr(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",cZ(o),sZ(o,a),oZ(a);const c=!i.getQueryCache().get(o.queryHash),[d]=x.useState(()=>new t(i,o)),f=d.getOptimisticResult(o),m=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(p=>{const y=m?d.subscribe(vn.batchCalls(p)):ra;return d.updateResult(),y},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(o)},[o,d]),dZ(o,f))throw wP(o,d,a);if(lZ({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!Tc&&uZ(f,n)&&(c?wP(o,d,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(ra).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function Je(e,t){return fZ(e,WY)}function mr(e,t){const r=jr(),[n]=x.useState(()=>new QY(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(vn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,c)=>{n.mutate(o,c).catch(ra)},[n]);if(a.error&&o4(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var zS=function(e,t){return zS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},zS(e,t)};function p4(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");zS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xi=function(){return xi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xi.apply(this,arguments)};function Tl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function g4(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function v4(e,t){return function(r,n){t(r,n,e)}}function y4(e,t,r,n,a,i){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,y=!1,g=r.length-1;g>=0;g--){var b={};for(var w in n)b[w]=w==="access"?{}:n[w];for(var w in n.access)b.access[w]=n.access[w];b.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(j||null))};var _=(0,r[g])(c==="accessor"?{get:m.get,set:m.set}:m[d],b);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(m.get=p),(p=o(_.set))&&(m.set=p),(p=o(_.init))&&a.unshift(p)}else(p=o(_))&&(c==="field"?a.unshift(p):m[d]=p)}f&&Object.defineProperty(f,n.name,m),y=!0}function x4(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function b4(e){return typeof e=="symbol"?e:"".concat(e)}function w4(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _4(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Ze(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(m){try{f(n.next(m))}catch(p){o(p)}}function d(m){try{f(n.throw(m))}catch(p){o(p)}}function f(m){m.done?i(m.value):a(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})}function j4(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){r.label=f[1];break}if(f[0]===6&&r.label<i[1]){r.label=i[1],i=f;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(f);break}i[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ox=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function S4(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ox(t,e,r)}function Av(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function VC(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function C4(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VC(arguments[t]));return e}function E4(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)n[a]=i[o];return n}function HC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function jd(e){return this instanceof jd?(this.v=e,this):new jd(e)}function N4(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(g){return function(b){return Promise.resolve(b).then(g,p)}}function c(g,b){n[g]&&(a[g]=function(w){return new Promise(function(_,j){i.push([g,w,_,j])>1||d(g,w)})},b&&(a[g]=b(a[g])))}function d(g,b){try{f(n[g](b))}catch(w){y(i[0][3],w)}}function f(g){g.value instanceof jd?Promise.resolve(g.value.v).then(m,p):y(i[0][2],g)}function m(g){d("next",g)}function p(g){d("throw",g)}function y(g,b){g(b),i.shift(),i.length&&d(i[0][0],i[0][1])}}function k4(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:jd(e[a](o)),done:!1}:i?i(o):o}:i}}function O4(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Av=="function"?Av(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(c,d){o=e[i](o),a(c,d,o.done,o.value)})}}function a(i,o,c,d){Promise.resolve(d).then(function(f){i({value:f,done:c})},o)}}function A4(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var hZ=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},FS=function(e){return FS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},FS(e)};function R4(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=FS(e),n=0;n<r.length;n++)r[n]!=="default"&&ox(t,e,r[n]);return hZ(t,e),t}function T4(e){return e&&e.__esModule?e:{default:e}}function P4(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function D4(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function M4(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function I4(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var mZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $4(e){function t(i){e.error=e.hasError?new mZ(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function L4(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const pZ={__extends:p4,__assign:xi,__rest:Tl,__decorate:g4,__param:v4,__esDecorate:y4,__runInitializers:x4,__propKey:b4,__setFunctionName:w4,__metadata:_4,__awaiter:Ze,__generator:j4,__createBinding:ox,__exportStar:S4,__values:Av,__read:VC,__spread:C4,__spreadArrays:E4,__spreadArray:HC,__await:jd,__asyncGenerator:N4,__asyncDelegator:k4,__asyncValues:O4,__makeTemplateObject:A4,__importStar:R4,__importDefault:T4,__classPrivateFieldGet:P4,__classPrivateFieldSet:D4,__classPrivateFieldIn:M4,__addDisposableResource:I4,__disposeResources:$4,__rewriteRelativeImportExtension:L4},gZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:I4,get __assign(){return xi},__asyncDelegator:k4,__asyncGenerator:N4,__asyncValues:O4,__await:jd,__awaiter:Ze,__classPrivateFieldGet:P4,__classPrivateFieldIn:M4,__classPrivateFieldSet:D4,__createBinding:ox,__decorate:g4,__disposeResources:$4,__esDecorate:y4,__exportStar:S4,__extends:p4,__generator:j4,__importDefault:T4,__importStar:R4,__makeTemplateObject:A4,__metadata:_4,__param:v4,__propKey:b4,__read:VC,__rest:Tl,__rewriteRelativeImportExtension:L4,__runInitializers:x4,__setFunctionName:w4,__spread:C4,__spreadArray:HC,__spreadArrays:E4,__values:Av,default:pZ},Symbol.toStringTag,{value:"Module"})),vZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class WC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yZ extends WC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _P extends WC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jP extends WC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var US;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(US||(US={}));class xZ{constructor(t,{headers:r={},customFetch:n,region:a=US.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=vZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ze(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=n;let y={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(y["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(y["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(y["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let _=m;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),m?(_=o.signal,m.addEventListener("abort",()=>o.abort())):_=o.signal);const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:w,signal:_}).catch(O=>{throw new yZ(O)}),E=j.headers.get("x-relay-error");if(E&&E==="true")throw new _P(j);if(!j.ok)throw new jP(j);let N=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return N==="application/json"?k=yield j.json():N==="application/octet-stream"||N==="application/pdf"?k=yield j.blob():N==="text/event-stream"?k=j:N==="multipart/form-data"?k=yield j.formData():k=yield j.text(),{data:k,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof jP||c instanceof _P?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var Hn={};const Fd=QG(gZ);var _g={},jg={},Sg={},Cg={},Eg={},Ng={},SP;function z4(){if(SP)return Ng;SP=1,Object.defineProperty(Ng,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ng.default=e,Ng}var CP;function F4(){if(CP)return Eg;CP=1,Object.defineProperty(Eg,"__esModule",{value:!0});const t=Fd.__importDefault(z4());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let g=null,b=null,w=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const O=await d.text();O===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=O:b=JSON.parse(O))}const N=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");N&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,_=406,j="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const N=await d.text();try{g=JSON.parse(N),Array.isArray(g)&&d.status===404&&(b=[],g=null,_=200,j="OK")}catch{d.status===404&&N===""?(_=204,j="No Content"):g={message:N}}if(g&&this.isMaybeSingle&&(!((y=g?.details)===null||y===void 0)&&y.includes("0 rows"))&&(g=null,_=200,j="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:b,count:w,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return Eg.default=r,Eg}var EP;function U4(){if(EP)return Cg;EP=1,Object.defineProperty(Cg,"__esModule",{value:!0});const t=Fd.__importDefault(F4());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[a?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Cg.default=r,Cg}var NP;function KC(){if(NP)return Sg;NP=1,Object.defineProperty(Sg,"__esModule",{value:!0});const t=Fd.__importDefault(U4()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${f}fts${m}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return Sg.default=n,Sg}var kP;function B4(){if(kP)return jg;kP=1,Object.defineProperty(jg,"__esModule",{value:!0});const t=Fd.__importDefault(KC());class r{constructor(a,{headers:i={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(a,i){const{head:o=!1,count:c}=i??{},d=o?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var c;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return jg.default=r,jg}var OP;function bZ(){if(OP)return _g;OP=1,Object.defineProperty(_g,"__esModule",{value:!0});const e=Fd,t=e.__importDefault(B4()),r=e.__importDefault(KC());class n{constructor(i,{headers:o={},schema:c,fetch:d}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=d}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${i}`);let g;c||d?(p=c?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(p="POST",g=o);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new r.default({method:p,url:y,headers:b,schema:this.schemaName,body:g,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return _g.default=n,_g}var AP;function wZ(){if(AP)return Hn;AP=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.PostgrestError=Hn.PostgrestBuilder=Hn.PostgrestTransformBuilder=Hn.PostgrestFilterBuilder=Hn.PostgrestQueryBuilder=Hn.PostgrestClient=void 0;const e=Fd,t=e.__importDefault(bZ());Hn.PostgrestClient=t.default;const r=e.__importDefault(B4());Hn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(KC());Hn.PostgrestFilterBuilder=n.default;const a=e.__importDefault(U4());Hn.PostgrestTransformBuilder=a.default;const i=e.__importDefault(F4());Hn.PostgrestBuilder=i.default;const o=e.__importDefault(z4());return Hn.PostgrestError=o.default,Hn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Hn}var q4=wZ();const V4=ei(q4),_Z=Uz({__proto__:null,default:V4},[q4]),{PostgrestClient:jZ,PostgrestQueryBuilder:HMe,PostgrestFilterBuilder:WMe,PostgrestTransformBuilder:KMe,PostgrestBuilder:GMe,PostgrestError:YMe}=V4||_Z;class SZ{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const CZ="2.81.1",EZ=`realtime-js/${CZ}`,H4="1.0.0",NZ="2.0.0",RP=H4,BS=1e4,kZ=1e3,OZ=100;var gc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(gc||(gc={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var yi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(yi||(yi={}));var qS;(function(e){e.websocket="websocket"})(qS||(qS={}));var vc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vc||(vc={}));class AZ{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:a,topic:i,payload:o}=t,c=this.META_LENGTH+r.length+n.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(d),m=0;f.setUint8(m++,this.KINDS.push),f.setUint8(m++,r.length),f.setUint8(m++,n.length),f.setUint8(m++,i.length),f.setUint8(m++,a.length),Array.from(r,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(n,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(m++,y.charCodeAt(0)));var p=new Uint8Array(d.byteLength+o.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(o),d.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,d=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,a.length),p.setUint8(y++,i.length),p.setUint8(y++,o.length),p.setUint8(y++,c.length),p.setUint8(y++,this.BINARY_ENCODING),Array.from(a,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(i,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>p.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(m.byteLength+d.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(d),m.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,d=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(y),b=0;g.setUint8(b++,this.KINDS.userBroadcastPush),g.setUint8(b++,a.length),g.setUint8(b++,i.length),g.setUint8(b++,o.length),g.setUint8(b++,c.length),g.setUint8(b++,this.JSON_ENCODING),Array.from(a,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(i,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(o,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(c,_=>g.setUint8(b++,_.charCodeAt(0)));var w=new Uint8Array(y.byteLength+m.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(m),y.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,c,d]=n;return r({join_ref:a,ref:i,topic:o,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const m=n.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{join_ref:d,ref:null,topic:f,event:m,payload:p}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+i));d=d+i;const p=n.decode(t.slice(d,d+o));d=d+o;const y=n.decode(t.slice(d,d+c));d=d+c;const g=JSON.parse(n.decode(t.slice(d,t.byteLength))),b={status:y,response:g};return{join_ref:f,ref:m,topic:p,event:yi.reply,payload:b}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+a));o=o+a;const d=n.decode(t.slice(o,o+i));o=o+i;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:c,event:d,payload:f}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+i));d=d+i;const p=n.decode(t.slice(d,d+o));d=d+o;const y=t.slice(d,t.byteLength),g=c===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,b={type:this.BROADCAST,event:m,payload:g};return o>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class W4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lr||(lr={}));const TP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=RZ(o,e,t,a),i),{}):{}},RZ=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?K4(i,o):VS(o)},K4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return MZ(t,r)}switch(e){case lr.bool:return TZ(t);case lr.float4:case lr.float8:case lr.int2:case lr.int4:case lr.int8:case lr.numeric:case lr.oid:return PZ(t);case lr.json:case lr.jsonb:return DZ(t);case lr.timestamp:return IZ(t);case lr.abstime:case lr.date:case lr.daterange:case lr.int4range:case lr.int8range:case lr.money:case lr.reltime:case lr.text:case lr.time:case lr.timestamptz:case lr.timetz:case lr.tsrange:case lr.tstzrange:return VS(t);default:return VS(t)}},VS=e=>e,TZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},PZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},DZ=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},MZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>K4(t,c))}return e},IZ=e=>typeof e=="string"?e.replace(" ","T"):e,G4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class o_{constructor(t,r,n={},a=BS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var PP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(PP||(PP={}));class Sh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=Sh.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Sh.syncDiff(this.state,a,i,o),c())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),c={},d={};return this.map(i,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const p=i[f];if(p){const y=m.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=m.filter(_=>g.indexOf(_.presence_ref)<0),w=p.filter(_=>y.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),w.length>0&&(d[f]=w)}else c[f]=m}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(g=>g.presence_ref),y=m.filter(g=>p.indexOf(g.presence_ref)<0);t[c].unshift(...y)}n(c,m,d)}),this.map(o,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var DP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(DP||(DP={}));var Ch;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ch||(Ch={}));var ao;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ao||(ao={}));class GC{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new o_(this,yi.join,this.params,this.timeout),this.rejoinTimer=new W4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yi.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Sh(this),this.broadcastEndpointURL=G4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Ch.PRESENCE]&&this.bindings[Ch.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t?.(ao.CHANNEL_ERROR,g)),this._onClose(()=>t?.(ao.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t?.(ao.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(b=w?.length)!==null&&b!==void 0?b:0,j=[];for(let E=0;E<_;E++){const N=w[E],{filter:{event:k,schema:O,table:T,filter:R}}=N,A=g&&g[E];if(A&&A.event===k&&A.schema===O&&A.table===T&&A.filter===R)j.push(Object.assign(Object.assign({},N),{id:A.id}));else{this.unsubscribe(),this.state=pn.errored,t?.(ao.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ao.SUBSCRIBED);return}}).receive("error",g=>{this.state=pn.errored,t?.(ao.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(ao.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pn.joined&&t===Ch.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new o_(this,yi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new o_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>OZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=yi;if(n&&[c,d,f,m].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var b,w,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,w,_,j,E,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,O=(b=g.filter)===null||b===void 0?void 0:b.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(O==="*"||O?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(E=(j=g?.filter)===null||j===void 0?void 0:j.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return k==="*"||k===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:w,table:_,commit_timestamp:j,type:E,errors:N}=b;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:j,eventType:E,new:{},old:{},errors:N}),this._getPayloadRecords(b))}g.callback(y,n)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&GC.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yi.close,{},t)}_onError(t){this._on(yi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=TP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=TP(t.columns,t.old_record)),r}}const l_=()=>{},kg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$Z=[1e3,2e3,5e3,1e4],LZ=1e4,zZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class FZ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=BS,this.transport=null,this.heartbeatIntervalMs=kg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=l_,this.ref=0,this.reconnectTimer=null,this.vsn=RP,this.logger=l_,this.conn=null,this.sendBuffer=[],this.serializer=new AZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${qS.websocket}`,this.httpEndpoint=G4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case gc.connecting:return vc.Connecting;case gc.open:return vc.Open;case gc.closing:return vc.Closing;default:return vc.Closed}}isConnected(){return this.connectionState()===vc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new GC(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(kZ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},kg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,c=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===gc.open||this.conn.readyState===gc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(yi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([zZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:EZ};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(yi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new W4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},kg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,c,d,f,m,p,y,g;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:BS,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:kg.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:l_,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:RP,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>$Z[b-1]||LZ),this.vsn){case H4:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((b,w)=>w(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,w)=>w(JSON.parse(b)));break;case NZ:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class YC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class UZ extends YC{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class HS extends YC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const ZC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BZ=()=>Response,WS=e=>{if(Array.isArray(e))return e.map(r=>WS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=WS(n)}),t},qZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},c_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},VZ=(e,t,r)=>Ze(void 0,void 0,void 0,function*(){const n=yield BZ();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new UZ(c_(a),i,o))}).catch(a=>{t(new HS(c_(a),a))}):t(new HS(c_(e),e))}),HZ=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(qZ(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function bm(e,t,r,n,a,i){return Ze(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,HZ(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>VZ(d,c,n))})})}function Ih(e,t,r,n){return Ze(this,void 0,void 0,function*(){return bm(e,"GET",t,r,n)})}function Ui(e,t,r,n,a){return Ze(this,void 0,void 0,function*(){return bm(e,"POST",t,n,a,r)})}function KS(e,t,r,n,a){return Ze(this,void 0,void 0,function*(){return bm(e,"PUT",t,n,a,r)})}function WZ(e,t,r,n){return Ze(this,void 0,void 0,function*(){return bm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function XC(e,t,r,n,a){return Ze(this,void 0,void 0,function*(){return bm(e,"DELETE",t,n,a,r)})}class KZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nr(t))return{data:null,error:t};throw t}})}}var Y4;class GZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Y4]="BlobDownloadBuilder",this.promise=null}asStream(){return new KZ(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ze(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Nr(t))return{data:null,error:t};throw t}})}}Y4=Symbol.toStringTag;const YZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},MP={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ZZ{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=ZC(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Ze(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},MP),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),p=yield(t=="PUT"?KS:Ui)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Nr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Ze(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:MP.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield KS(this.fetch,c.toString(),d,{headers:m});return{data:{path:i,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Nr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Ze(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Ui(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new YC("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Ui(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ui(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Ze(this,void 0,void 0,function*(){try{const a=yield Ui(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",c=this._getFinalPath(t),d=()=>Ih(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new GZ(d,this.shouldThrowOnError)}info(t){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ih(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:WS(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}exists(t){return Ze(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield WZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n)&&n instanceof HS){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}remove(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield XC(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ze(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},YZ),r),{prefix:t||""});return{data:yield Ui(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}listV2(t,r){return Ze(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ui(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Z4="2.81.1",X4={"X-Client-Info":`storage-js/${Z4}`};class XZ{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X4),r),this.fetch=ZC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Ih(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ih(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}createBucket(t){return Ze(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Nr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield KS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Nr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield XC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class QZ{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},X4),r),this.fetch=ZC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Ze(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Ih(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield XC(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Nr(r))return{data:null,error:r};throw r}})}}const QC={"X-Client-Info":`storage-js/${Z4}`,"Content-Type":"application/json"};class Q4 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ba(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class u_ extends Q4{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class JZ extends Q4{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var IP;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(IP||(IP={}));const JC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$P=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tX=(e,t,r)=>Ze(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=o?.statusCode||o?.code||a+"";t(new u_($P(o),a,c))}).catch(()=>{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new u_(c,a,o))});else{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new u_(c,a,o))}}else t(new JZ($P(e),e))}),rX=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(eX(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function nX(e,t,r,n,a,i){return Ze(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,rX(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>tX(d,c,n))})})}function qa(e,t,r,n,a){return Ze(this,void 0,void 0,function*(){return nX(e,"POST",t,n,a,r)})}class aX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QC),r),this.fetch=JC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}})}listIndexes(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Ze(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}})}}class iX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QC),r),this.fetch=JC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qa(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}listVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qa(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}queryVectors(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Ze(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qa(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}}class sX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},QC),r),this.fetch=JC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}listBuckets(){return Ze(this,arguments,void 0,function*(t={}){try{return{data:yield qa(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ze(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}}class oX extends sX{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new lX(this.url,this.headers,t,this.fetch)}}class lX extends aX{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ze(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ze(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ze(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ze(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new cX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class cX extends iX{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ze(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ze(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ze(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ze(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ze(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uX extends XZ{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new ZZ(this.url,this.headers,t,this.fetch)}get vectors(){return new oX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new QZ(this.url+"/iceberg",this.headers,this.fetch)}}const dX="2.81.1";let yh="";typeof Deno<"u"?yh="deno":typeof document<"u"?yh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yh="react-native":yh="node";const fX={"X-Client-Info":`supabase-js-${yh}/${dX}`},hX={headers:fX},mX={schema:"public"},pX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gX={},vX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yX=()=>Headers,xX=(e,t,r)=>{const n=vX(r),a=yX();return async(i,o)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let f=new a(o?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},o),{headers:f}))}};function bX(e){return e.endsWith("/")?e:e+"/"}function wX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:c}=e,{db:d,auth:f,realtime:m,global:p}=t,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},m),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function _X(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const J4="2.81.1",sd=30*1e3,GS=3,d_=GS*sd,jX="http://localhost:9999",SX="supabase.auth.token",CX={"X-Client-Info":`gotrue-js/${J4}`},YS="X-Supabase-Api-Version",eF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,NX=600*1e3;class $h extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function rt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kX extends $h{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function OX(e){return rt(e)&&e.name==="AuthApiError"}class yc extends $h{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pl extends $h{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Li extends Pl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AX(e){return rt(e)&&e.name==="AuthSessionMissingError"}class Wu extends Pl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Og extends Pl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ag extends Pl{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RX(e){return rt(e)&&e.name==="AuthImplicitGrantRedirectError"}class LP extends Pl{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ZS extends Pl{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function f_(e){return rt(e)&&e.name==="AuthRetryableFetchError"}class zP extends Pl{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class XS extends Pl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),FP=` 	
\r=`.split(""),TX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<FP.length;t+=1)e[FP[t].charCodeAt(0)]=-2;for(let t=0;t<Rv.length;t+=1)e[Rv[t].charCodeAt(0)]=t;return e})();function UP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Rv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Rv[n]),t.queuedBits-=6}}function tF(e,t,r){const n=TX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function BP(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{MX(o,n,r)};for(let o=0;o<e.length;o+=1)tF(e.charCodeAt(o),a,i);return t.join("")}function PX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DX(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}PX(n,t)}}function MX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function md(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)tF(e.charCodeAt(a),r,n);return new Uint8Array(t)}function IX(e){const t=[];return DX(e,r=>t.push(r)),new Uint8Array(t)}function bc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>UP(a,r,n)),UP(null,r,n),t.join("")}function $X(e){return Math.round(Date.now()/1e3)+e}function LX(){return Symbol("auth-callback")}const Ln=()=>typeof window<"u"&&typeof document<"u",lc={tested:!1,writable:!1},rF=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(lc.tested)return lc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),lc.tested=!0,lc.writable=!0}catch{lc.tested=!0,lc.writable=!1}return lc.writable};function zX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const nF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",od=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ul=async(e,t)=>{await e.removeItem(t)};class lx{constructor(){this.promise=new lx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lx.promiseConstructor=Promise;function h_(e){const t=e.split(".");if(t.length!==3)throw new XS("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!EX.test(t[n]))throw new XS("JWT not in base64url format");return{header:JSON.parse(BP(t[0])),payload:JSON.parse(BP(t[1])),signature:md(t[2]),raw:{header:t[0],payload:t[1]}}}async function UX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BX(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function qX(e){return("0"+e.toString(16)).substr(-2)}function VX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,qX).join("")}async function HX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function WX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ku(e,t,r=!1){const n=VX();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await od(e,`${t}-code-verifier`,a);const i=await WX(n);return[i,n===i?"plain":"s256"]}const KX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GX(e){const t=e.headers.get(YS);if(!t||!t.match(KX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gu(e){if(!XX.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function m_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function QX(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function qP(e){return JSON.parse(JSON.stringify(e))}const dc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JX=[502,503,504];async function VP(e){var t;if(!FX(e))throw new ZS(dc(e),0);if(JX.includes(e.status))throw new ZS(dc(e),e.status);let r;try{r=await e.json()}catch(i){throw new yc(dc(i),i)}let n;const a=GX(e);if(a&&a.getTime()>=eF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zP(dc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Li}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zP(dc(r),e.status,r.weak_password.reasons);throw new kX(dc(r),e.status||500,n)}const eQ=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function mt(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[YS]||(i[YS]=eF["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await tQ(e,t,r+c,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function tQ(e,t,r,n,a,i){const o=eQ(t,n,a,i);let c;try{c=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new ZS(dc(d),0)}if(c.ok||await VP(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await VP(d)}}function zi(e){var t;let r=null;aQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=$X(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function HP(e){const t=zi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function gl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rQ(e){return{data:e,error:null}}function nQ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Tl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function WP(e){return e}function aQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const p_=["global","local","others"];class iQ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=p_[0]){if(p_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${p_.join(", ")}`);try{return await mt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await mt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:gl})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Tl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await mt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nQ,redirectTo:r?.redirectTo})}catch(r){if(rt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:gl})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await mt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:WP});if(m.error)throw m.error;const p=await m.json(),y=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(rt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Gu(t);try{return await mt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:gl})}catch(r){if(rt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Gu(t);try{return await mt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:gl})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Gu(t);try{return await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:gl})}catch(n){if(rt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Gu(t.userId);try{const{data:r,error:n}=await mt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Gu(t.userId),Gu(t.id);try{return{data:await mt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:WP});if(m.error)throw m.error;const p=await m.json(),y=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(rt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await mt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await mt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(rt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await mt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(rt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await mt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(rt(r))return{data:null,error:r};throw r}}}function KP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yu={debug:!!(globalThis&&rF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sQ extends aF{}async function oQ(e,t,r){Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function iF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cQ(e){return parseInt(e,16)}function uQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dQ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=iF(e.address),b=m?`${m}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${w}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let E=`
Resources:`;for(const N of f){if(!N||typeof N!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${N}`);E+=`
- ${N}`}j+=E}return`${_}
${j}`}class sn extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Tv extends sn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function fQ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(sF(o)){if(i.rp.id!==o)return new sn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hQ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(sF(n)){if(r.rpId!==n)return new sn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pQ=new mQ;function gQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Tl(e,["challenge","user","excludeCredentials"]),i=md(t).buffer,o=Object.assign(Object.assign({},r),{id:md(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:md(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function vQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Tl(e,["challenge","allowCredentials"]),a=md(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:md(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function yQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:bc(new Uint8Array(e.response.attestationObject)),clientDataJSON:bc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:bc(new Uint8Array(a.authenticatorData)),clientDataJSON:bc(new Uint8Array(a.clientDataJSON)),signature:bc(new Uint8Array(a.signature)),userHandle:a.userHandle?bc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function GP(){var e,t;return!!(Ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Tv("Browser returned unexpected credential type",t)}:{data:null,error:new Tv("Empty credential response",t)}}catch(t){return{data:null,error:fQ({error:t,options:e})}}}async function wQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Tv("Browser returned unexpected credential type",t)}:{data:null,error:new Tv("Empty credential response",t)}}catch(t){return{data:null,error:hQ({error:t,options:e})}}}const _Q={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jQ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Pv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const c=n[i];t(c)?n[i]=Pv(c,o):n[i]=Pv(o)}else n[i]=o}return n}function SQ(e,t){return Pv(_Q,e,t||{})}function CQ(e,t){return Pv(jQ,e,t||{})}class EQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const d=a??pQ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=SQ(o.webauthn.credential_options.publicKey,i?.create),{data:m,error:p}=await bQ({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=CQ(o.webauthn.credential_options.publicKey,i?.request),{data:m,error:p}=await wQ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return rt(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new $h("rpId is required for WebAuthn authentication")};try{if(!GP())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return rt(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new $h("rpId is required for WebAuthn registration")};try{if(!GP())return{data:null,error:new yc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return rt(o)?{data:null,error:o}:{data:null,error:new yc("Unexpected error in register",o)}}}}lQ();const NQ={url:jX,storageKey:SX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:CX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function YP(e,t,r){return await r()}const Zu={};class Lh{get jwks(){var t,r;return(r=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Zu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Zu[this.storageKey]=Object.assign(Object.assign({},Zu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},NQ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Lh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ln()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new iQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nF(i.fetch),this.lock=i.lock||YP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ln()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=oQ:this.lock=YP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new EQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=KP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=KP(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${J4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ln()&&(r=zX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ln()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),RX(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return rt(r)?this._returnResult({error:r}):this._returnResult({error:new yc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:zi}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:m,password:p,options:y}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Ku(this.storage,this.storageKey)),i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:b},xform:zi})}else if("phone"in t){const{phone:m,password:p,options:y}=t;i=await mt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:zi})}else throw new Og("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(rt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:c}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HP})}else if("phone"in t){const{phone:i,password:o,options:c}=t;r=await mt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:HP})}else throw new Og("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Wu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,c,d,f,m,p,y;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:w,wallet:_,statement:j,options:E}=t;let N;if(Ln())if(typeof _=="object")N=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")N=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=_}const k=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href),O=await N.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!O||O.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const T=iF(O[0]);let R=(n=E?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!R){const P=await N.request({method:"eth_chainId"});R=cQ(P)}const A={domain:k.host,address:T,statement:j,uri:k.href,version:"1",chainId:R,nonce:(a=E?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=E?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=E?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=E?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=E?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=E?.signInWithEthereum)===null||m===void 0?void 0:m.resources};g=dQ(A),b=await N.request({method:"personal_sign",params:[uQ(g),T]})}try{const{data:w,error:_}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zi});if(_)throw _;if(!w||!w.session||!w.user){const j=new Wu;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(rt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,i,o,c,d,f,m,p,y,g;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:_,wallet:j,statement:E,options:N}=t;let k;if(Ln())if(typeof j=="object")k=j;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))k=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const O=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const T=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),E?{statement:E}:null));let R;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")R=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)R=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)b=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),w=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(a=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=N?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((d=N?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((f=N?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((p=(m=N?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...N.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const T=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=T}}try{const{data:_,error:j}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:bc(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:zi});if(j)throw j;if(!_||!_.session||!_.user){const E=new Wu;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(rt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await cc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await mt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:zi});if(await ul(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new Wu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(rt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,c=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zi}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Wu;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Ku(this.storage,this.storageKey));const{error:p}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await mt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Og("You must provide either an email or phone number.")}catch(c){if(rt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await mt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:zi});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ku(this.storage,this.storageKey));const f=await mt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:rQ});return!((i=f.data)===null||i===void 0)&&i.url&&Ln()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(rt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Li;const{error:a}=await mt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(rt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:c}=await mt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Og("You must provide either an email or phone number and a type")}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<d_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await cc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=m_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=QX(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:gl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Li}:await mt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:gl})})}catch(r){if(rt(r))return AX(r)&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Li;const o=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Ku(this.storage,this.storageKey));const{data:f,error:m}=await mt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:gl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(rt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Li;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=h_(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(rt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Li;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(rt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ln())throw new Ag("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ag(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new LP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ag("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new LP("No code detected.");const{data:E,error:N}=await this._exchangeCodeForSession(t.code);if(N)throw N;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:c,expires_at:d,token_type:f}=t;if(!i||!c||!o||!f)throw new Ag("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const g=y-m;g*1e3<=sd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=y-p;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,m);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const j={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:y,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(rt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(OX(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await ul(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Ku(this.storage,this.storageKey,!0));try{return await mt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(rt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,c,d,f,m;const{data:p,error:y}=i;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await mt(this.fetch,"GET",g,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(rt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:c,token:d,access_token:f,nonce:m}=t,p=await mt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:zi}),{data:y,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Wu}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:g}))}catch(a){if(rt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await mt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BX(async a=>(a>0&&await UX(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await mt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:zi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&f_(i)&&Date.now()+o-n<sd})}catch(n){if(this._debug(r,"error",n),rt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await cc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await cc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await od(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:m_()}else if(a&&!a.user&&!a.user){const o=await cc(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await ul(this.storage,this.storageKey+"-user"),await od(this.storage,this.storageKey,a)):a.user=m_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<d_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${d_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),f_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(a.access_token);!c&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Li;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new lx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Li;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),rt(i)){const o={data:null,error:i};return f_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await od(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=qP(a);await od(this.storage,this.storageKey,i)}else{const a=qP(r);await od(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ul(this.storage,this.storageKey),await ul(this.storage,this.storageKey+"-code-verifier"),await ul(this.storage,this.storageKey+"-user"),this.userStorage&&await ul(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ln()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),sd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/sd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${sd}ms, refresh threshold is ${GS} ticks`),a<=GS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ku(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await mt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await mt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yQ(t.webauthn.credential_response):xQ(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await mt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:gQ(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:vQ(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=h_(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await mt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Li})})}catch(r){if(rt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Li});const o=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Li});const o=await mt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+NX>a)return n;const{data:i,error:o}=await mt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:c,payload:d}}=h_(n);r?.allowExpired||YX(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const m=ZX(a.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,IX(`${c}.${d}`)))throw new XS("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(rt(n))return this._returnResult({data:null,error:n});throw n}}}Lh.nextInstanceID={};const kQ=Lh;class OQ extends kQ{constructor(t){super(t)}}class AQ{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const c=_X(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:mX,realtime:gX,auth:Object.assign(Object.assign({},pX),{storageKey:d}),global:hX},m=wX(n??{},f);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=xX(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new jZ(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new uX(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new xZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:c,lock:d,debug:f,throwOnError:m},p,y){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:c,lock:d,debug:f,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new FZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const RQ=(e,t,r)=>new AQ(e,t,r);function TQ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}TQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const PQ="https://uctkrfjkzpfvbalqaitp.supabase.co",DQ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVjdGtyZmprenBmdmJhbHFhaXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4MDM5NzUsImV4cCI6MjA4MzM3OTk3NX0.u8WLMk9gpn07aVYOeHO-nXaZYGMJIBcNu6FZ5jqs02w",Se=RQ(PQ,DQ,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),oF=x.createContext(void 0);function MQ({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(null),[c,d]=x.useState(!0),f=x.useCallback(async T=>{try{const{data:R,error:A}=await Se.from("profiles").select("id, email, full_name, role, department_id, suspended").eq("id",T).single();if(A){console.error("Error fetching profile:",A),o(null);return}o(R)}catch(R){console.error("Error fetching profile:",R),o(null)}},[]),m=x.useCallback(async()=>{t?.id&&await f(t.id)},[t?.id,f]);x.useEffect(()=>{Se.auth.getSession().then(({data:{session:R}})=>{a(R),r(R?.user??null),R?.user&&f(R.user.id),d(!1)});const{data:{subscription:T}}=Se.auth.onAuthStateChange((R,A)=>{a(A),r(A?.user??null),A?.user?f(A.user.id):o(null),d(!1)});return()=>T.unsubscribe()},[f]);const p=async(T,R)=>{const{error:A}=await Se.auth.signInWithPassword({email:T,password:R});return{error:A}},y=async()=>{await Se.auth.signOut(),o(null)},g=i?.role==="root",b=i?.role==="admin",w=i?.role==="manager",_=i?.role==="team_lead",j=i?.role==="worker",E=g||b,N=E||w,O={user:t,session:n,profile:i,loading:c,signIn:p,signOut:y,refreshProfile:m,isRoot:g,isAdmin:b,isManager:w,isTeamLead:_,isWorker:j,isAdminOrAbove:E,isManagerOrAbove:N,isTeamLeadOrAbove:N||_};return s.jsx(oF.Provider,{value:O,children:e})}function Ar(){const e=x.useContext(oF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function IQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const $Q=e=>{switch(e){case"success":return FQ;case"info":return BQ;case"warning":return UQ;case"error":return qQ;default:return null}},LQ=Array(12).fill(0),zQ=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},LQ.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),FQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),VQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HQ=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let QS=1;class WQ{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:QS++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const c=a.then(async f=>{if(o=["resolve",f],re.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(GQ(f)&&!f.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:y,...b})}else if(f instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,y=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:y,...b})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(f):r.success,y=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:y,...b})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,g=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>c.then(()=>o[0]==="reject"?m(o[1]):f(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||QS++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ja=new WQ,KQ=(e,t)=>{const r=t?.id||QS++;return ja.addToast({title:e,...t,id:r}),r},GQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",YQ=KQ,ZQ=()=>ja.toasts,XQ=()=>ja.getActiveToasts(),_a=Object.assign(YQ,{success:ja.success,info:ja.info,warning:ja.warning,error:ja.error,custom:ja.custom,message:ja.message,promise:ja.promise,dismiss:ja.dismiss,loading:ja.loading},{getHistory:ZQ,getToasts:XQ});IQ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rg(e){return e.label!==void 0}const QQ=3,JQ="24px",eJ="16px",ZP=4e3,tJ=356,rJ=14,nJ=45,aJ=200;function us(...e){return e.filter(Boolean).join(" ")}function iJ(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const sJ=e=>{var t,r,n,a,i,o,c,d,f;const{invert:m,toast:p,unstyled:y,interacting:g,setHeights:b,visibleToasts:w,heights:_,index:j,toasts:E,expanded:N,removeToast:k,defaultRichColors:O,closeButton:T,style:R,cancelButtonStyle:A,actionButtonStyle:P,className:L="",descriptionClassName:M="",duration:$,position:U,gap:X,expandByDefault:Y,classNames:F,icons:H,closeButtonAriaLabel:I="Close toast"}=e,[q,ue]=re.useState(null),[B,Q]=re.useState(null),[V,ae]=re.useState(!1),[Z,ne]=re.useState(!1),[ee,pe]=re.useState(!1),[G,ge]=re.useState(!1),[ye,le]=re.useState(!1),[Ue,Le]=re.useState(0),[Qe,Be]=re.useState(0),Rt=re.useRef(p.duration||$||ZP),Nt=re.useRef(null),St=re.useRef(null),W=j===0,ie=j+1<=w,de=p.type,Ae=p.dismissible!==!1,be=p.className||"",Ce=p.descriptionClassName||"",Pe=re.useMemo(()=>_.findIndex(ht=>ht.toastId===p.id)||0,[_,p.id]),ot=re.useMemo(()=>{var ht;return(ht=p.closeButton)!=null?ht:T},[p.closeButton,T]),yt=re.useMemo(()=>p.duration||$||ZP,[p.duration,$]),gr=re.useRef(0),dn=re.useRef(0),Tr=re.useRef(0),Cr=re.useRef(null),[fn,vr]=U.split("-"),Jn=re.useMemo(()=>_.reduce((ht,or,Qr)=>Qr>=Pe?ht:ht+or.height,0),[_,Pe]),Pr=HQ(),ql=p.invert||m,xt=de==="loading";dn.current=re.useMemo(()=>Pe*X+Jn,[Pe,Jn]),re.useEffect(()=>{Rt.current=yt},[yt]),re.useEffect(()=>{ae(!0)},[]),re.useEffect(()=>{const ht=St.current;if(ht){const or=ht.getBoundingClientRect().height;return Be(or),b(Qr=>[{toastId:p.id,height:or,position:p.position},...Qr]),()=>b(Qr=>Qr.filter(Jr=>Jr.toastId!==p.id))}},[b,p.id]),re.useLayoutEffect(()=>{if(!V)return;const ht=St.current,or=ht.style.height;ht.style.height="auto";const Qr=ht.getBoundingClientRect().height;ht.style.height=or,Be(Qr),b(Jr=>Jr.find(Er=>Er.toastId===p.id)?Jr.map(Er=>Er.toastId===p.id?{...Er,height:Qr}:Er):[{toastId:p.id,height:Qr,position:p.position},...Jr])},[V,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const zt=re.useCallback(()=>{ne(!0),Le(dn.current),b(ht=>ht.filter(or=>or.toastId!==p.id)),setTimeout(()=>{k(p)},aJ)},[p,k,b,dn]);re.useEffect(()=>{if(p.promise&&de==="loading"||p.duration===1/0||p.type==="loading")return;let ht;return N||g||Pr?(()=>{if(Tr.current<gr.current){const Jr=new Date().getTime()-gr.current;Rt.current=Rt.current-Jr}Tr.current=new Date().getTime()})():(()=>{Rt.current!==1/0&&(gr.current=new Date().getTime(),ht=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),zt()},Rt.current))})(),()=>clearTimeout(ht)},[N,g,p,de,Pr,zt]),re.useEffect(()=>{p.delete&&(zt(),p.onDismiss==null||p.onDismiss.call(p,p))},[zt,p.delete]);function ft(){var ht;if(H?.loading){var or;return re.createElement("div",{className:us(F?.loader,p==null||(or=p.classNames)==null?void 0:or.loader,"sonner-loader"),"data-visible":de==="loading"},H.loading)}return re.createElement(zQ,{className:us(F?.loader,p==null||(ht=p.classNames)==null?void 0:ht.loader),visible:de==="loading"})}const Bt=p.icon||H?.[de]||$Q(de);var Fr,kt;return re.createElement("li",{tabIndex:0,ref:St,className:us(L,be,F?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,F?.default,F?.[de],p==null||(r=p.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(Fr=p.richColors)!=null?Fr:O,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":ye,"data-removed":Z,"data-visible":ie,"data-y-position":fn,"data-x-position":vr,"data-index":j,"data-front":W,"data-swiping":ee,"data-dismissible":Ae,"data-type":de,"data-invert":ql,"data-swipe-out":G,"data-swipe-direction":B,"data-expanded":!!(N||Y&&V),"data-testid":p.testId,style:{"--index":j,"--toasts-before":j,"--z-index":E.length-j,"--offset":`${Z?Ue:dn.current}px`,"--initial-height":Y?"auto":`${Qe}px`,...R,...p.style},onDragEnd:()=>{pe(!1),ue(null),Cr.current=null},onPointerDown:ht=>{ht.button!==2&&(xt||!Ae||(Nt.current=new Date,Le(dn.current),ht.target.setPointerCapture(ht.pointerId),ht.target.tagName!=="BUTTON"&&(pe(!0),Cr.current={x:ht.clientX,y:ht.clientY})))},onPointerUp:()=>{var ht,or,Qr;if(G||!Ae)return;Cr.current=null;const Jr=Number(((ht=St.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ni=Number(((or=St.current)==null?void 0:or.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Er=new Date().getTime()-((Qr=Nt.current)==null?void 0:Qr.getTime()),fa=q==="x"?Jr:ni,Vl=Math.abs(fa)/Er;if(Math.abs(fa)>=nJ||Vl>.11){Le(dn.current),p.onDismiss==null||p.onDismiss.call(p,p),Q(q==="x"?Jr>0?"right":"left":ni>0?"down":"up"),zt(),ge(!0);return}else{var ha,ma;(ha=St.current)==null||ha.style.setProperty("--swipe-amount-x","0px"),(ma=St.current)==null||ma.style.setProperty("--swipe-amount-y","0px")}le(!1),pe(!1),ue(null)},onPointerMove:ht=>{var or,Qr,Jr;if(!Cr.current||!Ae||((or=window.getSelection())==null?void 0:or.toString().length)>0)return;const Er=ht.clientY-Cr.current.y,fa=ht.clientX-Cr.current.x;var Vl;const ha=(Vl=e.swipeDirections)!=null?Vl:iJ(U);!q&&(Math.abs(fa)>1||Math.abs(Er)>1)&&ue(Math.abs(fa)>Math.abs(Er)?"x":"y");let ma={x:0,y:0};const ou=Di=>1/(1.5+Math.abs(Di)/20);if(q==="y"){if(ha.includes("top")||ha.includes("bottom"))if(ha.includes("top")&&Er<0||ha.includes("bottom")&&Er>0)ma.y=Er;else{const Di=Er*ou(Er);ma.y=Math.abs(Di)<Math.abs(Er)?Di:Er}}else if(q==="x"&&(ha.includes("left")||ha.includes("right")))if(ha.includes("left")&&fa<0||ha.includes("right")&&fa>0)ma.x=fa;else{const Di=fa*ou(fa);ma.x=Math.abs(Di)<Math.abs(fa)?Di:fa}(Math.abs(ma.x)>0||Math.abs(ma.y)>0)&&le(!0),(Qr=St.current)==null||Qr.style.setProperty("--swipe-amount-x",`${ma.x}px`),(Jr=St.current)==null||Jr.style.setProperty("--swipe-amount-y",`${ma.y}px`)}},ot&&!p.jsx&&de!=="loading"?re.createElement("button",{"aria-label":I,"data-disabled":xt,"data-close-button":!0,onClick:xt||!Ae?()=>{}:()=>{zt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:us(F?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(kt=H?.close)!=null?kt:VQ):null,(de||p.icon||p.promise)&&p.icon!==null&&(H?.[de]!==null||p.icon)?re.createElement("div",{"data-icon":"",className:us(F?.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ft():null,p.type!=="loading"?Bt:null):null,re.createElement("div",{"data-content":"",className:us(F?.content,p==null||(i=p.classNames)==null?void 0:i.content)},re.createElement("div",{"data-title":"",className:us(F?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?re.createElement("div",{"data-description":"",className:us(M,Ce,F?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),re.isValidElement(p.cancel)?p.cancel:p.cancel&&Rg(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||A,onClick:ht=>{Rg(p.cancel)&&Ae&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,ht),zt())},className:us(F?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,re.isValidElement(p.action)?p.action:p.action&&Rg(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:ht=>{Rg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,ht),!ht.defaultPrevented&&zt())},className:us(F?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function XP(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oJ(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?eJ:JQ;function d(f){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=c:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const lJ=re.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:y="light",richColors:g,duration:b,style:w,visibleToasts:_=QQ,toastOptions:j,dir:E=XP(),gap:N=rJ,icons:k,containerAriaLabel:O="Notifications"}=t,[T,R]=re.useState([]),A=re.useMemo(()=>n?T.filter(V=>V.toasterId===n):T.filter(V=>!V.toasterId),[T,n]),P=re.useMemo(()=>Array.from(new Set([i].concat(A.filter(V=>V.position).map(V=>V.position)))),[A,i]),[L,M]=re.useState([]),[$,U]=re.useState(!1),[X,Y]=re.useState(!1),[F,H]=re.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=re.useRef(null),q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=re.useRef(null),B=re.useRef(!1),Q=re.useCallback(V=>{R(ae=>{var Z;return(Z=ae.find(ne=>ne.id===V.id))!=null&&Z.delete||ja.dismiss(V.id),ae.filter(({id:ne})=>ne!==V.id)})},[]);return re.useEffect(()=>ja.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{R(ae=>ae.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{n4.flushSync(()=>{R(ae=>{const Z=ae.findIndex(ne=>ne.id===V.id);return Z!==-1?[...ae.slice(0,Z),{...ae[Z],...V},...ae.slice(Z+1)]:[V,...ae]})})})}),[T]),re.useEffect(()=>{if(y!=="system"){H(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ae})=>{H(ae?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{H(Z?"dark":"light")}catch(ne){console.error(ne)}})}},[y]),re.useEffect(()=>{T.length<=1&&U(!1)},[T]),re.useEffect(()=>{const V=ae=>{var Z;if(o.every(pe=>ae[pe]||ae.code===pe)){var ee;U(!0),(ee=I.current)==null||ee.focus()}ae.code==="Escape"&&(document.activeElement===I.current||(Z=I.current)!=null&&Z.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),re.useEffect(()=>{if(I.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,B.current=!1)}},[I.current]),re.createElement("section",{ref:r,"aria-label":`${O} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,ae)=>{var Z;const[ne,ee]=V.split("-");return A.length?re.createElement("ol",{key:V,dir:E==="auto"?XP():E,tabIndex:-1,ref:I,className:f,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ne,"data-x-position":ee,style:{"--front-toast-height":`${((Z=L[0])==null?void 0:Z.height)||0}px`,"--width":`${tJ}px`,"--gap":`${N}px`,...w,...oJ(m,p)},onBlur:pe=>{B.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(B.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||B.current||(B.current=!0,ue.current=pe.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{X||U(!1)},onDragEnd:()=>U(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},A.filter(pe=>!pe.position&&ae===0||pe.position===V).map((pe,G)=>{var ge,ye;return re.createElement(sJ,{key:pe.id,icons:k,index:G,toast:pe,defaultRichColors:g,duration:(ge=j?.duration)!=null?ge:b,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(ye=j?.closeButton)!=null?ye:d,interacting:X,position:V,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Q,toasts:A.filter(le=>le.position==pe.position),heights:L.filter(le=>le.position==pe.position),setHeights:M,expandByDefault:c,gap:N,expanded:$,swipeDirections:t.swipeDirections})})):null}))});var wm=e=>e.type==="checkbox",wc=e=>e instanceof Date,Sa=e=>e==null;const lF=e=>typeof e=="object";var ln=e=>!Sa(e)&&!Array.isArray(e)&&lF(e)&&!wc(e),cJ=e=>ln(e)&&e.target?wm(e.target)?e.target.checked:e.target.value:e,uJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dJ=(e,t)=>e.has(uJ(t)),fJ=e=>{const t=e.constructor&&e.constructor.prototype;return ln(t)&&t.hasOwnProperty("isPrototypeOf")},eE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(eE&&(e instanceof Blob||n))&&(r||ln(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!fJ(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Cn(e[a]));else return e;return t}var cx=e=>/^\w*$/.test(e),Wr=e=>e===void 0,tE=e=>Array.isArray(e)?e.filter(Boolean):[],rE=e=>tE(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ge=(e,t,r)=>{if(!t||!ln(e))return r;const n=(cx(t)?[t]:rE(t)).reduce((a,i)=>Sa(a)?a:a[i],e);return Wr(n)||n===e?Wr(e[t])?r:e[t]:n},hs=e=>typeof e=="boolean",ar=(e,t,r)=>{let n=-1;const a=cx(t)?[t]:rE(t),i=a.length,o=i-1;for(;++n<i;){const c=a[n];let d=r;if(n!==o){const f=e[c];d=ln(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const QP={BLUR:"blur",FOCUS_OUT:"focusout"},Bi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ro={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hJ=re.createContext(null);hJ.displayName="HookFormContext";var mJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Bi.all&&(t._proxyFormState[o]=!n||Bi.all),e[o]}});return a};const pJ=typeof window<"u"?re.useLayoutEffect:re.useEffect;var Va=e=>typeof e=="string",gJ=(e,t,r,n,a)=>Va(e)?(n&&t.watch.add(e),Ge(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ge(r,i))):(n&&(t.watchAll=!0),r),JS=e=>Sa(e)||!lF(e);function vl(e,t,r=new WeakSet){if(JS(e)||JS(t))return e===t;if(wc(e)&&wc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const c=t[i];if(wc(o)&&wc(c)||ln(o)&&ln(c)||Array.isArray(o)&&Array.isArray(c)?!vl(o,c,r):o!==c)return!1}}return!0}var nE=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Eh=e=>Array.isArray(e)?e:[e],JP=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function cF(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&ln(a)&&i){const o=cF(a,i);ln(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var ta=e=>ln(e)&&!Object.keys(e).length,aE=e=>e.type==="file",qi=e=>typeof e=="function",Dv=e=>{if(!eE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},uF=e=>e.type==="select-multiple",iE=e=>e.type==="radio",vJ=e=>iE(e)||wm(e),g_=e=>Dv(e)&&e.isConnected;function yJ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wr(e)?n++:e[t[n++]];return e}function xJ(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wr(e[t]))return!1;return!0}function an(e,t){const r=Array.isArray(t)?t:cx(t)?[t]:rE(t),n=r.length===1?e:yJ(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ln(n)&&ta(n)||Array.isArray(n)&&xJ(n))&&an(e,r.slice(0,-1)),e}var bJ=e=>{for(const t in e)if(qi(e[t]))return!0;return!1};function dF(e){return Array.isArray(e)||ln(e)&&!bJ(e)}function e1(e,t={}){for(const r in e)dF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},e1(e[r],t[r])):Wr(e[r])||(t[r]=!0);return t}function ld(e,t,r){r||(r=e1(t));for(const n in e)dF(e[n])?Wr(t)||JS(r[n])?r[n]=e1(e[n],Array.isArray(e[n])?[]:{}):ld(e[n],Sa(t)?{}:t[n],r[n]):r[n]=!vl(e[n],t[n]);return r}const eD={value:!1,isValid:!1},tD={value:!0,isValid:!0};var fF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wr(e[0].attributes.value)?Wr(e[0].value)||e[0].value===""?tD:{value:e[0].value,isValid:!0}:tD:eD}return eD},hF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wr(e)?e:t?e===""?NaN:e&&+e:r&&Va(e)?new Date(e):n?n(e):e;const rD={isValid:!1,value:null};var mF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,rD):rD;function nD(e){const t=e.ref;return aE(t)?t.files:iE(t)?mF(e.refs).value:uF(t)?[...t.selectedOptions].map(({value:r})=>r):wm(t)?fF(e.refs).value:hF(Wr(t.value)?e.ref.value:t.value,e)}var wJ=(e,t,r,n)=>{const a={};for(const i of e){const o=Ge(t,i);o&&ar(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Mv=e=>e instanceof RegExp,nh=e=>Wr(e)?e:Mv(e)?e.source:ln(e)?Mv(e.value)?e.value.source:e.value:e,aD=e=>({isOnSubmit:!e||e===Bi.onSubmit,isOnBlur:e===Bi.onBlur,isOnChange:e===Bi.onChange,isOnAll:e===Bi.all,isOnTouch:e===Bi.onTouched});const iD="AsyncFunction";var _J=e=>!!e&&!!e.validate&&!!(qi(e.validate)&&e.validate.constructor.name===iD||ln(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===iD)),jJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),sD=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Nh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ge(e,a);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Nh(c,t))break}else if(ln(c)&&Nh(c,t))break}}};function oD(e,t,r){const n=Ge(e,r);if(n||cx(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ge(t,i),c=Ge(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};a.pop()}return{name:r}}var SJ=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ta(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Bi.all))},CJ=(e,t,r)=>!e||!t||e===t||Eh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),EJ=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,NJ=(e,t)=>!tE(Ge(e,t)).length&&an(e,t),kJ=(e,t,r)=>{const n=Eh(Ge(e,r));return ar(n,"root",t[r]),ar(e,r,n),e};function lD(e,t,r="validate"){if(Va(e)||Array.isArray(e)&&e.every(Va)||hs(e)&&!e)return{type:r,message:Va(e)?e:"",ref:t}}var Xu=e=>ln(e)&&!Mv(e)?e:{value:e,message:""},cD=async(e,t,r,n,a,i)=>{const{ref:o,refs:c,required:d,maxLength:f,minLength:m,min:p,max:y,pattern:g,validate:b,name:w,valueAsNumber:_,mount:j}=e._f,E=Ge(r,w);if(!j||t.has(w))return{};const N=c?c[0]:o,k=$=>{a&&N.reportValidity&&(N.setCustomValidity(hs($)?"":$||""),N.reportValidity())},O={},T=iE(o),R=wm(o),A=T||R,P=(_||aE(o))&&Wr(o.value)&&Wr(E)||Dv(o)&&o.value===""||E===""||Array.isArray(E)&&!E.length,L=nE.bind(null,w,n,O),M=($,U,X,Y=ro.maxLength,F=ro.minLength)=>{const H=$?U:X;O[w]={type:$?Y:F,message:H,ref:o,...L($?Y:F,H)}};if(i?!Array.isArray(E)||!E.length:d&&(!A&&(P||Sa(E))||hs(E)&&!E||R&&!fF(c).isValid||T&&!mF(c).isValid)){const{value:$,message:U}=Va(d)?{value:!!d,message:d}:Xu(d);if($&&(O[w]={type:ro.required,message:U,ref:N,...L(ro.required,U)},!n))return k(U),O}if(!P&&(!Sa(p)||!Sa(y))){let $,U;const X=Xu(y),Y=Xu(p);if(!Sa(E)&&!isNaN(E)){const F=o.valueAsNumber||E&&+E;Sa(X.value)||($=F>X.value),Sa(Y.value)||(U=F<Y.value)}else{const F=o.valueAsDate||new Date(E),H=ue=>new Date(new Date().toDateString()+" "+ue),I=o.type=="time",q=o.type=="week";Va(X.value)&&E&&($=I?H(E)>H(X.value):q?E>X.value:F>new Date(X.value)),Va(Y.value)&&E&&(U=I?H(E)<H(Y.value):q?E<Y.value:F<new Date(Y.value))}if(($||U)&&(M(!!$,X.message,Y.message,ro.max,ro.min),!n))return k(O[w].message),O}if((f||m)&&!P&&(Va(E)||i&&Array.isArray(E))){const $=Xu(f),U=Xu(m),X=!Sa($.value)&&E.length>+$.value,Y=!Sa(U.value)&&E.length<+U.value;if((X||Y)&&(M(X,$.message,U.message),!n))return k(O[w].message),O}if(g&&!P&&Va(E)){const{value:$,message:U}=Xu(g);if(Mv($)&&!E.match($)&&(O[w]={type:ro.pattern,message:U,ref:o,...L(ro.pattern,U)},!n))return k(U),O}if(b){if(qi(b)){const $=await b(E,r),U=lD($,N);if(U&&(O[w]={...U,...L(ro.validate,U.message)},!n))return k(U.message),O}else if(ln(b)){let $={};for(const U in b){if(!ta($)&&!n)break;const X=lD(await b[U](E,r),N,U);X&&($={...X,...L(U,X.message)},k(X.message),n&&(O[w]=$))}if(!ta($)&&(O[w]={ref:N,...$},!n))return O}}return k(!0),O};const OJ={mode:Bi.onSubmit,reValidateMode:Bi.onChange,shouldFocusError:!0};function AJ(e={}){let t={...OJ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:qi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=ln(t.defaultValues)||ln(t.values)?Cn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Cn(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const y={array:JP(),state:JP()},g=t.criteriaMode===Bi.all,b=W=>ie=>{clearTimeout(f),f=setTimeout(W,ie)},w=async W=>{if(!t.disabled&&(m.isValid||p.isValid||W)){const ie=t.resolver?ta((await R()).errors):await P(n,!0);ie!==r.isValid&&y.state.next({isValid:ie})}},_=(W,ie)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((W||Array.from(c.mount)).forEach(de=>{de&&(ie?ar(r.validatingFields,de,ie):an(r.validatingFields,de))}),y.state.next({validatingFields:r.validatingFields,isValidating:!ta(r.validatingFields)}))},j=(W,ie=[],de,Ae,be=!0,Ce=!0)=>{if(Ae&&de&&!t.disabled){if(o.action=!0,Ce&&Array.isArray(Ge(n,W))){const Pe=de(Ge(n,W),Ae.argA,Ae.argB);be&&ar(n,W,Pe)}if(Ce&&Array.isArray(Ge(r.errors,W))){const Pe=de(Ge(r.errors,W),Ae.argA,Ae.argB);be&&ar(r.errors,W,Pe),NJ(r.errors,W)}if((m.touchedFields||p.touchedFields)&&Ce&&Array.isArray(Ge(r.touchedFields,W))){const Pe=de(Ge(r.touchedFields,W),Ae.argA,Ae.argB);be&&ar(r.touchedFields,W,Pe)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=ld(a,i)),y.state.next({name:W,isDirty:M(W,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ar(i,W,ie)},E=(W,ie)=>{ar(r.errors,W,ie),y.state.next({errors:r.errors})},N=W=>{r.errors=W,y.state.next({errors:r.errors,isValid:!1})},k=(W,ie,de,Ae)=>{const be=Ge(n,W);if(be){const Ce=Ge(i,W,Wr(de)?Ge(a,W):de);Wr(Ce)||Ae&&Ae.defaultChecked||ie?ar(i,W,ie?Ce:nD(be._f)):X(W,Ce),o.mount&&w()}},O=(W,ie,de,Ae,be)=>{let Ce=!1,Pe=!1;const ot={name:W};if(!t.disabled){if(!de||Ae){(m.isDirty||p.isDirty)&&(Pe=r.isDirty,r.isDirty=ot.isDirty=M(),Ce=Pe!==ot.isDirty);const yt=vl(Ge(a,W),ie);Pe=!!Ge(r.dirtyFields,W),yt?an(r.dirtyFields,W):ar(r.dirtyFields,W,!0),ot.dirtyFields=r.dirtyFields,Ce=Ce||(m.dirtyFields||p.dirtyFields)&&Pe!==!yt}if(de){const yt=Ge(r.touchedFields,W);yt||(ar(r.touchedFields,W,de),ot.touchedFields=r.touchedFields,Ce=Ce||(m.touchedFields||p.touchedFields)&&yt!==de)}Ce&&be&&y.state.next(ot)}return Ce?ot:{}},T=(W,ie,de,Ae)=>{const be=Ge(r.errors,W),Ce=(m.isValid||p.isValid)&&hs(ie)&&r.isValid!==ie;if(t.delayError&&de?(d=b(()=>E(W,de)),d(t.delayError)):(clearTimeout(f),d=null,de?ar(r.errors,W,de):an(r.errors,W)),(de?!vl(be,de):be)||!ta(Ae)||Ce){const Pe={...Ae,...Ce&&hs(ie)?{isValid:ie}:{},errors:r.errors,name:W};r={...r,...Pe},y.state.next(Pe)}},R=async W=>{_(W,!0);const ie=await t.resolver(i,t.context,wJ(W||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(W),ie},A=async W=>{const{errors:ie}=await R(W);if(W)for(const de of W){const Ae=Ge(ie,de);Ae?ar(r.errors,de,Ae):an(r.errors,de)}else r.errors=ie;return ie},P=async(W,ie,de={valid:!0})=>{for(const Ae in W){const be=W[Ae];if(be){const{_f:Ce,...Pe}=be;if(Ce){const ot=c.array.has(Ce.name),yt=be._f&&_J(be._f);yt&&m.validatingFields&&_([Ce.name],!0);const gr=await cD(be,c.disabled,i,g,t.shouldUseNativeValidation&&!ie,ot);if(yt&&m.validatingFields&&_([Ce.name]),gr[Ce.name]&&(de.valid=!1,ie))break;!ie&&(Ge(gr,Ce.name)?ot?kJ(r.errors,gr,Ce.name):ar(r.errors,Ce.name,gr[Ce.name]):an(r.errors,Ce.name))}!ta(Pe)&&await P(Pe,ie,de)}}return de.valid},L=()=>{for(const W of c.unMount){const ie=Ge(n,W);ie&&(ie._f.refs?ie._f.refs.every(de=>!g_(de)):!g_(ie._f.ref))&&ee(W)}c.unMount=new Set},M=(W,ie)=>!t.disabled&&(W&&ie&&ar(i,W,ie),!vl(ue(),a)),$=(W,ie,de)=>gJ(W,c,{...o.mount?i:Wr(ie)?a:Va(W)?{[W]:ie}:ie},de,ie),U=W=>tE(Ge(o.mount?i:a,W,t.shouldUnregister?Ge(a,W,[]):[])),X=(W,ie,de={})=>{const Ae=Ge(n,W);let be=ie;if(Ae){const Ce=Ae._f;Ce&&(!Ce.disabled&&ar(i,W,hF(ie,Ce)),be=Dv(Ce.ref)&&Sa(ie)?"":ie,uF(Ce.ref)?[...Ce.ref.options].forEach(Pe=>Pe.selected=be.includes(Pe.value)):Ce.refs?wm(Ce.ref)?Ce.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(be)?Pe.checked=!!be.find(ot=>ot===Pe.value):Pe.checked=be===Pe.value||!!be)}):Ce.refs.forEach(Pe=>Pe.checked=Pe.value===be):aE(Ce.ref)?Ce.ref.value="":(Ce.ref.value=be,Ce.ref.type||y.state.next({name:W,values:Cn(i)})))}(de.shouldDirty||de.shouldTouch)&&O(W,be,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&q(W)},Y=(W,ie,de)=>{for(const Ae in ie){if(!ie.hasOwnProperty(Ae))return;const be=ie[Ae],Ce=W+"."+Ae,Pe=Ge(n,Ce);(c.array.has(W)||ln(be)||Pe&&!Pe._f)&&!wc(be)?Y(Ce,be,de):X(Ce,be,de)}},F=(W,ie,de={})=>{const Ae=Ge(n,W),be=c.array.has(W),Ce=Cn(ie);ar(i,W,Ce),be?(y.array.next({name:W,values:Cn(i)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&de.shouldDirty&&y.state.next({name:W,dirtyFields:ld(a,i),isDirty:M(W,Ce)})):Ae&&!Ae._f&&!Sa(Ce)?Y(W,Ce,de):X(W,Ce,de),sD(W,c)&&y.state.next({...r,name:W}),y.state.next({name:o.mount?W:void 0,values:Cn(i)})},H=async W=>{o.mount=!0;const ie=W.target;let de=ie.name,Ae=!0;const be=Ge(n,de),Ce=yt=>{Ae=Number.isNaN(yt)||wc(yt)&&isNaN(yt.getTime())||vl(yt,Ge(i,de,yt))},Pe=aD(t.mode),ot=aD(t.reValidateMode);if(be){let yt,gr;const dn=ie.type?nD(be._f):cJ(W),Tr=W.type===QP.BLUR||W.type===QP.FOCUS_OUT,Cr=!jJ(be._f)&&!t.resolver&&!Ge(r.errors,de)&&!be._f.deps||EJ(Tr,Ge(r.touchedFields,de),r.isSubmitted,ot,Pe),fn=sD(de,c,Tr);ar(i,de,dn),Tr?(!ie||!ie.readOnly)&&(be._f.onBlur&&be._f.onBlur(W),d&&d(0)):be._f.onChange&&be._f.onChange(W);const vr=O(de,dn,Tr),Jn=!ta(vr)||fn;if(!Tr&&y.state.next({name:de,type:W.type,values:Cn(i)}),Cr)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Tr&&w():Tr||w()),Jn&&y.state.next({name:de,...fn?{}:vr});if(!Tr&&fn&&y.state.next({...r}),t.resolver){const{errors:Pr}=await R([de]);if(Ce(dn),Ae){const ql=oD(r.errors,n,de),xt=oD(Pr,n,ql.name||de);yt=xt.error,de=xt.name,gr=ta(Pr)}}else _([de],!0),yt=(await cD(be,c.disabled,i,g,t.shouldUseNativeValidation))[de],_([de]),Ce(dn),Ae&&(yt?gr=!1:(m.isValid||p.isValid)&&(gr=await P(n,!0)));Ae&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&q(be._f.deps),T(de,gr,yt,vr))}},I=(W,ie)=>{if(Ge(r.errors,ie)&&W.focus)return W.focus(),1},q=async(W,ie={})=>{let de,Ae;const be=Eh(W);if(t.resolver){const Ce=await A(Wr(W)?W:be);de=ta(Ce),Ae=W?!be.some(Pe=>Ge(Ce,Pe)):de}else W?(Ae=(await Promise.all(be.map(async Ce=>{const Pe=Ge(n,Ce);return await P(Pe&&Pe._f?{[Ce]:Pe}:Pe)}))).every(Boolean),!(!Ae&&!r.isValid)&&w()):Ae=de=await P(n);return y.state.next({...!Va(W)||(m.isValid||p.isValid)&&de!==r.isValid?{}:{name:W},...t.resolver||!W?{isValid:de}:{},errors:r.errors}),ie.shouldFocus&&!Ae&&Nh(n,I,W?be:c.mount),Ae},ue=(W,ie)=>{let de={...o.mount?i:a};return ie&&(de=cF(ie.dirtyFields?r.dirtyFields:r.touchedFields,de)),Wr(W)?de:Va(W)?Ge(de,W):W.map(Ae=>Ge(de,Ae))},B=(W,ie)=>({invalid:!!Ge((ie||r).errors,W),isDirty:!!Ge((ie||r).dirtyFields,W),error:Ge((ie||r).errors,W),isValidating:!!Ge(r.validatingFields,W),isTouched:!!Ge((ie||r).touchedFields,W)}),Q=W=>{W&&Eh(W).forEach(ie=>an(r.errors,ie)),y.state.next({errors:W?r.errors:{}})},V=(W,ie,de)=>{const Ae=(Ge(n,W,{_f:{}})._f||{}).ref,be=Ge(r.errors,W)||{},{ref:Ce,message:Pe,type:ot,...yt}=be;ar(r.errors,W,{...yt,...ie,ref:Ae}),y.state.next({name:W,errors:r.errors,isValid:!1}),de&&de.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},ae=(W,ie)=>qi(W)?y.state.subscribe({next:de=>"values"in de&&W($(void 0,ie),de)}):$(W,ie,!0),Z=W=>y.state.subscribe({next:ie=>{CJ(W.name,ie.name,W.exact)&&SJ(ie,W.formState||m,Rt,W.reRenderRoot)&&W.callback({values:{...i},...r,...ie,defaultValues:a})}}).unsubscribe,ne=W=>(o.mount=!0,p={...p,...W.formState},Z({...W,formState:p})),ee=(W,ie={})=>{for(const de of W?Eh(W):c.mount)c.mount.delete(de),c.array.delete(de),ie.keepValue||(an(n,de),an(i,de)),!ie.keepError&&an(r.errors,de),!ie.keepDirty&&an(r.dirtyFields,de),!ie.keepTouched&&an(r.touchedFields,de),!ie.keepIsValidating&&an(r.validatingFields,de),!t.shouldUnregister&&!ie.keepDefaultValue&&an(a,de);y.state.next({values:Cn(i)}),y.state.next({...r,...ie.keepDirty?{isDirty:M()}:{}}),!ie.keepIsValid&&w()},pe=({disabled:W,name:ie})=>{(hs(W)&&o.mount||W||c.disabled.has(ie))&&(W?c.disabled.add(ie):c.disabled.delete(ie))},G=(W,ie={})=>{let de=Ge(n,W);const Ae=hs(ie.disabled)||hs(t.disabled);return ar(n,W,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:W}},name:W,mount:!0,...ie}}),c.mount.add(W),de?pe({disabled:hs(ie.disabled)?ie.disabled:t.disabled,name:W}):k(W,!0,ie.value),{...Ae?{disabled:ie.disabled||t.disabled}:{},...t.progressive?{required:!!ie.required,min:nh(ie.min),max:nh(ie.max),minLength:nh(ie.minLength),maxLength:nh(ie.maxLength),pattern:nh(ie.pattern)}:{},name:W,onChange:H,onBlur:H,ref:be=>{if(be){G(W,ie),de=Ge(n,W);const Ce=Wr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Pe=vJ(Ce),ot=de._f.refs||[];if(Pe?ot.find(yt=>yt===Ce):Ce===de._f.ref)return;ar(n,W,{_f:{...de._f,...Pe?{refs:[...ot.filter(g_),Ce,...Array.isArray(Ge(a,W))?[{}]:[]],ref:{type:Ce.type,name:W}}:{ref:Ce}}}),k(W,!1,void 0,Ce)}else de=Ge(n,W,{}),de._f&&(de._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(dJ(c.array,W)&&o.action)&&c.unMount.add(W)}}},ge=()=>t.shouldFocusError&&Nh(n,I,c.mount),ye=W=>{hs(W)&&(y.state.next({disabled:W}),Nh(n,(ie,de)=>{const Ae=Ge(n,de);Ae&&(ie.disabled=Ae._f.disabled||W,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(be=>{be.disabled=Ae._f.disabled||W}))},0,!1))},le=(W,ie)=>async de=>{let Ae;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let be=Cn(i);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Pe}=await R();r.errors=Ce,be=Cn(Pe)}else await P(n);if(c.disabled.size)for(const Ce of c.disabled)an(be,Ce);if(an(r.errors,"root"),ta(r.errors)){y.state.next({errors:{}});try{await W(be,de)}catch(Ce){Ae=Ce}}else ie&&await ie({...r.errors},de),ge(),setTimeout(ge);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ta(r.errors)&&!Ae,submitCount:r.submitCount+1,errors:r.errors}),Ae)throw Ae},Ue=(W,ie={})=>{Ge(n,W)&&(Wr(ie.defaultValue)?F(W,Cn(Ge(a,W))):(F(W,ie.defaultValue),ar(a,W,Cn(ie.defaultValue))),ie.keepTouched||an(r.touchedFields,W),ie.keepDirty||(an(r.dirtyFields,W),r.isDirty=ie.defaultValue?M(W,Cn(Ge(a,W))):M()),ie.keepError||(an(r.errors,W),m.isValid&&w()),y.state.next({...r}))},Le=(W,ie={})=>{const de=W?Cn(W):a,Ae=Cn(de),be=ta(W),Ce=be?a:Ae;if(ie.keepDefaultValues||(a=de),!ie.keepValues){if(ie.keepDirtyValues){const Pe=new Set([...c.mount,...Object.keys(ld(a,i))]);for(const ot of Array.from(Pe))Ge(r.dirtyFields,ot)?ar(Ce,ot,Ge(i,ot)):F(ot,Ge(Ce,ot))}else{if(eE&&Wr(W))for(const Pe of c.mount){const ot=Ge(n,Pe);if(ot&&ot._f){const yt=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Dv(yt)){const gr=yt.closest("form");if(gr){gr.reset();break}}}}if(ie.keepFieldsRef)for(const Pe of c.mount)F(Pe,Ge(Ce,Pe));else n={}}i=t.shouldUnregister?ie.keepDefaultValues?Cn(a):{}:Cn(Ce),y.array.next({values:{...Ce}}),y.state.next({values:{...Ce}})}c={mount:ie.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues||!t.shouldUnregister&&!ta(Ce),o.watch=!!t.shouldUnregister,y.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:be?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!vl(W,a)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:ie.keepDirtyValues?ie.keepDefaultValues&&i?ld(a,i):r.dirtyFields:ie.keepDefaultValues&&W?ld(a,W):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Qe=(W,ie)=>Le(qi(W)?W(i):W,ie),Be=(W,ie={})=>{const de=Ge(n,W),Ae=de&&de._f;if(Ae){const be=Ae.refs?Ae.refs[0]:Ae.ref;be.focus&&(be.focus(),ie.shouldSelect&&qi(be.select)&&be.select())}},Rt=W=>{r={...r,...W}},St={control:{register:G,unregister:ee,getFieldState:B,handleSubmit:le,setError:V,_subscribe:Z,_runSchema:R,_focusError:ge,_getWatch:$,_getDirty:M,_setValid:w,_setFieldArray:j,_setDisabledField:pe,_setErrors:N,_getFieldArray:U,_reset:Le,_resetDefaultValues:()=>qi(t.defaultValues)&&t.defaultValues().then(W=>{Qe(W,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:ye,_subjects:y,_proxyFormState:m,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(W){o=W},get _defaultValues(){return a},get _names(){return c},set _names(W){c=W},get _formState(){return r},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:ne,trigger:q,register:G,handleSubmit:le,watch:ae,setValue:F,getValues:ue,reset:Qe,resetField:Ue,clearErrors:Q,unregister:ee,setError:V,setFocus:Be,getFieldState:B};return{...St,formControl:St}}function Ao(e={}){const t=re.useRef(void 0),r=re.useRef(void 0),[n,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:qi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:qi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!qi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=AJ(e);t.current={...c,formState:n}}const i=t.current.control;return i._options=e,pJ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),re.useEffect(()=>{e.values&&!vl(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=mJ(n,i),t.current}const uD=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ge(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},t1=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?uD(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>uD(a,r,e))}},dD=(e,t)=>{t.shouldUseNativeValidation&&t1(e,t);const r={};for(const n in e){const a=Ge(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(RJ(t.names||Object.keys(e),n)){const o=Object.assign({},Ge(r,n));ar(o,"root",i),ar(r,n,o)}else ar(r,n,i)}return r},RJ=(e,t)=>{const r=fD(t);return e.some(n=>fD(n).match(`^${r}\\.\\d+`))};function fD(e){return e.replace(/\]|\[/g,"")}const hD=Object.freeze({status:"aborted"});function je(e,t,r){function n(c,d){var f;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(f=c._zod).traits??(f.traits=new Set),c._zod.traits.add(e),t(c,d);for(const m in o.prototype)m in c||Object.defineProperty(c,m,{value:o.prototype[m].bind(c)});c._zod.constr=o,c._zod.def=d}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(c){var d;const f=r?.Parent?new i:this;n(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class pd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class pF extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const gF={};function Dc(e){return gF}function TJ(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function r1(e,t){return typeof t=="bigint"?t.toString():t}function sE(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function oE(e){return e==null}function lE(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function PJ(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const i=r>a?r:a,o=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return o%c/10**i}const mD=Symbol("evaluating");function ur(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==mD)return n===void 0&&(n=mD,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function eu(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function tu(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function pD(e){return JSON.stringify(e)}const vF="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Iv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const DJ=sE(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function zh(e){if(Iv(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Iv(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function yF(e){return zh(e)?{...e}:Array.isArray(e)?[...e]:e}const MJ=new Set(["string","number","symbol"]);function Sd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Dl(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function at(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function IJ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const $J={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function LJ(e,t){const r=e._zod.def,n=tu(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=r.shape[i])}return eu(this,"shape",a),a},checks:[]});return Dl(e,n)}function zJ(e,t){const r=e._zod.def,n=tu(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return eu(this,"shape",a),a},checks:[]});return Dl(e,n)}function FJ(e,t){if(!zh(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=tu(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return eu(this,"shape",i),i},checks:[]});return Dl(e,a)}function UJ(e,t){if(!zh(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return eu(this,"shape",n),n},checks:e._zod.def.checks};return Dl(e,r)}function BJ(e,t){const r=tu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return eu(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Dl(e,r)}function qJ(e,t,r){const n=tu(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)i[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return eu(this,"shape",i),i},checks:[]});return Dl(t,n)}function VJ(e,t,r){const n=tu(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return eu(this,"shape",i),i},checks:[]});return Dl(t,n)}function ud(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function xF(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Tg(e){return typeof e=="string"?e:e?.message}function Mc(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=Tg(e.inst?._zod.def?.error?.(e))??Tg(t?.error?.(e))??Tg(r.customError?.(e))??Tg(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function cE(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Fh(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const bF=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,r1,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},uE=je("$ZodError",bF),ux=je("$ZodError",bF,{Parent:Error});function HJ(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function WJ(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>n({issues:o}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let o=r,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return n(e),r}const dx=e=>(t,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new pd;if(o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>Mc(d,i,Dc())));throw vF(c,a?.callee),c}return o.value},KJ=dx(ux),fx=e=>async(t,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>Mc(d,i,Dc())));throw vF(c,a?.callee),c}return o.value},GJ=fx(ux),hx=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new pd;return i.issues.length?{success:!1,error:new(e??uE)(i.issues.map(o=>Mc(o,a,Dc())))}:{success:!0,data:i.value}},YJ=hx(ux),mx=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Mc(o,a,Dc())))}:{success:!0,data:i.value}},ZJ=mx(ux),XJ=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return dx(e)(t,r,a)},QJ=e=>(t,r,n)=>dx(e)(t,r,n),JJ=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return fx(e)(t,r,a)},eee=e=>async(t,r,n)=>fx(e)(t,r,n),tee=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return hx(e)(t,r,a)},ree=e=>(t,r,n)=>hx(e)(t,r,n),nee=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return mx(e)(t,r,a)},aee=e=>async(t,r,n)=>mx(e)(t,r,n),iee=/^[cC][^\s-]{8,}$/,see=/^[0-9a-z]+$/,oee=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,lee=/^[0-9a-vA-V]{20}$/,cee=/^[A-Za-z0-9]{27}$/,uee=/^[a-zA-Z0-9_-]{21}$/,dee=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,fee=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,gD=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,hee=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,mee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function pee(){return new RegExp(mee,"u")}const gee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,vee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,yee=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,xee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bee=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wF=/^[A-Za-z0-9_-]*$/,wee=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,_ee=/^\+(?:[0-9]){6,14}[0-9]$/,_F="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jee=new RegExp(`^${_F}$`);function jF(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function See(e){return new RegExp(`^${jF(e)}$`)}function Cee(e){const t=jF({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${_F}T(?:${n})$`)}const Eee=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Nee=/^-?\d+$/,kee=/^-?\d+(?:\.\d+)?/,Oee=/^(?:true|false)$/i,Aee=/^[^A-Z]*$/,Ree=/^[^a-z]*$/,Aa=je("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),SF={number:"number",bigint:"bigint",object:"date"},CF=je("$ZodCheckLessThan",(e,t)=>{Aa.init(e,t);const r=SF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),EF=je("$ZodCheckGreaterThan",(e,t)=>{Aa.init(e,t);const r=SF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Tee=je("$ZodCheckMultipleOf",(e,t)=>{Aa.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):PJ(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Pee=je("$ZodCheckNumberFormat",(e,t)=>{Aa.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,i]=$J[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=a,c.maximum=i,r&&(c.pattern=Nee)}),e._zod.check=o=>{const c=o.value;if(r){if(!Number.isInteger(c)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<a&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),Dee=je("$ZodCheckMaxLength",(e,t)=>{var r;Aa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!oE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const o=cE(a);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Mee=je("$ZodCheckMinLength",(e,t)=>{var r;Aa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!oE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const o=cE(a);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Iee=je("$ZodCheckLengthEquals",(e,t)=>{var r;Aa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!oE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,i=a.length;if(i===t.length)return;const o=cE(a),c=i>t.length;n.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),px=je("$ZodCheckStringFormat",(e,t)=>{var r,n;Aa.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),$ee=je("$ZodCheckRegex",(e,t)=>{px.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Lee=je("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Aee),px.init(e,t)}),zee=je("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Ree),px.init(e,t)}),Fee=je("$ZodCheckIncludes",(e,t)=>{Aa.init(e,t);const r=Sd(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Uee=je("$ZodCheckStartsWith",(e,t)=>{Aa.init(e,t);const r=new RegExp(`^${Sd(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Bee=je("$ZodCheckEndsWith",(e,t)=>{Aa.init(e,t);const r=new RegExp(`.*${Sd(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),qee=je("$ZodCheckOverwrite",(e,t)=>{Aa.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Vee{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),a=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const Hee={major:4,minor:1,patch:12},zr=je("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Hee;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const i of a._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,c,d)=>{let f=ud(o),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(f)continue;const y=o.issues.length,g=p._zod.check(o);if(g instanceof Promise&&d?.async===!1)throw new pd;if(m||g instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await g,o.issues.length!==y&&(f||(f=ud(o,y)))});else{if(o.issues.length===y)continue;f||(f=ud(o,y))}}return m?m.then(()=>o):o},i=(o,c,d)=>{if(ud(o))return o.aborted=!0,o;const f=a(c,n,d);if(f instanceof Promise){if(d.async===!1)throw new pd;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(m=>i(m,o,c)):i(f,o,c)}const d=e._zod.parse(o,c);if(d instanceof Promise){if(c.async===!1)throw new pd;return d.then(f=>a(f,n,c))}return a(d,n,c)}}e["~standard"]={validate:a=>{try{const i=YJ(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return ZJ(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),dE=je("$ZodString",(e,t)=>{zr.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Eee(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Sr=je("$ZodStringFormat",(e,t)=>{px.init(e,t),dE.init(e,t)}),Wee=je("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=fee),Sr.init(e,t)}),Kee=je("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=gD(n))}else t.pattern??(t.pattern=gD());Sr.init(e,t)}),Gee=je("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=hee),Sr.init(e,t)}),Yee=je("$ZodURL",(e,t)=>{Sr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:wee.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Zee=je("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=pee()),Sr.init(e,t)}),Xee=je("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=uee),Sr.init(e,t)}),Qee=je("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=iee),Sr.init(e,t)}),Jee=je("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=see),Sr.init(e,t)}),ete=je("$ZodULID",(e,t)=>{t.pattern??(t.pattern=oee),Sr.init(e,t)}),tte=je("$ZodXID",(e,t)=>{t.pattern??(t.pattern=lee),Sr.init(e,t)}),rte=je("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=cee),Sr.init(e,t)}),nte=je("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Cee(t)),Sr.init(e,t)}),ate=je("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=jee),Sr.init(e,t)}),ite=je("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=See(t)),Sr.init(e,t)}),ste=je("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=dee),Sr.init(e,t)}),ote=je("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=gee),Sr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),lte=je("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=vee),Sr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),cte=je("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=yee),Sr.init(e,t)}),ute=je("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=xee),Sr.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,i]=n;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function NF(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const dte=je("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=bee),Sr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{NF(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function fte(e){if(!wF.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return NF(r)}const hte=je("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wF),Sr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{fte(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),mte=je("$ZodE164",(e,t)=>{t.pattern??(t.pattern=_ee),Sr.init(e,t)});function pte(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const gte=je("$ZodJWT",(e,t)=>{Sr.init(e,t),e._zod.check=r=>{pte(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),kF=je("$ZodNumber",(e,t)=>{zr.init(e,t),e._zod.pattern=e._zod.bag.pattern??kee,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),vte=je("$ZodNumber",(e,t)=>{Pee.init(e,t),kF.init(e,t)}),yte=je("$ZodBoolean",(e,t)=>{zr.init(e,t),e._zod.pattern=Oee,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),xte=je("$ZodUnknown",(e,t)=>{zr.init(e,t),e._zod.parse=r=>r}),bte=je("$ZodNever",(e,t)=>{zr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function vD(e,t,r){e.issues.length&&t.issues.push(...xF(r,e.issues)),t.value[r]=e.value}const wte=je("$ZodArray",(e,t)=>{zr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const c=a[o],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?i.push(d.then(f=>vD(f,r,o))):vD(d,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function $v(e,t,r,n){e.issues.length&&t.issues.push(...xF(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function OF(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=IJ(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function AF(e,t,r,n,a,i){const o=[],c=a.keySet,d=a.catchall._zod,f=d.def.type;for(const m of Object.keys(t)){if(c.has(m))continue;if(f==="never"){o.push(m);continue}const p=d.run({value:t[m],issues:[]},n);p instanceof Promise?e.push(p.then(y=>$v(y,r,m,t))):$v(p,r,m,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const _te=je("$ZodObject",(e,t)=>{if(zr.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...c};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=sE(()=>OF(t));ur(e._zod,"propValues",()=>{const c=t.shape,d={};for(const f in c){const m=c[f]._zod;if(m.values){d[f]??(d[f]=new Set);for(const p of m.values)d[f].add(p)}}return d});const a=Iv,i=t.catchall;let o;e._zod.parse=(c,d)=>{o??(o=n.value);const f=c.value;if(!a(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const m=[],p=o.shape;for(const y of o.keys){const b=p[y]._zod.run({value:f[y],issues:[]},d);b instanceof Promise?m.push(b.then(w=>$v(w,c,y,f))):$v(b,c,y,f)}return i?AF(m,f,c,d,n.value,e):m.length?Promise.all(m).then(()=>c):c}}),jte=je("$ZodObjectJIT",(e,t)=>{_te.init(e,t);const r=e._zod.parse,n=sE(()=>OF(t)),a=y=>{const g=new Vee(["shape","payload","ctx"]),b=n.value,w=N=>{const k=pD(N);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};g.write("const input = payload.value;");const _=Object.create(null);let j=0;for(const N of b.keys)_[N]=`key_${j++}`;g.write("const newResult = {};");for(const N of b.keys){const k=_[N],O=pD(N);g.write(`const ${k} = ${w(N)};`),g.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${O}, ...iss.path] : [${O}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${O} in input) {
            newResult[${O}] = undefined;
          }
        } else {
          newResult[${O}] = ${k}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const E=g.compile();return(N,k)=>E(y,N,k)};let i;const o=Iv,c=!gF.jitless,f=c&&DJ.value,m=t.catchall;let p;e._zod.parse=(y,g)=>{p??(p=n.value);const b=y.value;return o(b)?c&&f&&g?.async===!1&&g.jitless!==!0?(i||(i=a(t.shape)),y=i(y,g),m?AF([],b,y,g,p,e):y):r(y,g):(y.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),y)}});function yD(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const a=e.filter(i=>!ud(i));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>Mc(o,n,Dc())))}),t)}const Ste=je("$ZodUnion",(e,t)=>{zr.init(e,t),ur(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ur(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ur(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),ur(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>lE(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,i)=>{if(r)return n(a,i);let o=!1;const c=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},i);if(f instanceof Promise)c.push(f),o=!0;else{if(f.issues.length===0)return f;c.push(f)}}return o?Promise.all(c).then(d=>yD(d,a,e,i)):yD(c,a,e,i)}}),Cte=je("$ZodIntersection",(e,t)=>{zr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},n),o=t.right._zod.run({value:a,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([d,f])=>xD(r,d,f)):xD(r,i,o)}});function n1(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(zh(e)&&zh(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of n){const o=n1(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n],o=n1(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function xD(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),ud(e))return e;const n=n1(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Ete=je("$ZodEnum",(e,t)=>{zr.init(e,t);const r=TJ(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>MJ.has(typeof a)).map(a=>typeof a=="string"?Sd(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return n.has(o)||a.issues.push({code:"invalid_value",values:r,input:o,inst:e}),a}}),Nte=je("$ZodLiteral",(e,t)=>{if(zr.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Sd(r):r?Sd(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),kte=je("$ZodTransform",(e,t)=>{zr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new pF(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(r.value=o,r));if(a instanceof Promise)throw new pd;return r.value=a,r}});function bD(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Ote=je("$ZodOptional",(e,t)=>{zr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ur(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ur(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${lE(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>bD(i,r.value)):bD(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Ate=je("$ZodNullable",(e,t)=>{zr.init(e,t),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),ur(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${lE(r.source)}|null)$`):void 0}),ur(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Rte=je("$ZodDefault",(e,t)=>{zr.init(e,t),e._zod.optin="optional",ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>wD(i,t)):wD(a,t)}});function wD(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Tte=je("$ZodPrefault",(e,t)=>{zr.init(e,t),e._zod.optin="optional",ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Pte=je("$ZodNonOptional",(e,t)=>{zr.init(e,t),ur(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>_D(i,e)):_D(a,e)}});function _D(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Dte=je("$ZodCatch",(e,t)=>{zr.init(e,t),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Mc(o,n,Dc()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>Mc(i,n,Dc()))},input:r.value}),r.issues=[]),r)}}),Mte=je("$ZodPipe",(e,t)=>{zr.init(e,t),ur(e._zod,"values",()=>t.in._zod.values),ur(e._zod,"optin",()=>t.in._zod.optin),ur(e._zod,"optout",()=>t.out._zod.optout),ur(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>Pg(o,t.in,n)):Pg(i,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(i=>Pg(i,t.out,n)):Pg(a,t.out,n)}});function Pg(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const Ite=je("$ZodReadonly",(e,t)=>{zr.init(e,t),ur(e._zod,"propValues",()=>t.innerType._zod.propValues),ur(e._zod,"values",()=>t.innerType._zod.values),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(jD):jD(a)}});function jD(e){return e.value=Object.freeze(e.value),e}const $te=je("$ZodCustom",(e,t)=>{Aa.init(e,t),zr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(i=>SD(i,r,n,e));SD(a,r,n,e)}});function SD(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(Fh(a))}}class Lte{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function zte(){return new Lte}const Dg=zte();function Fte(e,t){return new e({type:"string",...at(t)})}function Ute(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...at(t)})}function CD(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...at(t)})}function Bte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...at(t)})}function qte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...at(t)})}function Vte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...at(t)})}function Hte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...at(t)})}function Wte(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...at(t)})}function Kte(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...at(t)})}function Gte(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...at(t)})}function Yte(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...at(t)})}function Zte(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...at(t)})}function Xte(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...at(t)})}function Qte(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...at(t)})}function Jte(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...at(t)})}function ere(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...at(t)})}function tre(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...at(t)})}function rre(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...at(t)})}function nre(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...at(t)})}function are(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...at(t)})}function ire(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...at(t)})}function sre(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...at(t)})}function ore(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...at(t)})}function lre(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...at(t)})}function cre(e,t){return new e({type:"string",format:"date",check:"string_format",...at(t)})}function ure(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...at(t)})}function dre(e,t){return new e({type:"string",format:"duration",check:"string_format",...at(t)})}function fre(e,t){return new e({type:"number",coerce:!0,checks:[],...at(t)})}function hre(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...at(t)})}function mre(e,t){return new e({type:"boolean",...at(t)})}function pre(e){return new e({type:"unknown"})}function gre(e,t){return new e({type:"never",...at(t)})}function ED(e,t){return new CF({check:"less_than",...at(t),value:e,inclusive:!1})}function v_(e,t){return new CF({check:"less_than",...at(t),value:e,inclusive:!0})}function ND(e,t){return new EF({check:"greater_than",...at(t),value:e,inclusive:!1})}function y_(e,t){return new EF({check:"greater_than",...at(t),value:e,inclusive:!0})}function kD(e,t){return new Tee({check:"multiple_of",...at(t),value:e})}function RF(e,t){return new Dee({check:"max_length",...at(t),maximum:e})}function Lv(e,t){return new Mee({check:"min_length",...at(t),minimum:e})}function TF(e,t){return new Iee({check:"length_equals",...at(t),length:e})}function vre(e,t){return new $ee({check:"string_format",format:"regex",...at(t),pattern:e})}function yre(e){return new Lee({check:"string_format",format:"lowercase",...at(e)})}function xre(e){return new zee({check:"string_format",format:"uppercase",...at(e)})}function bre(e,t){return new Fee({check:"string_format",format:"includes",...at(t),includes:e})}function wre(e,t){return new Uee({check:"string_format",format:"starts_with",...at(t),prefix:e})}function _re(e,t){return new Bee({check:"string_format",format:"ends_with",...at(t),suffix:e})}function _m(e){return new qee({check:"overwrite",tx:e})}function jre(e){return _m(t=>t.normalize(e))}function Sre(){return _m(e=>e.trim())}function Cre(){return _m(e=>e.toLowerCase())}function Ere(){return _m(e=>e.toUpperCase())}function Nre(e,t,r){return new e({type:"array",element:t,...at(r)})}function kre(e,t,r){return new e({type:"custom",check:"custom",fn:t,...at(r)})}function Ore(e){const t=Are(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(Fh(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(Fh(a))}},e(r.value,r)));return t}function Are(e,t){const r=new Aa({check:"custom",...at(t)});return r._zod.check=e,r}function OD(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Rre(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,f=d&&d[n.code];r[o]=nE(o,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function Tre(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(m){return m.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,f=d&&d[n.code];r[o]=nE(o,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function Ro(e,t,r){if(r===void 0&&(r={}),(function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def})(e))return function(n,a,i){try{return Promise.resolve(OD(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&t1({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:dD(Rre(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if((function(n){return"_zod"in n&&typeof n._zod=="object"})(e))return function(n,a,i){try{return Promise.resolve(OD(function(){return Promise.resolve((r.mode==="sync"?KJ:GJ)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&t1({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(c){return c instanceof uE})(o))return{values:{},errors:dD(Tre(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const Pre=je("ZodISODateTime",(e,t)=>{nte.init(e,t),Rr.init(e,t)});function Dre(e){return lre(Pre,e)}const Mre=je("ZodISODate",(e,t)=>{ate.init(e,t),Rr.init(e,t)});function Ire(e){return cre(Mre,e)}const $re=je("ZodISOTime",(e,t)=>{ite.init(e,t),Rr.init(e,t)});function Lre(e){return ure($re,e)}const zre=je("ZodISODuration",(e,t)=>{ste.init(e,t),Rr.init(e,t)});function Fre(e){return dre(zre,e)}const Ure=(e,t)=>{uE.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>WJ(e,r)},flatten:{value:r=>HJ(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,r1,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,r1,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ri=je("ZodError",Ure,{Parent:Error}),Bre=dx(Ri),qre=fx(Ri),Vre=hx(Ri),Hre=mx(Ri),Wre=XJ(Ri),Kre=QJ(Ri),Gre=JJ(Ri),Yre=eee(Ri),Zre=tee(Ri),Xre=ree(Ri),Qre=nee(Ri),Jre=aee(Ri),Zr=je("ZodType",(e,t)=>(zr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(tu(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Dl(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Bre(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Vre(e,r,n),e.parseAsync=async(r,n)=>qre(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Hre(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Wre(e,r,n),e.decode=(r,n)=>Kre(e,r,n),e.encodeAsync=async(r,n)=>Gre(e,r,n),e.decodeAsync=async(r,n)=>Yre(e,r,n),e.safeEncode=(r,n)=>Zre(e,r,n),e.safeDecode=(r,n)=>Xre(e,r,n),e.safeEncodeAsync=async(r,n)=>Qre(e,r,n),e.safeDecodeAsync=async(r,n)=>Jre(e,r,n),e.refine=(r,n)=>e.check(Hne(r,n)),e.superRefine=r=>e.check(Wne(r)),e.overwrite=r=>e.check(_m(r)),e.optional=()=>PD(e),e.nullable=()=>DD(e),e.nullish=()=>PD(DD(e)),e.nonoptional=r=>Lne(e,r),e.array=()=>MF(e),e.or=r=>Nne([e,r]),e.and=r=>One(e,r),e.transform=r=>MD(e,Tne(r)),e.default=r=>Mne(e,r),e.prefault=r=>$ne(e,r),e.catch=r=>Fne(e,r),e.pipe=r=>MD(e,r),e.readonly=()=>qne(e),e.describe=r=>{const n=e.clone();return Dg.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Dg.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Dg.get(e);const n=e.clone();return Dg.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),PF=je("_ZodString",(e,t)=>{dE.init(e,t),Zr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(vre(...n)),e.includes=(...n)=>e.check(bre(...n)),e.startsWith=(...n)=>e.check(wre(...n)),e.endsWith=(...n)=>e.check(_re(...n)),e.min=(...n)=>e.check(Lv(...n)),e.max=(...n)=>e.check(RF(...n)),e.length=(...n)=>e.check(TF(...n)),e.nonempty=(...n)=>e.check(Lv(1,...n)),e.lowercase=n=>e.check(yre(n)),e.uppercase=n=>e.check(xre(n)),e.trim=()=>e.check(Sre()),e.normalize=(...n)=>e.check(jre(...n)),e.toLowerCase=()=>e.check(Cre()),e.toUpperCase=()=>e.check(Ere())}),ene=je("ZodString",(e,t)=>{dE.init(e,t),PF.init(e,t),e.email=r=>e.check(Ute(tne,r)),e.url=r=>e.check(Wte(rne,r)),e.jwt=r=>e.check(ore(vne,r)),e.emoji=r=>e.check(Kte(nne,r)),e.guid=r=>e.check(CD(AD,r)),e.uuid=r=>e.check(Bte(Mg,r)),e.uuidv4=r=>e.check(qte(Mg,r)),e.uuidv6=r=>e.check(Vte(Mg,r)),e.uuidv7=r=>e.check(Hte(Mg,r)),e.nanoid=r=>e.check(Gte(ane,r)),e.guid=r=>e.check(CD(AD,r)),e.cuid=r=>e.check(Yte(ine,r)),e.cuid2=r=>e.check(Zte(sne,r)),e.ulid=r=>e.check(Xte(one,r)),e.base64=r=>e.check(are(mne,r)),e.base64url=r=>e.check(ire(pne,r)),e.xid=r=>e.check(Qte(lne,r)),e.ksuid=r=>e.check(Jte(cne,r)),e.ipv4=r=>e.check(ere(une,r)),e.ipv6=r=>e.check(tre(dne,r)),e.cidrv4=r=>e.check(rre(fne,r)),e.cidrv6=r=>e.check(nre(hne,r)),e.e164=r=>e.check(sre(gne,r)),e.datetime=r=>e.check(Dre(r)),e.date=r=>e.check(Ire(r)),e.time=r=>e.check(Lre(r)),e.duration=r=>e.check(Fre(r))});function Tt(e){return Fte(ene,e)}const Rr=je("ZodStringFormat",(e,t)=>{Sr.init(e,t),PF.init(e,t)}),tne=je("ZodEmail",(e,t)=>{Gee.init(e,t),Rr.init(e,t)}),AD=je("ZodGUID",(e,t)=>{Wee.init(e,t),Rr.init(e,t)}),Mg=je("ZodUUID",(e,t)=>{Kee.init(e,t),Rr.init(e,t)}),rne=je("ZodURL",(e,t)=>{Yee.init(e,t),Rr.init(e,t)}),nne=je("ZodEmoji",(e,t)=>{Zee.init(e,t),Rr.init(e,t)}),ane=je("ZodNanoID",(e,t)=>{Xee.init(e,t),Rr.init(e,t)}),ine=je("ZodCUID",(e,t)=>{Qee.init(e,t),Rr.init(e,t)}),sne=je("ZodCUID2",(e,t)=>{Jee.init(e,t),Rr.init(e,t)}),one=je("ZodULID",(e,t)=>{ete.init(e,t),Rr.init(e,t)}),lne=je("ZodXID",(e,t)=>{tte.init(e,t),Rr.init(e,t)}),cne=je("ZodKSUID",(e,t)=>{rte.init(e,t),Rr.init(e,t)}),une=je("ZodIPv4",(e,t)=>{ote.init(e,t),Rr.init(e,t)}),dne=je("ZodIPv6",(e,t)=>{lte.init(e,t),Rr.init(e,t)}),fne=je("ZodCIDRv4",(e,t)=>{cte.init(e,t),Rr.init(e,t)}),hne=je("ZodCIDRv6",(e,t)=>{ute.init(e,t),Rr.init(e,t)}),mne=je("ZodBase64",(e,t)=>{dte.init(e,t),Rr.init(e,t)}),pne=je("ZodBase64URL",(e,t)=>{hte.init(e,t),Rr.init(e,t)}),gne=je("ZodE164",(e,t)=>{mte.init(e,t),Rr.init(e,t)}),vne=je("ZodJWT",(e,t)=>{gte.init(e,t),Rr.init(e,t)}),DF=je("ZodNumber",(e,t)=>{kF.init(e,t),Zr.init(e,t),e.gt=(n,a)=>e.check(ND(n,a)),e.gte=(n,a)=>e.check(y_(n,a)),e.min=(n,a)=>e.check(y_(n,a)),e.lt=(n,a)=>e.check(ED(n,a)),e.lte=(n,a)=>e.check(v_(n,a)),e.max=(n,a)=>e.check(v_(n,a)),e.int=n=>e.check(RD(n)),e.safe=n=>e.check(RD(n)),e.positive=n=>e.check(ND(0,n)),e.nonnegative=n=>e.check(y_(0,n)),e.negative=n=>e.check(ED(0,n)),e.nonpositive=n=>e.check(v_(0,n)),e.multipleOf=(n,a)=>e.check(kD(n,a)),e.step=(n,a)=>e.check(kD(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null}),yne=je("ZodNumberFormat",(e,t)=>{vte.init(e,t),DF.init(e,t)});function RD(e){return hre(yne,e)}const xne=je("ZodBoolean",(e,t)=>{yte.init(e,t),Zr.init(e,t)});function bne(e){return mre(xne,e)}const wne=je("ZodUnknown",(e,t)=>{xte.init(e,t),Zr.init(e,t)});function TD(){return pre(wne)}const _ne=je("ZodNever",(e,t)=>{bte.init(e,t),Zr.init(e,t)});function jne(e){return gre(_ne,e)}const Sne=je("ZodArray",(e,t)=>{wte.init(e,t),Zr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Lv(r,n)),e.nonempty=r=>e.check(Lv(1,r)),e.max=(r,n)=>e.check(RF(r,n)),e.length=(r,n)=>e.check(TF(r,n)),e.unwrap=()=>e.element});function MF(e,t){return Nre(Sne,e,t)}const Cne=je("ZodObject",(e,t)=>{jte.init(e,t),Zr.init(e,t),ur(e,"shape",()=>t.shape),e.keyof=()=>Uh(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:TD()}),e.loose=()=>e.clone({...e._zod.def,catchall:TD()}),e.strict=()=>e.clone({...e._zod.def,catchall:jne()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>FJ(e,r),e.safeExtend=r=>UJ(e,r),e.merge=r=>BJ(e,r),e.pick=r=>LJ(e,r),e.omit=r=>zJ(e,r),e.partial=(...r)=>qJ(IF,e,r[0]),e.required=(...r)=>VJ($F,e,r[0])});function ru(e,t){const r={type:"object",shape:e??{},...at(t)};return new Cne(r)}const Ene=je("ZodUnion",(e,t)=>{Ste.init(e,t),Zr.init(e,t),e.options=t.options});function Nne(e,t){return new Ene({type:"union",options:e,...at(t)})}const kne=je("ZodIntersection",(e,t)=>{Cte.init(e,t),Zr.init(e,t)});function One(e,t){return new kne({type:"intersection",left:e,right:t})}const a1=je("ZodEnum",(e,t)=>{Ete.init(e,t),Zr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new a1({...t,checks:[],...at(a),entries:i})},e.exclude=(n,a)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new a1({...t,checks:[],...at(a),entries:i})}});function Uh(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new a1({type:"enum",entries:r,...at(t)})}const Ane=je("ZodLiteral",(e,t)=>{Nte.init(e,t),Zr.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function ps(e,t){return new Ane({type:"literal",values:Array.isArray(e)?e:[e],...at(t)})}const Rne=je("ZodTransform",(e,t)=>{kte.init(e,t),Zr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new pF(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(Fh(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(Fh(o))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function Tne(e){return new Rne({type:"transform",transform:e})}const IF=je("ZodOptional",(e,t)=>{Ote.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function PD(e){return new IF({type:"optional",innerType:e})}const Pne=je("ZodNullable",(e,t)=>{Ate.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function DD(e){return new Pne({type:"nullable",innerType:e})}const Dne=je("ZodDefault",(e,t)=>{Rte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Mne(e,t){return new Dne({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():yF(t)}})}const Ine=je("ZodPrefault",(e,t)=>{Tte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function $ne(e,t){return new Ine({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():yF(t)}})}const $F=je("ZodNonOptional",(e,t)=>{Pte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Lne(e,t){return new $F({type:"nonoptional",innerType:e,...at(t)})}const zne=je("ZodCatch",(e,t)=>{Dte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Fne(e,t){return new zne({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Une=je("ZodPipe",(e,t)=>{Mte.init(e,t),Zr.init(e,t),e.in=t.in,e.out=t.out});function MD(e,t){return new Une({type:"pipe",in:e,out:t})}const Bne=je("ZodReadonly",(e,t)=>{Ite.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function qne(e){return new Bne({type:"readonly",innerType:e})}const Vne=je("ZodCustom",(e,t)=>{$te.init(e,t),Zr.init(e,t)});function Hne(e,t={}){return kre(Vne,e,t)}function Wne(e){return Ore(e)}const ID={custom:"custom"};function gd(e){return fre(DF,e)}function $D(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function As(...e){return t=>{let r=!1;const n=e.map(a=>{const i=$D(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():$D(e[a],null)}}}}function jt(...e){return x.useCallback(As(...e),e)}var Kne=Symbol.for("react.lazy"),zv=ax[" use ".trim().toString()];function Gne(e){return typeof e=="object"&&e!==null&&"then"in e}function LF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Kne&&"_payload"in e&&Gne(e._payload)}function jm(e){const t=Zne(e),r=x.forwardRef((n,a)=>{let{children:i,...o}=n;LF(i)&&typeof zv=="function"&&(i=zv(i._payload));const c=x.Children.toArray(i),d=c.find(Qne);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Yne=jm("Slot");function Zne(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if(LF(a)&&typeof zv=="function"&&(a=zv(a._payload)),x.isValidElement(a)){const o=eae(a),c=Jne(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Xne=Symbol("radix.slottable");function Qne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Xne}function Jne(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function eae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=zF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=zF(e))&&(n&&(n+=" "),n+=t);return n}const LD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,zD=Kt,gx=(e,t)=>r=>{var n;if(t?.variants==null)return zD(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(f=>{const m=r?.[f],p=i?.[f];if(m===null)return null;const y=LD(m)||LD(p);return a[f][y]}),c=r&&Object.entries(r).reduce((f,m)=>{let[p,y]=m;return y===void 0||(f[p]=y),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:p,className:y,...g}=m;return Object.entries(g).every(b=>{let[w,_]=b;return Array.isArray(_)?_.includes({...i,...c}[w]):{...i,...c}[w]===_})?[...f,p,y]:f},[]);return zD(e,o,d,r?.class,r?.className)},tae=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},rae=(e,t)=>({classGroupId:e,validator:t}),FF=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Fv="-",FD=[],nae="arbitrary..",aae=e=>{const t=sae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return iae(o);const c=o.split(Fv),d=c[0]===""&&c.length>1?1:0;return UF(c,d,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],f=r[o];return d?f?tae(f,d):d:f||FD}return r[o]||FD}}},UF=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const f=UF(e,t+1,i);if(f)return f}const o=r.validators;if(o===null)return;const c=t===0?e.join(Fv):e.slice(t).join(Fv),d=o.length;for(let f=0;f<d;f++){const m=o[f];if(m.validator(c))return m.classGroupId}},iae=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?nae+n:void 0})(),sae=e=>{const{theme:t,classGroups:r}=e;return oae(r,t)},oae=(e,t)=>{const r=FF();for(const n in e){const a=e[n];fE(a,r,n,t)}return r},fE=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];lae(o,t,r,n)}},lae=(e,t,r,n)=>{if(typeof e=="string"){cae(e,t,r);return}if(typeof e=="function"){uae(e,t,r,n);return}dae(e,t,r,n)},cae=(e,t,r)=>{const n=e===""?t:BF(t,e);n.classGroupId=r},uae=(e,t,r,n)=>{if(fae(e)){fE(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(rae(r,e))},dae=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[c,d]=a[o];fE(d,BF(t,c),r,n)}},BF=(e,t)=>{let r=e;const n=t.split(Fv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let c=r.nextPart.get(o);c||(c=FF(),r.nextPart.set(o,c)),r=c}return r},fae=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,hae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},i1="!",UD=":",mae=[],BD=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),pae=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,c=0,d=0,f;const m=a.length;for(let w=0;w<m;w++){const _=a[w];if(o===0&&c===0){if(_===UD){i.push(a.slice(d,w)),d=w+1;continue}if(_==="/"){f=w;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const p=i.length===0?a:a.slice(d);let y=p,g=!1;p.endsWith(i1)?(y=p.slice(0,-1),g=!0):p.startsWith(i1)&&(y=p.slice(1),g=!0);const b=f&&f>d?f-d:void 0;return BD(i,g,y,b)};if(t){const a=t+UD,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):BD(mae,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},gae=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",d=t.has(o);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},vae=e=>({cache:hae(e.cacheSize),parseClassName:pae(e),sortModifiers:gae(e),...aae(e)}),yae=/\s+/,xae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=e.trim().split(yae);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:y,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=r(m);if(p){d=m+(d.length>0?" "+d:d);continue}let _=!!w,j=n(_?b.substring(0,w):b);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(b),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const E=y.length===0?"":y.length===1?y[0]:i(y).join(":"),N=g?E+i1:E,k=N+j;if(o.indexOf(k)>-1)continue;o.push(k);const O=a(j,_);for(let T=0;T<O.length;++T){const R=O[T];o.push(N+R)}d=m+(d.length>0?" "+d:d)}return d},bae=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=qF(r))&&(a&&(a+=" "),a+=n);return a},qF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=qF(e[n]))&&(r&&(r+=" "),r+=t);return r},wae=(e,...t)=>{let r,n,a,i;const o=d=>{const f=t.reduce((m,p)=>p(m),e());return r=vae(f),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const f=n(d);if(f)return f;const m=xae(d,r);return a(d,m),m};return i=o,(...d)=>i(bae(...d))},_ae=[],mn=e=>{const t=r=>r[e]||_ae;return t.isThemeGetter=!0,t},VF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,HF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jae=/^\d+\/\d+$/,Sae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Cae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Eae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Nae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qu=e=>jae.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),dl=e=>!!e&&Number.isInteger(Number(e)),x_=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),no=e=>Sae.test(e),Oae=()=>!0,Aae=e=>Cae.test(e)&&!Eae.test(e),WF=()=>!1,Rae=e=>Nae.test(e),Tae=e=>kae.test(e),Pae=e=>!We(e)&&!Ke(e),Dae=e=>Ud(e,YF,WF),We=e=>VF.test(e),uc=e=>Ud(e,ZF,Aae),b_=e=>Ud(e,zae,Pt),qD=e=>Ud(e,KF,WF),Mae=e=>Ud(e,GF,Tae),Ig=e=>Ud(e,XF,Rae),Ke=e=>HF.test(e),ah=e=>Bd(e,ZF),Iae=e=>Bd(e,Fae),VD=e=>Bd(e,KF),$ae=e=>Bd(e,YF),Lae=e=>Bd(e,GF),$g=e=>Bd(e,XF,!0),Ud=(e,t,r)=>{const n=VF.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Bd=(e,t,r=!1)=>{const n=HF.exec(e);return n?n[1]?t(n[1]):r:!1},KF=e=>e==="position"||e==="percentage",GF=e=>e==="image"||e==="url",YF=e=>e==="length"||e==="size"||e==="bg-size",ZF=e=>e==="length",zae=e=>e==="number",Fae=e=>e==="family-name",XF=e=>e==="shadow",Uae=()=>{const e=mn("color"),t=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),o=mn("breakpoint"),c=mn("container"),d=mn("spacing"),f=mn("radius"),m=mn("shadow"),p=mn("inset-shadow"),y=mn("text-shadow"),g=mn("drop-shadow"),b=mn("blur"),w=mn("perspective"),_=mn("aspect"),j=mn("ease"),E=mn("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...k(),Ke,We],T=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],A=()=>[Ke,We,d],P=()=>[Qu,"full","auto",...A()],L=()=>[dl,"none","subgrid",Ke,We],M=()=>["auto",{span:["full",dl,Ke,We]},dl,Ke,We],$=()=>[dl,"auto",Ke,We],U=()=>["auto","min","max","fr",Ke,We],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...A()],H=()=>[Qu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],I=()=>[e,Ke,We],q=()=>[...k(),VD,qD,{position:[Ke,We]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",$ae,Dae,{size:[Ke,We]}],Q=()=>[x_,ah,uc],V=()=>["","none","full",f,Ke,We],ae=()=>["",Pt,ah,uc],Z=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Pt,x_,VD,qD],pe=()=>["","none",b,Ke,We],G=()=>["none",Pt,Ke,We],ge=()=>["none",Pt,Ke,We],ye=()=>[Pt,Ke,We],le=()=>[Qu,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[no],breakpoint:[no],color:[Oae],container:[no],"drop-shadow":[no],ease:["in","out","in-out"],font:[Pae],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[no],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[no],shadow:[no],spacing:["px",Pt],text:[no],"text-shadow":[no],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qu,We,Ke,_]}],container:["container"],columns:[{columns:[Pt,We,Ke,c]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[dl,"auto",Ke,We]}],basis:[{basis:[Qu,"full","auto",c,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,Qu,"auto","initial","none",We]}],grow:[{grow:["",Pt,Ke,We]}],shrink:[{shrink:["",Pt,Ke,We]}],order:[{order:[dl,"first","last","none",Ke,We]}],"grid-cols":[{"grid-cols":L()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":L()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",r,ah,uc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ke,b_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",x_,We]}],"font-family":[{font:[Iae,We,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,We]}],"line-clamp":[{"line-clamp":[Pt,"none",Ke,b_]}],leading:[{leading:[i,...A()]}],"list-image":[{"list-image":["none",Ke,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ke,uc]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ke,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},dl,Ke,We],radial:["",Ke,We],conic:[dl,Ke,We]},Lae,Mae]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ke,We]}],"outline-w":[{outline:["",Pt,ah,uc]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",m,$g,Ig]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",p,$g,Ig]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Pt,uc]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",y,$g,Ig]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Pt,Ke,We]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Ke,We]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,We]}],filter:[{filter:["","none",Ke,We]}],blur:[{blur:pe()}],brightness:[{brightness:[Pt,Ke,We]}],contrast:[{contrast:[Pt,Ke,We]}],"drop-shadow":[{"drop-shadow":["","none",g,$g,Ig]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Pt,Ke,We]}],"hue-rotate":[{"hue-rotate":[Pt,Ke,We]}],invert:[{invert:["",Pt,Ke,We]}],saturate:[{saturate:[Pt,Ke,We]}],sepia:[{sepia:["",Pt,Ke,We]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,We]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ke,We]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ke,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ke,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ke,We]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ke,We]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ke,We]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ke,We]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ke,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ke,We]}],ease:[{ease:["linear","initial",j,Ke,We]}],delay:[{delay:[Pt,Ke,We]}],animate:[{animate:["none",E,Ke,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ke,We]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Ke,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,We]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Pt,ah,uc,b_]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bae=wae(Uae);function Me(...e){return Bae(Kt(e))}const vd=gx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Yne:"button";return s.jsx(o,{className:Me(vd({variant:t,size:r,className:e})),ref:i,...a})});se.displayName="Button";const Xe=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Xe.displayName="Input";var qae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vae=qae.reduce((e,t)=>{const r=jm(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Hae="Label",QF=x.forwardRef((e,t)=>s.jsx(Vae.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QF.displayName=Hae;var JF=QF;const Wae=gx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=x.forwardRef(({className:e,...t},r)=>s.jsx(JF,{ref:r,className:Me(Wae(),e),...t}));_e.displayName=JF.displayName;const Ee=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ee.displayName="Card";const Re=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Me("flex flex-col space-y-1.5 p-6",e),...t}));Re.displayName="CardHeader";const Te=x.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Me("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const dt=x.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));dt.displayName="CardDescription";const ke=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Me("p-6 pt-0",e),...t}));ke.displayName="CardContent";const Kae=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Me("flex items-center p-6 pt-0",e),...t}));Kae.displayName="CardFooter";const Gae=gx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pt=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Me(Gae({variant:t}),e),...r}));pt.displayName="Alert";const hE=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Me("mb-1 font-medium leading-none tracking-tight",e),...t}));hE.displayName="AlertTitle";const gt=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Me("text-sm [&_p]:leading-relaxed",e),...t}));gt.displayName="AlertDescription";const Yae=ru({email:Tt().email("Invalid email address"),password:Tt().min(6,"Password must be at least 6 characters")});function Zae(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),{signIn:a}=Ar(),i=Or(),{register:o,handleSubmit:c,formState:{errors:d}}=Ao({resolver:Ro(Yae)}),f=async m=>{n(!0),t(null);const{error:p}=await a(m.email,m.password);p?(t(p.message),n(!1)):i("/dashboard")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted px-4",children:s.jsxs(Ee,{className:"w-full max-w-md shadow-lg",children:[s.jsxs(Re,{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:s.jsx("span",{className:"text-2xl font-bold",children:"P"})})}),s.jsx(Te,{className:"text-2xl font-bold text-center",children:"Sign In to PPH Connect"}),s.jsx(dt,{className:"text-center",children:"Access your workforce management platform with your email and password"})]}),s.jsxs(ke,{children:[s.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email",children:"Email"}),s.jsx(Xe,{id:"email",type:"email",placeholder:"admin@example.com",...o("email"),"aria-invalid":!!d.email}),d.email&&s.jsx("p",{className:"text-sm text-destructive",children:d.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"password",children:"Password"}),s.jsx(Xe,{id:"password",type:"password",placeholder:"",...o("password"),"aria-invalid":!!d.password}),d.password&&s.jsx("p",{className:"text-sm text-destructive",children:d.password.message})]}),e&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:e})}),s.jsx(se,{type:"submit",className:"w-full",disabled:r,children:r?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Admin & Manager access only"})})]})]})})}const Xae=gx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...r}){return s.jsx("div",{className:Me(Xae({variant:t}),e),...r})}function $e({className:e,...t}){return s.jsx("div",{className:Me("animate-pulse rounded-md bg-muted",e),...t})}const Qae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),HD=e=>{const t=Jae(e);return t.charAt(0).toUpperCase()+t.slice(1)},eU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),eie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var tie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rie=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},d)=>x.createElement("svg",{ref:d,...tie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:eU("lucide",a),...!i&&!eie(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>x.createElement(f,m)),...Array.isArray(i)?i:[i]]));const st=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(rie,{ref:i,iconNode:t,className:eU(`lucide-${Qae(HD(e))}`,`lucide-${e}`,n),...a}));return r.displayName=HD(e),r};const nie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ya=st("arrow-left",nie);const aie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iie=st("arrow-right",aie);const sie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],oie=st("award",sie);const lie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Bh=st("briefcase",lie);const cie=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],vx=st("building-2",cie);const uie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ic=st("calendar",uie);const die=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Cd=st("chart-column",die);const fie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mE=st("check",fie);const hie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tU=st("chevron-down",hie);const mie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yx=st("chevron-left",mie);const pie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Sm=st("chevron-right",pie);const gie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vie=st("chevron-up",gie);const yie=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],xie=st("chevrons-up-down",yie);const bie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Na=st("circle-alert",bie);const wie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kh=st("circle-check-big",wie);const _ie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s1=st("circle-check",_ie);const jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],WD=st("circle-plus",jie);const Sie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KD=st("circle-question-mark",Sie);const Cie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Eie=st("circle-x",Cie);const Nie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rU=st("circle",Nie);const kie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Uv=st("clock",kie);const Oie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nU=st("credit-card",Oie);const Aie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],xx=st("dollar-sign",Aie);const Rie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_l=st("download",Rie);const Tie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Pie=st("ellipsis",Tie);const Die=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],aU=st("external-link",Die);const Mie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],o1=st("file-check",Mie);const Iie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],$ie=st("file-spreadsheet",Iie);const Lie=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Cl=st("folder-open",Lie);const zie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fie=st("funnel",zie);const Uie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],l1=st("globe",Uie);const Bie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],qie=st("house",Bie);const Vie=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ji=st("loader-circle",Vie);const Hie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wie=st("log-out",Hie);const Kie=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],iU=st("mail",Kie);const Gie=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Yie=st("medal",Gie);const Zie=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xie=st("pencil",Zie);const Qie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pE=st("plus",Qie);const Jie=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],GD=st("refresh-cw",Jie);const ese=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qd=st("search",ese);const tse=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rse=st("settings-2",tse);const nse=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YD=st("settings",nse);const ase=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ise=st("shield-check",ase);const sse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gE=st("square-pen",sse);const ose=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sU=st("trash-2",ose);const lse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],$c=st("trending-up",lse);const cse=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ki=st("triangle-alert",cse);const use=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],w_=st("trophy",use);const dse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Lc=st("upload",dse);const fse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],c1=st("user-check",fse);const hse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],vE=st("user-plus",hse);const mse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_s=st("users",mse);const pse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rs=st("x",pse);function gse(){const{isWorker:e,isManagerOrAbove:t}=Ar();if(e)return s.jsx(IC,{to:"/my-stats",replace:!0});const{data:r,isLoading:n}=Je({queryKey:["dashboard-metrics"],queryFn:async()=>{const{count:o}=await Se.from("workers").select("*",{count:"exact",head:!0}),{count:c}=await Se.from("workers").select("*",{count:"exact",head:!0}).eq("status","active"),{count:d}=await Se.from("workers").select("*",{count:"exact",head:!0}).eq("status","pending"),{count:f}=await Se.from("workforce_projects").select("*",{count:"exact",head:!0}).eq("status","active"),{count:m}=await Se.from("teams").select("*",{count:"exact",head:!0}),p=new Date().toISOString().split("T")[0],y=new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],{data:g}=await Se.from("workers").select("bgc_expiration_date").not("bgc_expiration_date","is",null);let b=0,w=0;return g&&g.forEach(_=>{if(_.bgc_expiration_date){const j=_.bgc_expiration_date;j<p?b++:j>=p&&j<=y&&w++}}),{totalWorkers:o||0,activeWorkers:c||0,pendingWorkers:d||0,activeProjects:f||0,totalTeams:m||0,bgcExpiring:w,bgcExpired:b}}}),a=[{title:"Total Workers",value:r?.totalWorkers||0,description:`${r?.activeWorkers||0} active, ${r?.pendingWorkers||0} pending`,icon:_s,href:"/workers",trend:"+12% from last month",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-950"},{title:"Active Projects",value:r?.activeProjects||0,description:"Currently running projects",icon:Cl,href:"/projects",trend:"+5% from last month",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-950"},{title:"Teams",value:r?.totalTeams||0,description:"Organized by department",icon:c1,href:"/teams",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-950"},{title:"BGC Alerts",value:(r?.bgcExpired||0)+(r?.bgcExpiring||0),description:`${r?.bgcExpired||0} expired, ${r?.bgcExpiring||0} expiring soon`,icon:Ki,href:"/workers?filter=bgc-alerts",alert:(r?.bgcExpired||0)>0,color:(r?.bgcExpired||0)>0?"text-red-600":"text-amber-600",bgColor:(r?.bgcExpired||0)>0?"bg-red-100 dark:bg-red-950":"bg-amber-100 dark:bg-amber-950"}],i=[{title:"Add Worker",description:"Create a new worker profile",icon:pE,href:"/workers/create",color:"text-blue-600"},{title:"Import CSV",description:"Bulk upload workers",icon:Lc,href:"/workers?action=bulk-upload",color:"text-green-600"},{title:"Create Project",description:"Start a new project",icon:Cl,href:"/projects/create",color:"text-purple-600"},{title:"Send Message",description:"Broadcast to workers",icon:iU,href:"/messages/compose",color:"text-orange-600"}];return s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("header",{className:"space-y-1",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor workforce health, track compliance, and manage your PPH Connect platform"})]}),s.jsxs("section",{"aria-labelledby":"summary-heading",className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{id:"summary-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Summary"}),s.jsx(ze,{variant:"outline",className:"text-[0.65rem]",children:"Real-time"})]}),s.jsx(se,{variant:"ghost",size:"sm",className:"text-xs",children:"Refresh"})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:n?Array.from({length:4}).map((o,c)=>s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx($e,{className:"h-4 w-24"}),s.jsx($e,{className:"h-8 w-8 rounded-full"})]}),s.jsxs(ke,{children:[s.jsx($e,{className:"h-8 w-16 mb-2"}),s.jsx($e,{className:"h-3 w-32"})]})]},c)):a.map(o=>s.jsx(gs,{to:o.href,children:s.jsxs(Ee,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:o.title}),s.jsx("div",{className:`p-2 rounded-full ${o.bgColor}`,children:s.jsx(o.icon,{className:`h-4 w-4 ${o.color}`})})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description}),o.trend&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx($c,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-600",children:o.trend})]}),o.alert&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Ki,{className:"h-3 w-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-600",children:"Action required"})]})]})]})},o.title))})]}),r&&(r.bgcExpired>0||r.bgcExpiring>0)&&s.jsxs("section",{"aria-labelledby":"bgc-alerts-heading",className:"space-y-3",children:[s.jsx("h2",{id:"bgc-alerts-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Background Check Alerts"}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.bgcExpired>0&&s.jsxs(Ee,{className:"border-red-200 dark:border-red-900 bg-red-50/50 dark:bg-red-950/20",children:[s.jsxs(Re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"h-5 w-5 text-red-600"}),s.jsx(Te,{className:"text-sm font-semibold",children:"Expired Checks"})]}),s.jsx(ze,{variant:"destructive",children:r.bgcExpired})]}),s.jsx(dt,{children:"Workers with expired background checks"})]}),s.jsx(ke,{children:s.jsx(gs,{to:"/workers?filter=bgc-expired",children:s.jsxs(se,{variant:"destructive",size:"sm",className:"w-full",children:["View Workers ",s.jsx(kh,{className:"ml-2 h-4 w-4"})]})})})]}),r.bgcExpiring>0&&s.jsxs(Ee,{className:"border-amber-200 dark:border-amber-900 bg-amber-50/50 dark:bg-amber-950/20",children:[s.jsxs(Re,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ki,{className:"h-5 w-5 text-amber-600"}),s.jsx(Te,{className:"text-sm font-semibold",children:"Expiring Soon"})]}),s.jsx(ze,{variant:"secondary",children:r.bgcExpiring})]}),s.jsx(dt,{children:"Workers with checks expiring in 30 days"})]}),s.jsx(ke,{children:s.jsx(gs,{to:"/workers?filter=bgc-expiring",children:s.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:["Schedule Renewals ",s.jsx(kh,{className:"ml-2 h-4 w-4"})]})})})]})]})]}),t&&s.jsxs("section",{"aria-labelledby":"quick-actions-heading",className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{id:"quick-actions-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Quick Actions"}),s.jsx(ze,{variant:"secondary",className:"text-[0.65rem]",children:"Shortcuts"})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:i.map(o=>s.jsx(gs,{to:o.href,children:s.jsx(Ee,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(o.icon,{className:`h-5 w-5 ${o.color}`})}),s.jsxs("div",{children:[s.jsx(Te,{className:"text-sm font-medium",children:o.title}),s.jsx(dt,{className:"text-xs",children:o.description})]})]})})})},o.title))})]}),s.jsx("section",{"aria-labelledby":"system-status-heading",children:s.jsxs(Ee,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vx,{className:"h-5 w-5 text-blue-600"}),s.jsx(Te,{className:"text-sm font-semibold",children:"System Status"})]}),s.jsxs(ze,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(kh,{className:"h-3 w-3 mr-1"}),"All Systems Operational"]})]})}),s.jsx(ke,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"PPH Connect is running smoothly. Database, authentication, and all services are operational."})})]})})]})}function xl(e,t){return typeof e=="function"?e(t):e}function Za(e,t){return r=>{t.setState(n=>({...n,[e]:xl(r,n[e])}))}}function bx(e){return e instanceof Function}function vse(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function yse(e,t){const r=[],n=a=>{a.forEach(i=>{r.push(i);const o=t(i);o!=null&&o.length&&n(o)})};return n(e),r}function ct(e,t,r){let n=[],a;return i=>{let o;r.key&&r.debug&&(o=Date.now());const c=e(i);if(!(c.length!==n.length||c.some((m,p)=>n[p]!==m)))return a;n=c;let f;if(r.key&&r.debug&&(f=Date.now()),a=t(...c),r==null||r.onChange==null||r.onChange(a),r.key&&r.debug&&r!=null&&r.debug()){const m=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-f)*100)/100,y=p/16,g=(b,w)=>{for(b=String(b);b.length<w;)b=" "+b;return b};console.info(`%c ${g(p,5)} /${g(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,r?.key)}return a}}function ut(e,t,r,n){return{debug:()=>{var a;return(a=e?.debugAll)!=null?a:e[t]},key:!1,onChange:n}}function xse(e,t,r,n){const a=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:a,getContext:ct(()=>[e,r,t,i],(o,c,d,f)=>({table:o,column:c,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),ut(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,r,t,e)},{}),i}function bse(e,t,r,n){var a,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let f=(a=(i=c.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?a:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:d&&(d.includes(".")?m=y=>{let g=y;for(const w of d.split(".")){var b;g=(b=g)==null?void 0:b[w]}return g}:m=y=>y[c.accessorKey]),!f)throw new Error;let p={id:`${String(f)}`,accessorFn:m,parent:n,depth:r,columnDef:c,columns:[],getFlatColumns:ct(()=>[!0],()=>{var y;return[p,...(y=p.columns)==null?void 0:y.flatMap(g=>g.getFlatColumns())]},ut(e.options,"debugColumns")),getLeafColumns:ct(()=>[e._getOrderColumnsFn()],y=>{var g;if((g=p.columns)!=null&&g.length){let b=p.columns.flatMap(w=>w.getLeafColumns());return y(b)}return[p]},ut(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(p,e);return p}const Wn="debugHeaders";function ZD(e,t,r){var n;let i={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),o.push(d)};return c(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const wse={createTable:e=>{e.getHeaderGroups=ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>{var i,o;const c=(i=n?.map(p=>r.find(y=>y.id===p)).filter(Boolean))!=null?i:[],d=(o=a?.map(p=>r.find(y=>y.id===p)).filter(Boolean))!=null?o:[],f=r.filter(p=>!(n!=null&&n.includes(p.id))&&!(a!=null&&a.includes(p.id)));return Lg(t,[...c,...f,...d],e)},ut(e.options,Wn)),e.getCenterHeaderGroups=ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>(r=r.filter(i=>!(n!=null&&n.includes(i.id))&&!(a!=null&&a.includes(i.id))),Lg(t,r,e,"center")),ut(e.options,Wn)),e.getLeftHeaderGroups=ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var a;const i=(a=n?.map(o=>r.find(c=>c.id===o)).filter(Boolean))!=null?a:[];return Lg(t,i,e,"left")},ut(e.options,Wn)),e.getRightHeaderGroups=ct(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var a;const i=(a=n?.map(o=>r.find(c=>c.id===o)).filter(Boolean))!=null?a:[];return Lg(t,i,e,"right")},ut(e.options,Wn)),e.getFooterGroups=ct(()=>[e.getHeaderGroups()],t=>[...t].reverse(),ut(e.options,Wn)),e.getLeftFooterGroups=ct(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),ut(e.options,Wn)),e.getCenterFooterGroups=ct(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),ut(e.options,Wn)),e.getRightFooterGroups=ct(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),ut(e.options,Wn)),e.getFlatHeaders=ct(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),ut(e.options,Wn)),e.getLeftFlatHeaders=ct(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),ut(e.options,Wn)),e.getCenterFlatHeaders=ct(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),ut(e.options,Wn)),e.getRightFlatHeaders=ct(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),ut(e.options,Wn)),e.getCenterLeafHeaders=ct(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ut(e.options,Wn)),e.getLeftLeafHeaders=ct(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ut(e.options,Wn)),e.getRightLeafHeaders=ct(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),ut(e.options,Wn)),e.getLeafHeaders=ct(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var a,i,o,c,d,f;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(o=(c=r[0])==null?void 0:c.headers)!=null?o:[],...(d=(f=n[0])==null?void 0:f.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},ut(e.options,Wn))}};function Lg(e,t,r,n){var a,i;let o=0;const c=function(y,g){g===void 0&&(g=1),o=Math.max(o,g),y.filter(b=>b.getIsVisible()).forEach(b=>{var w;(w=b.columns)!=null&&w.length&&c(b.columns,g+1)},0)};c(e);let d=[];const f=(y,g)=>{const b={depth:g,id:[n,`${g}`].filter(Boolean).join("_"),headers:[]},w=[];y.forEach(_=>{const j=[...w].reverse()[0],E=_.column.depth===b.depth;let N,k=!1;if(E&&_.column.parent?N=_.column.parent:(N=_.column,k=!0),j&&j?.column===N)j.subHeaders.push(_);else{const O=ZD(r,N,{id:[n,g,N.id,_?.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${w.filter(T=>T.column===N).length}`:void 0,depth:g,index:w.length});O.subHeaders.push(_),w.push(O)}b.headers.push(_),_.headerGroup=b}),d.push(b),g>0&&f(w,g-1)},m=t.map((y,g)=>ZD(r,y,{depth:o,index:g}));f(m,o-1),d.reverse();const p=y=>y.filter(b=>b.column.getIsVisible()).map(b=>{let w=0,_=0,j=[0];b.subHeaders&&b.subHeaders.length?(j=[],p(b.subHeaders).forEach(N=>{let{colSpan:k,rowSpan:O}=N;w+=k,j.push(O)})):w=1;const E=Math.min(...j);return _=_+E,b.colSpan=w,b.rowSpan=_,{colSpan:w,rowSpan:_}});return p((a=(i=d[0])==null?void 0:i.headers)!=null?a:[]),d}const yE=(e,t,r,n,a,i,o)=>{let c={id:t,index:n,original:r,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return c._valuesCache[d]=f.accessorFn(c.original,n),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=f.columnDef.getUniqueValues(c.original,n),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=c.getValue(d))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>yse(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],f=c;for(;;){const m=f.getParentRow();if(!m)break;d.push(m),f=m}return d.reverse()},getAllCells:ct(()=>[e.getAllLeafColumns()],d=>d.map(f=>xse(e,c,f,f.id)),ut(e.options,"debugRows")),_getAllCellsByColumnId:ct(()=>[c.getAllCells()],d=>d.reduce((f,m)=>(f[m.column.id]=m,f),{}),ut(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const f=e._features[d];f==null||f.createRow==null||f.createRow(c,e)}return c},_se={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},oU=(e,t,r)=>{var n,a;const i=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};oU.autoRemove=e=>Yi(e);const lU=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};lU.autoRemove=e=>Yi(e);const cU=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===r?.toLowerCase()};cU.autoRemove=e=>Yi(e);const uU=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};uU.autoRemove=e=>Yi(e);const dU=(e,t,r)=>!r.some(n=>{var a;return!((a=e.getValue(t))!=null&&a.includes(n))});dU.autoRemove=e=>Yi(e)||!(e!=null&&e.length);const fU=(e,t,r)=>r.some(n=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(n)});fU.autoRemove=e=>Yi(e)||!(e!=null&&e.length);const hU=(e,t,r)=>e.getValue(t)===r;hU.autoRemove=e=>Yi(e);const mU=(e,t,r)=>e.getValue(t)==r;mU.autoRemove=e=>Yi(e);const xE=(e,t,r)=>{let[n,a]=r;const i=e.getValue(t);return i>=n&&i<=a};xE.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,a=typeof r!="number"?parseFloat(r):r,i=t===null||Number.isNaN(n)?-1/0:n,o=r===null||Number.isNaN(a)?1/0:a;if(i>o){const c=i;i=o,o=c}return[i,o]};xE.autoRemove=e=>Yi(e)||Yi(e[0])&&Yi(e[1]);const io={includesString:oU,includesStringSensitive:lU,equalsString:cU,arrIncludes:uU,arrIncludesAll:dU,arrIncludesSome:fU,equals:hU,weakEquals:mU,inNumberRange:xE};function Yi(e){return e==null||e===""}const jse={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Za("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);return typeof n=="string"?io.includesString:typeof n=="number"?io.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?io.equals:Array.isArray(n)?io.arrIncludes:io.weakEquals},e.getFilterFn=()=>{var r,n;return bx(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:io[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,a;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{const a=e.getFilterFn(),i=n?.find(m=>m.id===e.id),o=xl(r,i?i.value:void 0);if(XD(a,o,e)){var c;return(c=n?.filter(m=>m.id!==e.id))!=null?c:[]}const d={id:e.id,value:o};if(i){var f;return(f=n?.map(m=>m.id===e.id?d:m))!=null?f:[]}return n!=null&&n.length?[...n,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns(),n=a=>{var i;return(i=xl(t,a))==null?void 0:i.filter(o=>{const c=r.find(d=>d.id===o.id);if(c){const d=c.getFilterFn();if(XD(d,o.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function XD(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}const Sse=(e,t,r)=>r.reduce((n,a)=>{const i=a.getValue(e);return n+(typeof i=="number"?i:0)},0),Cse=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}),n},Ese=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}),n},Nse=(e,t,r)=>{let n,a;return r.forEach(i=>{const o=i.getValue(e);o!=null&&(n===void 0?o>=o&&(n=a=o):(n>o&&(n=o),a<o&&(a=o)))}),[n,a]},kse=(e,t)=>{let r=0,n=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++r,n+=i)}),r)return n/r},Ose=(e,t)=>{if(!t.length)return;const r=t.map(i=>i.getValue(e));if(!vse(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),a=r.sort((i,o)=>i-o);return r.length%2!==0?a[n]:(a[n-1]+a[n])/2},Ase=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),Rse=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,Tse=(e,t)=>t.length,__={sum:Sse,min:Cse,max:Ese,extent:Nse,mean:kse,median:Ose,unique:Ase,uniqueCount:Rse,count:Tse},Pse={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Za("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);if(typeof n=="number")return __.sum;if(Object.prototype.toString.call(n)==="[object Date]")return __.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return bx(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:__[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=r.subRows)!=null&&a.length)}}};function Dse(e,t,r){if(!(t!=null&&t.length)||!r)return e;const n=e.filter(i=>!t.includes(i.id));return r==="remove"?n:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...n]}const Mse={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Za("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ct(r=>[Oh(t,r)],r=>r.findIndex(n=>n.id===e.id),ut(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var n;return((n=Oh(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;const a=Oh(t,r);return((n=a[a.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=ct(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const o=[...t],c=[...a];for(;c.length&&o.length;){const d=o.shift(),f=c.findIndex(m=>m.id===d);f>-1&&i.push(c.splice(f,1)[0])}i=[...i,...c]}return Dse(i,r,n)},ut(e.options,"debugTable"))}},j_=()=>({left:[],right:[]}),Ise={getInitialState:e=>({columnPinning:j_(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Za("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const n=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,o;if(r==="right"){var c,d;return{left:((c=a?.left)!=null?c:[]).filter(p=>!(n!=null&&n.includes(p))),right:[...((d=a?.right)!=null?d:[]).filter(p=>!(n!=null&&n.includes(p))),...n]}}if(r==="left"){var f,m;return{left:[...((f=a?.left)!=null?f:[]).filter(p=>!(n!=null&&n.includes(p))),...n],right:((m=a?.right)!=null?m:[]).filter(p=>!(n!=null&&n.includes(p)))}}return{left:((i=a?.left)!=null?i:[]).filter(p=>!(n!=null&&n.includes(p))),right:((o=a?.right)!=null?o:[]).filter(p=>!(n!=null&&n.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var a,i,o;return((a=n.columnDef.enablePinning)!=null?a:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(c=>c.id),{left:n,right:a}=t.getState().columnPinning,i=r.some(c=>n?.includes(c)),o=r.some(c=>a?.includes(c));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();return a?(r=(n=t.getState().columnPinning)==null||(n=n[a])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,a)=>{const i=[...n??[],...a??[]];return r.filter(o=>!i.includes(o.column.id))},ut(t.options,"debugRows")),e.getLeftVisibleCells=ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(i=>r.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),ut(t.options,"debugRows")),e.getRightVisibleCells=ct(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(i=>r.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),ut(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?j_():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:j_())},e.getIsSomeColumnsPinned=t=>{var r;const n=e.getState().columnPinning;if(!t){var a,i;return!!((a=n.left)!=null&&a.length||(i=n.right)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),ut(e.options,"debugColumns")),e.getRightLeafColumns=ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),ut(e.options,"debugColumns")),e.getCenterLeafColumns=ct(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{const a=[...r??[],...n??[]];return t.filter(i=>!a.includes(i.id))},ut(e.options,"debugColumns"))}};function $se(e){return e||(typeof document<"u"?document:null)}const zg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},S_=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Lse={getDefaultColumnDef:()=>zg,getInitialState:e=>({columnSizing:{},columnSizingInfo:S_(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Za("columnSizing",e),onColumnSizingInfoChange:Za("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:zg.minSize,(n=i??e.columnDef.size)!=null?n:zg.size),(a=e.columnDef.maxSize)!=null?a:zg.maxSize)},e.getStart=ct(r=>[r,Oh(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((a,i)=>a+i.getSize(),0),ut(t.options,"debugColumns")),e.getAfter=ct(r=>[r,Oh(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((a,i)=>a+i.getSize(),0),ut(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...a}=r;return a})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0;const n=a=>{if(a.subHeaders.length)a.subHeaders.forEach(n);else{var i;r+=(i=a.column.getSize())!=null?i:0}};return n(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const n=t.getColumn(e.column.id),a=n?.getCanResize();return i=>{if(!n||!a||(i.persist==null||i.persist(),C_(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),c=e?e.getLeafHeaders().map(j=>[j.column.id,j.column.getSize()]):[[n.id,n.getSize()]],d=C_(i)?Math.round(i.touches[0].clientX):i.clientX,f={},m=(j,E)=>{typeof E=="number"&&(t.setColumnSizingInfo(N=>{var k,O;const T=t.options.columnResizeDirection==="rtl"?-1:1,R=(E-((k=N?.startOffset)!=null?k:0))*T,A=Math.max(R/((O=N?.startSize)!=null?O:0),-.999999);return N.columnSizingStart.forEach(P=>{let[L,M]=P;f[L]=Math.round(Math.max(M+M*A,0)*100)/100}),{...N,deltaOffset:R,deltaPercentage:A}}),(t.options.columnResizeMode==="onChange"||j==="end")&&t.setColumnSizing(N=>({...N,...f})))},p=j=>m("move",j),y=j=>{m("end",j),t.setColumnSizingInfo(E=>({...E,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=$se(r),b={moveHandler:j=>p(j.clientX),upHandler:j=>{g?.removeEventListener("mousemove",b.moveHandler),g?.removeEventListener("mouseup",b.upHandler),y(j.clientX)}},w={moveHandler:j=>(j.cancelable&&(j.preventDefault(),j.stopPropagation()),p(j.touches[0].clientX),!1),upHandler:j=>{var E;g?.removeEventListener("touchmove",w.moveHandler),g?.removeEventListener("touchend",w.upHandler),j.cancelable&&(j.preventDefault(),j.stopPropagation()),y((E=j.touches[0])==null?void 0:E.clientX)}},_=zse()?{passive:!1}:!1;C_(i)?(g?.addEventListener("touchmove",w.moveHandler,_),g?.addEventListener("touchend",w.upHandler,_)):(g?.addEventListener("mousemove",b.moveHandler,_),g?.addEventListener("mouseup",b.upHandler,_)),t.setColumnSizingInfo(j=>({...j,startOffset:d,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?S_():(r=e.initialState.columnSizingInfo)!=null?r:S_())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0}}};let Fg=null;function zse(){if(typeof Fg=="boolean")return Fg;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return Fg=e,Fg}function C_(e){return e.type==="touchstart"}const Fse={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Za("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;const a=e.columns;return(r=a.length?a.some(i=>i.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ct(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),ut(t.options,"debugRows")),e.getVisibleCells=ct(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,a)=>[...r,...n,...a],ut(t.options,"debugRows"))},createTable:e=>{const t=(r,n)=>ct(()=>[n(),n().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),ut(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:r||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function Oh(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Use={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Bse={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Za("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,a,i;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>io.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:n}=e.options;return bx(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:io[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},qse={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Za("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var a,i;e.setExpanded(n?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");n=Math.max(n,o.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var a;const i=n===!0?!0:!!(n!=null&&n[e.id]);let o={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=n,r=(a=r)!=null?a:!i,!i&&r)return{...o,[e.id]:!0};if(i&&!r){const{[e.id]:c,...d}=o;return d}return n})},e.getIsExpanded=()=>{var r;const n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n?.[e.id])},e.getCanExpand=()=>{var r,n,a;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},u1=0,d1=10,E_=()=>({pageIndex:u1,pageSize:d1}),Vse={getInitialState:e=>({...e,pagination:{...E_(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Za("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{const a=i=>xl(n,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=n=>{var a;e.setPagination(n?E_():(a=e.initialState.pagination)!=null?a:E_())},e.setPageIndex=n=>{e.setPagination(a=>{let i=xl(n,a.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...a,pageIndex:i}})},e.resetPageIndex=n=>{var a,i;e.setPageIndex(n?u1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:u1)},e.resetPageSize=n=>{var a,i;e.setPageSize(n?d1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:d1)},e.setPageSize=n=>{e.setPagination(a=>{const i=Math.max(1,xl(n,a.pageSize)),o=a.pageSize*a.pageIndex,c=Math.floor(o/i);return{...a,pageIndex:c,pageSize:i}})},e.setPageCount=n=>e.setPagination(a=>{var i;let o=xl(n,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),e.getPageOptions=ct(()=>[e.getPageCount()],n=>{let a=[];return n&&n>0&&(a=[...new Array(n)].fill(null).map((i,o)=>o)),a},ut(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:n<a-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},N_=()=>({top:[],bottom:[]}),Hse={getInitialState:e=>({rowPinning:N_(),...e}),getDefaultOptions:e=>({onRowPinningChange:Za("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,a)=>{const i=n?e.getLeafRows().map(d=>{let{id:f}=d;return f}):[],o=a?e.getParentRows().map(d=>{let{id:f}=d;return f}):[],c=new Set([...o,e.id,...i]);t.setRowPinning(d=>{var f,m;if(r==="bottom"){var p,y;return{top:((p=d?.top)!=null?p:[]).filter(w=>!(c!=null&&c.has(w))),bottom:[...((y=d?.bottom)!=null?y:[]).filter(w=>!(c!=null&&c.has(w))),...Array.from(c)]}}if(r==="top"){var g,b;return{top:[...((g=d?.top)!=null?g:[]).filter(w=>!(c!=null&&c.has(w))),...Array.from(c)],bottom:((b=d?.bottom)!=null?b:[]).filter(w=>!(c!=null&&c.has(w)))}}return{top:((f=d?.top)!=null?f:[]).filter(w=>!(c!=null&&c.has(w))),bottom:((m=d?.bottom)!=null?m:[]).filter(w=>!(c!=null&&c.has(w)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:a}=t.options;return typeof n=="function"?n(e):(r=n??a)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:n,bottom:a}=t.getState().rowPinning,i=r.some(c=>n?.includes(c)),o=r.some(c=>a?.includes(c));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();if(!a)return-1;const i=(r=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(o=>{let{id:c}=o;return c});return(n=i?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?N_():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:N_())},e.getIsSomeRowsPinned=t=>{var r;const n=e.getState().rowPinning;if(!t){var a,i;return!!((a=n.top)!=null&&a.length||(i=n.bottom)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(r??[]).map(o=>{const c=e.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(r??[]).map(o=>t.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:n}))},e.getTopRows=ct(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),ut(e.options,"debugRows")),e.getBottomRows=ct(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),ut(e.options,"debugRows")),e.getCenterRows=ct(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{const a=new Set([...r??[],...n??[]]);return t.filter(i=>!a.has(i.id))},ut(e.options,"debugRows"))}},Wse={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Za("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const n={...r},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(n[i.id]=!0)}):a.forEach(i=>{delete n[i.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...r};return e.getRowModel().rows.forEach(i=>{f1(a,i.id,n,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ct(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?k_(e,r):{rows:[],flatRows:[],rowsById:{}},ut(e.options,"debugTable")),e.getFilteredSelectedRowModel=ct(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?k_(e,r):{rows:[],flatRows:[],rowsById:{}},ut(e.options,"debugTable")),e.getGroupedSelectedRowModel=ct(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?k_(e,r):{rows:[],flatRows:[],rowsById:{}},ut(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let n=!!(t.length&&Object.keys(r).length);return n&&t.some(a=>a.getCanSelect()&&!r[a.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:r}=e.getState();let n=!!t.length;return n&&t.some(a=>!r[a.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{const a=e.getIsSelected();t.setRowSelection(i=>{var o;if(r=typeof r<"u"?r:!a,e.getCanSelect()&&a===r)return i;const c={...i};return f1(c,e.id,r,(o=n?.selectChildren)!=null?o:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return bE(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return h1(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return h1(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return n=>{var a;r&&e.toggleSelected((a=n.target)==null?void 0:a.checked)}}}},f1=(e,t,r,n,a)=>{var i;const o=a.getRow(t,!0);r?(o.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),o.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>f1(e,c.id,r,n,a))};function k_(e,t){const r=e.getState().rowSelection,n=[],a={},i=function(o,c){return o.map(d=>{var f;const m=bE(d,r);if(m&&(n.push(d),a[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:i(d.subRows)}),m)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:n,rowsById:a}}function bE(e,t){var r;return(r=t[e.id])!=null?r:!1}function h1(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let a=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!a)&&(o.getCanSelect()&&(bE(o,t)?i=!0:a=!1),o.subRows&&o.subRows.length)){const c=h1(o,t);c==="all"?i=!0:(c==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const m1=/([0-9]+)/gm,Kse=(e,t,r)=>pU(El(e.getValue(r)).toLowerCase(),El(t.getValue(r)).toLowerCase()),Gse=(e,t,r)=>pU(El(e.getValue(r)),El(t.getValue(r))),Yse=(e,t,r)=>wE(El(e.getValue(r)).toLowerCase(),El(t.getValue(r)).toLowerCase()),Zse=(e,t,r)=>wE(El(e.getValue(r)),El(t.getValue(r))),Xse=(e,t,r)=>{const n=e.getValue(r),a=t.getValue(r);return n>a?1:n<a?-1:0},Qse=(e,t,r)=>wE(e.getValue(r),t.getValue(r));function wE(e,t){return e===t?0:e>t?1:-1}function El(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function pU(e,t){const r=e.split(m1).filter(Boolean),n=t.split(m1).filter(Boolean);for(;r.length&&n.length;){const a=r.shift(),i=n.shift(),o=parseInt(a,10),c=parseInt(i,10),d=[o,c].sort();if(isNaN(d[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(d[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return r.length-n.length}const ih={alphanumeric:Kse,alphanumericCaseSensitive:Gse,text:Yse,textCaseSensitive:Zse,datetime:Xse,basic:Qse},Jse={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Za("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const a of r){const i=a?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return ih.datetime;if(typeof i=="string"&&(n=!0,i.split(m1).length>1))return ih.alphanumeric}return n?ih.text:ih.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return bx(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:ih[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{const a=e.getNextSortingOrder(),i=typeof r<"u"&&r!==null;t.setSorting(o=>{const c=o?.find(g=>g.id===e.id),d=o?.findIndex(g=>g.id===e.id);let f=[],m,p=i?r:a==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&n?c?m="toggle":m="add":o!=null&&o.length&&d!==o.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(i||a||(m="remove")),m==="add"){var y;f=[...o,{id:e.id,desc:p}],f.splice(0,f.length-((y=t.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else m==="toggle"?f=o.map(g=>g.id===e.id?{...g,desc:p}:g):m==="remove"?f=o.filter(g=>g.id!==e.id):f=[{id:e.id,desc:p}];return f})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,a;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(a=t.options.enableMultiRemove)!=null)||a)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const n=(r=t.getState().sorting)==null?void 0:r.find(a=>a.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},eoe=[wse,Fse,Mse,Ise,_se,jse,Use,Bse,Jse,Pse,qse,Vse,Hse,Wse,Lse];function toe(e){var t,r;const n=[...eoe,...(t=e._features)!=null?t:[]];let a={_features:n};const i=a._features.reduce((y,g)=>Object.assign(y,g.getDefaultOptions==null?void 0:g.getDefaultOptions(a)),{}),o=y=>a.options.mergeOptions?a.options.mergeOptions(i,y):{...i,...y};let d={...{},...(r=e.initialState)!=null?r:{}};a._features.forEach(y=>{var g;d=(g=y.getInitialState==null?void 0:y.getInitialState(d))!=null?g:d});const f=[];let m=!1;const p={_features:n,options:{...i,...e},initialState:d,_queue:y=>{f.push(y),m||(m=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();m=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{a.setState(a.initialState)},setOptions:y=>{const g=xl(y,a.options);a.options=o(g)},getState:()=>a.options.state,setState:y=>{a.options.onStateChange==null||a.options.onStateChange(y)},_getRowId:(y,g,b)=>{var w;return(w=a.options.getRowId==null?void 0:a.options.getRowId(y,g,b))!=null?w:`${b?[b.id,g].join("."):g}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(y,g)=>{let b=(g?a.getPrePaginationRowModel():a.getRowModel()).rowsById[y];if(!b&&(b=a.getCoreRowModel().rowsById[y],!b))throw new Error;return b},_getDefaultColumnDef:ct(()=>[a.options.defaultColumn],y=>{var g;return y=(g=y)!=null?g:{},{header:b=>{const w=b.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:b=>{var w,_;return(w=(_=b.renderValue())==null||_.toString==null?void 0:_.toString())!=null?w:null},...a._features.reduce((b,w)=>Object.assign(b,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...y}},ut(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:ct(()=>[a._getColumnDefs()],y=>{const g=function(b,w,_){return _===void 0&&(_=0),b.map(j=>{const E=bse(a,j,_,w),N=j;return E.columns=N.columns?g(N.columns,E,_+1):[],E})};return g(y)},ut(e,"debugColumns")),getAllFlatColumns:ct(()=>[a.getAllColumns()],y=>y.flatMap(g=>g.getFlatColumns()),ut(e,"debugColumns")),_getAllFlatColumnsById:ct(()=>[a.getAllFlatColumns()],y=>y.reduce((g,b)=>(g[b.id]=b,g),{}),ut(e,"debugColumns")),getAllLeafColumns:ct(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(y,g)=>{let b=y.flatMap(w=>w.getLeafColumns());return g(b)},ut(e,"debugColumns")),getColumn:y=>a._getAllFlatColumnsById()[y]};Object.assign(a,p);for(let y=0;y<a._features.length;y++){const g=a._features[y];g==null||g.createTable==null||g.createTable(a)}return a}function Vd(){return e=>ct(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(a,i,o){i===void 0&&(i=0);const c=[];for(let f=0;f<a.length;f++){const m=yE(e,e._getRowId(a[f],f,o),a[f],f,i,void 0,o?.id);if(r.flatRows.push(m),r.rowsById[m.id]=m,c.push(m),e.options.getSubRows){var d;m.originalSubRows=e.options.getSubRows(a[f],f),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=n(m.originalSubRows,i+1,m))}}return c};return r.rows=n(t),r},ut(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function roe(e){const t=[],r=n=>{var a;t.push(n),(a=n.subRows)!=null&&a.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return e.rows.forEach(r),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function noe(e,t,r){return r.options.filterFromLeafRows?aoe(e,t,r):ioe(e,t,r)}function aoe(e,t,r){var n;const a=[],i={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let y=0;y<d.length;y++){var p;let g=d[y];const b=yE(r,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(b.columnFilters=g.columnFilters,(p=g.subRows)!=null&&p.length&&f<o){if(b.subRows=c(g.subRows,f+1),g=b,t(g)&&!b.subRows.length){m.push(g),i[g.id]=g,a.push(g);continue}if(t(g)||b.subRows.length){m.push(g),i[g.id]=g,a.push(g);continue}}else g=b,t(g)&&(m.push(g),i[g.id]=g,a.push(g))}return m};return{rows:c(e),flatRows:a,rowsById:i}}function ioe(e,t,r){var n;const a=[],i={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let y=0;y<d.length;y++){let g=d[y];if(t(g)){var p;if((p=g.subRows)!=null&&p.length&&f<o){const w=yE(r,g.id,g.original,g.index,g.depth,void 0,g.parentId);w.subRows=c(g.subRows,f+1),g=w}m.push(g),a.push(g),i[g.id]=g}}return m};return{rows:c(e),flatRows:a,rowsById:i}}function Cm(){return e=>ct(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{if(!t.rows.length||!(r!=null&&r.length)&&!n){for(let y=0;y<t.flatRows.length;y++)t.flatRows[y].columnFilters={},t.flatRows[y].columnFiltersMeta={};return t}const a=[],i=[];(r??[]).forEach(y=>{var g;const b=e.getColumn(y.id);if(!b)return;const w=b.getFilterFn();w&&a.push({id:y.id,filterFn:w,resolvedValue:(g=w.resolveFilterValue==null?void 0:w.resolveFilterValue(y.value))!=null?g:y.value})});const o=(r??[]).map(y=>y.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());n&&c&&d.length&&(o.push("__global__"),d.forEach(y=>{var g;i.push({id:y.id,filterFn:c,resolvedValue:(g=c.resolveFilterValue==null?void 0:c.resolveFilterValue(n))!=null?g:n})}));let f,m;for(let y=0;y<t.flatRows.length;y++){const g=t.flatRows[y];if(g.columnFilters={},a.length)for(let b=0;b<a.length;b++){f=a[b];const w=f.id;g.columnFilters[w]=f.filterFn(g,w,f.resolvedValue,_=>{g.columnFiltersMeta[w]=_})}if(i.length){for(let b=0;b<i.length;b++){m=i[b];const w=m.id;if(m.filterFn(g,w,m.resolvedValue,_=>{g.columnFiltersMeta[w]=_})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const p=y=>{for(let g=0;g<o.length;g++)if(y.columnFilters[o[g]]===!1)return!1;return!0};return noe(t.rows,p,e)},ut(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Hd(e){return t=>ct(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:a,pageIndex:i}=r;let{rows:o,flatRows:c,rowsById:d}=n;const f=a*i,m=f+a;o=o.slice(f,m);let p;t.options.paginateExpandedRows?p={rows:o,flatRows:c,rowsById:d}:p=roe({rows:o,flatRows:c,rowsById:d}),p.flatRows=[];const y=g=>{p.flatRows.push(g),g.subRows.length&&g.subRows.forEach(y)};return p.rows.forEach(y),p},ut(t.options,"debugTable"))}function Wd(){return e=>ct(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;const n=e.getState().sorting,a=[],i=n.filter(d=>{var f;return(f=e.getColumn(d.id))==null?void 0:f.getCanSort()}),o={};i.forEach(d=>{const f=e.getColumn(d.id);f&&(o[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const c=d=>{const f=d.map(m=>({...m}));return f.sort((m,p)=>{for(let g=0;g<i.length;g+=1){var y;const b=i[g],w=o[b.id],_=w.sortUndefined,j=(y=b?.desc)!=null?y:!1;let E=0;if(_){const N=m.getValue(b.id),k=p.getValue(b.id),O=N===void 0,T=k===void 0;if(O||T){if(_==="first")return O?-1:1;if(_==="last")return O?1:-1;E=O&&T?0:O?_:-_}}if(E===0&&(E=w.sortingFn(m,p,b.id)),E!==0)return j&&(E*=-1),w.invertSorting&&(E*=-1),E}return m.index-p.index}),f.forEach(m=>{var p;a.push(m),(p=m.subRows)!=null&&p.length&&(m.subRows=c(m.subRows))}),f};return{rows:c(r.rows),flatRows:a,rowsById:r.rowsById}},ut(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function Ei(e,t){return e?soe(e)?x.createElement(e,t):e:null}function soe(e){return ooe(e)||typeof e=="function"||loe(e)}function ooe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function loe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Kd(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=x.useState(()=>({current:toe(t)})),[n,a]=x.useState(()=>r.current.initialState);return r.current.setOptions(i=>({...i,...e,state:{...n,...e.state},onStateChange:o=>{a(o),e.onStateChange==null||e.onStateChange(o)}})),r.current}function p1(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ie(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function coe(e,t){const r=x.createContext(t),n=i=>{const{children:o,...c}=i,d=x.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ca(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o),d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,uoe(a,...t)]}function uoe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function QD(e){const t=doe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(hoe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function doe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=poe(a),c=moe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var foe=Symbol("radix.slottable");function hoe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===foe}function moe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function poe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _E(e){const t=e+"CollectionProvider",[r,n]=ca(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:_,children:j}=w,E=re.useRef(null),N=re.useRef(new Map).current;return s.jsx(a,{scope:_,itemMap:N,collectionRef:E,children:j})};o.displayName=t;const c=e+"CollectionSlot",d=QD(c),f=re.forwardRef((w,_)=>{const{scope:j,children:E}=w,N=i(c,j),k=jt(_,N.collectionRef);return s.jsx(d,{ref:k,children:E})});f.displayName=c;const m=e+"CollectionItemSlot",p="data-radix-collection-item",y=QD(m),g=re.forwardRef((w,_)=>{const{scope:j,children:E,...N}=w,k=re.useRef(null),O=jt(_,k),T=i(m,j);return re.useEffect(()=>(T.itemMap.set(k,{ref:k,...N}),()=>void T.itemMap.delete(k))),s.jsx(y,{[p]:"",ref:O,children:E})});g.displayName=m;function b(w){const _=i(e+"CollectionConsumer",w);return re.useCallback(()=>{const E=_.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((T,R)=>N.indexOf(T.ref.current)-N.indexOf(R.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:f,ItemSlot:g},b,n]}var goe=x.createContext(void 0);function Gd(e){const t=x.useContext(goe);return e||t||"ltr"}function voe(e){const t=yoe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(boe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yoe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=_oe(a),c=woe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xoe=Symbol("radix.slottable");function boe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xoe}function woe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _oe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var joe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],it=joe.reduce((e,t)=>{const r=voe(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gU(e,t){e&&Jc.flushSync(()=>e.dispatchEvent(t))}function On(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function Soe(e,t=globalThis?.document){const r=On(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Coe="DismissableLayer",g1="dismissableLayer.update",Eoe="dismissableLayer.pointerDownOutside",Noe="dismissableLayer.focusOutside",JD,vU=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Em=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,f=x.useContext(vU),[m,p]=x.useState(null),y=m?.ownerDocument??globalThis?.document,[,g]=x.useState({}),b=jt(t,R=>p(R)),w=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(_),E=m?w.indexOf(m):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,k=E>=j,O=Aoe(R=>{const A=R.target,P=[...f.branches].some(L=>L.contains(A));!k||P||(a?.(R),o?.(R),R.defaultPrevented||c?.())},y),T=Roe(R=>{const A=R.target;[...f.branches].some(L=>L.contains(A))||(i?.(R),o?.(R),R.defaultPrevented||c?.())},y);return Soe(R=>{E===f.layers.size-1&&(n?.(R),!R.defaultPrevented&&c&&(R.preventDefault(),c()))},y),x.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(JD=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),eM(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=JD)}},[m,y,r,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),eM())},[m,f]),x.useEffect(()=>{const R=()=>g({});return document.addEventListener(g1,R),()=>document.removeEventListener(g1,R)},[]),s.jsx(it.div,{...d,ref:b,style:{pointerEvents:N?k?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,T.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,O.onPointerDownCapture)})});Em.displayName=Coe;var koe="DismissableLayerBranch",Ooe=x.forwardRef((e,t)=>{const r=x.useContext(vU),n=x.useRef(null),a=jt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(it.div,{...e,ref:a})});Ooe.displayName=koe;function Aoe(e,t=globalThis?.document){const r=On(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){yU(Eoe,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Roe(e,t=globalThis?.document){const r=On(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&yU(Noe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eM(){const e=new CustomEvent(g1);document.dispatchEvent(e)}function yU(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?gU(a,i):a.dispatchEvent(i)}var O_=0;function wx(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tM()),document.body.insertAdjacentElement("beforeend",e[1]??tM()),O_++,()=>{O_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),O_--}},[])}function tM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var A_="focusScope.autoFocusOnMount",R_="focusScope.autoFocusOnUnmount",rM={bubbles:!1,cancelable:!0},Toe="FocusScope",Nm=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[c,d]=x.useState(null),f=On(a),m=On(i),p=x.useRef(null),y=jt(t,w=>d(w)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(N){if(g.paused||!c)return;const k=N.target;c.contains(k)?p.current=k:hl(p.current,{select:!0})},_=function(N){if(g.paused||!c)return;const k=N.relatedTarget;k!==null&&(c.contains(k)||hl(p.current,{select:!0}))},j=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&hl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const E=new MutationObserver(j);return c&&E.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),E.disconnect()}}},[n,c,g.paused]),x.useEffect(()=>{if(c){aM.add(g);const w=document.activeElement;if(!c.contains(w)){const j=new CustomEvent(A_,rM);c.addEventListener(A_,f),c.dispatchEvent(j),j.defaultPrevented||(Poe(Loe(xU(c)),{select:!0}),document.activeElement===w&&hl(c))}return()=>{c.removeEventListener(A_,f),setTimeout(()=>{const j=new CustomEvent(R_,rM);c.addEventListener(R_,m),c.dispatchEvent(j),j.defaultPrevented||hl(w??document.body,{select:!0}),c.removeEventListener(R_,m),aM.remove(g)},0)}}},[c,f,m,g]);const b=x.useCallback(w=>{if(!r&&!n||g.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,j=document.activeElement;if(_&&j){const E=w.currentTarget,[N,k]=Doe(E);N&&k?!w.shiftKey&&j===k?(w.preventDefault(),r&&hl(N,{select:!0})):w.shiftKey&&j===N&&(w.preventDefault(),r&&hl(k,{select:!0})):j===E&&w.preventDefault()}},[r,n,g.paused]);return s.jsx(it.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});Nm.displayName=Toe;function Poe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(hl(n,{select:t}),document.activeElement!==r)return}function Doe(e){const t=xU(e),r=nM(t,e),n=nM(t.reverse(),e);return[r,n]}function xU(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function nM(e,t){for(const r of e)if(!Moe(r,{upTo:t}))return r}function Moe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ioe(e){return e instanceof HTMLInputElement&&"select"in e}function hl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ioe(e)&&t&&e.select()}}var aM=$oe();function $oe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=iM(e,t),e.unshift(t)},remove(t){e=iM(e,t),e[0]?.resume()}}}function iM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Loe(e){return e.filter(t=>t.tagName!=="A")}var un=globalThis?.document?x.useLayoutEffect:()=>{},zoe=ax[" useId ".trim().toString()]||(()=>{}),Foe=0;function Zi(e){const[t,r]=x.useState(zoe());return un(()=>{r(n=>n??String(Foe++))},[e]),t?`radix-${t}`:""}const Uoe=["top","right","bottom","left"],Nl=Math.min,Ua=Math.max,Bv=Math.round,Ug=Math.floor,bs=e=>({x:e,y:e}),Boe={left:"right",right:"left",bottom:"top",top:"bottom"},qoe={start:"end",end:"start"};function v1(e,t,r){return Ua(e,Nl(t,r))}function xo(e,t){return typeof e=="function"?e(t):e}function bo(e){return e.split("-")[0]}function Yd(e){return e.split("-")[1]}function jE(e){return e==="x"?"y":"x"}function SE(e){return e==="y"?"height":"width"}const Voe=new Set(["top","bottom"]);function vs(e){return Voe.has(bo(e))?"y":"x"}function CE(e){return jE(vs(e))}function Hoe(e,t,r){r===void 0&&(r=!1);const n=Yd(e),a=CE(e),i=SE(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=qv(o)),[o,qv(o)]}function Woe(e){const t=qv(e);return[y1(e),t,y1(t)]}function y1(e){return e.replace(/start|end/g,t=>qoe[t])}const sM=["left","right"],oM=["right","left"],Koe=["top","bottom"],Goe=["bottom","top"];function Yoe(e,t,r){switch(e){case"top":case"bottom":return r?t?oM:sM:t?sM:oM;case"left":case"right":return t?Koe:Goe;default:return[]}}function Zoe(e,t,r,n){const a=Yd(e);let i=Yoe(bo(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(y1)))),i}function qv(e){return e.replace(/left|right|bottom|top/g,t=>Boe[t])}function Xoe(e){return{top:0,right:0,bottom:0,left:0,...e}}function bU(e){return typeof e!="number"?Xoe(e):{top:e,right:e,bottom:e,left:e}}function Vv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function lM(e,t,r){let{reference:n,floating:a}=e;const i=vs(t),o=CE(t),c=SE(o),d=bo(t),f=i==="y",m=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,y=n[c]/2-a[c]/2;let g;switch(d){case"top":g={x:m,y:n.y-a.height};break;case"bottom":g={x:m,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:p};break;case"left":g={x:n.x-a.width,y:p};break;default:g={x:n.x,y:n.y}}switch(Yd(t)){case"start":g[o]-=y*(r&&f?-1:1);break;case"end":g[o]+=y*(r&&f?-1:1);break}return g}const Qoe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:p}=lM(f,n,d),y=n,g={},b=0;for(let w=0;w<c.length;w++){const{name:_,fn:j}=c[w],{x:E,y:N,data:k,reset:O}=await j({x:m,y:p,initialPlacement:n,placement:y,strategy:a,middlewareData:g,rects:f,platform:o,elements:{reference:e,floating:t}});m=E??m,p=N??p,g={...g,[_]:{...g[_],...k}},O&&b<=50&&(b++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(f=O.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):O.rects),{x:m,y:p}=lM(f,y,d)),w=-1)}return{x:m,y:p,placement:y,strategy:a,middlewareData:g}};async function qh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:y=!1,padding:g=0}=xo(t,e),b=bU(g),_=c[y?p==="floating"?"reference":"floating":p],j=Vv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),E=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},O=Vv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:E,offsetParent:N,strategy:d}):E);return{top:(j.top-O.top+b.top)/k.y,bottom:(O.bottom-j.bottom+b.bottom)/k.y,left:(j.left-O.left+b.left)/k.x,right:(O.right-j.right+b.right)/k.x}}const Joe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:f,padding:m=0}=xo(e,t)||{};if(f==null)return{};const p=bU(m),y={x:r,y:n},g=CE(a),b=SE(g),w=await o.getDimensions(f),_=g==="y",j=_?"top":"left",E=_?"bottom":"right",N=_?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[g]-y[g]-i.floating[b],O=y[g]-i.reference[g],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let R=T?T[N]:0;(!R||!await(o.isElement==null?void 0:o.isElement(T)))&&(R=c.floating[N]||i.floating[b]);const A=k/2-O/2,P=R/2-w[b]/2-1,L=Nl(p[j],P),M=Nl(p[E],P),$=L,U=R-w[b]-M,X=R/2-w[b]/2+A,Y=v1($,X,U),F=!d.arrow&&Yd(a)!=null&&X!==Y&&i.reference[b]/2-(X<$?L:M)-w[b]/2<0,H=F?X<$?X-$:X-U:0;return{[g]:y[g]+H,data:{[g]:Y,centerOffset:X-Y-H,...F&&{alignmentOffset:H}},reset:F}}}),ele=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,..._}=xo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=bo(a),E=vs(c),N=bo(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(f.floating)),O=y||(N||!w?[qv(c)]:Woe(c)),T=b!=="none";!y&&T&&O.push(...Zoe(c,w,b,k));const R=[c,...O],A=await qh(t,_),P=[];let L=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&P.push(A[j]),p){const X=Hoe(a,o,k);P.push(A[X[0]],A[X[1]])}if(L=[...L,{placement:a,overflows:P}],!P.every(X=>X<=0)){var M,$;const X=(((M=i.flip)==null?void 0:M.index)||0)+1,Y=R[X];if(Y&&(!(p==="alignment"?E!==vs(Y):!1)||L.every(I=>vs(I.placement)===E?I.overflows[0]>0:!0)))return{data:{index:X,overflows:L},reset:{placement:Y}};let F=($=L.filter(H=>H.overflows[0]<=0).sort((H,I)=>H.overflows[1]-I.overflows[1])[0])==null?void 0:$.placement;if(!F)switch(g){case"bestFit":{var U;const H=(U=L.filter(I=>{if(T){const q=vs(I.placement);return q===E||q==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(q=>q>0).reduce((q,ue)=>q+ue,0)]).sort((I,q)=>I[1]-q[1])[0])==null?void 0:U[0];H&&(F=H);break}case"initialPlacement":F=c;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function cM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function uM(e){return Uoe.some(t=>e[t]>=0)}const tle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=xo(e,t);switch(n){case"referenceHidden":{const i=await qh(t,{...a,elementContext:"reference"}),o=cM(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:uM(o)}}}case"escaped":{const i=await qh(t,{...a,altBoundary:!0}),o=cM(i,r.floating);return{data:{escapedOffsets:o,escaped:uM(o)}}}default:return{}}}}},wU=new Set(["left","top"]);async function rle(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=bo(r),c=Yd(r),d=vs(r)==="y",f=wU.has(o)?-1:1,m=i&&d?-1:1,p=xo(t,e);let{mainAxis:y,crossAxis:g,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof b=="number"&&(g=c==="end"?b*-1:b),d?{x:g*m,y:y*f}:{x:y*f,y:g*m}}const nle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=t,d=await rle(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},ale=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:_=>{let{x:j,y:E}=_;return{x:j,y:E}}},...d}=xo(e,t),f={x:r,y:n},m=await qh(t,d),p=vs(bo(a)),y=jE(p);let g=f[y],b=f[p];if(i){const _=y==="y"?"top":"left",j=y==="y"?"bottom":"right",E=g+m[_],N=g-m[j];g=v1(E,g,N)}if(o){const _=p==="y"?"top":"left",j=p==="y"?"bottom":"right",E=b+m[_],N=b-m[j];b=v1(E,b,N)}const w=c.fn({...t,[y]:g,[p]:b});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:i,[p]:o}}}}}},ile=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=xo(e,t),m={x:r,y:n},p=vs(a),y=jE(p);let g=m[y],b=m[p];const w=xo(c,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const N=y==="y"?"height":"width",k=i.reference[y]-i.floating[N]+_.mainAxis,O=i.reference[y]+i.reference[N]-_.mainAxis;g<k?g=k:g>O&&(g=O)}if(f){var j,E;const N=y==="y"?"width":"height",k=wU.has(bo(a)),O=i.reference[p]-i.floating[N]+(k&&((j=o.offset)==null?void 0:j[p])||0)+(k?0:_.crossAxis),T=i.reference[p]+i.reference[N]+(k?0:((E=o.offset)==null?void 0:E[p])||0)-(k?_.crossAxis:0);b<O?b=O:b>T&&(b=T)}return{[y]:g,[p]:b}}}},sle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...f}=xo(e,t),m=await qh(t,f),p=bo(a),y=Yd(a),g=vs(a)==="y",{width:b,height:w}=i.floating;let _,j;p==="top"||p==="bottom"?(_=p,j=y===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(j=p,_=y==="end"?"top":"bottom");const E=w-m.top-m.bottom,N=b-m.left-m.right,k=Nl(w-m[_],E),O=Nl(b-m[j],N),T=!t.middlewareData.shift;let R=k,A=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=N),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(R=E),T&&!y){const L=Ua(m.left,0),M=Ua(m.right,0),$=Ua(m.top,0),U=Ua(m.bottom,0);g?A=b-2*(L!==0||M!==0?L+M:Ua(m.left,m.right)):R=w-2*($!==0||U!==0?$+U:Ua(m.top,m.bottom))}await d({...t,availableWidth:A,availableHeight:R});const P=await o.getDimensions(c.floating);return b!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function _x(){return typeof window<"u"}function Zd(e){return _U(e)?(e.nodeName||"").toLowerCase():"#document"}function Ka(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ts(e){var t;return(t=(_U(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _U(e){return _x()?e instanceof Node||e instanceof Ka(e).Node:!1}function Qi(e){return _x()?e instanceof Element||e instanceof Ka(e).Element:!1}function js(e){return _x()?e instanceof HTMLElement||e instanceof Ka(e).HTMLElement:!1}function dM(e){return!_x()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ka(e).ShadowRoot}const ole=new Set(["inline","contents"]);function km(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ji(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!ole.has(a)}const lle=new Set(["table","td","th"]);function cle(e){return lle.has(Zd(e))}const ule=[":popover-open",":modal"];function jx(e){return ule.some(t=>{try{return e.matches(t)}catch{return!1}})}const dle=["transform","translate","scale","rotate","perspective"],fle=["transform","translate","scale","rotate","perspective","filter"],hle=["paint","layout","strict","content"];function EE(e){const t=NE(),r=Qi(e)?Ji(e):e;return dle.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fle.some(n=>(r.willChange||"").includes(n))||hle.some(n=>(r.contain||"").includes(n))}function mle(e){let t=kl(e);for(;js(t)&&!Ed(t);){if(EE(t))return t;if(jx(t))return null;t=kl(t)}return null}function NE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ple=new Set(["html","body","#document"]);function Ed(e){return ple.has(Zd(e))}function Ji(e){return Ka(e).getComputedStyle(e)}function Sx(e){return Qi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function kl(e){if(Zd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dM(e)&&e.host||Ts(e);return dM(t)?t.host:t}function jU(e){const t=kl(e);return Ed(t)?e.ownerDocument?e.ownerDocument.body:e.body:js(t)&&km(t)?t:jU(t)}function Vh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=jU(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ka(a);if(i){const c=x1(o);return t.concat(o,o.visualViewport||[],km(a)?a:[],c&&r?Vh(c):[])}return t.concat(a,Vh(a,[],r))}function x1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function SU(e){const t=Ji(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=js(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=Bv(r)!==i||Bv(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function kE(e){return Qi(e)?e:e.contextElement}function yd(e){const t=kE(e);if(!js(t))return bs(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=SU(t);let o=(i?Bv(r.width):r.width)/n,c=(i?Bv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const gle=bs(0);function CU(e){const t=Ka(e);return!NE()||!t.visualViewport?gle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vle(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ka(e)?!1:t}function zc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=kE(e);let o=bs(1);t&&(n?Qi(n)&&(o=yd(n)):o=yd(e));const c=vle(i,r,n)?CU(i):bs(0);let d=(a.left+c.x)/o.x,f=(a.top+c.y)/o.y,m=a.width/o.x,p=a.height/o.y;if(i){const y=Ka(i),g=n&&Qi(n)?Ka(n):n;let b=y,w=x1(b);for(;w&&n&&g!==b;){const _=yd(w),j=w.getBoundingClientRect(),E=Ji(w),N=j.left+(w.clientLeft+parseFloat(E.paddingLeft))*_.x,k=j.top+(w.clientTop+parseFloat(E.paddingTop))*_.y;d*=_.x,f*=_.y,m*=_.x,p*=_.y,d+=N,f+=k,b=Ka(w),w=x1(b)}}return Vv({width:m,height:p,x:d,y:f})}function Cx(e,t){const r=Sx(e).scrollLeft;return t?t.left+r:zc(Ts(e)).left+r}function EU(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Cx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function yle(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ts(n),c=t?jx(t.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},f=bs(1);const m=bs(0),p=js(n);if((p||!p&&!i)&&((Zd(n)!=="body"||km(o))&&(d=Sx(n)),js(n))){const g=zc(n);f=yd(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}const y=o&&!p&&!i?EU(o,d):bs(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+y.x,y:r.y*f.y-d.scrollTop*f.y+m.y+y.y}}function xle(e){return Array.from(e.getClientRects())}function ble(e){const t=Ts(e),r=Sx(e),n=e.ownerDocument.body,a=Ua(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ua(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Cx(e);const c=-r.scrollTop;return Ji(n).direction==="rtl"&&(o+=Ua(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}const fM=25;function wle(e,t){const r=Ka(e),n=Ts(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const m=NE();(!m||m&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const f=Cx(n);if(f<=0){const m=n.ownerDocument,p=m.body,y=getComputedStyle(p),g=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(n.clientWidth-p.clientWidth-g);b<=fM&&(i-=b)}else f<=fM&&(i+=f);return{width:i,height:o,x:c,y:d}}const _le=new Set(["absolute","fixed"]);function jle(e,t){const r=zc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=js(e)?yd(e):bs(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:o,height:c,x:d,y:f}}function hM(e,t,r){let n;if(t==="viewport")n=wle(e,r);else if(t==="document")n=ble(Ts(e));else if(Qi(t))n=jle(t,r);else{const a=CU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Vv(n)}function NU(e,t){const r=kl(e);return r===t||!Qi(r)||Ed(r)?!1:Ji(r).position==="fixed"||NU(r,t)}function Sle(e,t){const r=t.get(e);if(r)return r;let n=Vh(e,[],!1).filter(c=>Qi(c)&&Zd(c)!=="body"),a=null;const i=Ji(e).position==="fixed";let o=i?kl(e):e;for(;Qi(o)&&!Ed(o);){const c=Ji(o),d=EE(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&_le.has(a.position)||km(o)&&!d&&NU(e,o))?n=n.filter(m=>m!==o):a=c,o=kl(o)}return t.set(e,n),n}function Cle(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?jx(t)?[]:Sle(t,this._c):[].concat(r),n],c=o[0],d=o.reduce((f,m)=>{const p=hM(t,m,a);return f.top=Ua(p.top,f.top),f.right=Nl(p.right,f.right),f.bottom=Nl(p.bottom,f.bottom),f.left=Ua(p.left,f.left),f},hM(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ele(e){const{width:t,height:r}=SU(e);return{width:t,height:r}}function Nle(e,t,r){const n=js(t),a=Ts(t),i=r==="fixed",o=zc(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=bs(0);function f(){d.x=Cx(a)}if(n||!n&&!i)if((Zd(t)!=="body"||km(a))&&(c=Sx(t)),n){const g=zc(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&f();i&&!n&&a&&f();const m=a&&!n&&!i?EU(a,c):bs(0),p=o.left+c.scrollLeft-d.x-m.x,y=o.top+c.scrollTop-d.y-m.y;return{x:p,y,width:o.width,height:o.height}}function T_(e){return Ji(e).position==="static"}function mM(e,t){if(!js(e)||Ji(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ts(e)===r&&(r=r.ownerDocument.body),r}function kU(e,t){const r=Ka(e);if(jx(e))return r;if(!js(e)){let a=kl(e);for(;a&&!Ed(a);){if(Qi(a)&&!T_(a))return a;a=kl(a)}return r}let n=mM(e,t);for(;n&&cle(n)&&T_(n);)n=mM(n,t);return n&&Ed(n)&&T_(n)&&!EE(n)?r:n||mle(e)||r}const kle=async function(e){const t=this.getOffsetParent||kU,r=this.getDimensions,n=await r(e.floating);return{reference:Nle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Ole(e){return Ji(e).direction==="rtl"}const Ale={convertOffsetParentRelativeRectToViewportRelativeRect:yle,getDocumentElement:Ts,getClippingRect:Cle,getOffsetParent:kU,getElementRects:kle,getClientRects:xle,getDimensions:Ele,getScale:yd,isElement:Qi,isRTL:Ole};function OU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Rle(e,t){let r=null,n;const a=Ts(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:y,height:g}=f;if(c||t(),!y||!g)return;const b=Ug(p),w=Ug(a.clientWidth-(m+y)),_=Ug(a.clientHeight-(p+g)),j=Ug(m),N={rootMargin:-b+"px "+-w+"px "+-_+"px "+-j+"px",threshold:Ua(0,Nl(1,d))||1};let k=!0;function O(T){const R=T[0].intersectionRatio;if(R!==d){if(!k)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!OU(f,e.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(O,{...N,root:a.ownerDocument})}catch{r=new IntersectionObserver(O,N)}r.observe(e)}return o(!0),i}function Tle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=kE(e),m=a||i?[...f?Vh(f):[],...Vh(t)]:[];m.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const p=f&&c?Rle(f,r):null;let y=-1,g=null;o&&(g=new ResizeObserver(j=>{let[E]=j;E&&E.target===f&&g&&(g.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=g)==null||N.observe(t)})),r()}),f&&!d&&g.observe(f),g.observe(t));let b,w=d?zc(e):null;d&&_();function _(){const j=zc(e);w&&!OU(w,j)&&r(),w=j,b=requestAnimationFrame(_)}return r(),()=>{var j;m.forEach(E=>{a&&E.removeEventListener("scroll",r),i&&E.removeEventListener("resize",r)}),p?.(),(j=g)==null||j.disconnect(),g=null,d&&cancelAnimationFrame(b)}}const Ple=nle,Dle=ale,Mle=ele,Ile=sle,$le=tle,pM=Joe,Lle=ile,zle=(e,t,r)=>{const n=new Map,a={platform:Ale,...r},i={...a.platform,_c:n};return Qoe(e,t,{...a,platform:i})};var Fle=typeof document<"u",Ule=function(){},mv=Fle?x.useLayoutEffect:Ule;function Hv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Hv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Hv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function AU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gM(e,t){const r=AU(e);return Math.round(t*r)/r}function P_(e){const t=x.useRef(e);return mv(()=>{t.current=e}),t}function Ble(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,g]=x.useState(n);Hv(y,n)||g(n);const[b,w]=x.useState(null),[_,j]=x.useState(null),E=x.useCallback(I=>{I!==T.current&&(T.current=I,w(I))},[]),N=x.useCallback(I=>{I!==R.current&&(R.current=I,j(I))},[]),k=i||b,O=o||_,T=x.useRef(null),R=x.useRef(null),A=x.useRef(m),P=d!=null,L=P_(d),M=P_(a),$=P_(f),U=x.useCallback(()=>{if(!T.current||!R.current)return;const I={placement:t,strategy:r,middleware:y};M.current&&(I.platform=M.current),zle(T.current,R.current,I).then(q=>{const ue={...q,isPositioned:$.current!==!1};X.current&&!Hv(A.current,ue)&&(A.current=ue,Jc.flushSync(()=>{p(ue)}))})},[y,t,r,M,$]);mv(()=>{f===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[f]);const X=x.useRef(!1);mv(()=>(X.current=!0,()=>{X.current=!1}),[]),mv(()=>{if(k&&(T.current=k),O&&(R.current=O),k&&O){if(L.current)return L.current(k,O,U);U()}},[k,O,U,L,P]);const Y=x.useMemo(()=>({reference:T,floating:R,setReference:E,setFloating:N}),[E,N]),F=x.useMemo(()=>({reference:k,floating:O}),[k,O]),H=x.useMemo(()=>{const I={position:r,left:0,top:0};if(!F.floating)return I;const q=gM(F.floating,m.x),ue=gM(F.floating,m.y);return c?{...I,transform:"translate("+q+"px, "+ue+"px)",...AU(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:ue}},[r,c,F.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:U,refs:Y,elements:F,floatingStyles:H}),[m,U,Y,F,H])}const qle=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?pM({element:n.current,padding:a}).fn(r):{}:n?pM({element:n,padding:a}).fn(r):{}}}},Vle=(e,t)=>({...Ple(e),options:[e,t]}),Hle=(e,t)=>({...Dle(e),options:[e,t]}),Wle=(e,t)=>({...Lle(e),options:[e,t]}),Kle=(e,t)=>({...Mle(e),options:[e,t]}),Gle=(e,t)=>({...Ile(e),options:[e,t]}),Yle=(e,t)=>({...$le(e),options:[e,t]}),Zle=(e,t)=>({...qle(e),options:[e,t]});var Xle="Arrow",RU=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(it.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});RU.displayName=Xle;var Qle=RU;function Ex(e){const[t,r]=x.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,c=f.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var OE="Popper",[TU,Xd]=ca(OE),[Jle,PU]=TU(OE),DU=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(Jle,{scope:t,anchor:n,onAnchorChange:a,children:r})};DU.displayName=OE;var MU="PopperAnchor",IU=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=PU(MU,r),o=x.useRef(null),c=jt(t,o),d=x.useRef(null);return x.useEffect(()=>{const f=d.current;d.current=n?.current||o.current,f!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(it.div,{...a,ref:c})});IU.displayName=MU;var AE="PopperContent",[ece,tce]=TU(AE),$U=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=e,_=PU(AE,r),[j,E]=x.useState(null),N=jt(t,ee=>E(ee)),[k,O]=x.useState(null),T=Ex(k),R=T?.width??0,A=T?.height??0,P=n+(i!=="center"?"-"+i:""),L=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(f)?f:[f],$=M.length>0,U={padding:L,boundary:M.filter(nce),altBoundary:$},{refs:X,floatingStyles:Y,placement:F,isPositioned:H,middlewareData:I}=Ble({strategy:"fixed",placement:P,whileElementsMounted:(...ee)=>Tle(...ee,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[Vle({mainAxis:a+A,alignmentAxis:o}),d&&Hle({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Wle():void 0,...U}),d&&Kle({...U}),Gle({...U,apply:({elements:ee,rects:pe,availableWidth:G,availableHeight:ge})=>{const{width:ye,height:le}=pe.reference,Ue=ee.floating.style;Ue.setProperty("--radix-popper-available-width",`${G}px`),Ue.setProperty("--radix-popper-available-height",`${ge}px`),Ue.setProperty("--radix-popper-anchor-width",`${ye}px`),Ue.setProperty("--radix-popper-anchor-height",`${le}px`)}}),k&&Zle({element:k,padding:c}),ace({arrowWidth:R,arrowHeight:A}),y&&Yle({strategy:"referenceHidden",...U})]}),[q,ue]=FU(F),B=On(b);un(()=>{H&&B?.()},[H,B]);const Q=I.arrow?.x,V=I.arrow?.y,ae=I.arrow?.centerOffset!==0,[Z,ne]=x.useState();return un(()=>{j&&ne(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:H?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ece,{scope:r,placedSide:q,onArrowChange:O,arrowX:Q,arrowY:V,shouldHideArrow:ae,children:s.jsx(it.div,{"data-side":q,"data-align":ue,...w,ref:N,style:{...w.style,animation:H?void 0:"none"}})})})});$U.displayName=AE;var LU="PopperArrow",rce={top:"bottom",right:"left",bottom:"top",left:"right"},zU=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=tce(LU,n),o=rce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Qle,{...a,ref:r,style:{...a.style,display:"block"}})})});zU.displayName=LU;function nce(e){return e!==null}var ace=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[f,m]=FU(r),p={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+c/2,g=(a.arrow?.y??0)+d/2;let b="",w="";return f==="bottom"?(b=o?p:`${y}px`,w=`${-d}px`):f==="top"?(b=o?p:`${y}px`,w=`${n.floating.height+d}px`):f==="right"?(b=`${-d}px`,w=o?p:`${g}px`):f==="left"&&(b=`${n.floating.width+d}px`,w=o?p:`${g}px`),{data:{x:b,y:w}}}});function FU(e){const[t,r="center"]=e.split("-");return[t,r]}var RE=DU,Nx=IU,TE=$U,PE=zU,ice="Portal",Om=x.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=x.useState(!1);un(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?n4.createPortal(s.jsx(it.div,{...n,ref:t}),o):null});Om.displayName=ice;function sce(e){const t=oce(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(cce);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function oce(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=dce(a),c=uce(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lce=Symbol("radix.slottable");function cce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lce}function uce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function dce(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var fce=ax[" useInsertionEffect ".trim().toString()]||un;function Ss({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=hce({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const f=x.useCallback(m=>{if(c){const p=mce(m)?m(e):m;p!==e&&o.current?.(p)}else i(m)},[c,e,i,o]);return[d,f]}function hce({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return fce(()=>{i.current=t},[t]),x.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function mce(e){return typeof e=="function"}function kx(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var UU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pce="VisuallyHidden",gce=x.forwardRef((e,t)=>s.jsx(it.span,{...e,ref:t,style:{...UU,...e.style}}));gce.displayName=pce;var vce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ju=new WeakMap,Bg=new WeakMap,qg={},D_=0,BU=function(e){return e&&(e.host||BU(e.parentNode))},yce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=BU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xce=function(e,t,r,n){var a=yce(t,Array.isArray(e)?e:[e]);qg[r]||(qg[r]=new WeakMap);var i=qg[r],o=[],c=new Set,d=new Set(a),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};a.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(y){if(c.has(y))m(y);else try{var g=y.getAttribute(n),b=g!==null&&g!=="false",w=(Ju.get(y)||0)+1,_=(i.get(y)||0)+1;Ju.set(y,w),i.set(y,_),o.push(y),w===1&&b&&Bg.set(y,!0),_===1&&y.setAttribute(r,"true"),b||y.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",y,j)}})};return m(t),c.clear(),D_++,function(){o.forEach(function(p){var y=Ju.get(p)-1,g=i.get(p)-1;Ju.set(p,y),i.set(p,g),y||(Bg.has(p)||p.removeAttribute(n),Bg.delete(p)),g||p.removeAttribute(r)}),D_--,D_||(Ju=new WeakMap,Ju=new WeakMap,Bg=new WeakMap,qg={})}},Ox=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=vce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),xce(n,a,r,"aria-hidden")):function(){return null}},pv="right-scroll-bar-position",gv="width-before-scroll-bar",bce="with-scroll-bars-hidden",wce="--removed-body-scroll-bar-size";function M_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function _ce(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var jce=typeof window<"u"?x.useLayoutEffect:x.useEffect,vM=new WeakMap;function Sce(e,t){var r=_ce(null,function(n){return e.forEach(function(a){return M_(a,n)})});return jce(function(){var n=vM.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||M_(c,null)}),i.forEach(function(c){a.has(c)||M_(c,o)})}vM.set(r,e)},[e]),r}function Cce(e){return e}function Ece(e,t){t===void 0&&(t=Cce);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),r}}}};return a}function Nce(e){e===void 0&&(e={});var t=Ece(null);return t.options=xi({async:!0,ssr:!1},e),t}var qU=function(e){var t=e.sideCar,r=Tl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,xi({},r))};qU.isSideCarExport=!0;function kce(e,t){return e.useMedium(t),qU}var VU=Nce(),I_=function(){},Ax=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:I_,onWheelCapture:I_,onTouchMoveCapture:I_}),a=n[0],i=n[1],o=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,y=e.sideCar,g=e.noRelative,b=e.noIsolation,w=e.inert,_=e.allowPinchZoom,j=e.as,E=j===void 0?"div":j,N=e.gapMode,k=Tl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=y,T=Sce([r,t]),R=xi(xi({},k),a);return x.createElement(x.Fragment,null,m&&x.createElement(O,{sideCar:VU,removeScrollBar:f,shards:p,noRelative:g,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:N}),o?x.cloneElement(x.Children.only(c),xi(xi({},R),{ref:T})):x.createElement(E,xi({},R,{className:d,ref:T}),c))});Ax.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ax.classNames={fullWidth:gv,zeroRight:pv};var Oce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Ace(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Oce();return t&&e.setAttribute("nonce",t),e}function Rce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Tce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Pce=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Ace())&&(Rce(t,r),Tce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Dce=function(){var e=Pce();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},HU=function(){var e=Dce(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Mce={left:0,top:0,right:0,gap:0},$_=function(e){return parseInt(e||"",10)||0},Ice=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[$_(r),$_(n),$_(a)]},$ce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Mce;var t=Ice(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Lce=HU(),xd="data-scroll-locked",zce=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(bce,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(xd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(pv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(gv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(pv," .").concat(pv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(gv," .").concat(gv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(xd,`] {
    `).concat(wce,": ").concat(c,`px;
  }
`)},yM=function(){var e=parseInt(document.body.getAttribute(xd)||"0",10);return isFinite(e)?e:0},Fce=function(){x.useEffect(function(){return document.body.setAttribute(xd,(yM()+1).toString()),function(){var e=yM()-1;e<=0?document.body.removeAttribute(xd):document.body.setAttribute(xd,e.toString())}},[])},Uce=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Fce();var i=x.useMemo(function(){return $ce(a)},[a]);return x.createElement(Lce,{styles:zce(i,!t,a,r?"":"!important")})},b1=!1;if(typeof window<"u")try{var Vg=Object.defineProperty({},"passive",{get:function(){return b1=!0,!0}});window.addEventListener("test",Vg,Vg),window.removeEventListener("test",Vg,Vg)}catch{b1=!1}var ed=b1?{passive:!1}:!1,Bce=function(e){return e.tagName==="TEXTAREA"},WU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Bce(e)&&r[t]==="visible")},qce=function(e){return WU(e,"overflowY")},Vce=function(e){return WU(e,"overflowX")},xM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=KU(e,n);if(a){var i=GU(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},Hce=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Wce=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},KU=function(e,t){return e==="v"?qce(t):Vce(t)},GU=function(e,t){return e==="v"?Hce(t):Wce(t)},Kce=function(e,t){return e==="h"&&t==="rtl"?-1:1},Gce=function(e,t,r,n,a){var i=Kce(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,d=t.contains(c),f=!1,m=o>0,p=0,y=0;do{if(!c)break;var g=GU(e,c),b=g[0],w=g[1],_=g[2],j=w-_-i*b;(b||j)&&KU(e,c)&&(p+=j,y+=b);var E=c.parentNode;c=E&&E.nodeType===Node.DOCUMENT_FRAGMENT_NODE?E.host:E}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(p)<1||!m&&Math.abs(y)<1)&&(f=!0),f},Hg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bM=function(e){return[e.deltaX,e.deltaY]},wM=function(e){return e&&"current"in e?e.current:e},Yce=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zce=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xce=0,td=[];function Qce(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(Xce++)[0],i=x.useState(HU)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=HC([e.lockRef.current],(e.shards||[]).map(wM),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var j=Hg(w),E=r.current,N="deltaX"in w?w.deltaX:E[0]-j[0],k="deltaY"in w?w.deltaY:E[1]-j[1],O,T=w.target,R=Math.abs(N)>Math.abs(k)?"h":"v";if("touches"in w&&R==="h"&&T.type==="range")return!1;var A=xM(R,T);if(!A)return!0;if(A?O=R:(O=R==="v"?"h":"v",A=xM(R,T)),!A)return!1;if(!n.current&&"changedTouches"in w&&(N||k)&&(n.current=O),!O)return!0;var P=n.current||O;return Gce(P,_,w,P==="h"?N:k)},[]),d=x.useCallback(function(w){var _=w;if(!(!td.length||td[td.length-1]!==i)){var j="deltaY"in _?bM(_):Hg(_),E=t.current.filter(function(O){return O.name===_.type&&(O.target===_.target||_.target===O.shadowParent)&&Yce(O.delta,j)})[0];if(E&&E.should){_.cancelable&&_.preventDefault();return}if(!E){var N=(o.current.shards||[]).map(wM).filter(Boolean).filter(function(O){return O.contains(_.target)}),k=N.length>0?c(_,N[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),f=x.useCallback(function(w,_,j,E){var N={name:w,delta:_,target:j,should:E,shadowParent:Jce(j)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(k){return k!==N})},1)},[]),m=x.useCallback(function(w){r.current=Hg(w),n.current=void 0},[]),p=x.useCallback(function(w){f(w.type,bM(w),w.target,c(w,e.lockRef.current))},[]),y=x.useCallback(function(w){f(w.type,Hg(w),w.target,c(w,e.lockRef.current))},[]);x.useEffect(function(){return td.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",d,ed),document.addEventListener("touchmove",d,ed),document.addEventListener("touchstart",m,ed),function(){td=td.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,ed),document.removeEventListener("touchmove",d,ed),document.removeEventListener("touchstart",m,ed)}},[]);var g=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(i,{styles:Zce(a)}):null,g?x.createElement(Uce,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Jce(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const eue=kce(VU,Qce);var Am=x.forwardRef(function(e,t){return x.createElement(Ax,xi({},e,{ref:t,sideCar:eue}))});Am.classNames=Ax.classNames;var tue=[" ","Enter","ArrowUp","ArrowDown"],rue=[" ","Enter"],Fc="Select",[Rx,Tx,nue]=_E(Fc),[Qd]=ca(Fc,[nue,Xd]),Px=Xd(),[aue,Ml]=Qd(Fc),[iue,sue]=Qd(Fc),YU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:y,required:g,form:b}=e,w=Px(t),[_,j]=x.useState(null),[E,N]=x.useState(null),[k,O]=x.useState(!1),T=Gd(f),[R,A]=Ss({prop:n,defaultProp:a??!1,onChange:i,caller:Fc}),[P,L]=Ss({prop:o,defaultProp:c,onChange:d,caller:Fc}),M=x.useRef(null),$=_?b||!!_.closest("form"):!0,[U,X]=x.useState(new Set),Y=Array.from(U).map(F=>F.props.value).join(";");return s.jsx(RE,{...w,children:s.jsxs(aue,{required:g,scope:t,trigger:_,onTriggerChange:j,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:Zi(),value:P,onValueChange:L,open:R,onOpenChange:A,dir:T,triggerPointerDownPosRef:M,disabled:y,children:[s.jsx(Rx.Provider,{scope:t,children:s.jsx(iue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{X(H=>new Set(H).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{X(H=>{const I=new Set(H);return I.delete(F),I})},[]),children:r})}),$?s.jsxs(xB,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:p,value:P,onChange:F=>L(F.target.value),disabled:y,form:b,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},Y):null]})})};YU.displayName=Fc;var ZU="SelectTrigger",XU=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Px(r),o=Ml(ZU,r),c=o.disabled||n,d=jt(t,o.onTriggerChange),f=Tx(r),m=x.useRef("touch"),[p,y,g]=wB(w=>{const _=f().filter(N=>!N.disabled),j=_.find(N=>N.value===o.value),E=_B(_,w,j);E!==void 0&&o.onValueChange(E.value)}),b=w=>{c||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(Nx,{asChild:!0,...i,children:s.jsx(it.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":bB(o.value)?"":void 0,...a,ref:d,onClick:Ie(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&b(w)}),onPointerDown:Ie(a.onPointerDown,w=>{m.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Ie(a.onKeyDown,w=>{const _=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&tue.includes(w.key)&&(b(),w.preventDefault())})})})});XU.displayName=ZU;var QU="SelectValue",JU=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=e,d=Ml(QU,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=jt(t,d.onValueNodeChange);return un(()=>{f(m)},[f,m]),s.jsx(it.span,{...c,ref:p,style:{pointerEvents:"none"},children:bB(d.value)?s.jsx(s.Fragment,{children:o}):i})});JU.displayName=QU;var oue="SelectIcon",eB=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(it.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});eB.displayName=oue;var lue="SelectPortal",tB=e=>s.jsx(Om,{asChild:!0,...e});tB.displayName=lue;var Uc="SelectContent",rB=x.forwardRef((e,t)=>{const r=Ml(Uc,e.__scopeSelect),[n,a]=x.useState();if(un(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Jc.createPortal(s.jsx(nB,{scope:e.__scopeSelect,children:s.jsx(Rx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(aB,{...e,ref:t})});rB.displayName=Uc;var Fi=10,[nB,Il]=Qd(Uc),cue="SelectContentImpl",uue=sce("SelectContent.RemoveScroll"),aB=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_,...j}=e,E=Ml(Uc,r),[N,k]=x.useState(null),[O,T]=x.useState(null),R=jt(t,ee=>k(ee)),[A,P]=x.useState(null),[L,M]=x.useState(null),$=Tx(r),[U,X]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(N)return Ox(N)},[N]),wx();const F=x.useCallback(ee=>{const[pe,...G]=$().map(le=>le.ref.current),[ge]=G.slice(-1),ye=document.activeElement;for(const le of ee)if(le===ye||(le?.scrollIntoView({block:"nearest"}),le===pe&&O&&(O.scrollTop=0),le===ge&&O&&(O.scrollTop=O.scrollHeight),le?.focus(),document.activeElement!==ye))return},[$,O]),H=x.useCallback(()=>F([A,N]),[F,A,N]);x.useEffect(()=>{U&&H()},[U,H]);const{onOpenChange:I,triggerPointerDownPosRef:q}=E;x.useEffect(()=>{if(N){let ee={x:0,y:0};const pe=ge=>{ee={x:Math.abs(Math.round(ge.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(q.current?.y??0))}},G=ge=>{ee.x<=10&&ee.y<=10?ge.preventDefault():N.contains(ge.target)||I(!1),document.removeEventListener("pointermove",pe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",G,{capture:!0})}}},[N,I,q]),x.useEffect(()=>{const ee=()=>I(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[I]);const[ue,B]=wB(ee=>{const pe=$().filter(ye=>!ye.disabled),G=pe.find(ye=>ye.ref.current===document.activeElement),ge=_B(pe,ee,G);ge&&setTimeout(()=>ge.ref.current.focus())}),Q=x.useCallback((ee,pe,G)=>{const ge=!Y.current&&!G;(E.value!==void 0&&E.value===pe||ge)&&(P(ee),ge&&(Y.current=!0))},[E.value]),V=x.useCallback(()=>N?.focus(),[N]),ae=x.useCallback((ee,pe,G)=>{const ge=!Y.current&&!G;(E.value!==void 0&&E.value===pe||ge)&&M(ee)},[E.value]),Z=n==="popper"?w1:iB,ne=Z===w1?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_}:{};return s.jsx(nB,{scope:r,content:N,viewport:O,onViewportChange:T,itemRefCallback:Q,selectedItem:A,onItemLeave:V,itemTextRefCallback:ae,focusSelectedItem:H,selectedItemText:L,position:n,isPositioned:U,searchRef:ue,children:s.jsx(Am,{as:uue,allowPinchZoom:!0,children:s.jsx(Nm,{asChild:!0,trapped:E.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:Ie(a,ee=>{E.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(Em,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(Z,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ee=>ee.preventDefault(),...j,...ne,onPlaced:()=>X(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:Ie(j.onKeyDown,ee=>{const pe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!pe&&ee.key.length===1&&B(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ge=$().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ye=ee.target,le=ge.indexOf(ye);ge=ge.slice(le+1)}setTimeout(()=>F(ge)),ee.preventDefault()}})})})})})})});aB.displayName=cue;var due="SelectItemAlignedPosition",iB=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ml(Uc,r),o=Il(Uc,r),[c,d]=x.useState(null),[f,m]=x.useState(null),p=jt(t,R=>m(R)),y=Tx(r),g=x.useRef(!1),b=x.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:j,focusSelectedItem:E}=o,N=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&w&&_&&j){const R=i.trigger.getBoundingClientRect(),A=f.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),L=j.getBoundingClientRect();if(i.dir!=="rtl"){const ye=L.left-A.left,le=P.left-ye,Ue=R.left-le,Le=R.width+Ue,Qe=Math.max(Le,A.width),Be=window.innerWidth-Fi,Rt=p1(le,[Fi,Math.max(Fi,Be-Qe)]);c.style.minWidth=Le+"px",c.style.left=Rt+"px"}else{const ye=A.right-L.right,le=window.innerWidth-P.right-ye,Ue=window.innerWidth-R.right-le,Le=R.width+Ue,Qe=Math.max(Le,A.width),Be=window.innerWidth-Fi,Rt=p1(le,[Fi,Math.max(Fi,Be-Qe)]);c.style.minWidth=Le+"px",c.style.right=Rt+"px"}const M=y(),$=window.innerHeight-Fi*2,U=w.scrollHeight,X=window.getComputedStyle(f),Y=parseInt(X.borderTopWidth,10),F=parseInt(X.paddingTop,10),H=parseInt(X.borderBottomWidth,10),I=parseInt(X.paddingBottom,10),q=Y+F+U+I+H,ue=Math.min(_.offsetHeight*5,q),B=window.getComputedStyle(w),Q=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),ae=R.top+R.height/2-Fi,Z=$-ae,ne=_.offsetHeight/2,ee=_.offsetTop+ne,pe=Y+F+ee,G=q-pe;if(pe<=ae){const ye=M.length>0&&_===M[M.length-1].ref.current;c.style.bottom="0px";const le=f.clientHeight-w.offsetTop-w.offsetHeight,Ue=Math.max(Z,ne+(ye?V:0)+le+H),Le=pe+Ue;c.style.height=Le+"px"}else{const ye=M.length>0&&_===M[0].ref.current;c.style.top="0px";const Ue=Math.max(ae,Y+w.offsetTop+(ye?Q:0)+ne)+G;c.style.height=Ue+"px",w.scrollTop=pe-ae+w.offsetTop}c.style.margin=`${Fi}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=$+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[y,i.trigger,i.valueNode,c,f,w,_,j,i.dir,n]);un(()=>N(),[N]);const[k,O]=x.useState();un(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const T=x.useCallback(R=>{R&&b.current===!0&&(N(),E?.(),b.current=!1)},[N,E]);return s.jsx(hue,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(it.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});iB.displayName=due;var fue="SelectPopperPosition",w1=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Fi,...i}=e,o=Px(r);return s.jsx(TE,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});w1.displayName=fue;var[hue,DE]=Qd(Uc,{}),_1="SelectViewport",sB=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=Il(_1,r),o=DE(_1,r),c=jt(t,i.onViewportChange),d=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Rx.Slot,{scope:r,children:s.jsx(it.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ie(a.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=o;if(y?.current&&p){const g=Math.abs(d.current-m.scrollTop);if(g>0){const b=window.innerHeight-Fi*2,w=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),j=Math.max(w,_);if(j<b){const E=j+g,N=Math.min(b,E),k=E-N;p.style.height=N+"px",p.style.bottom==="0px"&&(m.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});sB.displayName=_1;var oB="SelectGroup",[mue,pue]=Qd(oB),gue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Zi();return s.jsx(mue,{scope:r,id:a,children:s.jsx(it.div,{role:"group","aria-labelledby":a,...n,ref:t})})});gue.displayName=oB;var lB="SelectLabel",cB=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=pue(lB,r);return s.jsx(it.div,{id:a.id,...n,ref:t})});cB.displayName=lB;var Wv="SelectItem",[vue,uB]=Qd(Wv),dB=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,c=Ml(Wv,r),d=Il(Wv,r),f=c.value===n,[m,p]=x.useState(i??""),[y,g]=x.useState(!1),b=jt(t,E=>d.itemRefCallback?.(E,n,a)),w=Zi(),_=x.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(vue,{scope:r,value:n,disabled:a,textId:w,isSelected:f,onItemTextChange:x.useCallback(E=>{p(N=>N||(E?.textContent??"").trim())},[]),children:s.jsx(Rx.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(it.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:Ie(o.onFocus,()=>g(!0)),onBlur:Ie(o.onBlur,()=>g(!1)),onClick:Ie(o.onClick,()=>{_.current!=="mouse"&&j()}),onPointerUp:Ie(o.onPointerUp,()=>{_.current==="mouse"&&j()}),onPointerDown:Ie(o.onPointerDown,E=>{_.current=E.pointerType}),onPointerMove:Ie(o.onPointerMove,E=>{_.current=E.pointerType,a?d.onItemLeave?.():_.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,E=>{E.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Ie(o.onKeyDown,E=>{d.searchRef?.current!==""&&E.key===" "||(rue.includes(E.key)&&j(),E.key===" "&&E.preventDefault())})})})})});dB.displayName=Wv;var xh="SelectItemText",fB=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ml(xh,r),c=Il(xh,r),d=uB(xh,r),f=sue(xh,r),[m,p]=x.useState(null),y=jt(t,j=>p(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),g=m?.textContent,b=x.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=f;return un(()=>(w(b),()=>_(b)),[w,_,b]),s.jsxs(s.Fragment,{children:[s.jsx(it.span,{id:d.textId,...i,ref:y}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Jc.createPortal(i.children,o.valueNode):null]})});fB.displayName=xh;var hB="SelectItemIndicator",mB=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return uB(hB,r).isSelected?s.jsx(it.span,{"aria-hidden":!0,...n,ref:t}):null});mB.displayName=hB;var j1="SelectScrollUpButton",pB=x.forwardRef((e,t)=>{const r=Il(j1,e.__scopeSelect),n=DE(j1,e.__scopeSelect),[a,i]=x.useState(!1),o=jt(t,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(vB,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});pB.displayName=j1;var S1="SelectScrollDownButton",gB=x.forwardRef((e,t)=>{const r=Il(S1,e.__scopeSelect),n=DE(S1,e.__scopeSelect),[a,i]=x.useState(!1),o=jt(t,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(vB,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});gB.displayName=S1;var vB=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=Il("SelectScrollButton",r),o=x.useRef(null),c=Tx(r),d=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),un(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(it.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ie(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ie(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ie(a.onPointerLeave,()=>{d()})})}),yue="SelectSeparator",yB=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(it.div,{"aria-hidden":!0,...n,ref:t})});yB.displayName=yue;var C1="SelectArrow",xue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Px(r),i=Ml(C1,r),o=Il(C1,r);return i.open&&o.position==="popper"?s.jsx(PE,{...a,...n,ref:t}):null});xue.displayName=C1;var bue="SelectBubbleInput",xB=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=jt(n,a),o=kx(t);return x.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const p=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[o,t]),s.jsx(it.select,{...r,style:{...UU,...r.style},ref:i,defaultValue:t})});xB.displayName=bue;function bB(e){return e===""||e===void 0}function wB(e){const t=On(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const c=r.current+o;t(c),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function _B(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=wue(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function wue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var _ue=YU,jB=XU,jue=JU,Sue=eB,Cue=tB,SB=rB,Eue=sB,CB=cB,EB=dB,Nue=fB,kue=mB,NB=pB,kB=gB,OB=yB;const Ct=_ue,Et=jue,wt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(jB,{ref:n,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Sue,{asChild:!0,children:s.jsx(tU,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=jB.displayName;const AB=x.forwardRef(({className:e,...t},r)=>s.jsx(NB,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(vie,{className:"h-4 w-4"})}));AB.displayName=NB.displayName;const RB=x.forwardRef(({className:e,...t},r)=>s.jsx(kB,{ref:r,className:Me("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(tU,{className:"h-4 w-4"})}));RB.displayName=kB.displayName;const _t=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Cue,{children:s.jsxs(SB,{ref:a,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(AB,{}),s.jsx(Eue,{className:Me("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(RB,{})]})}));_t.displayName=SB.displayName;const Oue=x.forwardRef(({className:e,...t},r)=>s.jsx(CB,{ref:r,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Oue.displayName=CB.displayName;const De=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(EB,{ref:n,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(kue,{children:s.jsx(mE,{className:"h-4 w-4"})})}),s.jsx(Nue,{children:t})]}));De.displayName=EB.displayName;const Aue=x.forwardRef(({className:e,...t},r)=>s.jsx(OB,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));Aue.displayName=OB.displayName;const Kr=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Me("w-full caption-bottom text-sm",e),...t})}));Kr.displayName="Table";const Gr=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Me("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const Yr=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Me("[&_tr:last-child]:border-0",e),...t}));Yr.displayName="TableBody";const Rue=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Rue.displayName="TableFooter";const vt=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Me("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));vt.displayName="TableRow";const Oe=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Me("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableHead";const Ne=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Me("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ne.displayName="TableCell";const Tue=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Me("mt-4 text-sm text-muted-foreground",e),...t}));Tue.displayName="TableCaption";const TB=6048e5,Pue=864e5,PB=6e4,DB=36e5,Wg=43200,_M=1440,jM=Symbol.for("constructDateFrom");function Lr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&jM in e?e[jM](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dt(e,t){return Lr(t||e,e)}function ME(e,t,r){const n=Dt(e,r?.in);return isNaN(t)?Lr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function IE(e,t,r){const n=Dt(e,r?.in);if(isNaN(t))return Lr(e,NaN);if(!t)return n;const a=n.getDate(),i=Lr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let Due={};function Jd(){return Due}function Ol(e,t){const r=Jd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dt(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Hh(e,t){return Ol(e,{...t,weekStartsOn:1})}function MB(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=Lr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Hh(a),o=Lr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Hh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Kv(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function $l(e,...t){const r=Lr.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Wh(e,t){const r=Dt(e,t?.in);return r.setHours(0,0,0,0),r}function IB(e,t,r){const[n,a]=$l(r?.in,e,t),i=Wh(n),o=Wh(a),c=+i-Kv(i),d=+o-Kv(o);return Math.round((c-d)/Pue)}function Mue(e,t){const r=MB(e,t),n=Lr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Hh(n)}function Iue(e,t,r){return ME(e,t*7,r)}function $ue(e,t,r){return IE(e,t*12,r)}function Lue(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Lr.bind(null,a));const i=Dt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Lr(n,r||NaN)}function zue(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Lr.bind(null,a));const i=Dt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Lr(n,r||NaN)}function vv(e,t){const r=+Dt(e)-+Dt(t);return r<0?-1:r>0?1:r}function Fue(e){return Lr(e,Date.now())}function Uue(e,t,r){const[n,a]=$l(r?.in,e,t);return+Wh(n)==+Wh(a)}function $B(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Bue(e){return!(!$B(e)&&typeof e!="number"||isNaN(+Dt(e)))}function LB(e,t,r){const[n,a]=$l(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function que(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Vue(e,t){return+Dt(e)-+Dt(t)}function Hue(e,t){const r=Dt(e,t?.in);return r.setHours(23,59,59,999),r}function wo(e,t){const r=Dt(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Wue(e,t){const r=Dt(e,t?.in);return+Hue(r,t)==+wo(r,t)}function Kue(e,t,r){const[n,a,i]=$l(r?.in,e,e,t),o=vv(a,i),c=Math.abs(LB(a,i));if(c<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*c);let d=vv(a,i)===-o;Wue(n)&&c===1&&vv(n,i)===1&&(d=!1);const f=o*(c-+d);return f===0?0:f}function Gue(e,t,r){const n=Vue(e,t)/1e3;return que(r?.roundingMethod)(n)}function zB(e,t){const[r,n]=$l(e,t.start,t.end);return{start:r,end:n}}function Yue(e,t){const{start:r,end:n}=zB(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let c=1;const d=[];for(;+o<=i;)d.push(Lr(r,o)),o.setMonth(o.getMonth()+c);return a?d.reverse():d}function yv(e,t){const r=Dt(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function po(e,t){const r=Dt(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function E1(e,t){const r=Dt(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ah(e,t){const r=Dt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Zue(e,t){const{start:r,end:n}=zB(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let c=1;const d=[];for(;+o<=i;)d.push(Lr(r,o)),o.setFullYear(o.getFullYear()+c);return a?d.reverse():d}function Gv(e,t){const r=Jd(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dt(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function Xue(e,t){return Gv(e,{...t,weekStartsOn:1})}function N1(e,t){const r=Dt(e,t?.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}const Que={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jue=(e,t,r)=>{let n;const a=Que[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function L_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ede={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nde={date:L_({formats:ede,defaultWidth:"full"}),time:L_({formats:tde,defaultWidth:"full"}),dateTime:L_({formats:rde,defaultWidth:"full"})},ade={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ide=(e,t,r,n)=>ade[e];function sh(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const sde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ode={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ude={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fde=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hde={ordinalNumber:fde,era:sh({values:sde,defaultWidth:"wide"}),quarter:sh({values:ode,defaultWidth:"wide",argumentCallback:e=>e-1}),month:sh({values:lde,defaultWidth:"wide"}),day:sh({values:cde,defaultWidth:"wide"}),dayPeriod:sh({values:ude,defaultWidth:"wide",formattingValues:dde,defaultFormattingWidth:"wide"})};function oh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?pde(c,p=>p.test(o)):mde(c,p=>p.test(o));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}function mde(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function pde(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function gde(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const vde=/^(\d+)(th|st|nd|rd)?/i,yde=/\d+/i,xde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bde={any:[/^b/i,/^(a|c)/i]},wde={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_de={any:[/1/i,/2/i,/3/i,/4/i]},jde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cde={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ede={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ode={ordinalNumber:gde({matchPattern:vde,parsePattern:yde,valueCallback:e=>parseInt(e,10)}),era:oh({matchPatterns:xde,defaultMatchWidth:"wide",parsePatterns:bde,defaultParseWidth:"any"}),quarter:oh({matchPatterns:wde,defaultMatchWidth:"wide",parsePatterns:_de,defaultParseWidth:"any",valueCallback:e=>e+1}),month:oh({matchPatterns:jde,defaultMatchWidth:"wide",parsePatterns:Sde,defaultParseWidth:"any"}),day:oh({matchPatterns:Cde,defaultMatchWidth:"wide",parsePatterns:Ede,defaultParseWidth:"any"}),dayPeriod:oh({matchPatterns:Nde,defaultMatchWidth:"any",parsePatterns:kde,defaultParseWidth:"any"})},Dx={code:"en-US",formatDistance:Jue,formatLong:nde,formatRelative:ide,localize:hde,match:Ode,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ade(e,t){const r=Dt(e,t?.in);return IB(r,Ah(r))+1}function FB(e,t){const r=Dt(e,t?.in),n=+Hh(r)-+Mue(r);return Math.round(n/TB)+1}function UB(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=Jd(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Lr(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Ol(o,t),d=Lr(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Ol(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function Rde(e,t){const r=Jd(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=UB(e,t),i=Lr(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Ol(i,t)}function BB(e,t){const r=Dt(e,t?.in),n=+Ol(r,t)-+Rde(r,t);return Math.round(n/TB)+1}function Zt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Zt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Zt(r+1,2)},d(e,t){return Zt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Zt(e.getHours()%12||12,t.length)},H(e,t){return Zt(e.getHours(),t.length)},m(e,t){return Zt(e.getMinutes(),t.length)},s(e,t){return Zt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Zt(a,t.length)}},rd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return fl.y(e,t)},Y:function(e,t,r,n){const a=UB(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Zt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Zt(i,t.length)},R:function(e,t){const r=MB(e);return Zt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Zt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=BB(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Zt(a,t.length)},I:function(e,t,r){const n=FB(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Zt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fl.d(e,t)},D:function(e,t,r){const n=Ade(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Zt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Zt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Zt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=rd.noon:n===0?a=rd.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=rd.evening:n>=12?a=rd.afternoon:n>=4?a=rd.morning:a=rd.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fl.s(e,t)},S:function(e,t){return fl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return EM(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return EM(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CM(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CM(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Zt(n,t.length)},T:function(e,t,r){return Zt(+e,t.length)}};function CM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Zt(i,2)}function EM(e,t){return e%60===0?(e>0?"-":"+")+Zt(Math.abs(e)/60,2):fc(e,t)}function fc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Zt(Math.trunc(n/60),2),i=Zt(n%60,2);return r+a+t+i}const NM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},qB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Tde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return NM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",NM(n,t)).replace("{{time}}",qB(a,t))},Pde={p:qB,P:Tde},Dde=/^D+$/,Mde=/^Y+$/,Ide=["D","DD","YY","YYYY"];function $de(e){return Dde.test(e)}function Lde(e){return Mde.test(e)}function zde(e,t,r){const n=Fde(e,t,r);if(console.warn(n),Ide.includes(e))throw new RangeError(n)}function Fde(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ude=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qde=/^'([^]*?)'?$/,Vde=/''/g,Hde=/[a-zA-Z]/;function He(e,t,r){const n=Jd(),a=r?.locale??n.locale??Dx,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Dt(e,r?.in);if(!Bue(c))throw new RangeError("Invalid time value");let d=t.match(Bde).map(m=>{const p=m[0];if(p==="p"||p==="P"){const y=Pde[p];return y(m,a.formatLong)}return m}).join("").match(Ude).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:Wde(m)};if(SM[p])return{isToken:!0,value:m};if(p.match(Hde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!r?.useAdditionalWeekYearTokens&&Lde(p)||!r?.useAdditionalDayOfYearTokens&&$de(p))&&zde(p,t,String(e));const y=SM[p[0]];return y(c,p,a.localize,f)}).join("")}function Wde(e){const t=e.match(qde);return t?t[1].replace(Vde,"'"):e}function Kde(e,t,r){const n=Jd(),a=r?.locale??n.locale??Dx,i=2520,o=vv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[d,f]=$l(r?.in,...o>0?[t,e]:[e,t]),m=Gue(f,d),p=(Kv(f)-Kv(d))/1e3,y=Math.round((m-p)/60);let g;if(y<2)return r?.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):y===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",y,c);if(y<45)return a.formatDistance("xMinutes",y,c);if(y<90)return a.formatDistance("aboutXHours",1,c);if(y<_M){const b=Math.round(y/60);return a.formatDistance("aboutXHours",b,c)}else{if(y<i)return a.formatDistance("xDays",1,c);if(y<Wg){const b=Math.round(y/_M);return a.formatDistance("xDays",b,c)}else if(y<Wg*2)return g=Math.round(y/Wg),a.formatDistance("aboutXMonths",g,c)}if(g=Kue(f,d),g<12){const b=Math.round(y/Wg);return a.formatDistance("xMonths",b,c)}else{const b=g%12,w=Math.trunc(g/12);return b<3?a.formatDistance("aboutXYears",w,c):b<9?a.formatDistance("overXYears",w,c):a.formatDistance("almostXYears",w+1,c)}}function Gde(e,t){return Kde(e,Fue(e),t)}function Yde(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Lr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function Zde(e,t){return Dt(e,t?.in).getMonth()}function Xde(e,t){return Dt(e,t?.in).getFullYear()}function Qde(e,t){return+Dt(e)>+Dt(t)}function Jde(e,t){return+Dt(e)<+Dt(t)}function efe(e,t,r){const[n,a]=$l(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function tfe(e,t,r){const[n,a]=$l(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Yn(e,t,r){return ME(e,-t,r)}function VB(e,t){const r=()=>Lr(t?.in,NaN),a=ife(e);let i;if(a.date){const f=sfe(a.date,2);i=ofe(f.restDateString,f.year)}if(!i||isNaN(+i))return r();const o=+i;let c=0,d;if(a.time&&(c=lfe(a.time),isNaN(c)))return r();if(a.timezone){if(d=cfe(a.timezone),isNaN(d))return r()}else{const f=new Date(o+c),m=Dt(0,t?.in);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return Dt(o+c+d,t?.in)}const Kg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},rfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,nfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,afe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ife(e){const t={},r=e.split(Kg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Kg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Kg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Kg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function sfe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function ofe(e,t){if(t===null)return new Date(NaN);const r=e.match(rfe);if(!r)return new Date(NaN);const n=!!r[4],a=lh(r[1]),i=lh(r[2])-1,o=lh(r[3]),c=lh(r[4]),d=lh(r[5])-1;if(n)return mfe(t,c,d)?ufe(t,c,d):new Date(NaN);{const f=new Date(0);return!ffe(t,i,o)||!hfe(t,a)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(a,o)),f)}}function lh(e){return e?parseInt(e):1}function lfe(e){const t=e.match(nfe);if(!t)return NaN;const r=z_(t[1]),n=z_(t[2]),a=z_(t[3]);return pfe(r,n,a)?r*DB+n*PB+a*1e3:NaN}function z_(e){return e&&parseFloat(e.replace(",","."))||0}function cfe(e){if(e==="Z")return 0;const t=e.match(afe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return gfe(n,a)?r*(n*DB+a*PB):NaN}function ufe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const dfe=[31,null,31,30,31,30,31,31,30,31,30,31];function HB(e){return e%400===0||e%4===0&&e%100!==0}function ffe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(dfe[t]||(HB(e)?29:28))}function hfe(e,t){return t>=1&&t<=(HB(e)?366:365)}function mfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function pfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function gfe(e,t){return t>=0&&t<=59}function vfe(e,t,r){const n=Dt(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=Lr(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const c=Yde(o);return n.setMonth(t,Math.min(i,c)),n}function yfe(e,t,r){const n=Dt(e,r?.in);return isNaN(+n)?Lr(e,NaN):(n.setFullYear(t),n)}function Yv(e,t,r){return IE(e,-t,r)}function xfe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Bn=e=>{const{present:t,children:r}=e,n=bfe(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=jt(n.ref,wfe(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};Bn.displayName="Presence";function bfe(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[c,d]=xfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Gg(n.current);i.current=c==="mounted"?f:"none"},[c]),un(()=>{const f=n.current,m=a.current;if(m!==e){const y=i.current,g=Gg(f);e?d("MOUNT"):g==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&y!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),un(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=g=>{const w=Gg(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&w&&(d("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=g=>{g.target===t&&(i.current=Gg(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Gg(e){return e?.animationName||"none"}function wfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var F_="rovingFocusGroup.onEntryFocus",_fe={bubbles:!1,cancelable:!0},Rm="RovingFocusGroup",[k1,WB,jfe]=_E(Rm),[Sfe,ef]=ca(Rm,[jfe]),[Cfe,Efe]=Sfe(Rm),KB=x.forwardRef((e,t)=>s.jsx(k1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(k1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Nfe,{...e,ref:t})})}));KB.displayName=Rm;var Nfe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,y=x.useRef(null),g=jt(t,y),b=Gd(i),[w,_]=Ss({prop:o,defaultProp:c??null,onChange:d,caller:Rm}),[j,E]=x.useState(!1),N=On(f),k=WB(r),O=x.useRef(!1),[T,R]=x.useState(0);return x.useEffect(()=>{const A=y.current;if(A)return A.addEventListener(F_,N),()=>A.removeEventListener(F_,N)},[N]),s.jsx(Cfe,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:w,onItemFocus:x.useCallback(A=>_(A),[_]),onItemShiftTab:x.useCallback(()=>E(!0),[]),onFocusableItemAdd:x.useCallback(()=>R(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>R(A=>A-1),[]),children:s.jsx(it.div,{tabIndex:j||T===0?-1:0,"data-orientation":n,...p,ref:g,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{O.current=!0}),onFocus:Ie(e.onFocus,A=>{const P=!O.current;if(A.target===A.currentTarget&&P&&!j){const L=new CustomEvent(F_,_fe);if(A.currentTarget.dispatchEvent(L),!L.defaultPrevented){const M=k().filter(F=>F.focusable),$=M.find(F=>F.active),U=M.find(F=>F.id===w),Y=[$,U,...M].filter(Boolean).map(F=>F.ref.current);ZB(Y,m)}}O.current=!1}),onBlur:Ie(e.onBlur,()=>E(!1))})})}),GB="RovingFocusGroupItem",YB=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=e,d=Zi(),f=i||d,m=Efe(GB,r),p=m.currentTabStopId===f,y=WB(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:w}=m;return x.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),s.jsx(k1.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:s.jsx(it.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:Ie(e.onMouseDown,_=>{n?m.onItemFocus(f):_.preventDefault()}),onFocus:Ie(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:Ie(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=Afe(_,m.orientation,m.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=y().filter(k=>k.focusable).map(k=>k.ref.current);if(j==="last")N.reverse();else if(j==="prev"||j==="next"){j==="prev"&&N.reverse();const k=N.indexOf(_.currentTarget);N=m.loop?Rfe(N,k+1):N.slice(k+1)}setTimeout(()=>ZB(N))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:w!=null}):o})})});YB.displayName=GB;var kfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ofe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Afe(e,t,r){const n=Ofe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return kfe[n]}function ZB(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Rfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $E=KB,LE=YB;function Tfe(e){const t=Pfe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(Mfe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Pfe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=$fe(a),c=Ife(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Dfe=Symbol("radix.slottable");function Mfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dfe}function Ife(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function $fe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var O1=["Enter"," "],Lfe=["ArrowDown","PageUp","Home"],XB=["ArrowUp","PageDown","End"],zfe=[...Lfe,...XB],Ffe={ltr:[...O1,"ArrowRight"],rtl:[...O1,"ArrowLeft"]},Ufe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tm="Menu",[Kh,Bfe,qfe]=_E(Tm),[nu,QB]=ca(Tm,[qfe,Xd,ef]),Mx=Xd(),JB=ef(),[Vfe,au]=nu(Tm),[Hfe,Pm]=nu(Tm),e3=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,c=Mx(t),[d,f]=x.useState(null),m=x.useRef(!1),p=On(i),y=Gd(a);return x.useEffect(()=>{const g=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(RE,{...c,children:s.jsx(Vfe,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:f,children:s.jsx(Hfe,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:y,modal:o,children:n})})})};e3.displayName=Tm;var Wfe="MenuAnchor",zE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mx(r);return s.jsx(Nx,{...a,...n,ref:t})});zE.displayName=Wfe;var FE="MenuPortal",[Kfe,t3]=nu(FE,{forceMount:void 0}),r3=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=au(FE,t);return s.jsx(Kfe,{scope:t,forceMount:r,children:s.jsx(Bn,{present:r||i.open,children:s.jsx(Om,{asChild:!0,container:a,children:n})})})};r3.displayName=FE;var Si="MenuContent",[Gfe,UE]=nu(Si),n3=x.forwardRef((e,t)=>{const r=t3(Si,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=au(Si,e.__scopeMenu),o=Pm(Si,e.__scopeMenu);return s.jsx(Kh.Provider,{scope:e.__scopeMenu,children:s.jsx(Bn,{present:n||i.open,children:s.jsx(Kh.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Yfe,{...a,ref:t}):s.jsx(Zfe,{...a,ref:t})})})})}),Yfe=x.forwardRef((e,t)=>{const r=au(Si,e.__scopeMenu),n=x.useRef(null),a=jt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Ox(i)},[]),s.jsx(BE,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Zfe=x.forwardRef((e,t)=>{const r=au(Si,e.__scopeMenu);return s.jsx(BE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Xfe=Tfe("MenuContent.ScrollLock"),BE=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:y,onDismiss:g,disableOutsideScroll:b,...w}=e,_=au(Si,r),j=Pm(Si,r),E=Mx(r),N=JB(r),k=Bfe(r),[O,T]=x.useState(null),R=x.useRef(null),A=jt(t,R,_.onContentChange),P=x.useRef(0),L=x.useRef(""),M=x.useRef(0),$=x.useRef(null),U=x.useRef("right"),X=x.useRef(0),Y=b?Am:x.Fragment,F=b?{as:Xfe,allowPinchZoom:!0}:void 0,H=q=>{const ue=L.current+q,B=k().filter(ee=>!ee.disabled),Q=document.activeElement,V=B.find(ee=>ee.ref.current===Q)?.textValue,ae=B.map(ee=>ee.textValue),Z=che(ae,ue,V),ne=B.find(ee=>ee.textValue===Z)?.ref.current;(function ee(pe){L.current=pe,window.clearTimeout(P.current),pe!==""&&(P.current=window.setTimeout(()=>ee(""),1e3))})(ue),ne&&setTimeout(()=>ne.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),wx();const I=x.useCallback(q=>U.current===$.current?.side&&dhe(q,$.current?.area),[]);return s.jsx(Gfe,{scope:r,searchRef:L,onItemEnter:x.useCallback(q=>{I(q)&&q.preventDefault()},[I]),onItemLeave:x.useCallback(q=>{I(q)||(R.current?.focus(),T(null))},[I]),onTriggerLeave:x.useCallback(q=>{I(q)&&q.preventDefault()},[I]),pointerGraceTimerRef:M,onPointerGraceIntentChange:x.useCallback(q=>{$.current=q},[]),children:s.jsx(Y,{...F,children:s.jsx(Nm,{asChild:!0,trapped:a,onMountAutoFocus:Ie(i,q=>{q.preventDefault(),R.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Em,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:y,onDismiss:g,children:s.jsx($E,{asChild:!0,...N,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:O,onCurrentTabStopIdChange:T,onEntryFocus:Ie(d,q=>{j.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(TE,{role:"menu","aria-orientation":"vertical","data-state":x3(_.open),"data-radix-menu-content":"",dir:j.dir,...E,...w,ref:A,style:{outline:"none",...w.style},onKeyDown:Ie(w.onKeyDown,q=>{const B=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Q=q.ctrlKey||q.altKey||q.metaKey,V=q.key.length===1;B&&(q.key==="Tab"&&q.preventDefault(),!Q&&V&&H(q.key));const ae=R.current;if(q.target!==ae||!zfe.includes(q.key))return;q.preventDefault();const ne=k().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);XB.includes(q.key)&&ne.reverse(),ohe(ne)}),onBlur:Ie(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(P.current),L.current="")}),onPointerMove:Ie(e.onPointerMove,Gh(q=>{const ue=q.target,B=X.current!==q.clientX;if(q.currentTarget.contains(ue)&&B){const Q=q.clientX>X.current?"right":"left";U.current=Q,X.current=q.clientX}}))})})})})})})});n3.displayName=Si;var Qfe="MenuGroup",qE=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(it.div,{role:"group",...n,ref:t})});qE.displayName=Qfe;var Jfe="MenuLabel",a3=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(it.div,{...n,ref:t})});a3.displayName=Jfe;var Zv="MenuItem",kM="menu.itemSelect",Ix=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=Pm(Zv,e.__scopeMenu),c=UE(Zv,e.__scopeMenu),d=jt(t,i),f=x.useRef(!1),m=()=>{const p=i.current;if(!r&&p){const y=new CustomEvent(kM,{bubbles:!0,cancelable:!0});p.addEventListener(kM,g=>n?.(g),{once:!0}),gU(p,y),y.defaultPrevented?f.current=!1:o.onClose()}};return s.jsx(i3,{...a,ref:d,disabled:r,onClick:Ie(e.onClick,m),onPointerDown:p=>{e.onPointerDown?.(p),f.current=!0},onPointerUp:Ie(e.onPointerUp,p=>{f.current||p.currentTarget?.click()}),onKeyDown:Ie(e.onKeyDown,p=>{const y=c.searchRef.current!=="";r||y&&p.key===" "||O1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});Ix.displayName=Zv;var i3=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=UE(Zv,r),c=JB(r),d=x.useRef(null),f=jt(t,d),[m,p]=x.useState(!1),[y,g]=x.useState("");return x.useEffect(()=>{const b=d.current;b&&g((b.textContent??"").trim())},[i.children]),s.jsx(Kh.ItemSlot,{scope:r,disabled:n,textValue:a??y,children:s.jsx(LE,{asChild:!0,...c,focusable:!n,children:s.jsx(it.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:Ie(e.onPointerMove,Gh(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,Gh(b=>o.onItemLeave(b))),onFocus:Ie(e.onFocus,()=>p(!0)),onBlur:Ie(e.onBlur,()=>p(!1))})})})}),ehe="MenuCheckboxItem",s3=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(d3,{scope:e.__scopeMenu,checked:r,children:s.jsx(Ix,{role:"menuitemcheckbox","aria-checked":Xv(r)?"mixed":r,...a,ref:t,"data-state":HE(r),onSelect:Ie(a.onSelect,()=>n?.(Xv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});s3.displayName=ehe;var o3="MenuRadioGroup",[the,rhe]=nu(o3,{value:void 0,onValueChange:()=>{}}),l3=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=On(n);return s.jsx(the,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(qE,{...a,ref:t})})});l3.displayName=o3;var c3="MenuRadioItem",u3=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=rhe(c3,e.__scopeMenu),i=r===a.value;return s.jsx(d3,{scope:e.__scopeMenu,checked:i,children:s.jsx(Ix,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":HE(i),onSelect:Ie(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});u3.displayName=c3;var VE="MenuItemIndicator",[d3,nhe]=nu(VE,{checked:!1}),f3=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=nhe(VE,r);return s.jsx(Bn,{present:n||Xv(i.checked)||i.checked===!0,children:s.jsx(it.span,{...a,ref:t,"data-state":HE(i.checked)})})});f3.displayName=VE;var ahe="MenuSeparator",h3=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(it.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});h3.displayName=ahe;var ihe="MenuArrow",m3=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Mx(r);return s.jsx(PE,{...a,...n,ref:t})});m3.displayName=ihe;var she="MenuSub",[ZMe,p3]=nu(she),bh="MenuSubTrigger",g3=x.forwardRef((e,t)=>{const r=au(bh,e.__scopeMenu),n=Pm(bh,e.__scopeMenu),a=p3(bh,e.__scopeMenu),i=UE(bh,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),d(null)}},[c,d]),s.jsx(zE,{asChild:!0,...f,children:s.jsx(i3,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":x3(r.open),...e,ref:As(t,a.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,Gh(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:Ie(e.onPointerLeave,Gh(p=>{m();const y=r.content?.getBoundingClientRect();if(y){const g=r.content?.dataset.side,b=g==="right",w=b?-5:5,_=y[b?"left":"right"],j=y[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x:_,y:y.top},{x:j,y:y.top},{x:j,y:y.bottom},{x:_,y:y.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,p=>{const y=i.searchRef.current!=="";e.disabled||y&&p.key===" "||Ffe[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});g3.displayName=bh;var v3="MenuSubContent",y3=x.forwardRef((e,t)=>{const r=t3(Si,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=au(Si,e.__scopeMenu),o=Pm(Si,e.__scopeMenu),c=p3(v3,e.__scopeMenu),d=x.useRef(null),f=jt(t,d);return s.jsx(Kh.Provider,{scope:e.__scopeMenu,children:s.jsx(Bn,{present:n||i.open,children:s.jsx(Kh.Slot,{scope:e.__scopeMenu,children:s.jsx(BE,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),y=Ufe[o.dir].includes(m.key);p&&y&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});y3.displayName=v3;function x3(e){return e?"open":"closed"}function Xv(e){return e==="indeterminate"}function HE(e){return Xv(e)?"indeterminate":e?"checked":"unchecked"}function ohe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function lhe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function che(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lhe(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function uhe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],f=c.x,m=c.y,p=d.x,y=d.y;m>n!=y>n&&r<(p-f)*(n-m)/(y-m)+f&&(a=!a)}return a}function dhe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return uhe(r,t)}function Gh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fhe=e3,hhe=zE,mhe=r3,phe=n3,ghe=qE,vhe=a3,yhe=Ix,xhe=s3,bhe=l3,whe=u3,_he=f3,jhe=h3,She=m3,Che=g3,Ehe=y3,$x="DropdownMenu",[Nhe]=ca($x,[QB]),ua=QB(),[khe,b3]=Nhe($x),w3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=ua(t),f=x.useRef(null),[m,p]=Ss({prop:a,defaultProp:i??!1,onChange:o,caller:$x});return s.jsx(khe,{scope:t,triggerId:Zi(),triggerRef:f,contentId:Zi(),open:m,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(y=>!y),[p]),modal:c,children:s.jsx(fhe,{...d,open:m,onOpenChange:p,dir:n,modal:c,children:r})})};w3.displayName=$x;var _3="DropdownMenuTrigger",j3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=b3(_3,r),o=ua(r);return s.jsx(hhe,{asChild:!0,...o,children:s.jsx(it.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:As(t,i.triggerRef),onPointerDown:Ie(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:Ie(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});j3.displayName=_3;var Ohe="DropdownMenuPortal",S3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=ua(t);return s.jsx(mhe,{...n,...r})};S3.displayName=Ohe;var C3="DropdownMenuContent",E3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=b3(C3,r),i=ua(r),o=x.useRef(!1);return s.jsx(phe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!a.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E3.displayName=C3;var Ahe="DropdownMenuGroup",Rhe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(ghe,{...a,...n,ref:t})});Rhe.displayName=Ahe;var The="DropdownMenuLabel",N3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(vhe,{...a,...n,ref:t})});N3.displayName=The;var Phe="DropdownMenuItem",k3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(yhe,{...a,...n,ref:t})});k3.displayName=Phe;var Dhe="DropdownMenuCheckboxItem",O3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(xhe,{...a,...n,ref:t})});O3.displayName=Dhe;var Mhe="DropdownMenuRadioGroup",Ihe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(bhe,{...a,...n,ref:t})});Ihe.displayName=Mhe;var $he="DropdownMenuRadioItem",A3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(whe,{...a,...n,ref:t})});A3.displayName=$he;var Lhe="DropdownMenuItemIndicator",R3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(_he,{...a,...n,ref:t})});R3.displayName=Lhe;var zhe="DropdownMenuSeparator",T3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(jhe,{...a,...n,ref:t})});T3.displayName=zhe;var Fhe="DropdownMenuArrow",Uhe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(She,{...a,...n,ref:t})});Uhe.displayName=Fhe;var Bhe="DropdownMenuSubTrigger",P3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(Che,{...a,...n,ref:t})});P3.displayName=Bhe;var qhe="DropdownMenuSubContent",D3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=ua(r);return s.jsx(Ehe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});D3.displayName=qhe;var Vhe=w3,Hhe=j3,Whe=S3,M3=E3,I3=N3,$3=k3,L3=O3,z3=A3,F3=R3,U3=T3,B3=P3,q3=D3;const Qv=Vhe,Jv=Hhe,Khe=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(B3,{ref:a,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(Sm,{className:"ml-auto h-4 w-4"})]}));Khe.displayName=B3.displayName;const Ghe=x.forwardRef(({className:e,...t},r)=>s.jsx(q3,{ref:r,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Ghe.displayName=q3.displayName;const Yh=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Whe,{children:s.jsx(M3,{ref:n,sideOffset:t,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Yh.displayName=M3.displayName;const _c=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx($3,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));_c.displayName=$3.displayName;const V3=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(L3,{ref:a,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(F3,{children:s.jsx(mE,{className:"h-4 w-4"})})}),t]}));V3.displayName=L3.displayName;const Yhe=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(z3,{ref:n,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(F3,{children:s.jsx(rU,{className:"h-2 w-2 fill-current"})})}),t]}));Yhe.displayName=z3.displayName;const WE=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(I3,{ref:n,className:Me("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));WE.displayName=I3.displayName;const ey=x.forwardRef(({className:e,...t},r)=>s.jsx(U3,{ref:r,className:Me("-mx-1 my-1 h-px bg-muted",e),...t}));ey.displayName=U3.displayName;var Lx="Checkbox",[Zhe]=ca(Lx),[Xhe,KE]=Zhe(Lx);function Qhe(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[y,g]=Ss({prop:r,defaultProp:a??!1,onChange:d,caller:Lx}),[b,w]=x.useState(null),[_,j]=x.useState(null),E=x.useRef(!1),N=b?!!o||!!b.closest("form"):!0,k={checked:y,disabled:i,setChecked:g,control:b,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:E,required:f,defaultChecked:jl(a)?!1:a,isFormControl:N,bubbleInput:_,setBubbleInput:j};return s.jsx(Xhe,{scope:t,...k,children:Jhe(p)?p(k):n})}var H3="CheckboxTrigger",W3=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:y,isFormControl:g,bubbleInput:b}=KE(H3,e),w=jt(a,m),_=x.useRef(d);return x.useEffect(()=>{const j=i?.form;if(j){const E=()=>p(_.current);return j.addEventListener("reset",E),()=>j.removeEventListener("reset",E)}},[i,p]),s.jsx(it.button,{type:"button",role:"checkbox","aria-checked":jl(d)?"mixed":d,"aria-required":f,"data-state":X3(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:Ie(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Ie(r,j=>{p(E=>jl(E)?!0:!E),b&&g&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})})});W3.displayName=H3;var GE=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:f,form:m,...p}=e;return s.jsx(Qhe,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:f,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:y})=>s.jsxs(s.Fragment,{children:[s.jsx(W3,{...p,ref:t,__scopeCheckbox:r}),y&&s.jsx(Z3,{__scopeCheckbox:r})]})})});GE.displayName=Lx;var K3="CheckboxIndicator",G3=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=KE(K3,r);return s.jsx(Bn,{present:n||jl(i.checked)||i.checked===!0,children:s.jsx(it.span,{"data-state":X3(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});G3.displayName=K3;var Y3="CheckboxBubbleInput",Z3=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:f,value:m,form:p,bubbleInput:y,setBubbleInput:g}=KE(Y3,e),b=jt(r,g),w=kx(i),_=Ex(n);x.useEffect(()=>{const E=y;if(!E)return;const N=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(N,"checked").set,T=!a.current;if(w!==i&&O){const R=new Event("click",{bubbles:T});E.indeterminate=jl(i),O.call(E,jl(i)?!1:i),E.dispatchEvent(R)}},[y,w,i,a]);const j=x.useRef(jl(i)?!1:i);return s.jsx(it.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:c,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Z3.displayName=Y3;function Jhe(e){return typeof e=="function"}function jl(e){return e==="indeterminate"}function X3(e){return jl(e)?"indeterminate":e?"checked":"unchecked"}const _o=x.forwardRef(({className:e,...t},r)=>s.jsx(GE,{ref:r,className:Me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(G3,{className:Me("flex items-center justify-center text-current"),children:s.jsx(mE,{className:"h-4 w-4"})})}));_o.displayName=GE.displayName;function eme({filter:e,onEdit:t,onRemove:r}){return s.jsxs(ze,{variant:"secondary",className:"px-3 py-1.5 gap-2 cursor-pointer hover:bg-secondary/80 transition-colors",onClick:()=>t(e),children:[s.jsxs("span",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[e.fieldLabel,":"]})," ",e.displayLabel]}),s.jsx(se,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:n=>{n.stopPropagation(),r(e.id)},children:s.jsx(Rs,{className:"h-3 w-3"})})]})}function tme(e){const t=rme(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(ame);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function rme(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=sme(a),c=ime(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nme=Symbol("radix.slottable");function ame(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nme}function ime(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function sme(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zx="Dialog",[Q3,J3]=ca(zx),[ome,as]=Q3(zx),e5=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=x.useRef(null),d=x.useRef(null),[f,m]=Ss({prop:n,defaultProp:a??!1,onChange:i,caller:zx});return s.jsx(ome,{scope:t,triggerRef:c,contentRef:d,contentId:Zi(),titleId:Zi(),descriptionId:Zi(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),modal:o,children:r})};e5.displayName=zx;var t5="DialogTrigger",r5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=as(t5,r),i=jt(t,a.triggerRef);return s.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":XE(a.open),...n,ref:i,onClick:Ie(e.onClick,a.onOpenToggle)})});r5.displayName=t5;var YE="DialogPortal",[lme,n5]=Q3(YE,{forceMount:void 0}),a5=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=as(YE,t);return s.jsx(lme,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(Bn,{present:r||i.open,children:s.jsx(Om,{asChild:!0,container:a,children:o})}))})};a5.displayName=YE;var ty="DialogOverlay",i5=x.forwardRef((e,t)=>{const r=n5(ty,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=as(ty,e.__scopeDialog);return i.modal?s.jsx(Bn,{present:n||i.open,children:s.jsx(ume,{...a,ref:t})}):null});i5.displayName=ty;var cme=tme("DialogOverlay.RemoveScroll"),ume=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=as(ty,r);return s.jsx(Am,{as:cme,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(it.div,{"data-state":XE(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Bc="DialogContent",s5=x.forwardRef((e,t)=>{const r=n5(Bc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=as(Bc,e.__scopeDialog);return s.jsx(Bn,{present:n||i.open,children:i.modal?s.jsx(dme,{...a,ref:t}):s.jsx(fme,{...a,ref:t})})});s5.displayName=Bc;var dme=x.forwardRef((e,t)=>{const r=as(Bc,e.__scopeDialog),n=x.useRef(null),a=jt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Ox(i)},[]),s.jsx(o5,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,i=>i.preventDefault())})}),fme=x.forwardRef((e,t)=>{const r=as(Bc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(o5,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),o5=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,c=as(Bc,r),d=x.useRef(null),f=jt(t,d);return wx(),s.jsxs(s.Fragment,{children:[s.jsx(Nm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Em,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":XE(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(mme,{titleId:c.titleId}),s.jsx(gme,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ZE="DialogTitle",l5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=as(ZE,r);return s.jsx(it.h2,{id:a.titleId,...n,ref:t})});l5.displayName=ZE;var c5="DialogDescription",u5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=as(c5,r);return s.jsx(it.p,{id:a.descriptionId,...n,ref:t})});u5.displayName=c5;var d5="DialogClose",f5=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=as(d5,r);return s.jsx(it.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});f5.displayName=d5;function XE(e){return e?"open":"closed"}var h5="DialogTitleWarning",[hme,m5]=coe(h5,{contentName:Bc,titleName:ZE,docsSlug:"dialog"}),mme=({titleId:e})=>{const t=m5(h5),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},pme="DialogDescriptionWarning",gme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${m5(pme).contentName}}.`;return x.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},p5=e5,vme=r5,g5=a5,QE=i5,JE=s5,eN=l5,tN=u5,rN=f5;const ka=p5,yme=g5,v5=x.forwardRef(({className:e,...t},r)=>s.jsx(QE,{ref:r,className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));v5.displayName=QE.displayName;const ia=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(yme,{children:[s.jsx(v5,{}),s.jsxs(JE,{ref:n,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(rN,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Rs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ia.displayName=JE.displayName;const sa=({className:e,...t})=>s.jsx("div",{className:Me("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});sa.displayName="DialogHeader";const Oa=({className:e,...t})=>s.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Oa.displayName="DialogFooter";const oa=x.forwardRef(({className:e,...t},r)=>s.jsx(eN,{ref:r,className:Me("text-lg font-semibold leading-none tracking-tight",e),...t}));oa.displayName=eN.displayName;const Ni=x.forwardRef(({className:e,...t},r)=>s.jsx(tN,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));Ni.displayName=tN.displayName;function xme({open:e,onOpenChange:t,fields:r,onFieldSelect:n}){const[a,i]=x.useState(""),o=r.filter(d=>d.label.toLowerCase().includes(a.toLowerCase())),c=d=>{n(d),t(!1),i("")};return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(ia,{className:"sm:max-w-[425px]",children:[s.jsx(sa,{children:s.jsx(oa,{children:"Select Field to Filter"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Xe,{placeholder:"Search fields...",value:a,onChange:d=>i(d.target.value),className:"pl-9"})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-1",children:o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No fields found"}):o.map(d=>s.jsx(se,{variant:"ghost",className:"w-full justify-start text-left h-auto py-3 px-3",onClick:()=>c(d),children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d.label}),s.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[d.type," field"]})]})},d.key))})]})]})})}function bme({open:e,onOpenChange:t,field:r,existingFilter:n,onApply:a}){const[i,o]=x.useState(n?.mode||"include"),[c,d]=x.useState(""),[f,m]=x.useState(n?.values||[]);x.useEffect(()=>{n&&(o(n.mode||"include"),m(n.values))},[n]);const p=r.options||[],y=p.filter(E=>E.label.toLowerCase().includes(c.toLowerCase())),g=E=>{if(E.includes(",")){const N=E.split(",").map(O=>O.trim().replace(/["']/g,"")).filter(Boolean),k=p.filter(O=>N.some(T=>T.toLowerCase()===O.label.toLowerCase())).map(O=>O.value);m(O=>[...new Set([...O,...k])]),d("")}else d(E)},b=E=>{m(N=>N.includes(E)?N.filter(k=>k!==E):[...N,E])},w=()=>{m(p.map(E=>E.value))},_=()=>{m([])},j=()=>{if(f.length===0)return;const E=i==="include"?"in":"not_in",N=f.map(T=>p.find(R=>R.value===T)?.label||T).slice(0,3).join(", "),k=f.length>3?`${N} +${f.length-3} more`:N,O={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:E,values:f,mode:i,displayLabel:`${i==="exclude"?"Not ":""}${k}`};a(O),t(!1)};return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(ia,{className:"sm:max-w-[500px]",children:[s.jsx(sa,{children:s.jsx(oa,{children:r.label})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_e,{children:"Filter Mode"}),s.jsxs(Ct,{value:i,onValueChange:E=>o(E),children:[s.jsx(wt,{children:s.jsx(Et,{})}),s.jsxs(_t,{children:[s.jsx(De,{value:"include",children:"Include"}),s.jsx(De,{value:"exclude",children:"Exclude"})]})]})]}),s.jsxs("div",{children:[s.jsx(_e,{children:"Search or paste values (comma-separated)"}),s.jsxs("div",{className:"relative mt-1.5",children:[s.jsx(qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Xe,{placeholder:"Search or paste: active, pending, inactive",value:c,onChange:E=>g(E.target.value),className:"pl-9 pr-9"}),c&&s.jsx(se,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>d(""),children:s.jsx(Rs,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(_e,{children:f.length>0?`${f.length} of ${p.length} selected`:`${p.length} available`}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(se,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:w,children:"Select all"}),f.length>0&&s.jsx(se,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:_,children:"Clear all"})]})]}),s.jsx("div",{className:"border rounded-md max-h-[300px] overflow-y-auto",children:y.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No options found"}):s.jsx("div",{className:"p-2 space-y-1",children:y.map(E=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded hover:bg-accent cursor-pointer",onClick:()=>b(E.value),children:[s.jsx(_o,{id:`filter-${r.key}-${E.value}`,checked:f.includes(E.value),onCheckedChange:()=>b(E.value)}),s.jsxs("label",{htmlFor:`filter-${r.key}-${E.value}`,className:"flex-1 text-sm cursor-pointer",children:[E.label,E.count!==void 0&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",E.count,")"]})]})]},E.value))})})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{onClick:j,disabled:f.length===0,children:"Apply Filter"})]})]})})}const ch=e=>e?He(e,"yyyy-MM-dd"):"",U_=e=>{if(!e)return;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?void 0:t};function wme({open:e,onOpenChange:t,field:r,existingFilter:n,onApply:a}){const[i,o]=x.useState(n?.operator||"between"),[c,d]=x.useState("custom"),[f,m]=x.useState(void 0),[p,y]=x.useState(void 0),[g,b]=x.useState(void 0);x.useEffect(()=>{if(n&&n.operator==="between"){const N=n.values;m(N.start),y(N.end)}else if(n&&["before","after","equal"].includes(n.operator)){const N=n.values;b(N.start)}},[n]);const w=N=>{const k=new Date;switch(k.setHours(0,0,0,0),N){case"today":return{start:k,end:k};case"yesterday":{const O=Yn(k,1);return{start:O,end:O}}case"last7days":return{start:Yn(k,7),end:k};case"thisWeek":return{start:Ol(k),end:Gv(k)};case"lastWeek":{const O=Ol(Yn(k,7)),T=Gv(Yn(k,7));return{start:O,end:T}}case"thisMonth":return{start:po(k),end:wo(k)};case"lastMonth":{const O=Yn(po(k),1);return{start:po(O),end:wo(O)}}case"thisQuarter":return{start:yv(k),end:N1(k)};case"lastQuarter":{const O=Yn(yv(k),1);return{start:yv(O),end:N1(O)}}case"thisYear":return{start:Ah(k),end:E1(k)};case"lastYear":{const O=Yn(Ah(k),1);return{start:Ah(O),end:E1(O)}}default:return null}},_=N=>{if(d(N),N!=="custom"){const k=w(N);k&&(m(k.start),y(k.end))}},j=()=>{let N=null;if(i==="between"){if(!f||!p)return;const k=c!=="custom"?c.replace(/([A-Z])/g," $1").trim():`${He(f,"MMM d, yyyy")} - ${He(p,"MMM d, yyyy")}`;N={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:"between",values:{start:f,end:p},displayLabel:k}}else if(["before","after","equal"].includes(i)){if(!g)return;const k=i==="before"?"Before":i==="after"?"After":"On";N={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:i,values:{start:g,end:g},displayLabel:`${k} ${He(g,"MMM d, yyyy")}`}}N&&(a(N),t(!1))},E=()=>i==="between"?f&&p:g!==void 0;return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(ia,{className:"sm:max-w-[425px]",children:[s.jsx(sa,{children:s.jsx(oa,{children:r.label})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Condition"}),s.jsxs(Ct,{value:i,onValueChange:N=>{o(N),N!=="between"&&d("custom")},children:[s.jsx(wt,{children:s.jsx(Et,{})}),s.jsxs(_t,{children:[s.jsx(De,{value:"between",children:"Between (date range)"}),s.jsx(De,{value:"before",children:"Before"}),s.jsx(De,{value:"after",children:"After"}),s.jsx(De,{value:"equal",children:"Equal to"})]})]})]}),i==="between"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Quick Presets"}),s.jsxs(Ct,{value:c,onValueChange:N=>_(N),children:[s.jsx(wt,{children:s.jsx(Et,{})}),s.jsxs(_t,{children:[s.jsx(De,{value:"today",children:"Today"}),s.jsx(De,{value:"yesterday",children:"Yesterday"}),s.jsx(De,{value:"last7days",children:"Last 7 days"}),s.jsx(De,{value:"thisWeek",children:"This week"}),s.jsx(De,{value:"lastWeek",children:"Last week"}),s.jsx(De,{value:"thisMonth",children:"This month"}),s.jsx(De,{value:"lastMonth",children:"Last month"}),s.jsx(De,{value:"thisQuarter",children:"This quarter"}),s.jsx(De,{value:"lastQuarter",children:"Last quarter"}),s.jsx(De,{value:"thisYear",children:"This year"}),s.jsx(De,{value:"lastYear",children:"Last year"}),s.jsx(De,{value:"custom",children:"Custom range"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Start Date"}),s.jsx(Xe,{type:"date",value:ch(f),onChange:N=>{m(U_(N.target.value)),d("custom")},max:ch(p)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"End Date"}),s.jsx(Xe,{type:"date",value:ch(p),onChange:N=>{y(U_(N.target.value)),d("custom")},min:ch(f)})]})]}),f&&p&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",He(f,"MMM d, yyyy")," - ",He(p,"MMM d, yyyy")]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Select Date"}),s.jsx(Xe,{type:"date",value:ch(g),onChange:N=>b(U_(N.target.value))})]}),g&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",He(g,"MMM d, yyyy")]})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{onClick:j,disabled:!E(),children:"Apply Filter"})]})]})})}function _me({fields:e,filters:t,onFiltersChange:r}){const[n,a]=x.useState(!1),[i,o]=x.useState(null),[c,d]=x.useState(!1),[f,m]=x.useState(void 0),p=j=>{o(j),m(void 0),d(!0)},y=j=>{if(f){const E=t.map(N=>N.id===f.id?j:N);r(E)}else r([...t,j]);m(void 0),o(null)},g=j=>{const E=e.find(N=>N.key===j.field);E&&(o(E),m(j),d(!0))},b=j=>{r(t.filter(E=>E.id!==j))},w=()=>{r([])},_=()=>{d(!1),o(null),m(void 0)};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"gap-2",children:[s.jsx(pE,{className:"h-4 w-4"}),"Add Filter"]}),t.map(j=>s.jsx(eme,{filter:j,onEdit:g,onRemove:b},j.id)),t.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(ze,{variant:"outline",className:"px-2 py-1",children:[t.length," ",t.length===1?"filter":"filters"," active"]}),s.jsxs(se,{variant:"ghost",size:"sm",onClick:w,className:"gap-1 h-7 text-xs",children:[s.jsx(Rs,{className:"h-3 w-3"}),"Clear All"]})]})]}),s.jsx(xme,{open:n,onOpenChange:a,fields:e,onFieldSelect:p}),i&&s.jsxs(s.Fragment,{children:[(i.type==="categorical"||i.type==="text")&&s.jsx(bme,{open:c,onOpenChange:_,field:i,existingFilter:f,onApply:y}),i.type==="date"&&s.jsx(wme,{open:c,onOpenChange:_,field:i,existingFilter:f,onApply:y})]})]})}function jme(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,Sme(a,...t)]}function Sme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Cme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y5=Cme.reduce((e,t)=>{const r=jm(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nN="Progress",aN=100,[Eme]=jme(nN),[Nme,kme]=Eme(nN),x5=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Ome,...o}=e;(a||a===0)&&!OM(a)&&console.error(Ame(`${a}`,"Progress"));const c=OM(a)?a:aN;n!==null&&!AM(n,c)&&console.error(Rme(`${n}`,"Progress"));const d=AM(n,c)?n:null,f=ry(d)?i(d,c):void 0;return s.jsx(Nme,{scope:r,value:d,max:c,children:s.jsx(y5.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":ry(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":_5(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});x5.displayName=nN;var b5="ProgressIndicator",w5=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=kme(b5,r);return s.jsx(y5.div,{"data-state":_5(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});w5.displayName=b5;function Ome(e,t){return`${Math.round(e/t*100)}%`}function _5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ry(e){return typeof e=="number"}function OM(e){return ry(e)&&!isNaN(e)&&e>0}function AM(e,t){return ry(e)&&!isNaN(e)&&e<=t&&e>=0}function Ame(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${aN}\`.`}function Rme(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${aN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var j5=x5,Tme=w5;const iN=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(j5,{ref:n,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Tme,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));iN.displayName=j5.displayName;function Pme(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var sN="ScrollArea",[S5]=ca(sN),[Dme,Ti]=S5(sN),C5=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[c,d]=x.useState(null),[f,m]=x.useState(null),[p,y]=x.useState(null),[g,b]=x.useState(null),[w,_]=x.useState(null),[j,E]=x.useState(0),[N,k]=x.useState(0),[O,T]=x.useState(!1),[R,A]=x.useState(!1),P=jt(t,M=>d(M)),L=Gd(a);return s.jsx(Dme,{scope:r,type:n,dir:L,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:p,onContentChange:y,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:O,onScrollbarXEnabledChange:T,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:R,onScrollbarYEnabledChange:A,onCornerWidthChange:E,onCornerHeightChange:k,children:s.jsx(it.div,{dir:L,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});C5.displayName=sN;var E5="ScrollAreaViewport",N5=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Ti(E5,r),c=x.useRef(null),d=jt(t,c,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(it.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});N5.displayName=E5;var Ps="ScrollAreaScrollbar",oN=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ti(Ps,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return x.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?s.jsx(Mme,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Ime,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(k5,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(lN,{...n,ref:t}):null});oN.displayName=Ps;var Mme=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ti(Ps,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Bn,{present:r||i,children:s.jsx(k5,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Ime=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Ti(Ps,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ux(()=>d("SCROLL_END"),100),[c,d]=Pme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,a.scrollHideDelay,d]),x.useEffect(()=>{const f=a.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const y=()=>{const g=f[m];p!==g&&(d("SCROLL"),o()),p=g};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[a.viewport,i,d,o]),s.jsx(Bn,{present:r||c!=="hidden",children:s.jsx(lN,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),k5=x.forwardRef((e,t)=>{const r=Ti(Ps,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),c=e.orientation==="horizontal",d=Ux(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?f:m)}},10);return Nd(r.viewport,d),Nd(r.content,d),s.jsx(Bn,{present:n||i,children:s.jsx(lN,{"data-state":i?"visible":"hidden",...a,ref:t})})}),lN=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Ti(Ps,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[c,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=P5(c.viewport,c.content),m={...n,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:y=>i.current=y,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:y=>o.current=y};function p(y,g){return Bme(y,o.current,c,g)}return r==="horizontal"?s.jsx($me,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollLeft,g=RM(y,c,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollLeft=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollLeft=p(y,a.dir))}}):r==="vertical"?s.jsx(Lme,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollTop,g=RM(y,c);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollTop=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollTop=p(y))}}):null}),$me=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ti(Ps,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),f=jt(t,d,i.onScrollbarXChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(A5,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Fx(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const y=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),M5(y,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:ay(o.paddingLeft),paddingEnd:ay(o.paddingRight)}})}})}),Lme=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Ti(Ps,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),f=jt(t,d,i.onScrollbarYChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(A5,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Fx(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const y=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),M5(y,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:ay(o.paddingTop),paddingEnd:ay(o.paddingBottom)}})}})}),[zme,O5]=S5(Ps),A5=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...y}=e,g=Ti(Ps,r),[b,w]=x.useState(null),_=jt(t,P=>w(P)),j=x.useRef(null),E=x.useRef(""),N=g.viewport,k=n.content-n.viewport,O=On(m),T=On(d),R=Ux(p,10);function A(P){if(j.current){const L=P.clientX-j.current.left,M=P.clientY-j.current.top;f({x:L,y:M})}}return x.useEffect(()=>{const P=L=>{const M=L.target;b?.contains(M)&&O(L,k)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[N,b,k,O]),x.useEffect(T,[n,T]),Nd(b,R),Nd(g.content,R),s.jsx(zme,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:On(i),onThumbPointerUp:On(o),onThumbPositionChange:T,onThumbPointerDown:On(c),children:s.jsx(it.div,{...y,ref:_,style:{position:"absolute",...y.style},onPointerDown:Ie(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),j.current=b.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),A(P))}),onPointerMove:Ie(e.onPointerMove,A),onPointerUp:Ie(e.onPointerUp,P=>{const L=P.target;L.hasPointerCapture(P.pointerId)&&L.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=E.current,g.viewport&&(g.viewport.style.scrollBehavior=""),j.current=null})})})}),ny="ScrollAreaThumb",R5=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=O5(ny,e.__scopeScrollArea);return s.jsx(Bn,{present:r||a.hasThumb,children:s.jsx(Fme,{ref:t,...n})})}),Fme=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Ti(ny,r),o=O5(ny,r),{onThumbPositionChange:c}=o,d=jt(t,p=>o.onThumbChange(p)),f=x.useRef(void 0),m=Ux(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const p=i.viewport;if(p){const y=()=>{if(m(),!f.current){const g=qme(p,c);f.current=g,c()}};return c(),p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[i.viewport,m,c]),s.jsx(it.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(e.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),b=p.clientX-g.left,w=p.clientY-g.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:Ie(e.onPointerUp,o.onThumbPointerUp)})});R5.displayName=ny;var cN="ScrollAreaCorner",T5=x.forwardRef((e,t)=>{const r=Ti(cN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(Ume,{...e,ref:t}):null});T5.displayName=cN;var Ume=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Ti(cN,r),[i,o]=x.useState(0),[c,d]=x.useState(0),f=!!(i&&c);return Nd(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),d(m)}),Nd(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),o(m)}),f?s.jsx(it.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ay(e){return e?parseInt(e,10):0}function P5(e,t){const r=e/t;return isNaN(r)?0:r}function Fx(e){const t=P5(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function Bme(e,t,r,n="ltr"){const a=Fx(r),i=a/2,o=t||i,c=a-o,d=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,m=r.content-r.viewport,p=n==="ltr"?[0,m]:[m*-1,0];return D5([d,f],p)(e)}function RM(e,t,r="ltr"){const n=Fx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-n,d=r==="ltr"?[0,o]:[o*-1,0],f=p1(e,d);return D5([0,o],[0,c])(f)}function D5(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function M5(e,t){return e>0&&e<t}var qme=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Ux(e,t){const r=On(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Nd(e,t){const r=On(t);un(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var I5=C5,Vme=N5,Hme=T5;const Zh=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(I5,{ref:n,className:Me("relative overflow-hidden",e),...r,children:[s.jsx(Vme,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx($5,{}),s.jsx(Hme,{})]}));Zh.displayName=I5.displayName;const $5=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(oN,{ref:n,orientation:t,className:Me("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(R5,{className:"relative flex-1 rounded-full bg-border"})}));$5.displayName=oN.displayName;const Wme=1,Kme=1e6;let B_=0;function Gme(){return B_=(B_+1)%Number.MAX_SAFE_INTEGER,B_.toString()}const q_=new Map,TM=e=>{if(q_.has(e))return;const t=setTimeout(()=>{q_.delete(e),Rh({type:"REMOVE_TOAST",toastId:e})},Kme);q_.set(e,t)},Yme=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Wme)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?TM(r):e.toasts.forEach(n=>{TM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},xv=[];let bv={toasts:[]};function Rh(e){bv=Yme(bv,e),xv.forEach(t=>{t(bv)})}function Zme({...e}){const t=Gme(),r=a=>Rh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Rh({type:"DISMISS_TOAST",toastId:t});return Rh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ll(){const[e,t]=x.useState(bv);return x.useEffect(()=>(xv.push(t),()=>{const r=xv.indexOf(t);r>-1&&xv.splice(r,1)}),[e]),{...e,toast:Zme,dismiss:r=>Rh({type:"DISMISS_TOAST",toastId:r})}}var wv={exports:{}};var Xme=wv.exports,PM;function Qme(){return PM||(PM=1,(function(e,t){((r,n)=>{e.exports=n()})(Xme,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},d=0,f={};function m(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var L=O(P);L.chunkSize=parseInt(L.chunkSize),P.step||P.chunk||(L.chunkSize=null),this._handle=new w(L),(this._handle.streamer=this)._config=L}).call(this,A),this.parseChunk=function(P,L){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let U=this._config.newline;U||($=this._config.quoteChar||'"',U=this._handle.guessLineEndings(P,$)),P=[...P.split(U).slice(M)].join(U)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&($=this._config.beforeFirstChunk(P))!==void 0&&(P=$),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+P,$=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=$.meta.cursor,M=(this._finished||(this._partialLine=M.substring(P-this._baseIndex),this._baseIndex=P),$&&$.data&&(this._rowCount+=$.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:$,workerId:f.WORKER_ID,finished:M});else if(R(this._config.chunk)&&!L){if(this._config.chunk($,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=$=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat($.data),this._completeResults.errors=this._completeResults.errors.concat($.errors),this._completeResults.meta=$.meta),this._completed||!M||!R(this._config.complete)||$&&$.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||$&&$.meta.paused||this._nextChunk(),$}this._halted=!0},this._sendError=function(P){R(this._config.error)?this._config.error(P):o&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function p(A){var P;(A=A||{}).chunkSize||(A.chunkSize=f.RemoteChunkSize),m.call(this,A),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=T(this._chunkLoaded,this),P.onerror=T(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var L,M=this._config.downloadRequestHeaders;for(L in M)P.setRequestHeader(L,M[L])}var $;this._config.chunkSize&&($=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+$));try{P.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=(L=>(L=L.getResponseHeader("Content-Range"))!==null?parseInt(L.substring(L.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function(L){L=P.statusText||L,this._sendError(new Error(L))}}function y(A){(A=A||{}).chunkSize||(A.chunkSize=f.LocalChunkSize),m.call(this,A);var P,L,M=typeof FileReader<"u";this.stream=function($){this._input=$,L=$.slice||$.webkitSlice||$.mozSlice,M?((P=new FileReader).onload=T(this._chunkLoaded,this),P.onerror=T(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var $=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),$=L.call($,this._start,U)),P.readAsText($,this._config.encoding));M||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function($){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk($.target.result)},this._chunkError=function(){this._sendError(P.error)}}function g(A){var P;m.call(this,A=A||{}),this.stream=function(L){return P=L,this._nextChunk()},this._nextChunk=function(){var L,M;if(!this._finished)return L=this._config.chunkSize,P=L?(M=P.substring(0,L),P.substring(L)):(M=P,""),this._finished=!P,this.parseChunk(M)}}function b(A){m.call(this,A=A||{});var P=[],L=!0,M=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function($){this._input=$,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):L=!0},this._streamData=T(function($){try{P.push(typeof $=="string"?$:$.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(U){this._streamError(U)}},this),this._streamError=T(function($){this._streamCleanUp(),this._sendError($)},this),this._streamEnd=T(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=T(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(A){var P,L,M,$,U=Math.pow(2,53),X=-U,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,I=0,q=0,ue=!1,B=!1,Q=[],V={data:[],errors:[],meta:{}};function ae(pe){return A.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function Z(){if(V&&M&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),M=!1),A.skipEmptyLines&&(V.data=V.data.filter(function(le){return!ae(le)})),ne()){let le=function(Ue,Le){R(A.transformHeader)&&(Ue=A.transformHeader(Ue,Le)),Q.push(Ue)};var ye=le;if(V)if(Array.isArray(V.data[0])){for(var pe=0;ne()&&pe<V.data.length;pe++)V.data[pe].forEach(le);V.data.splice(0,1)}else V.data.forEach(le)}function G(le,Ue){for(var Le=A.header?{}:[],Qe=0;Qe<le.length;Qe++){var Be=Qe,Rt=le[Qe],Rt=((Nt,St)=>(W=>(A.dynamicTypingFunction&&A.dynamicTyping[W]===void 0&&(A.dynamicTyping[W]=A.dynamicTypingFunction(W)),(A.dynamicTyping[W]||A.dynamicTyping)===!0))(Nt)?St==="true"||St==="TRUE"||St!=="false"&&St!=="FALSE"&&((W=>{if(Y.test(W)&&(W=parseFloat(W),X<W&&W<U))return 1})(St)?parseFloat(St):F.test(St)?new Date(St):St===""?null:St):St)(Be=A.header?Qe>=Q.length?"__parsed_extra":Q[Qe]:Be,Rt=A.transform?A.transform(Rt,Be):Rt);Be==="__parsed_extra"?(Le[Be]=Le[Be]||[],Le[Be].push(Rt)):Le[Be]=Rt}return A.header&&(Qe>Q.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+Qe,q+Ue):Qe<Q.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+Qe,q+Ue)),Le}var ge;V&&(A.header||A.dynamicTyping||A.transform)&&(ge=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(G),ge=V.data.length):V.data=G(V.data,0),A.header&&V.meta&&(V.meta.fields=Q),q+=ge)}function ne(){return A.header&&Q.length===0}function ee(pe,G,ge,ye){pe={type:pe,code:G,message:ge},ye!==void 0&&(pe.row=ye),V.errors.push(pe)}R(A.step)&&($=A.step,A.step=function(pe){V=pe,ne()?Z():(Z(),V.data.length!==0&&(I+=pe.data.length,A.preview&&I>A.preview?L.abort():(V.data=V.data[0],$(V,H))))}),this.parse=function(pe,G,ge){var ye=A.quoteChar||'"',ye=(A.newline||(A.newline=this.guessLineEndings(pe,ye)),M=!1,A.delimiter?R(A.delimiter)&&(A.delimiter=A.delimiter(pe),V.meta.delimiter=A.delimiter):((ye=((le,Ue,Le,Qe,Be)=>{var Rt,Nt,St,W;Be=Be||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var ie=0;ie<Be.length;ie++){for(var de,Ae=Be[ie],be=0,Ce=0,Pe=0,ot=(St=void 0,new j({comments:Qe,delimiter:Ae,newline:Ue,preview:10}).parse(le)),yt=0;yt<ot.data.length;yt++)Le&&ae(ot.data[yt])?Pe++:(de=ot.data[yt].length,Ce+=de,St===void 0?St=de:0<de&&(be+=Math.abs(de-St),St=de));0<ot.data.length&&(Ce/=ot.data.length-Pe),(Nt===void 0||be<=Nt)&&(W===void 0||W<Ce)&&1.99<Ce&&(Nt=be,Rt=Ae,W=Ce)}return{successful:!!(A.delimiter=Rt),bestDelimiter:Rt}})(pe,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=ye.bestDelimiter:(M=!0,A.delimiter=f.DefaultDelimiter),V.meta.delimiter=A.delimiter),O(A));return A.preview&&A.header&&ye.preview++,P=pe,L=new j(ye),V=L.parse(P,G,ge),Z(),ue?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return ue},this.pause=function(){ue=!0,L.abort(),P=R(A.chunk)?"":P.substring(L.getCharIndex())},this.resume=function(){H.streamer._halted?(ue=!1,H.streamer.parseChunk(P,!0)):setTimeout(H.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,L.abort(),V.meta.aborted=!0,R(A.complete)&&A.complete(V),P=""},this.guessLineEndings=function(le,ye){le=le.substring(0,1048576);var ye=new RegExp(_(ye)+"([^]*?)"+_(ye),"gm"),ge=(le=le.replace(ye,"")).split("\r"),ye=le.split(`
`),le=1<ye.length&&ye[0].length<ge[0].length;if(ge.length===1||le)return`
`;for(var Ue=0,Le=0;Le<ge.length;Le++)ge[Le][0]===`
`&&Ue++;return Ue>=ge.length/2?`\r
`:"\r"}}function _(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(A){var P=(A=A||{}).delimiter,L=A.newline,M=A.comments,$=A.step,U=A.preview,X=A.fastMode,Y=null,F=!1,H=A.quoteChar==null?'"':A.quoteChar,I=H;if(A.escapeChar!==void 0&&(I=A.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),M===P)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<f.BAD_DELIMITERS.indexOf(M))&&(M=!1),L!==`
`&&L!=="\r"&&L!==`\r
`&&(L=`
`);var q=0,ue=!1;this.parse=function(B,Q,V){if(typeof B!="string")throw new Error("Input must be a string");var ae=B.length,Z=P.length,ne=L.length,ee=M.length,pe=R($),G=[],ge=[],ye=[],le=q=0;if(!B)return be();if(X||X!==!1&&B.indexOf(H)===-1){for(var Ue=B.split(L),Le=0;Le<Ue.length;Le++){if(ye=Ue[Le],q+=ye.length,Le!==Ue.length-1)q+=L.length;else if(V)return be();if(!M||ye.substring(0,ee)!==M){if(pe){if(G=[],W(ye.split(P)),Ce(),ue)return be()}else W(ye.split(P));if(U&&U<=Le)return G=G.slice(0,U),be(!0)}}return be()}for(var Qe=B.indexOf(P,q),Be=B.indexOf(L,q),Rt=new RegExp(_(I)+_(H),"g"),Nt=B.indexOf(H,q);;)if(B[q]===H)for(Nt=q,q++;;){if((Nt=B.indexOf(H,Nt+1))===-1)return V||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:q}),de();if(Nt===ae-1)return de(B.substring(q,Nt).replace(Rt,H));if(H===I&&B[Nt+1]===I)Nt++;else if(H===I||Nt===0||B[Nt-1]!==I){Qe!==-1&&Qe<Nt+1&&(Qe=B.indexOf(P,Nt+1));var St=ie((Be=Be!==-1&&Be<Nt+1?B.indexOf(L,Nt+1):Be)===-1?Qe:Math.min(Qe,Be));if(B.substr(Nt+1+St,Z)===P){ye.push(B.substring(q,Nt).replace(Rt,H)),B[q=Nt+1+St+Z]!==H&&(Nt=B.indexOf(H,q)),Qe=B.indexOf(P,q),Be=B.indexOf(L,q);break}if(St=ie(Be),B.substring(Nt+1+St,Nt+1+St+ne)===L){if(ye.push(B.substring(q,Nt).replace(Rt,H)),Ae(Nt+1+St+ne),Qe=B.indexOf(P,q),Nt=B.indexOf(H,q),pe&&(Ce(),ue))return be();if(U&&G.length>=U)return be(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:q}),Nt++}}else if(M&&ye.length===0&&B.substring(q,q+ee)===M){if(Be===-1)return be();q=Be+ne,Be=B.indexOf(L,q),Qe=B.indexOf(P,q)}else if(Qe!==-1&&(Qe<Be||Be===-1))ye.push(B.substring(q,Qe)),q=Qe+Z,Qe=B.indexOf(P,q);else{if(Be===-1)break;if(ye.push(B.substring(q,Be)),Ae(Be+ne),pe&&(Ce(),ue))return be();if(U&&G.length>=U)return be(!0)}return de();function W(Pe){G.push(Pe),le=q}function ie(Pe){var ot=0;return ot=Pe!==-1&&(Pe=B.substring(Nt+1,Pe))&&Pe.trim()===""?Pe.length:ot}function de(Pe){return V||(Pe===void 0&&(Pe=B.substring(q)),ye.push(Pe),q=ae,W(ye),pe&&Ce()),be()}function Ae(Pe){q=Pe,W(ye),ye=[],Be=B.indexOf(L,q)}function be(Pe){if(A.header&&!Q&&G.length&&!F){var ot=G[0],yt=Object.create(null),gr=new Set(ot);let dn=!1;for(let Tr=0;Tr<ot.length;Tr++){let Cr=ot[Tr];if(yt[Cr=R(A.transformHeader)?A.transformHeader(Cr,Tr):Cr]){let fn,vr=yt[Cr];for(;fn=Cr+"_"+vr,vr++,gr.has(fn););gr.add(fn),ot[Tr]=fn,yt[Cr]++,dn=!0,(Y=Y===null?{}:Y)[fn]=Cr}else yt[Cr]=1,ot[Tr]=Cr;gr.add(Cr)}dn&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:G,errors:ge,meta:{delimiter:P,linebreak:L,aborted:ue,truncated:!!Pe,cursor:le+(Q||0),renamedHeaders:Y}}}function Ce(){$(be()),G=[],ge=[]}},this.abort=function(){ue=!0},this.getCharIndex=function(){return q}}function E(A){var P=A.data,L=c[P.workerId],M=!1;if(P.error)L.userError(P.error,P.file);else if(P.results&&P.results.data){var $={abort:function(){M=!0,N(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(R(L.userStep)){for(var U=0;U<P.results.data.length&&(L.userStep({data:P.results.data[U],errors:P.results.errors,meta:P.results.meta},$),!M);U++);delete P.results}else R(L.userChunk)&&(L.userChunk(P.results,$,P.file),delete P.results)}P.finished&&!M&&N(P.workerId,P.results)}function N(A,P){var L=c[A];R(L.userComplete)&&L.userComplete(P),L.terminate(),delete c[A]}function k(){throw new Error("Not implemented.")}function O(A){if(typeof A!="object"||A===null)return A;var P,L=Array.isArray(A)?[]:{};for(P in A)L[P]=O(A[P]);return L}function T(A,P){return function(){A.apply(P,arguments)}}function R(A){return typeof A=="function"}return f.parse=function(A,P){var L=(P=P||{}).dynamicTyping||!1;if(R(L)&&(P.dynamicTypingFunction=L,L={}),P.dynamicTyping=L,P.transform=!!R(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return L=null,f.NODE_STREAM_INPUT,typeof A=="string"?(A=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(A),L=new(P.download?p:g)(P)):A.readable===!0&&R(A.read)&&R(A.on)?L=new b(P):(n.File&&A instanceof File||A instanceof Object)&&(L=new y(P)),L.stream(A);(L=(()=>{var M;return!!f.WORKERS_SUPPORTED&&(M=(()=>{var $=n.URL||n.webkitURL||null,U=r.toString();return f.BLOB_URL||(f.BLOB_URL=$.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(M=new n.Worker(M)).onmessage=E,M.id=d++,c[M.id]=M)})()).userStep=P.step,L.userChunk=P.chunk,L.userComplete=P.complete,L.userError=P.error,P.step=R(P.step),P.chunk=R(P.chunk),P.complete=R(P.complete),P.error=R(P.error),delete P.worker,L.postMessage({input:A,config:P,workerId:L.id})},f.unparse=function(A,P){var L=!1,M=!0,$=",",U=`\r
`,X='"',Y=X+X,F=!1,H=null,I=!1,q=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(Q){return P.delimiter.indexOf(Q)!==-1}).length||($=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||(L=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(F=P.skipEmptyLines),typeof P.newline=="string"&&(U=P.newline),typeof P.quoteChar=="string"&&(X=P.quoteChar),typeof P.header=="boolean"&&(M=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");H=P.columns}P.escapeChar!==void 0&&(Y=P.escapeChar+X),P.escapeFormulae instanceof RegExp?I=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(X),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ue(null,A,F);if(typeof A[0]=="object")return ue(H||Object.keys(A[0]),A,F)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||H),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ue(A.fields||[],A.data||[],F);throw new Error("Unable to serialize unrecognized input");function ue(Q,V,ae){var Z="",ne=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(Q)&&0<Q.length),ee=!Array.isArray(V[0]);if(ne&&M){for(var pe=0;pe<Q.length;pe++)0<pe&&(Z+=$),Z+=B(Q[pe],pe);0<V.length&&(Z+=U)}for(var G=0;G<V.length;G++){var ge=(ne?Q:V[G]).length,ye=!1,le=ne?Object.keys(V[G]).length===0:V[G].length===0;if(ae&&!ne&&(ye=ae==="greedy"?V[G].join("").trim()==="":V[G].length===1&&V[G][0].length===0),ae==="greedy"&&ne){for(var Ue=[],Le=0;Le<ge;Le++){var Qe=ee?Q[Le]:Le;Ue.push(V[G][Qe])}ye=Ue.join("").trim()===""}if(!ye){for(var Be=0;Be<ge;Be++){0<Be&&!le&&(Z+=$);var Rt=ne&&ee?Q[Be]:Be;Z+=B(V[G][Rt],Be)}G<V.length-1&&(!ae||0<ge&&!le)&&(Z+=U)}}return Z}function B(Q,V){var ae,Z;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(Z=!1,I&&typeof Q=="string"&&I.test(Q)&&(Q="'"+Q,Z=!0),ae=Q.toString().replace(q,Y),(Z=Z||L===!0||typeof L=="function"&&L(Q,V)||Array.isArray(L)&&L[V]||((ne,ee)=>{for(var pe=0;pe<ee.length;pe++)if(-1<ne.indexOf(ee[pe]))return!0;return!1})(ae,f.BAD_DELIMITERS)||-1<ae.indexOf($)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?X+ae+X:ae)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!i&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=w,f.NetworkStreamer=p,f.FileStreamer=y,f.StringStreamer=g,f.ReadableStreamStreamer=b,n.jQuery&&((a=n.jQuery).fn.parse=function(A){var P=A.config||{},L=[];return this.each(function(U){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)L.push({file:this.files[X],inputElem:this,instanceConfig:a.extend({},P)})}),M(),this;function M(){if(L.length===0)R(A.complete)&&A.complete();else{var U,X,Y,F,H=L[0];if(R(A.before)){var I=A.before(H.file,H.inputElem);if(typeof I=="object"){if(I.action==="abort")return U="AbortError",X=H.file,Y=H.inputElem,F=I.reason,void(R(A.error)&&A.error({name:U},X,Y,F));if(I.action==="skip")return void $();typeof I.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,I.config))}else if(I==="skip")return void $()}var q=H.instanceConfig.complete;H.instanceConfig.complete=function(ue){R(q)&&q(ue,H.file,H.inputElem),$()},f.parse(H.file,H.instanceConfig)}}function $(){L.splice(0,1),M()}}),o&&(n.onmessage=function(A){A=A.data,f.WORKER_ID===void 0&&A&&(f.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=f.parse(A.input,A.config))&&n.postMessage({workerId:f.WORKER_ID,results:A,finished:!0})}),(p.prototype=Object.create(m.prototype)).constructor=p,(y.prototype=Object.create(m.prototype)).constructor=y,(g.prototype=Object.create(g.prototype)).constructor=g,(b.prototype=Object.create(m.prototype)).constructor=b,f})})(wv)),wv.exports}var Jme=Qme();const A1=ei(Jme),V_=["hr_id","full_name","engagement_model","email_personal","country_residence","locale_primary","hire_date","status"],DM=["core","upwork","external","internal"],MM=["pending","active","inactive","terminated"];function epe({open:e,onOpenChange:t}){const{user:r}=Ar(),{toast:n}=Ll(),a=jr(),[i,o]=x.useState(null),[c,d]=x.useState([]),[f,m]=x.useState([]),[p,y]=x.useState(!1),[g,b]=x.useState(0),[w,_]=x.useState(null),[j,E]=x.useState(!1),[N,k]=x.useState(!1),O=()=>{const Y=Date.now(),F=`HR-${Y}-001`,H=`HR-${Y}-002`,I=`worker1.${Y}@example.com`,q=`worker2.${Y}@example.com`,B=[[...V_,"locale_all","email_pph","worker_role","rtw_datetime","termination_date","bgc_expiration_date"].join(","),`${F},John Doe,core,${I},US,en,2025-01-15,pending,,john.doe@pph.com,Annotator,,,`,`${H},Jane Smith,upwork,${q},CA,en,2024-06-01,active,"en,es,fr",,Senior Annotator,2024-06-15T09:00:00Z,,2025-06-15`,`HR-${Y}-003,Bob Wilson,core,worker3.${Y}@example.com,US,en,2023-01-10,terminated,en,,Annotator,2023-01-20T09:00:00Z,2024-12-01,`].join(`
`),Q=new Blob([B],{type:"text/csv"}),V=URL.createObjectURL(Q),ae=document.createElement("a");ae.href=V,ae.download="workers_bulk_upload_template.csv",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(V),n({title:"Template Downloaded",description:"CSV template downloaded successfully"})},T=Y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y),R=Y=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(Y))return!1;const H=new Date(Y);return!isNaN(H.getTime())},A=Y=>{const F=new Date(Y);return!isNaN(F.getTime())},P=async Y=>{y(!0);const F=[],H=[];if(Y.length===0){F.push({row:0,field:"file",message:"CSV file is empty"}),m(F),y(!1);return}const I=Object.keys(Y[0]),q=V_.filter(V=>!I.includes(V));if(q.length>0){F.push({row:0,field:"headers",message:`Missing required columns: ${q.join(", ")}`}),m(F),y(!1);return}const{data:ue}=await Se.from("workers").select("hr_id, email_personal, email_pph"),B=new Set(ue?.map(V=>V.hr_id)||[]),Q=new Set(ue?.flatMap(V=>[V.email_personal,V.email_pph].filter(Boolean))||[]);Y.forEach((V,ae)=>{const Z=ae+2;V_.forEach(Ue=>{(!V[Ue]||V[Ue].toString().trim()==="")&&F.push({row:Z,field:Ue,message:`${Ue} is required`,value:V[Ue]})}),V.email_personal&&!T(V.email_personal)&&F.push({row:Z,field:"email_personal",message:"Invalid email format",value:V.email_personal}),V.email_pph&&V.email_pph.trim()!==""&&!T(V.email_pph)&&F.push({row:Z,field:"email_pph",message:"Invalid email format",value:V.email_pph}),B.has(V.hr_id)&&F.push({row:Z,field:"hr_id",message:`HR ID already exists: ${V.hr_id}`,value:V.hr_id}),Q.has(V.email_personal)&&F.push({row:Z,field:"email_personal",message:"Email already exists",value:V.email_personal}),V.engagement_model&&!DM.includes(V.engagement_model)&&F.push({row:Z,field:"engagement_model",message:`Invalid engagement model. Must be one of: ${DM.join(", ")}`,value:V.engagement_model}),V.status&&!MM.includes(V.status)&&F.push({row:Z,field:"status",message:`Invalid status. Must be one of: ${MM.join(", ")}`,value:V.status}),V.hire_date&&!R(V.hire_date)&&F.push({row:Z,field:"hire_date",message:"Invalid date format. Use YYYY-MM-DD",value:V.hire_date}),V.country_residence&&V.country_residence.length!==2&&F.push({row:Z,field:"country_residence",message:"Country must be 2-letter ISO code (e.g., US, CA, MX)",value:V.country_residence});const ne=V.rtw_datetime?.trim();ne&&!A(ne)&&F.push({row:Z,field:"rtw_datetime",message:"Invalid datetime format. Use ISO format (e.g., 2024-06-15T09:00:00Z)",value:ne});const ee=V.termination_date?.trim();ee&&!R(ee)&&F.push({row:Z,field:"termination_date",message:"Invalid date format. Use YYYY-MM-DD",value:ee});const pe=V.bgc_expiration_date?.trim();pe&&!R(pe)&&F.push({row:Z,field:"bgc_expiration_date",message:"Invalid date format. Use YYYY-MM-DD",value:pe});const G=V.locale_all?.trim(),ge=G?G.split(",").map(Ue=>Ue.trim()).filter(Ue=>Ue.length>0):[],ye=V.status?.trim();ye==="pending"?(ne&&F.push({row:Z,field:"rtw_datetime",message:"Pending workers must not have rtw_datetime set",value:ne}),ee&&F.push({row:Z,field:"termination_date",message:"Pending workers must not have termination_date set",value:ee})):ye==="active"||ye==="inactive"?(ne||F.push({row:Z,field:"rtw_datetime",message:`${ye} workers must have rtw_datetime set`}),ee&&F.push({row:Z,field:"termination_date",message:`${ye} workers must not have termination_date set`,value:ee})):ye==="terminated"&&(ne||F.push({row:Z,field:"rtw_datetime",message:"Terminated workers must have rtw_datetime set"}),ee||F.push({row:Z,field:"termination_date",message:"Terminated workers must have termination_date set"})),F.filter(Ue=>Ue.row===Z).length===0&&H.push({hr_id:V.hr_id,full_name:V.full_name,engagement_model:V.engagement_model,email_personal:V.email_personal,email_pph:V.email_pph||null,country_residence:V.country_residence,locale_primary:V.locale_primary,locale_all:ge.length>0?ge:void 0,hire_date:V.hire_date,status:V.status,worker_role:V.worker_role||null,rtw_datetime:ne||void 0,termination_date:ee||void 0,bgc_expiration_date:pe||void 0})}),m(F),d(H),y(!1)},L=Y=>{const F=Y.target.files?.[0];if(F){if(!F.name.endsWith(".csv")){n({title:"Invalid File",description:"Please upload a CSV file",variant:"destructive"});return}o(F),m([]),d([]),_(null),A1.parse(F,{header:!0,skipEmptyLines:!0,comments:"#",complete:H=>{const I=H.data.filter(q=>{const ue=Object.values(q)[0];return ue&&!String(ue).trim().startsWith("#")});P(I)},error:H=>{n({title:"Parse Error",description:`Failed to parse CSV: ${H.message}`,variant:"destructive"})}})}},M=mr({mutationFn:async({workers:Y,withRtwFix:F})=>{if(!r)throw new Error("User not authenticated");const H={successful:0,failed:0,errors:[],hasConstraintError:!1},I=10;for(let q=0;q<Y.length;q+=I){const ue=Y.slice(q,q+I),B=ue.map(V=>{let ae=null;V.rtw_datetime?ae=new Date(V.rtw_datetime).toISOString():F&&(V.status==="active"||V.status==="inactive")&&(ae=new Date().toISOString());const Z=V.locale_all&&V.locale_all.length>0?V.locale_all:[V.locale_primary];return{hr_id:V.hr_id,full_name:V.full_name,engagement_model:V.engagement_model,email_personal:V.email_personal,email_pph:V.email_pph||null,country_residence:V.country_residence,locale_primary:V.locale_primary,locale_all:Z,hire_date:V.hire_date,status:V.status,worker_role:V.worker_role||null,created_at:new Date().toISOString(),created_by:r.id,updated_at:new Date().toISOString(),updated_by:r.id,rtw_datetime:ae,termination_date:V.termination_date||null,bgc_expiration_date:V.bgc_expiration_date||null}}),{error:Q}=await Se.from("workers").insert(B);Q?(H.failed+=ue.length,ue.forEach((V,ae)=>{H.errors.push({row:q+ae+2,error:Q.message})}),Q.message.includes("workers_status_requirements_check")&&(H.hasConstraintError=!0)):H.successful+=ue.length,b(Math.round((q+ue.length)/Y.length*100))}return H},onSuccess:Y=>{_(Y),Y.hasConstraintError&&!N&&E(!0),a.invalidateQueries({queryKey:["workers"]}),Y.failed===0?n({title:"Import Successful",description:`Successfully imported ${Y.successful} worker(s)`}):Y.hasConstraintError&&!N?n({title:"Import Failed - Status Constraint",description:"Workers with active/inactive status require Ready To Work datetime.",variant:"destructive"}):n({title:"Partial Success",description:`Imported ${Y.successful} workers. ${Y.failed} failed.`,variant:"default"})},onError:Y=>{n({title:"Import Failed",description:Y.message,variant:"destructive"})}}),$=()=>{k(!0),E(!1),_(null),b(0),M.mutate({workers:c,withRtwFix:!0})},U=()=>{if(f.length===0)return;const Y=[["Row","Field","Error","Value"].join(","),...f.map(q=>[q.row,q.field,`"${q.message}"`,q.value?`"${q.value}"`:""].join(","))].join(`
`),F=new Blob([Y],{type:"text/csv"}),H=URL.createObjectURL(F),I=document.createElement("a");I.href=H,I.download="bulk_upload_errors.csv",document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(H),n({title:"Error Report Downloaded",description:"Download the error report to fix issues"})},X=()=>{o(null),d([]),m([]),b(0),_(null),E(!1),k(!1),t(!1)};return s.jsx(ka,{open:e,onOpenChange:X,children:s.jsxs(ia,{className:"max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs(sa,{className:"flex-shrink-0",children:[s.jsx(oa,{children:"Bulk Upload Workers"}),s.jsx(Ni,{children:"Upload a CSV file to add multiple workers at once. Maximum 500 rows per upload."})]}),s.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden",children:[!i&&!w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[s.jsx(_l,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Step 1: Download Template"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Download the CSV template with proper column headers and example data"}),s.jsxs(se,{onClick:O,variant:"outline",children:[s.jsx(_l,{className:"mr-2 h-4 w-4"}),"Download CSV Template"]})]}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[s.jsx(Lc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Step 2: Upload CSV"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select your completed CSV file to upload"}),s.jsx("input",{type:"file",accept:".csv",onChange:L,className:"hidden",id:"csv-upload"}),s.jsx("label",{htmlFor:"csv-upload",children:s.jsx(se,{variant:"default",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Select CSV File"]})})})]})]}),p&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ji,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Validating CSV data..."})]}),!p&&i&&!w&&s.jsxs("div",{className:"flex flex-col h-full min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-shrink-0 mb-4",children:[s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(s1,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-semibold text-sm",children:"Valid Rows"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.length})]}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Na,{className:"h-4 w-4 text-destructive"}),s.jsx("span",{className:"font-semibold text-sm",children:"Errors"})]}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:f.length})]})]}),f.length>0&&s.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx(gt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-semibold",children:["Found ",f.length," validation error(s). Please fix these issues before importing."]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:U,className:"mt-2",children:[s.jsx(_l,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Error Details"}),s.jsx(Zh,{className:"h-[150px] border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-[80px]",children:"Row"}),s.jsx(Oe,{className:"w-[150px]",children:"Field"}),s.jsx(Oe,{children:"Error"}),s.jsx(Oe,{children:"Value"})]})}),s.jsx(Yr,{children:f.slice(0,50).map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:Y.row}),s.jsx(Ne,{children:Y.field}),s.jsx(Ne,{className:"text-sm",children:Y.message}),s.jsx(Ne,{className:"text-sm text-muted-foreground",children:Y.value||""})]},F))})]})}),f.length>50&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Showing first 50 errors. Download full report for complete list."})]})]}),c.length>0&&s.jsxs("div",{className:"flex flex-col min-h-0 flex-1 overflow-hidden",children:[s.jsxs("h3",{className:"font-semibold mb-2 flex-shrink-0",children:["Preview Valid Rows (",c.length,")"]}),s.jsx("div",{className:"border rounded-lg overflow-auto flex-1 min-h-0 max-h-[300px]",children:s.jsxs(Kr,{children:[s.jsx(Gr,{className:"sticky top-0 bg-background z-10",children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"whitespace-nowrap",children:"HR ID"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Name"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Engagement"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Personal Email"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"PPH Email"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Country"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Primary Locale"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"All Locales"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Hire Date"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Status"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Role"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"RTW Datetime"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"Termination Date"}),s.jsx(Oe,{className:"whitespace-nowrap",children:"BGC Expiration"})]})}),s.jsx(Yr,{children:c.slice(0,20).map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium whitespace-nowrap",children:Y.hr_id}),s.jsx(Ne,{className:"whitespace-nowrap",children:Y.full_name}),s.jsx(Ne,{className:"whitespace-nowrap",children:s.jsx(ze,{variant:"outline",children:Y.engagement_model})}),s.jsx(Ne,{className:"text-sm whitespace-nowrap",children:Y.email_personal}),s.jsx(Ne,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.email_pph||""}),s.jsx(Ne,{className:"whitespace-nowrap",children:Y.country_residence}),s.jsx(Ne,{className:"whitespace-nowrap",children:Y.locale_primary}),s.jsx(Ne,{className:"whitespace-nowrap",children:Y.locale_all?.join(", ")||Y.locale_primary}),s.jsx(Ne,{className:"whitespace-nowrap",children:Y.hire_date}),s.jsx(Ne,{children:s.jsx(ze,{variant:"secondary",children:Y.status})}),s.jsx(Ne,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.worker_role||""}),s.jsx(Ne,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.rtw_datetime||""}),s.jsx(Ne,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.termination_date||""}),s.jsx(Ne,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.bgc_expiration_date||""})]},F))})]})}),c.length>20&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex-shrink-0",children:["Showing first 20 rows. ",c.length-20," more will be imported."]})]})]}),M.isPending&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(ji,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"font-semibold mb-2",children:"Importing workers..."}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[g,"% complete"]})]}),s.jsx(iN,{value:g,className:"w-full"})]}),w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(pt,{variant:(w.failed>0,"default"),children:[s.jsx(o1,{className:"h-4 w-4"}),s.jsx(gt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold",children:"Import Complete"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.successful})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:w.failed})]})]})]})})]}),w.errors.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Failed Rows"}),s.jsx(Zh,{className:"h-[150px] border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Row"}),s.jsx(Oe,{children:"Error"})]})}),s.jsx(Yr,{children:w.errors.map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:Y.row}),s.jsx(Ne,{className:"text-sm",children:Y.error})]},F))})]})})]}),j&&s.jsxs(pt,{children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx(gt,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"font-semibold",children:"Status Constraint Violation Detected"}),s.jsxs("p",{className:"text-sm",children:["Workers with ",s.jsx(ze,{variant:"secondary",children:"active"})," or"," ",s.jsx(ze,{variant:"secondary",children:"inactive"}),' status require a "Ready To Work" datetime to be set. This is enforced by the database to ensure data integrity.']}),s.jsxs("p",{className:"text-sm",children:["Would you like to automatically set the Ready To Work datetime to ",s.jsx("strong",{children:"now"})," for all active/inactive workers and retry the import?"]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(se,{size:"sm",onClick:$,children:"Yes, Set RTW & Retry Import"}),s.jsx(se,{size:"sm",variant:"outline",onClick:()=>E(!1),children:"No, I'll Fix the CSV"})]})]})})]})]})]}),s.jsxs(Oa,{className:"flex-shrink-0",children:[!w&&s.jsxs(s.Fragment,{children:[s.jsx(se,{variant:"outline",onClick:X,children:"Cancel"}),c.length>0&&f.length===0&&s.jsxs(se,{onClick:()=>M.mutate({workers:c,withRtwFix:!1}),disabled:M.isPending,children:[M.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Import ",c.length," Worker",c.length!==1?"s":""]}),f.length>0&&s.jsx(se,{variant:"outline",onClick:()=>o(null),children:"Upload Different File"})]}),w&&s.jsx(se,{onClick:X,children:"Done"})]})]})})}const IM=[{value:"pending",label:"Pending",variant:"secondary"},{value:"active",label:"Active",variant:"default"},{value:"inactive",label:"Inactive",variant:"outline"},{value:"terminated",label:"Terminated",variant:"destructive"}];function tpe({open:e,onOpenChange:t,workers:r,onSuccess:n}){const{user:a}=Ar(),{toast:i}=Ll(),o=jr(),[c,d]=x.useState(""),f=mr({mutationFn:async g=>{if(!a)throw new Error("User not authenticated");const b=r.map(_=>_.id),w={status:g,updated_at:new Date().toISOString(),updated_by:a.id};if(g==="pending"){w.rtw_datetime=null,w.termination_date=null;const{error:_}=await Se.from("workers").update(w).in("id",b);if(_)throw _}else if(g==="active"||g==="inactive"){const{error:_}=await Se.from("workers").update({...w,termination_date:null}).in("id",b).not("rtw_datetime","is",null);if(_)throw _;const{error:j}=await Se.from("workers").update({...w,rtw_datetime:new Date().toISOString(),termination_date:null}).in("id",b).is("rtw_datetime",null);if(j)throw j}else if(g==="terminated"){const{error:_}=await Se.from("workers").update({...w,termination_date:new Date().toISOString().split("T")[0]}).in("id",b).not("rtw_datetime","is",null);if(_)throw _;const{error:j}=await Se.from("workers").update({...w,rtw_datetime:new Date().toISOString(),termination_date:new Date().toISOString().split("T")[0]}).in("id",b).is("rtw_datetime",null);if(j)throw j}return{count:b.length}},onSuccess:g=>{o.invalidateQueries({queryKey:["workers"]}),i({title:"Success",description:`Updated status for ${g.count} worker(s)`}),n?.(),p()},onError:g=>{i({title:"Error",description:`Failed to update status: ${g.message}`,variant:"destructive"})}}),m=()=>{c&&f.mutate(c)},p=()=>{d(""),t(!1)},y=r.reduce((g,b)=>(g[b.status]=(g[b.status]||0)+1,g),{});return s.jsx(ka,{open:e,onOpenChange:p,children:s.jsxs(ia,{className:"max-w-lg",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Bulk Status Update"}),s.jsxs(Ni,{children:["Update the status for ",r.length," selected worker",r.length!==1?"s":""]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Current Status Distribution"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y).map(([g,b])=>{const w=IM.find(_=>_.value===g);return s.jsxs(ze,{variant:w?.variant||"secondary",children:[b," ",w?.label||g]},g)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"new-status",children:"New Status"}),s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{id:"new-status",children:s.jsx(Et,{placeholder:"Select new status"})}),s.jsx(_t,{children:IM.map(g=>s.jsx(De,{value:g.value,children:g.label},g.value))})]})]}),c==="terminated"&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{children:['Setting status to "Terminated" will mark ',r.length," worker",r.length!==1?"s":""," as terminated and record today as the termination date."]})]}),(c==="active"||c==="inactive")&&s.jsxs(pt,{children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{children:['Setting status to "',c,`" will set the Right to Work date to today for workers who don't have one, and clear any termination date.`]})]}),c==="pending"&&s.jsxs(pt,{children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx(gt,{children:'Setting status to "Pending" will clear the Right to Work date and termination date for these workers.'})]}),r.length<=5&&s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Selected Workers"}),s.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:r.map(g=>s.jsxs("div",{children:[g.full_name," (",g.hr_id,")"]},g.id))})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:p,disabled:f.isPending,children:"Cancel"}),s.jsxs(se,{onClick:m,disabled:!c||f.isPending,children:[f.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Update ",r.length," Worker",r.length!==1?"s":""]})]})]})})}function rpe({open:e,onOpenChange:t,workers:r,onSuccess:n}){const{user:a}=Ar(),{toast:i}=Ll(),o=jr(),[c,d]=x.useState(""),[f,m]=x.useState("all"),{data:p,isLoading:y}=Je({queryKey:["available-projects",f],queryFn:async()=>{let j=Se.from("workforce_projects").select(`
          id,
          project_code,
          project_name,
          department:departments(department_name)
        `).in("status",["active","paused"]).order("project_code",{ascending:!0});f!=="all"&&(j=j.eq("department_id",f));const{data:E,error:N}=await j;if(N)throw N;return E},enabled:e}),{data:g=[]}=Je({queryKey:["departments"],queryFn:async()=>{const{data:j,error:E}=await Se.from("departments").select("id, department_name").eq("is_active",!0).order("department_name",{ascending:!0});if(E)throw E;return j},enabled:e}),b=mr({mutationFn:async j=>{if(!a)throw new Error("User not authenticated");const E=r.map(k=>({worker_id:k.id,project_id:j,assigned_at:new Date().toISOString(),assigned_by:a.id})),{error:N}=await Se.from("worker_assignments").insert(E);if(N)throw N},onSuccess:()=>{o.invalidateQueries({queryKey:["worker-assignments"]}),o.invalidateQueries({queryKey:["workers"]}),i({title:"Success",description:`Assigned ${r.length} worker(s) to project`}),n?.(),_()},onError:j=>{i({title:"Error",description:`Failed to assign workers: ${j.message}`,variant:"destructive"})}}),w=()=>{c&&b.mutate(c)},_=()=>{d(""),m("all"),t(!1)};return s.jsx(ka,{open:e,onOpenChange:_,children:s.jsxs(ia,{className:"max-w-lg",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Bulk Assign to Project"}),s.jsxs(Ni,{children:["Assign ",r.length," selected worker",r.length!==1?"s":""," to a project"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[s.jsx(_s,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm font-medium",children:[r.length," worker",r.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Filter by Department"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"All departments"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Departments"}),g.map(j=>s.jsx(De,{value:j.id,children:j.department_name},j.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"project",children:"Select Project"}),y?s.jsx("div",{className:"h-10 border rounded-md animate-pulse bg-muted"}):s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{id:"project",children:s.jsx(Et,{placeholder:"Choose a project"})}),s.jsx(_t,{children:p?.map(j=>s.jsx(De,{value:j.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:j.project_code}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:j.project_name})]})},j.id))})]}),p&&p.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No active projects available"})]}),s.jsx(pt,{children:s.jsx(gt,{className:"text-sm",children:"Workers already assigned to the selected project will be skipped. This prevents duplicate assignments."})}),r.length<=5&&s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Selected Workers"}),s.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:r.map(j=>s.jsxs("div",{children:[j.full_name," (",j.hr_id,")"]},j.id))})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:_,disabled:b.isPending,children:"Cancel"}),s.jsxs(se,{onClick:w,disabled:!c||b.isPending,children:[b.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",r.length," Worker",r.length!==1?"s":""]})]})]})})}function npe({open:e,onOpenChange:t,workers:r,onSuccess:n}){const[a,i]=x.useState(""),{user:o}=Ar(),{toast:c}=Ll(),d=jr(),f=mr({mutationFn:async()=>{if(!o)throw new Error("User not authenticated");const g=r.map(E=>E.id);if(g.length===0)throw new Error("No workers selected");const{error:b,data:w}=await Se.from("workers").update({status:"terminated",termination_date:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString(),updated_by:o.id}).in("id",g).not("rtw_datetime","is",null).select("id");if(b)throw b;const{error:_,data:j}=await Se.from("workers").update({status:"terminated",rtw_datetime:new Date().toISOString(),termination_date:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString(),updated_by:o.id}).in("id",g).is("rtw_datetime",null).select("id");if(_)throw _;return{updated:(w?.length||0)+(j?.length||0)}},onSuccess:()=>{d.invalidateQueries({queryKey:["workers"]}),c({title:"Workers deleted",description:`Successfully deleted ${r.length} worker${r.length!==1?"s":""}`}),n(),t(!1),i("")},onError:g=>{c({title:"Delete failed",description:g.message,variant:"destructive"})}}),m=()=>{if(a==="DELETE"){if(r.length===0){c({title:"No workers selected",description:"Please select workers to delete",variant:"destructive"});return}f.mutate()}},p=r.filter(g=>g.status==="active"),y=p.length>0;return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(ia,{className:"sm:max-w-[500px]",children:[s.jsxs(sa,{children:[s.jsxs(oa,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(sU,{className:"h-5 w-5"}),"Delete Workers"]}),s.jsxs(Ni,{children:["This will mark ",r.length," worker",r.length!==1?"s":""," as terminated. This action cannot be undone."]})]}),s.jsxs("div",{className:"space-y-4",children:[y&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsxs(gt,{children:[s.jsx("strong",{children:"Warning:"})," ",p.length," of the selected workers"," ",p.length===1?"is":"are"," currently active. Deleting active workers may impact ongoing projects."]})]}),s.jsx("div",{className:"border rounded-md max-h-[200px] overflow-y-auto",children:s.jsxs("div",{className:"p-3 space-y-2",children:[r.slice(0,10).map(g=>s.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded hover:bg-muted",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:g.hr_id})]}),s.jsx("div",{className:g.status==="active"?"text-green-600 text-xs font-medium":"text-muted-foreground text-xs",children:g.status})]},g.id)),r.length>10&&s.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["...and ",r.length-10," more"]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-mono bg-muted px-1",children:"DELETE"})," to confirm:"]}),s.jsx("input",{type:"text",value:a,onChange:g=>i(g.target.value),className:"w-full mt-1.5 px-3 py-2 border rounded-md",placeholder:"DELETE",autoComplete:"off"})]}),s.jsx(pt,{children:s.jsxs(gt,{className:"text-xs",children:[s.jsx("strong",{children:"Note:"}),' This performs a "soft delete" by setting the status to terminated and recording the termination date. Worker records are never permanently deleted from the database for audit trail purposes.']})})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{variant:"destructive",onClick:m,disabled:a!=="DELETE"||f.isPending,children:f.isPending?"Deleting...":`Delete ${r.length} Worker${r.length!==1?"s":""}`})]})]})})}function ape(){const e=Or(),[t,r]=zC(),{isAdminOrAbove:n,isManagerOrAbove:a}=Ar(),[i,o]=x.useState([]),[c,d]=x.useState([]),[f,m]=x.useState(()=>{const Z=localStorage.getItem("pph-worker-column-visibility");if(Z)try{return JSON.parse(Z)}catch{}return{email_pph:!1,worker_role:!1,locale_primary:!1,rtw_datetime:!1,termination_date:!1}});x.useEffect(()=>{localStorage.setItem("pph-worker-column-visibility",JSON.stringify(f))},[f]);const[p,y]=x.useState(t.get("search")||""),[g,b]=x.useState(t.get("status")||"all"),[w,_]=x.useState([]),[j,E]=x.useState(!1),[N,k]=x.useState(()=>t.get("action")==="bulk-upload"),[O,T]=x.useState({}),[R,A]=x.useState(!1),[P,L]=x.useState(!1),[M,$]=x.useState(!1),{data:U,isLoading:X,isError:Y,error:F}=Je({queryKey:["workers"],queryFn:async()=>{const{data:Z,error:ne}=await Se.from("workers").select(`
          id,
          hr_id,
          full_name,
          email_personal,
          email_pph,
          status,
          engagement_model,
          worker_role,
          hire_date,
          rtw_datetime,
          bgc_expiration_date,
          termination_date,
          supervisor_id,
          country_residence,
          locale_primary
        `).order("created_at",{ascending:!1});if(ne)throw ne;return Z}});x.useEffect(()=>{const Z=new URLSearchParams;p&&Z.set("search",p),g!=="all"&&Z.set("status",g),r(Z,{replace:!0})},[p,g,r]);const H=x.useMemo(()=>{if(!U)return[];const Z=Array.from(new Set(U.map(ee=>ee.status))).map(ee=>({value:ee,label:ee.charAt(0).toUpperCase()+ee.slice(1)})),ne=Array.from(new Set(U.map(ee=>ee.country_residence))).map(ee=>({value:ee,label:ee}));return[{key:"hr_id",label:"HR ID",type:"text",options:U.map(ee=>({value:ee.hr_id,label:ee.hr_id}))},{key:"full_name",label:"Name",type:"text",options:U.map(ee=>({value:ee.full_name,label:ee.full_name}))},{key:"status",label:"Status",type:"categorical",options:Z},{key:"country_residence",label:"Country",type:"categorical",options:ne},{key:"hire_date",label:"Hire Date",type:"date"},{key:"bgc_expiration_date",label:"BGC Expiration",type:"date"}]},[U]),I=()=>{if(B.length===0)return;const Z=[["HR ID","Full Name","Email","PPH Email","Status","Engagement Model","Role","Hire Date","RTW Date","BGC Expiration","Termination Date","Country","Primary Locale"].join(","),...B.map(G=>[G.hr_id,`"${G.full_name}"`,G.email_personal,G.email_pph||"",G.status,G.engagement_model,`"${G.worker_role||""}"`,G.hire_date,G.rtw_datetime||"",G.bgc_expiration_date||"",G.termination_date||"",G.country_residence,G.locale_primary].join(","))].join(`
`),ne=new Blob([Z],{type:"text/csv"}),ee=URL.createObjectURL(ne),pe=document.createElement("a");pe.href=ee,pe.download=`workers-${new Date().toISOString().split("T")[0]}.csv`,pe.click()},q=()=>{const Z=V.getSelectedRowModel().rows.map(ge=>ge.original);if(Z.length===0)return;const ne=[["HR ID","Full Name","Email","PPH Email","Status","Engagement Model","Role","Hire Date","RTW Date","BGC Expiration","Termination Date","Country","Primary Locale"].join(","),...Z.map(ge=>[ge.hr_id,`"${ge.full_name}"`,ge.email_personal,ge.email_pph||"",ge.status,ge.engagement_model,`"${ge.worker_role||""}"`,ge.hire_date,ge.rtw_datetime||"",ge.bgc_expiration_date||"",ge.termination_date||"",ge.country_residence,ge.locale_primary].join(","))].join(`
`),ee=new Blob([ne],{type:"text/csv"}),pe=URL.createObjectURL(ee),G=document.createElement("a");G.href=pe,G.download=`workers-selected-${new Date().toISOString().split("T")[0]}.csv`,G.click()},ue=x.useMemo(()=>U?U.filter(Z=>{const ne=p.toLowerCase(),ee=!p||Z.full_name.toLowerCase().includes(ne)||Z.email_personal.toLowerCase().includes(ne),pe=g==="all"||Z.status===g;return ee&&pe}):[],[U,p,g]),B=x.useMemo(()=>w.length===0?ue:ue.filter(Z=>w.every(ne=>{const ee=Z[ne.field];if(ne.operator==="in")return ne.values.includes(String(ee));if(ne.operator==="not_in")return!ne.values.includes(String(ee));if(ne.operator==="between"&&ee){const pe=ne.values,G=new Date(String(ee));return G>=pe.start&&G<=pe.end}if(ne.operator==="before"&&ee){const pe=ne.values;return new Date(String(ee))<pe.start}if(ne.operator==="after"&&ee){const pe=ne.values;return new Date(String(ee))>pe.start}if(ne.operator==="equal"&&ee){const pe=ne.values,G=new Date(String(ee));G.setHours(0,0,0,0);const ge=new Date(pe.start);return ge.setHours(0,0,0,0),G.getTime()===ge.getTime()}return!0})),[ue,w]),Q=[{id:"select",header:({table:Z})=>s.jsx(_o,{checked:Z.getIsAllPageRowsSelected(),onCheckedChange:ne=>Z.toggleAllPageRowsSelected(!!ne),"aria-label":"Select all",onClick:ne=>ne.stopPropagation()}),cell:({row:Z})=>s.jsx(_o,{checked:Z.getIsSelected(),onCheckedChange:ne=>Z.toggleSelected(!!ne),"aria-label":"Select row",onClick:ne=>ne.stopPropagation()}),enableSorting:!1,enableHiding:!1},{accessorKey:"hr_id",header:"HR ID",cell:({row:Z})=>s.jsx("div",{className:"font-mono text-sm",children:Z.original.hr_id})},{accessorKey:"full_name",header:"Full Name",cell:({row:Z})=>s.jsx("div",{className:"font-medium",children:Z.original.full_name})},{accessorKey:"email_personal",header:"Email",cell:({row:Z})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:Z.original.email_personal})},{accessorKey:"status",header:"Status",cell:({row:Z})=>{const ne=Z.original.status,ee={active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"};return s.jsx(ze,{variant:ee[ne]||"secondary",children:ne})}},{accessorKey:"bgc_expiration_date",header:"BGC Expiration",cell:({row:Z})=>{const ne=Z.original.bgc_expiration_date;if(!ne)return s.jsx("span",{className:"text-muted-foreground",children:"-"});const ee=new Date(ne),pe=new Date,G=Math.ceil((ee.getTime()-pe.getTime())/(1e3*60*60*24)),ge=G<0,ye=G>=0&&G<30;return s.jsxs("div",{className:"flex items-center gap-2",children:[ge&&s.jsx("span",{className:"text-destructive text-xs",children:" Expired"}),ye&&!ge&&s.jsx("span",{className:"text-yellow-600 text-xs",children:" Expiring Soon"}),!ge&&!ye&&s.jsx("span",{className:"text-green-600 text-xs",children:""}),s.jsx("span",{className:"text-sm",children:He(ee,"MMM d, yyyy")})]})}},{accessorKey:"hire_date",header:"Hire Date",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:He(new Date(Z.original.hire_date),"MMM d, yyyy")})},{accessorKey:"email_pph",header:"PPH Email",cell:({row:Z})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:Z.original.email_pph||"-"})},{accessorKey:"engagement_model",header:"Engagement Model",cell:({row:Z})=>{const ne=Z.original.engagement_model;return s.jsx(ze,{variant:"outline",className:"capitalize",children:ne})}},{accessorKey:"worker_role",header:"Role",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.worker_role||"-"})},{accessorKey:"country_residence",header:"Country",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.country_residence})},{accessorKey:"locale_primary",header:"Primary Locale",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.locale_primary})},{accessorKey:"rtw_datetime",header:"RTW Date",cell:({row:Z})=>{const ne=Z.original.rtw_datetime;return ne?s.jsx("div",{className:"text-sm",children:He(new Date(ne),"MMM d, yyyy")}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"termination_date",header:"Termination Date",cell:({row:Z})=>{const ne=Z.original.termination_date;return ne?s.jsx("div",{className:"text-sm text-destructive",children:He(new Date(ne),"MMM d, yyyy")}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{id:"actions",header:"Actions",enableHiding:!1,cell:({row:Z})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:ne=>{ne.stopPropagation(),e(`/workers/${Z.original.id}/edit`)},children:"Edit"})})}],V=Kd({data:B,columns:Q,getCoreRowModel:Vd(),getSortedRowModel:Wd(),getPaginationRowModel:Hd(),getFilteredRowModel:Cm(),onSortingChange:o,onColumnFiltersChange:d,onColumnVisibilityChange:m,onRowSelectionChange:T,enableRowSelection:!0,enableColumnResizing:!0,columnResizeMode:"onChange",getRowId:Z=>Z.id,state:{sorting:i,columnFilters:c,columnVisibility:f,rowSelection:O},initialState:{pagination:{pageSize:50}}}),ae=()=>{y(""),b("all")};return X?s.jsxs("div",{className:"container mx-auto py-8 space-y-4",children:[s.jsx($e,{className:"h-8 w-64"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):Y?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load workers: ",F?.message||"Unknown error"]})})}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Workers"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage your workforce (",U?.length||0," total)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Qv,{children:[s.jsx(Jv,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx(rse,{className:"h-4 w-4 mr-2"}),"Columns"]})}),s.jsxs(Yh,{align:"end",className:"w-[200px]",children:[s.jsx(WE,{children:"Toggle columns"}),s.jsx(ey,{}),V.getAllColumns().filter(Z=>Z.getCanHide()).map(Z=>s.jsx(V3,{className:"capitalize",checked:Z.getIsVisible(),onCheckedChange:ne=>Z.toggleVisibility(!!ne),children:Z.id.replace(/_/g," ")},Z.id))]})]}),s.jsxs(se,{variant:"outline",onClick:()=>E(!j),children:[s.jsx(Fie,{className:"h-4 w-4 mr-2"}),"Advanced Filters",w.length>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary text-primary-foreground rounded-full",children:w.length})]}),B.length>0&&s.jsxs(se,{variant:"outline",onClick:I,children:[s.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs(se,{variant:"outline",onClick:()=>k(!0),children:[s.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Bulk Upload"]}),s.jsx(se,{onClick:()=>e("/workers/create"),children:"Create Worker"})]})]})]}),Object.keys(O).length>0&&s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ze,{variant:"secondary",className:"text-sm",children:[Object.keys(O).length," selected"]}),s.jsx(se,{variant:"ghost",size:"sm",onClick:()=>T({}),children:"Clear selection"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a&&s.jsxs(s.Fragment,{children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>A(!0),children:"Change Status"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>L(!0),children:"Assign to Project"})]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:q,children:[s.jsx(_l,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),n&&s.jsx(se,{variant:"destructive",size:"sm",onClick:()=>$(!0),children:"Delete Selected"})]})]}),j&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:"Advanced Filters"}),s.jsx(_me,{fields:H,filters:w,onFiltersChange:_})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xe,{id:"search",placeholder:"Search by name or email...",value:p,onChange:Z=>y(Z.target.value),className:"pr-8"}),p&&s.jsx("button",{onClick:()=>y(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Rs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"status",children:"Status"}),s.jsxs(Ct,{value:g,onValueChange:b,children:[s.jsx(wt,{id:"status",children:s.jsx(Et,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Statuses"}),s.jsx(De,{value:"active",children:"Active"}),s.jsx(De,{value:"pending",children:"Pending"}),s.jsx(De,{value:"inactive",children:"Inactive"}),s.jsx(De,{value:"terminated",children:"Terminated"})]})]})]}),(p||g!=="all")&&s.jsx(se,{variant:"outline",onClick:ae,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",B.length," of ",U?.length||0," workers",w.length>0&&s.jsx("span",{className:"text-primary",children:" (advanced filters active)"})]}),s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Kr,{style:{width:V.getTotalSize()},children:[s.jsx(Gr,{children:V.getHeaderGroups().map(Z=>s.jsx(vt,{children:Z.headers.map(ne=>s.jsxs(Oe,{style:{width:ne.getSize(),position:"relative"},children:[ne.isPlaceholder?null:Ei(ne.column.columnDef.header,ne.getContext()),ne.column.getCanResize()&&s.jsx("div",{onMouseDown:ne.getResizeHandler(),onTouchStart:ne.getResizeHandler(),className:`absolute right-0 top-0 h-full w-1 cursor-col-resize select-none touch-none bg-transparent hover:bg-primary ${ne.column.getIsResizing()?"bg-primary":""}`})]},ne.id))},Z.id))}),s.jsx(Yr,{children:V.getRowModel().rows?.length?V.getRowModel().rows.map(Z=>s.jsx(vt,{onClick:()=>e(`/workers/${Z.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:Z.getVisibleCells().map(ne=>s.jsx(Ne,{children:Ei(ne.column.columnDef.cell,ne.getContext())},ne.id))},Z.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:Q.length,className:"h-24 text-center",children:"No workers found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",V.getState().pagination.pageIndex+1," of ",V.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>V.previousPage(),disabled:!V.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>V.nextPage(),disabled:!V.getCanNextPage(),children:"Next"})]})]}),s.jsx(epe,{open:N,onOpenChange:k}),s.jsx(tpe,{open:R,onOpenChange:A,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>T({})}),s.jsx(rpe,{open:P,onOpenChange:L,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>T({})}),s.jsx(npe,{open:M,onOpenChange:$,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>T({})})]})}const L5=ru({hr_id:Tt().min(1,"HR ID is required"),full_name:Tt().min(2,"Full name must be at least 2 characters"),engagement_model:Uh(["core","upwork","external","internal"]),worker_role:Tt().optional(),email_personal:Tt().email("Invalid email address"),email_pph:Tt().email("Invalid email address").optional().or(ps("")),country_residence:Tt().min(2,"Country is required"),locale_primary:Tt().min(2,"Primary locale is required"),locale_all:MF(Tt()).default([]),hire_date:Tt().min(1,"Hire date is required"),rtw_datetime:Tt().optional().or(ps("")),supervisor_id:Tt().uuid().optional().or(ps("")),termination_date:Tt().optional().or(ps("")),bgc_expiration_date:Tt().optional().or(ps("")),status:Uh(["pending","active","inactive","terminated"]).default("pending")}),ipe=[{value:"core",label:"Core"},{value:"upwork",label:"Upwork"},{value:"external",label:"External"},{value:"internal",label:"Internal"}],spe=[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"terminated",label:"Terminated"}],ope=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"PH",label:"Philippines"},{value:"IN",label:"India"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"CO",label:"Colombia"},{value:"VE",label:"Venezuela"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"PL",label:"Poland"},{value:"UA",label:"Ukraine"},{value:"PK",label:"Pakistan"},{value:"BD",label:"Bangladesh"},{value:"KE",label:"Kenya"},{value:"NG",label:"Nigeria"},{value:"ZA",label:"South Africa"},{value:"OTHER",label:"Other"}],lpe=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"tl",label:"Tagalog"},{value:"hi",label:"Hindi"},{value:"ar",label:"Arabic"},{value:"zh",label:"Chinese"},{value:"ja",label:"Japanese"}];function cpe(){const e=Or(),t=jr(),{user:r}=Ar(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,formState:{errors:f}}=Ao({resolver:Ro(L5),defaultValues:{status:"pending",engagement_model:"core",locale_all:[]}}),{data:m}=Je({queryKey:["supervisors"],queryFn:async()=>{const{data:g,error:b}=await Se.from("workers").select("id, full_name").eq("status","active").order("full_name");if(b)throw b;return g}}),p=mr({mutationFn:async g=>{if(!r)throw new Error("User not authenticated");let w={...{hr_id:g.hr_id,full_name:g.full_name,engagement_model:g.engagement_model,worker_role:g.worker_role||null,email_personal:g.email_personal,email_pph:g.email_pph||null,country_residence:g.country_residence,locale_primary:g.locale_primary,locale_all:g.locale_all||[],hire_date:g.hire_date,supervisor_id:g.supervisor_id||null,bgc_expiration_date:g.bgc_expiration_date||null,created_by:r.id,updated_by:r.id}};g.status==="pending"?(w.status="pending",w.rtw_datetime=null,w.termination_date=null):g.status==="active"||g.status==="inactive"?(w.status=g.status,w.rtw_datetime=g.rtw_datetime||new Date().toISOString(),w.termination_date=null):g.status==="terminated"&&(w.status="terminated",w.rtw_datetime=g.rtw_datetime||new Date().toISOString(),w.termination_date=g.termination_date||new Date().toISOString().split("T")[0]);const{error:_}=await Se.from("workers").insert(w);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["workers"]}),e("/workers")},onError:g=>{a(g.message)}}),y=g=>{a(null),p.mutate(g)};return s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/workers"),className:"mb-4",children:[s.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Back to Workers"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Worker"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Add a new worker to the system"})]}),s.jsxs("form",{onSubmit:o(y),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Basic Information"}),s.jsx(dt,{children:"Core worker identity and contact details"})]}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hr_id",children:"HR ID *"}),s.jsx(Xe,{id:"hr_id",...i("hr_id"),placeholder:"e.g., EMP001"}),f.hr_id&&s.jsx("p",{className:"text-sm text-destructive",children:f.hr_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(Xe,{id:"full_name",...i("full_name"),placeholder:"John Doe"}),f.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:f.full_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_personal",children:"Personal Email *"}),s.jsx(Xe,{id:"email_personal",type:"email",...i("email_personal"),placeholder:"john@example.com"}),f.email_personal&&s.jsx("p",{className:"text-sm text-destructive",children:f.email_personal.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_pph",children:"PPH Email"}),s.jsx(Xe,{id:"email_pph",type:"email",...i("email_pph"),placeholder:"john@pph.com"}),f.email_pph&&s.jsx("p",{className:"text-sm text-destructive",children:f.email_pph.message})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Employment Details"}),s.jsx(dt,{children:"Engagement model and work information"})]}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"engagement_model",children:"Engagement Model *"}),s.jsxs(Ct,{value:d("engagement_model"),onValueChange:g=>c("engagement_model",g),children:[s.jsx(wt,{id:"engagement_model",children:s.jsx(Et,{placeholder:"Select engagement model"})}),s.jsx(_t,{children:ipe.map(g=>s.jsx(De,{value:g.value,children:g.label},g.value))})]}),f.engagement_model&&s.jsx("p",{className:"text-sm text-destructive",children:f.engagement_model.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"worker_role",children:"Worker Role"}),s.jsx(Xe,{id:"worker_role",...i("worker_role"),placeholder:"e.g., Annotator, QA Specialist"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"status",children:"Status *"}),s.jsxs(Ct,{value:d("status"),onValueChange:g=>c("status",g),children:[s.jsx(wt,{id:"status",children:s.jsx(Et,{placeholder:"Select status"})}),s.jsx(_t,{children:spe.map(g=>s.jsx(De,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"supervisor_id",children:"Supervisor"}),s.jsxs(Ct,{value:d("supervisor_id")||"none",onValueChange:g=>c("supervisor_id",g==="none"?"":g),children:[s.jsx(wt,{id:"supervisor_id",children:s.jsx(Et,{placeholder:"Select supervisor"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"No Supervisor"}),m?.map(g=>s.jsx(De,{value:g.id,children:g.full_name},g.id))]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Location & Locale"}),s.jsx(dt,{children:"Geographic and language information"})]}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"country_residence",children:"Country of Residence *"}),s.jsxs(Ct,{value:d("country_residence"),onValueChange:g=>c("country_residence",g),children:[s.jsx(wt,{id:"country_residence",children:s.jsx(Et,{placeholder:"Select country"})}),s.jsx(_t,{children:ope.map(g=>s.jsx(De,{value:g.value,children:g.label},g.value))})]}),f.country_residence&&s.jsx("p",{className:"text-sm text-destructive",children:f.country_residence.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_primary",children:"Primary Locale *"}),s.jsxs(Ct,{value:d("locale_primary"),onValueChange:g=>c("locale_primary",g),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Et,{placeholder:"Select locale"})}),s.jsx(_t,{children:lpe.map(g=>s.jsx(De,{value:g.value,children:g.label},g.value))})]}),f.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:f.locale_primary.message})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Dates"}),s.jsx(dt,{children:"Important dates and milestones"})]}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hire_date",children:"Hire Date *"}),s.jsx(Xe,{id:"hire_date",type:"date",...i("hire_date")}),f.hire_date&&s.jsx("p",{className:"text-sm text-destructive",children:f.hire_date.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"rtw_datetime",children:"RTW Date/Time"}),s.jsx(Xe,{id:"rtw_datetime",type:"datetime-local",...i("rtw_datetime")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"bgc_expiration_date",children:"BGC Expiration Date"}),s.jsx(Xe,{id:"bgc_expiration_date",type:"date",...i("bgc_expiration_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"termination_date",children:"Termination Date"}),s.jsx(Xe,{id:"termination_date",type:"date",...i("termination_date")})]})]})]}),n&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:n})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(se,{type:"submit",disabled:p.isPending,children:p.isPending?"Creating...":"Create Worker"}),s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/workers"),children:"Cancel"})]})]})]})}const upe=[{value:"core",label:"Core"},{value:"upwork",label:"Upwork"},{value:"external",label:"External"},{value:"internal",label:"Internal"}],dpe=[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"terminated",label:"Terminated"}],$M=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"PH",label:"Philippines"},{value:"IN",label:"India"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"CO",label:"Colombia"},{value:"VE",label:"Venezuela"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"PL",label:"Poland"},{value:"UA",label:"Ukraine"},{value:"PK",label:"Pakistan"},{value:"BD",label:"Bangladesh"},{value:"KE",label:"Kenya"},{value:"NG",label:"Nigeria"},{value:"ZA",label:"South Africa"},{value:"OTHER",label:"Other"}],fpe=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"tl",label:"Tagalog"},{value:"hi",label:"Hindi"},{value:"ar",label:"Arabic"},{value:"zh",label:"Chinese"},{value:"ja",label:"Japanese"}];function hpe(){const{id:e}=Qc(),t=Or(),r=jr(),{user:n}=Ar(),[a,i]=x.useState(null),{data:o,isLoading:c}=Je({queryKey:["worker",e],queryFn:async()=>{const{data:j,error:E}=await Se.from("workers").select("*").eq("id",e).single();if(E)throw E;return j},enabled:!!e}),d=j=>j?new Date(j).toISOString().slice(0,16):"",{register:f,handleSubmit:m,setValue:p,watch:y,formState:{errors:g}}=Ao({resolver:Ro(L5),values:o?{hr_id:o.hr_id,full_name:o.full_name,engagement_model:o.engagement_model,worker_role:o.worker_role||"",email_personal:o.email_personal,email_pph:o.email_pph||"",country_residence:o.country_residence,locale_primary:o.locale_primary,locale_all:o.locale_all||[],hire_date:o.hire_date,rtw_datetime:d(o.rtw_datetime),supervisor_id:o.supervisor_id||"",termination_date:o.termination_date||"",bgc_expiration_date:o.bgc_expiration_date||"",status:o.status}:void 0}),{data:b}=Je({queryKey:["supervisors"],queryFn:async()=>{const{data:j,error:E}=await Se.from("workers").select("id, full_name").eq("status","active").neq("id",e||"").order("full_name");if(E)throw E;return j}}),w=mr({mutationFn:async j=>{if(!n)throw new Error("User not authenticated");let N={...{hr_id:j.hr_id,full_name:j.full_name,engagement_model:j.engagement_model,worker_role:j.worker_role||null,email_personal:j.email_personal,email_pph:j.email_pph||null,country_residence:j.country_residence,locale_primary:j.locale_primary,locale_all:j.locale_all||[],hire_date:j.hire_date,supervisor_id:j.supervisor_id||null,bgc_expiration_date:j.bgc_expiration_date||null,updated_at:new Date().toISOString(),updated_by:n.id}};j.status==="pending"?(N.status="pending",N.rtw_datetime=null,N.termination_date=null):j.status==="active"||j.status==="inactive"?(N.status=j.status,N.rtw_datetime=j.rtw_datetime||new Date().toISOString(),N.termination_date=null):j.status==="terminated"&&(N.status="terminated",N.rtw_datetime=j.rtw_datetime||new Date().toISOString(),N.termination_date=j.termination_date||new Date().toISOString().split("T")[0]);const{error:k}=await Se.from("workers").update(N).eq("id",e);if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["workers"]}),r.invalidateQueries({queryKey:["worker",e]}),t("/workers")},onError:j=>{i(j.message)}}),_=j=>{i(null),w.mutate(j)};return c||!o?s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsx($e,{className:"h-8 w-64 mb-4"}),s.jsx($e,{className:"h-96 w-full"})]}):s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/workers"),className:"mb-4",children:[s.jsx(Ya,{className:"mr-2 h-4 w-4"}),"Back to Workers"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Worker"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update worker information"})]}),s.jsxs("form",{onSubmit:m(_),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Basic Information"})}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hr_id",children:"HR ID *"}),s.jsx(Xe,{id:"hr_id",...f("hr_id")}),g.hr_id&&s.jsx("p",{className:"text-sm text-destructive",children:g.hr_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(Xe,{id:"full_name",...f("full_name")}),g.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:g.full_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_personal",children:"Personal Email *"}),s.jsx(Xe,{id:"email_personal",type:"email",...f("email_personal")}),g.email_personal&&s.jsx("p",{className:"text-sm text-destructive",children:g.email_personal.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_pph",children:"PPH Email"}),s.jsx(Xe,{id:"email_pph",type:"email",...f("email_pph")})]})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Employment Details"})}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Engagement Model *"}),s.jsxs(Ct,{value:y("engagement_model")||"",onValueChange:j=>p("engagement_model",j),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select engagement model"})}),s.jsx(_t,{children:upe.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"worker_role",children:"Worker Role"}),s.jsx(Xe,{id:"worker_role",...f("worker_role")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Status *"}),s.jsxs(Ct,{value:y("status")||"",onValueChange:j=>p("status",j),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select status"})}),s.jsx(_t,{children:dpe.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Supervisor"}),s.jsxs(Ct,{value:y("supervisor_id")||"none",onValueChange:j=>p("supervisor_id",j==="none"?"":j),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select supervisor"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"No Supervisor"}),b?.map(j=>s.jsx(De,{value:j.id,children:j.full_name},j.id))]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Location & Locale"})}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Country of Residence *"}),s.jsxs(Ct,{value:y("country_residence")?.toUpperCase()||"",onValueChange:j=>p("country_residence",j),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select country"})}),s.jsx(_t,{children:$M.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))})]}),y("country_residence")&&!$M.find(j=>j.value===y("country_residence")?.toUpperCase())&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current value: ",y("country_residence")," (not in list)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Primary Locale *"}),s.jsxs(Ct,{value:y("locale_primary")||"",onValueChange:j=>p("locale_primary",j),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select locale"})}),s.jsx(_t,{children:fpe.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))})]})]})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Dates"})}),s.jsxs(ke,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hire_date",children:"Hire Date *"}),s.jsx(Xe,{id:"hire_date",type:"date",...f("hire_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"rtw_datetime",children:"RTW Date/Time"}),s.jsx(Xe,{id:"rtw_datetime",type:"datetime-local",...f("rtw_datetime")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"bgc_expiration_date",children:"BGC Expiration Date"}),s.jsx(Xe,{id:"bgc_expiration_date",type:"date",...f("bgc_expiration_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"termination_date",children:"Termination Date"}),s.jsx(Xe,{id:"termination_date",type:"date",...f("termination_date")})]})]})]}),a&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:a})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(se,{type:"submit",disabled:w.isPending,children:w.isPending?"Updating...":"Update Worker"}),s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/workers"),children:"Cancel"})]})]})]})}var Bx="Tabs",[mpe]=ca(Bx,[ef]),z5=ef(),[ppe,uN]=mpe(Bx),F5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...f}=e,m=Gd(c),[p,y]=Ss({prop:n,onChange:a,defaultProp:i??"",caller:Bx});return s.jsx(ppe,{scope:r,baseId:Zi(),value:p,onValueChange:y,orientation:o,dir:m,activationMode:d,children:s.jsx(it.div,{dir:m,"data-orientation":o,...f,ref:t})})});F5.displayName=Bx;var U5="TabsList",B5=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=uN(U5,r),o=z5(r);return s.jsx($E,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(it.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});B5.displayName=U5;var q5="TabsTrigger",V5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=uN(q5,r),c=z5(r),d=K5(o.baseId,n),f=G5(o.baseId,n),m=n===o.value;return s.jsx(LE,{asChild:!0,...c,focusable:!a,active:m,children:s.jsx(it.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:Ie(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ie(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ie(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!a&&p&&o.onValueChange(n)})})})});V5.displayName=q5;var H5="TabsContent",W5=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,c=uN(H5,r),d=K5(c.baseId,n),f=G5(c.baseId,n),m=n===c.value,p=x.useRef(m);return x.useEffect(()=>{const y=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(Bn,{present:a||m,children:({present:y})=>s.jsx(it.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:y&&i})})});W5.displayName=H5;function K5(e,t){return`${e}-trigger-${t}`}function G5(e,t){return`${e}-content-${t}`}var gpe=F5,Y5=B5,Z5=V5,X5=W5;const dN=gpe,qx=x.forwardRef(({className:e,...t},r)=>s.jsx(Y5,{ref:r,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));qx.displayName=Y5.displayName;const bi=x.forwardRef(({className:e,...t},r)=>s.jsx(Z5,{ref:r,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));bi.displayName=Z5.displayName;const wi=x.forwardRef(({className:e,...t},r)=>s.jsx(X5,{ref:r,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));wi.displayName=X5.displayName;function vpe({worker:e}){const t=Or(),n=(()=>{if(!e.bgc_expiration_date)return{status:"none",text:"Not set",variant:"outline",icon:null};const i=new Date(e.bgc_expiration_date),o=new Date,c=Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24));return c<0?{status:"expired",text:`Expired ${Math.abs(c)} days ago`,variant:"destructive",icon:s.jsx(Ki,{className:"h-4 w-4"})}:c<30?{status:"expiring",text:`Expiring in ${c} days`,variant:"secondary",icon:s.jsx(Ki,{className:"h-4 w-4 text-yellow-600"})}:{status:"valid",text:`Valid (${c} days remaining)`,variant:"default",icon:s.jsx(kh,{className:"h-4 w-4 text-green-600"})}})(),a=i=>i.charAt(0).toUpperCase()+i.slice(1);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(se,{variant:"outline",onClick:()=>t(`/workers/${e.id}/edit`),children:[s.jsx(gE,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Personal Information"}),s.jsx(dt,{children:"Basic contact and identification details"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm mt-1",children:e.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HR ID"}),s.jsx("p",{className:"text-sm mt-1",children:e.hr_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Personal Email"}),s.jsx("p",{className:"text-sm mt-1",children:e.email_personal})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"PPH Email"}),s.jsx("p",{className:"text-sm mt-1",children:e.email_pph||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country of Residence"}),s.jsx("p",{className:"text-sm mt-1",children:e.country_residence})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Primary Locale"}),s.jsx("p",{className:"text-sm mt-1",children:e.locale_primary})]}),e.locale_all&&e.locale_all.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"All Locales"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.locale_all.map(i=>s.jsx(ze,{variant:"outline",children:i},i))})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Employment Information"}),s.jsx(dt,{children:"Work status and engagement details"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(ze,{variant:e.status==="active"?"default":e.status==="pending"?"secondary":e.status==="terminated"?"destructive":"outline",children:e.status.toUpperCase()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Model"}),s.jsx("p",{className:"text-sm mt-1",children:a(e.engagement_model)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Worker Role"}),s.jsx("p",{className:"text-sm mt-1",children:e.worker_role||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Hire Date"}),s.jsx("p",{className:"text-sm mt-1",children:He(new Date(e.hire_date),"MMMM d, yyyy")})]}),e.rtw_datetime&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Ready to Work Date"}),s.jsx("p",{className:"text-sm mt-1",children:He(new Date(e.rtw_datetime),"MMMM d, yyyy")})]}),e.termination_date&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Termination Date"}),s.jsx("p",{className:"text-sm mt-1 text-destructive",children:He(new Date(e.termination_date),"MMMM d, yyyy")})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Organizational"}),s.jsx(dt,{children:"Reporting structure"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Supervisor"}),s.jsx("p",{className:"text-sm mt-1",children:e.supervisor_name||(e.supervisor_id?"Unknown":"No supervisor assigned")})]})})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Background Check"}),s.jsx(dt,{children:"BGC compliance status"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expiration Date"}),s.jsx("p",{className:"text-sm mt-1",children:e.bgc_expiration_date?He(new Date(e.bgc_expiration_date),"MMMM d, yyyy"):"Not set"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.icon,s.jsx(ze,{variant:n.variant,children:n.text})]})]})]}),(n.status==="expired"||n.status==="expiring")&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-md",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ki,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Action Required"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:n.status==="expired"?"This worker's background check has expired. They should not be assigned to new projects until renewed.":"This worker's background check is expiring soon. Please schedule a renewal."})]})]})})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Audit Trail"}),s.jsx(dt,{children:"Record creation and modification history"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm mt-1",children:He(new Date(e.created_at),"MMMM d, yyyy h:mm a")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),s.jsx("p",{className:"text-sm mt-1",children:e.created_by_name||(e.created_by?"Unknown":"System")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm mt-1",children:He(new Date(e.updated_at),"MMMM d, yyyy h:mm a")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated By"}),s.jsx("p",{className:"text-sm mt-1",children:e.updated_by_name||(e.updated_by?"Unknown":"System")})]})]})})]})]})}var ype=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xpe=ype.reduce((e,t)=>{const r=jm(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),bpe="Separator",LM="horizontal",wpe=["horizontal","vertical"],Q5=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=LM,...a}=e,i=_pe(n)?n:LM,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(xpe.div,{"data-orientation":i,...c,...a,ref:t})});Q5.displayName=bpe;function _pe(e){return wpe.includes(e)}var J5=Q5;const qc=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(J5,{ref:a,decorative:r,orientation:t,className:Me("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));qc.displayName=J5.displayName;const jpe=[{value:"DataCompute",label:"DataCompute"},{value:"Maestro",label:"Maestro"},{value:"Other",label:"Other"}];function zM({open:e,onOpenChange:t,workerId:r,workerName:n,onSuccess:a}){const{user:i}=Ar(),{toast:o}=Ll(),c=jr(),[d,f]=x.useState(""),[m,p]=x.useState(""),[y,g]=x.useState(""),{data:b=[]}=Je({queryKey:["worker-accounts",r],queryFn:async()=>{const{data:k,error:O}=await Se.from("worker_accounts").select("platform_type, is_current").eq("worker_id",r).eq("is_current",!0);if(O)throw O;return k},enabled:e}),w=d?b.some(k=>k.platform_type===d):!1,_=mr({mutationFn:async()=>{if(!i)throw new Error("User not authenticated");if(!d)throw new Error("Platform type is required");if(!m.trim())throw new Error("Account email is required");if(!y.trim())throw new Error("Account ID is required");const{error:k}=await Se.from("worker_accounts").insert({worker_id:r,platform_type:d,worker_account_email:m.trim(),worker_account_id:y.trim(),is_current:!0,status:"active",activated_at:new Date().toISOString(),created_by:i.id});if(k)throw k},onSuccess:()=>{c.invalidateQueries({queryKey:["worker-accounts",r]}),o({title:"Success",description:`Added ${d} account for ${n}`}),a?.(),E()},onError:k=>{o({title:"Error",description:`Failed to add account: ${k.message}`,variant:"destructive"})}}),j=()=>{d&&(w||_.mutate())},E=()=>{f(""),p(""),g(""),t(!1)},N=d&&!w&&m.trim()&&y.trim();return s.jsx(ka,{open:e,onOpenChange:E,children:s.jsxs(ia,{className:"max-w-lg",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Add Account"}),s.jsxs(Ni,{children:["Add a new platform account for ",n]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"platform-type",children:["Platform Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:d,onValueChange:k=>f(k),children:[s.jsx(wt,{id:"platform-type",children:s.jsx(Et,{placeholder:"Select platform"})}),s.jsx(_t,{children:jpe.map(k=>s.jsx(De,{value:k.value,children:k.label},k.value))})]})]}),w&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{children:["This worker already has a current ",d,' account. Please use "Replace Account" instead.']})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"account-email",children:["Account Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"account-email",type:"email",placeholder:"worker@platform.com",value:m,onChange:k=>p(k.target.value),disabled:!d||w}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email associated with this platform account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"account-id",children:["Account ID ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"account-id",type:"text",placeholder:"Platform-specific account identifier",value:y,onChange:k=>g(k.target.value),disabled:!d||w}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform-specific account identifier"})]}),!w&&d&&s.jsx(pt,{children:s.jsxs(gt,{className:"text-sm",children:["This account will be marked as the current active account for ",d,"."]})})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:E,disabled:_.isPending,children:"Cancel"}),s.jsxs(se,{onClick:j,disabled:!N||_.isPending,children:[_.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Account"]})]})]})})}const Spe=[{value:"platform_policy_violation",label:"Platform Policy Violation"},{value:"worker_request",label:"Worker Request"},{value:"security_breach",label:"Security Breach"},{value:"account_suspension",label:"Account Suspension"},{value:"performance_issues",label:"Performance Issues"},{value:"migration",label:"Migration to New Account"},{value:"other",label:"Other"}];function Cpe({open:e,onOpenChange:t,workerId:r,workerName:n,currentAccount:a,onSuccess:i}){const{user:o}=Ar(),{toast:c}=Ll(),d=jr(),[f,m]=x.useState(""),[p,y]=x.useState(""),[g,b]=x.useState(""),w=mr({mutationFn:async()=>{if(!o)throw new Error("User not authenticated");if(!f)throw new Error("Deactivation reason is required");if(!p.trim())throw new Error("New account email is required");if(!g.trim())throw new Error("New account ID is required");const{error:N}=await Se.from("worker_accounts").update({is_current:!1,status:"replaced",deactivated_at:new Date().toISOString(),deactivation_reason:f,updated_by:o.id}).eq("id",a.id);if(N)throw N;const{error:k}=await Se.from("worker_accounts").insert({worker_id:r,platform_type:a.platform_type,worker_account_email:p.trim(),worker_account_id:g.trim(),is_current:!0,status:"active",activated_at:new Date().toISOString(),created_by:o.id});if(k)throw k},onSuccess:()=>{d.invalidateQueries({queryKey:["worker-accounts",r]}),c({title:"Success",description:`Replaced ${a.platform_type} account for ${n}`}),i?.(),j()},onError:N=>{c({title:"Error",description:`Failed to replace account: ${N.message}`,variant:"destructive"})}}),_=()=>{f&&w.mutate()},j=()=>{m(""),y(""),b(""),t(!1)},E=f&&p.trim()&&g.trim();return s.jsx(ka,{open:e,onOpenChange:j,children:s.jsxs(ia,{className:"max-w-2xl",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Replace Account"}),s.jsxs(Ni,{children:["Deactivate the current ",a.platform_type," account and create a new one for ",n]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{className:"text-base font-semibold",children:"Current Account"}),s.jsx(ze,{variant:"default",children:"Active"})]}),s.jsx("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Platform"}),s.jsx("p",{className:"text-sm",children:a.platform_type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account Email"}),s.jsx("p",{className:"text-sm",children:a.worker_account_email||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),s.jsx("p",{className:"text-sm",children:a.worker_account_id||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"text-sm",children:a.activated_at?new Date(a.activated_at).toLocaleDateString():"Unknown"})]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"deactivation-reason",children:["Deactivation Reason ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{id:"deactivation-reason",children:s.jsx(Et,{placeholder:"Select reason for deactivation"})}),s.jsx(_t,{children:Spe.map(N=>s.jsx(De,{value:N.value,children:N.label},N.value))})]})]}),s.jsxs("div",{className:"flex items-center justify-center py-2",children:[s.jsx("div",{className:"flex-1 border-t"}),s.jsx(iie,{className:"mx-4 h-5 w-5 text-muted-foreground"}),s.jsx("div",{className:"flex-1 border-t"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{className:"text-base font-semibold",children:"New Account"}),s.jsxs("div",{className:"space-y-4 rounded-lg border bg-background p-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Platform"}),s.jsx(ze,{variant:"outline",children:a.platform_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"new-account-email",children:["New Account Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"new-account-email",type:"email",placeholder:"worker@platform.com",value:p,onChange:N=>y(N.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email for the new platform account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"new-account-id",children:["New Account ID ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"new-account-id",type:"text",placeholder:"Platform-specific account identifier",value:g,onChange:N=>b(N.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform-specific account identifier"})]})]})]}),s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx(gt,{children:"This action will permanently deactivate the current account. The account history will be preserved for audit purposes."})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:j,disabled:w.isPending,children:"Cancel"}),s.jsxs(se,{onClick:_,disabled:!E||w.isPending,variant:"destructive",children:[w.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Replace Account"]})]})]})})}function Epe({workerId:e,workerName:t="Worker"}){const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,c]=x.useState(null),{data:d,isLoading:f,isError:m,error:p}=Je({queryKey:["worker-accounts",e],queryFn:async()=>{const{data:_,error:j}=await Se.from("worker_accounts").select("*").eq("worker_id",e).order("created_at",{ascending:!1});if(j)throw j;return _}}),y=(_,j)=>_==="active"&&j?{variant:"default",icon:s.jsx(kh,{className:"h-4 w-4"}),text:"ACTIVE"}:_==="replaced"?{variant:"secondary",icon:s.jsx(Ki,{className:"h-4 w-4 text-orange-500"}),text:"REPLACED"}:_==="inactive"?{variant:"outline",icon:s.jsx(Eie,{className:"h-4 w-4"}),text:"INACTIVE"}:{variant:"outline",icon:null,text:_?.toUpperCase()||"UNKNOWN"},g=_=>({DataCompute:"default",Maestro:"secondary",Other:"outline"})[_]||"outline";if(f)return s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"})]});if(m)return s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load accounts: ",p?.message||"Unknown error"]})});if(!d||d.length===0)return s.jsxs(s.Fragment,{children:[s.jsx(Ee,{children:s.jsxs(ke,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No accounts yet."}),s.jsx(se,{onClick:()=>n(!0),children:"Add Account"})]})}),s.jsx(zM,{open:r,onOpenChange:n,workerId:e,workerName:t,onSuccess:()=>{}})]});const b=d.filter(_=>_.is_current&&_.status==="active"),w=d.filter(_=>!_.is_current||_.status!=="active");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Platform Accounts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete chain of custody for all platform accounts"})]}),s.jsx(se,{variant:"outline",onClick:()=>n(!0),children:"Add Account"})]}),b.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Current Accounts"}),s.jsx(qc,{className:"flex-1"})]}),b.map(_=>{const j=y(_.status,_.is_current);return s.jsxs(Ee,{className:"border-2 border-green-200 dark:border-green-900 bg-green-50/50 dark:bg-green-950/20",children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:g(_.platform_type),children:_.platform_type}),s.jsxs(ze,{variant:j.variant,className:"flex items-center gap-1",children:[j.icon,j.text]})]}),s.jsx(Te,{className:"text-lg",children:_.worker_account_id}),s.jsx(dt,{children:_.worker_account_email})]}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(_),i(!0)},children:"Replace"})]})}),s.jsx(ke,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"font-medium",children:He(new Date(_.activated_at),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground",children:"Status Duration"}),s.jsxs("p",{className:"font-medium",children:[Math.floor((new Date().getTime()-new Date(_.activated_at).getTime())/(1e3*60*60*24))," ","days"]})]})]})})]},_.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Account History"}),s.jsx(qc,{className:"flex-1"})]}),s.jsx("div",{className:"space-y-3",children:w.map(_=>{const j=y(_.status,_.is_current);return s.jsxs(Ee,{className:"border-muted",children:[s.jsx(Re,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:g(_.platform_type),children:_.platform_type}),s.jsxs(ze,{variant:j.variant,className:"flex items-center gap-1",children:[j.icon,j.text]})]}),s.jsx(Te,{className:"text-base",children:_.worker_account_id}),s.jsx(dt,{className:"text-xs",children:_.worker_account_email})]})})}),s.jsxs(ke,{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"text-sm",children:He(new Date(_.activated_at),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Deactivated"}),s.jsx("p",{className:"text-sm",children:_.deactivated_at?He(new Date(_.deactivated_at),"MMM d, yyyy"):""})]})]}),_.deactivation_reason&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Deactivation Reason"}),s.jsx("p",{className:"text-sm mt-1",children:_.deactivation_reason})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2",children:s.jsxs("span",{children:["Active for"," ",Math.floor(((_.deactivated_at?new Date(_.deactivated_at).getTime():new Date().getTime())-new Date(_.activated_at).getTime())/(1e3*60*60*24))," ","days"]})})]})]},_.id)})})]}),s.jsx(Ee,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:s.jsx(ke,{className:"py-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Chain of Custody:"}),' All account changes are permanently recorded. When an account is replaced, the old account is marked as "REPLACED" and the new account becomes active. This ensures complete audit trail for compliance.']})})}),s.jsx(zM,{open:r,onOpenChange:n,workerId:e,workerName:t,onSuccess:()=>{}}),o&&s.jsx(Cpe,{open:a,onOpenChange:i,workerId:e,workerName:t,currentAccount:o,onSuccess:()=>{}})]})}function FM({open:e,onOpenChange:t,workerId:r,workerName:n}){const{user:a}=Ar(),{toast:i}=Ll(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState("all"),{data:p=[],refetch:y}=Je({queryKey:["worker-active-project-ids",r],queryFn:async()=>{const{data:A,error:P}=await Se.from("worker_assignments").select("project_id").eq("worker_id",r).is("removed_at",null);if(P)throw P;return A.map(L=>L.project_id)},enabled:e,staleTime:0}),{data:g,isLoading:b,isError:w}=Je({queryKey:["available-projects",f],queryFn:async()=>{let A=Se.from("workforce_projects").select(`
          id,
          project_code,
          project_name,
          status,
          expert_tier,
          department:departments(department_name)
        `).in("status",["active","paused"]).order("project_code",{ascending:!0});f!=="all"&&(A=A.eq("department_id",f));const{data:P,error:L}=await A;if(L)throw L;return P},enabled:e}),{data:_=[]}=Je({queryKey:["departments"],queryFn:async()=>{const{data:A,error:P}=await Se.from("departments").select("id, department_name").eq("is_active",!0).order("department_name",{ascending:!0});if(P)throw P;return A},enabled:e}),j=mr({mutationFn:async A=>{if(!a)throw new Error("User not authenticated");const P=A.filter(U=>!p.includes(U));if(P.length===0)throw new Error("All selected projects are already assigned to this worker");const L=P.map(U=>({worker_id:r,project_id:U,assigned_at:new Date().toISOString(),assigned_by:a.id})),{data:M,error:$}=await Se.from("worker_assignments").insert(L).select();if($)throw $;return M},onSuccess:(A,P)=>{o.invalidateQueries({queryKey:["worker-assignments",r]}),o.invalidateQueries({queryKey:["worker-active-project-ids",r]}),P.forEach(L=>{o.invalidateQueries({queryKey:["worker-assignments",L]})}),i({title:"Success",description:`Assigned ${n} to ${P.length} project(s)`}),d([]),t(!1)},onError:A=>{y();const P=A.message.includes("unique")||A.message.includes("duplicate")||A.message.includes("23505");i({title:"Error",description:P?"Some projects are already assigned. The list has been refreshed.":`Failed to assign worker: ${A.message}`,variant:"destructive"})}}),E=g?.filter(A=>!p.includes(A.id))||[],N=A=>{d(P=>P.includes(A)?P.filter(L=>L!==A):[...P,A])},k=()=>{c.length===E.length?d([]):d(E.map(A=>A.id))},O=()=>{c.length!==0&&j.mutate(c)},T=A=>{A||(d([]),m("all")),t(A)},R=A=>({active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"})[A]||"outline";return s.jsx(ka,{open:e,onOpenChange:T,children:s.jsxs(ia,{className:"max-w-2xl max-h-[80vh]",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Assign Worker to Projects"}),s.jsxs(Ni,{children:["Select projects to assign ",s.jsx("span",{className:"font-semibold",children:n})," to. Only active and paused projects are shown."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Filter by Department"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"All departments"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Departments"}),_.map(A=>s.jsx(De,{value:A.id,children:A.department_name},A.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{children:"Available Projects"}),E.length>0&&s.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"h-8 text-xs",children:c.length===E.length?"Deselect All":"Select All"})]}),b&&s.jsxs("div",{className:"space-y-2",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"})]}),w&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:"Failed to load projects. Please try again."})}),!b&&E.length===0&&s.jsxs("div",{className:"border rounded-lg p-8 text-center",children:[s.jsx(Cl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.length>0?"All available projects have been assigned to this worker.":"No active or paused projects available."})]}),!b&&E.length>0&&s.jsx(Zh,{className:"h-[300px] border rounded-lg",children:s.jsx("div",{className:"p-4 space-y-2",children:E.map(A=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>N(A.id),children:[s.jsx(_o,{checked:c.includes(A.id),onCheckedChange:()=>N(A.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:A.project_code}),s.jsx(ze,{variant:R(A.status),className:"text-xs",children:A.status}),s.jsx(ze,{variant:"outline",className:"text-xs",children:A.expert_tier})]}),s.jsx("p",{className:"text-sm",children:A.project_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:A.department.department_name})]})]},A.id))})}),c.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ze,{variant:"secondary",children:c.length}),s.jsxs("span",{children:["project",c.length!==1?"s":""," selected"]})]})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>T(!1),children:"Cancel"}),s.jsxs(se,{onClick:O,disabled:c.length===0||j.isPending,children:[j.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length>0&&`(${c.length})`]})]})]})})}function Npe({workerId:e,workerName:t="Worker"}){const[r,n]=x.useState(!1),{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["worker-assignments",e],queryFn:async()=>{const{data:b,error:w}=await Se.from("worker_assignments").select(`
          *,
          project:workforce_projects(
            id,
            project_code,
            project_name,
            status,
            expert_tier,
            project_teams(
              team:teams(id, team_name)
            )
          ),
          assigned_by_profile:profiles!assigned_by(full_name),
          removed_by_profile:profiles!removed_by(full_name)
        `).eq("worker_id",e).order("assigned_at",{ascending:!1});if(w)throw w;return b}}),d=b=>({active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"})[b]||"outline",f=b=>{if(!b)return"";try{return He(new Date(b),"MMM d, yyyy")}catch{return""}},m=b=>{if(!b.assigned_at)return 0;try{const w=b.removed_at?new Date(b.removed_at):new Date,_=new Date(b.assigned_at);return Math.floor((w.getTime()-_.getTime())/(1e3*60*60*24))}catch{return 0}},p=b=>b.project?.project_teams?.map(w=>w.team?.team_name).filter(w=>!!w)||[];if(i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-64 w-full"})]});if(o)return s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load project assignments: ",c?.message||"Unknown error"]})});if(!a||a.length===0)return s.jsxs(s.Fragment,{children:[s.jsx(Ee,{children:s.jsxs(ke,{className:"py-12 text-center",children:[s.jsx(Cl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Not assigned to any projects yet."}),s.jsx(se,{onClick:()=>n(!0),children:"Assign to Project"})]})}),s.jsx(FM,{open:r,onOpenChange:n,workerId:e,workerName:t})]});const y=a.filter(b=>!b.removed_at),g=a.filter(b=>b.removed_at);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Assignments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current and historical project assignments"})]}),s.jsx(se,{variant:"outline",onClick:()=>n(!0),children:"Assign to Project"})]}),y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Current Assignments (",y.length,")"]}),s.jsx(qc,{className:"flex-1"})]}),s.jsx(Ee,{className:"border-2 border-green-200 dark:border-green-900",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Project Code"}),s.jsx(Oe,{children:"Project Name"}),s.jsx(Oe,{children:"Teams"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Tier"}),s.jsx(Oe,{children:"Assigned Date"}),s.jsx(Oe,{children:"Days Active"}),s.jsx(Oe,{children:"Assigned By"})]})}),s.jsx(Yr,{children:y.map(b=>{const w=p(b);return s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:b.project?.project_code||""}),s.jsx(Ne,{children:b.project?.project_name||""}),s.jsx(Ne,{children:w.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(_=>s.jsx(ze,{variant:"secondary",className:"text-xs",children:_},_))}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})}),s.jsx(Ne,{children:b.project?.status?s.jsx(ze,{variant:d(b.project.status),children:b.project.status}):""}),s.jsx(Ne,{children:b.project?.expert_tier?s.jsx(ze,{variant:"outline",children:b.project.expert_tier}):""}),s.jsx(Ne,{children:f(b.assigned_at)}),s.jsx(Ne,{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:[m(b)," days"]})}),s.jsx(Ne,{className:"text-sm text-muted-foreground",children:b.assigned_by_profile?.full_name||"System"})]},b.id)})})]})})]}),g.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Past Assignments (",g.length,")"]}),s.jsx(qc,{className:"flex-1"})]}),s.jsx(Ee,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Project Code"}),s.jsx(Oe,{children:"Project Name"}),s.jsx(Oe,{children:"Teams"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Assigned Date"}),s.jsx(Oe,{children:"Removed Date"}),s.jsx(Oe,{children:"Duration"}),s.jsx(Oe,{children:"Removed By"})]})}),s.jsx(Yr,{children:g.map(b=>{const w=p(b);return s.jsxs(vt,{className:"text-muted-foreground",children:[s.jsx(Ne,{className:"font-medium",children:b.project?.project_code||""}),s.jsx(Ne,{children:b.project?.project_name||""}),s.jsx(Ne,{children:w.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(_=>s.jsx(ze,{variant:"secondary",className:"text-xs opacity-70",children:_},_))}):s.jsx("span",{className:"text-xs",children:""})}),s.jsx(Ne,{children:s.jsx(ze,{variant:"outline",className:"opacity-70",children:"removed"})}),s.jsx(Ne,{children:f(b.assigned_at)}),s.jsx(Ne,{children:f(b.removed_at)}),s.jsx(Ne,{children:s.jsxs("span",{className:"text-sm",children:[m(b)," days"]})}),s.jsx(Ne,{className:"text-sm",children:b.removed_by_profile?.full_name||"System"})]},b.id)})})]})})]}),a.length>0&&s.jsxs(Ee,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:[s.jsx(Re,{children:s.jsx(Te,{className:"text-sm",children:"Assignment Statistics"})}),s.jsx(ke,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Assignments"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:y.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently Active"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Math.round(a.reduce((b,w)=>b+m(w),0)/a.length)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg. Days per Assignment"})]})]})})]}),s.jsx(FM,{open:r,onOpenChange:n,workerId:e,workerName:t})]})}function kpe({workerId:e,workerName:t}){const{data:r,isLoading:n}=Je({queryKey:["worker-activity-assignments",e],queryFn:async()=>{const{data:p,error:y}=await Se.from("worker_assignments").select(`
          id,
          project_id,
          assigned_at,
          removed_at,
          assigned_by,
          removed_by,
          project:workforce_projects(project_code, project_name)
        `).eq("worker_id",e).order("assigned_at",{ascending:!1}).limit(20);if(y)throw y;return p}}),{data:a,isLoading:i}=Je({queryKey:["worker-activity-accounts",e],queryFn:async()=>{const{data:p,error:y}=await Se.from("worker_accounts").select("*").eq("worker_id",e).order("created_at",{ascending:!1});if(y)throw y;return p}}),o=[];if(r&&r.forEach(p=>{o.push({type:"assignment",timestamp:p.assigned_at,action:"assigned",data:p}),p.removed_at&&o.push({type:"assignment",timestamp:p.removed_at,action:"removed",data:p})}),a&&a.forEach(p=>{o.push({type:"account",timestamp:p.activated_at||p.created_at,action:"account_created",data:p}),p.deactivated_at&&o.push({type:"account",timestamp:p.deactivated_at,action:"account_deactivated",data:p})}),o.sort((p,y)=>new Date(y.timestamp).getTime()-new Date(p.timestamp).getTime()),n||i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"})]});if(o.length===0)return s.jsx(Ee,{children:s.jsxs(ke,{className:"py-12 text-center",children:[s.jsx(Uv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No activity history yet."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Activity will appear here as ",t," is assigned to projects or accounts are managed."]})]})});const d=p=>{switch(p.action){case"assigned":return s.jsx(Bh,{className:"h-4 w-4"});case"removed":return s.jsx(Bh,{className:"h-4 w-4"});case"account_created":return s.jsx(vE,{className:"h-4 w-4"});case"account_deactivated":return s.jsx(Na,{className:"h-4 w-4"});default:return s.jsx(gE,{className:"h-4 w-4"})}},f=p=>{switch(p.action){case"assigned":return"text-green-600";case"removed":return"text-orange-600";case"account_created":return"text-blue-600";case"account_deactivated":return"text-red-600";default:return"text-gray-600"}},m=p=>{switch(p.action){case"assigned":return s.jsxs(s.Fragment,{children:["Assigned to project"," ",s.jsxs("span",{className:"font-medium",children:[p.data.project?.project_code," - ",p.data.project?.project_name]})]});case"removed":return s.jsxs(s.Fragment,{children:["Removed from project"," ",s.jsxs("span",{className:"font-medium",children:[p.data.project?.project_code," - ",p.data.project?.project_name]})]});case"account_created":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:p.data.platform_type})," account created"]});case"account_deactivated":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:p.data.platform_type})," account deactivated",p.data.deactivation_reason&&s.jsxs("span",{className:"text-muted-foreground",children:[" ","(",p.data.deactivation_reason.replace(/_/g," "),")"]})]});default:return"Activity"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Activity Timeline"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recent activity and changes for ",t]})]}),s.jsxs(pt,{children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{className:"text-sm",children:[s.jsx("strong",{children:"Note:"})," User attribution (who made changes) will be available once the database migration for audit fields is applied. Currently showing timestamps and actions only."]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Uv,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsxs(dt,{children:["Showing last ",o.length," activities"]})]}),s.jsx(ke,{children:s.jsx("div",{className:"space-y-6",children:o.map((p,y)=>s.jsx("div",{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`rounded-full p-2 ${f(p)} bg-background border-2`,children:d(p)}),y<o.length-1&&s.jsx("div",{className:"w-0.5 flex-1 bg-border mt-2",style:{minHeight:"2rem"}})]}),s.jsx("div",{className:"flex-1 pb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm",children:m(p)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:He(new Date(p.timestamp),"MMMM d, yyyy h:mm a")})]}),s.jsx(ze,{variant:p.action==="assigned"||p.action==="account_created"?"default":"outline",className:"text-xs",children:p.action.replace(/_/g," ")})]})})]})},`${p.type}-${p.timestamp}-${y}`))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-3",children:s.jsx(Te,{className:"text-sm font-medium",children:"Total Assignments"})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r?.length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Project assignments"})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-3",children:s.jsx(Te,{className:"text-sm font-medium",children:"Active Assignments"})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r?.filter(p=>!p.removed_at).length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-3",children:s.jsx(Te,{className:"text-sm font-medium",children:"Platform Accounts"})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?.length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total accounts"})]})]})]})]})}var Ope=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fN(e){if(typeof e!="string")return!1;var t=Ope;return t.includes(e)}var Ape=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Rpe=new Set(Ape);function e6(e){return typeof e!="string"?!1:Rpe.has(e)}function t6(e){return typeof e=="string"&&e.startsWith("data-")}function Xa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e6(r)||t6(r))&&(t[r]=e[r]);return t}function Dm(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xa(t)}return typeof e=="object"&&!Array.isArray(e)?Xa(e):null}function Xn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e6(r)||t6(r)||fN(r))&&(t[r]=e[r]);return t}function Tpe(e){return e==null?null:x.isValidElement(e)?Xn(e.props):typeof e=="object"&&!Array.isArray(e)?Xn(e):null}var Ppe=["children","width","height","viewBox","className","style","title","desc"];function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(null,arguments)}function Dpe(e,t){if(e==null)return{};var r,n,a=Mpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r6=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:c,title:d,desc:f}=e,m=Dpe(e,Ppe),p=i||{width:n,height:a,x:0,y:0},y=Kt("recharts-surface",o);return x.createElement("svg",R1({},Xn(m),{className:y,width:n,height:a,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),Ipe=["children","className"];function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(null,arguments)}function $pe(e,t){if(e==null)return{};var r,n,a=Lpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=$pe(e,Ipe),i=Kt("recharts-layer",n);return x.createElement("g",T1({className:i},Xn(a),{ref:t}),r)}),zpe=x.createContext(null);function cr(e){return function(){return e}}const n6=Math.cos,iy=Math.sin,is=Math.sqrt,sy=Math.PI,Vx=2*sy,P1=Math.PI,D1=2*P1,hc=1e-6,Fpe=D1-hc;function a6(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Upe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return a6;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Bpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?a6:Upe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=n-t,f=a-r,m=o-t,p=c-r,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>hc)if(!(Math.abs(p*d-f*m)>hc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,b=a-c,w=d*d+f*f,_=g*g+b*b,j=Math.sqrt(w),E=Math.sqrt(y),N=i*Math.tan((P1-Math.acos((w+y-_)/(2*j*E)))/2),k=N/E,O=N/j;Math.abs(k-1)>hc&&this._append`L${t+k*m},${r+k*p}`,this._append`A${i},${i},0,0,${+(p*g>m*b)},${this._x1=t+O*d},${this._y1=r+O*f}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,m=r+d,p=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>hc||Math.abs(this._y1-m)>hc)&&this._append`L${f},${m}`,n&&(y<0&&(y=y%D1+D1),y>Fpe?this._append`A${n},${n},0,1,${p},${t-c},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:y>hc&&this._append`A${n},${n},0,${+(y>=P1)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function hN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Bpe(t)}function mN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function i6(e){this._context=e}i6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hx(e){return new i6(e)}function s6(e){return e[0]}function o6(e){return e[1]}function l6(e,t){var r=cr(!0),n=null,a=Hx,i=null,o=hN(c);e=typeof e=="function"?e:e===void 0?s6:cr(e),t=typeof t=="function"?t:t===void 0?o6:cr(t);function c(d){var f,m=(d=mN(d)).length,p,y=!1,g;for(n==null&&(i=a(g=o())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(p,f,d),+t(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:cr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:cr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:cr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Yg(e,t,r){var n=null,a=cr(!0),i=null,o=Hx,c=null,d=hN(f);e=typeof e=="function"?e:e===void 0?s6:cr(+e),t=typeof t=="function"?t:cr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?o6:cr(+r);function f(p){var y,g,b,w=(p=mN(p)).length,_,j=!1,E,N=new Array(w),k=new Array(w);for(i==null&&(c=o(E=d())),y=0;y<=w;++y){if(!(y<w&&a(_=p[y],y,p))===j)if(j=!j)g=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=y-1;b>=g;--b)c.point(N[b],k[b]);c.lineEnd(),c.areaEnd()}j&&(N[y]=+e(_,y,p),k[y]=+t(_,y,p),c.point(n?+n(_,y,p):N[y],r?+r(_,y,p):k[y]))}if(E)return c=null,E+""||null}function m(){return l6().defined(a).curve(o).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:cr(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:cr(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:cr(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:cr(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:cr(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:cr(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(p){return arguments.length?(a=typeof p=="function"?p:cr(!!p),f):a},f.curve=function(p){return arguments.length?(o=p,i!=null&&(c=o(i)),f):o},f.context=function(p){return arguments.length?(p==null?i=c=null:c=o(i=p),f):i},f}class c6{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qpe(e){return new c6(e,!0)}function Vpe(e){return new c6(e,!1)}const pN={draw(e,t){const r=is(t/sy);e.moveTo(r,0),e.arc(0,0,r,0,Vx)}},Hpe={draw(e,t){const r=is(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},u6=is(1/3),Wpe=u6*2,Kpe={draw(e,t){const r=is(t/Wpe),n=r*u6;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Gpe={draw(e,t){const r=is(t),n=-r/2;e.rect(n,n,r,r)}},Ype=.8908130915292852,d6=iy(sy/10)/iy(7*sy/10),Zpe=iy(Vx/10)*d6,Xpe=-n6(Vx/10)*d6,Qpe={draw(e,t){const r=is(t*Ype),n=Zpe*r,a=Xpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Vx*i/5,c=n6(o),d=iy(o);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},H_=is(3),Jpe={draw(e,t){const r=-is(t/(H_*3));e.moveTo(0,r*2),e.lineTo(-H_*r,-r),e.lineTo(H_*r,-r),e.closePath()}},mi=-.5,pi=is(3)/2,M1=1/is(12),ege=(M1/2+1)*3,tge={draw(e,t){const r=is(t/ege),n=r/2,a=r*M1,i=n,o=r*M1+r,c=-i,d=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(mi*n-pi*a,pi*n+mi*a),e.lineTo(mi*i-pi*o,pi*i+mi*o),e.lineTo(mi*c-pi*d,pi*c+mi*d),e.lineTo(mi*n+pi*a,mi*a-pi*n),e.lineTo(mi*i+pi*o,mi*o-pi*i),e.lineTo(mi*c+pi*d,mi*d-pi*c),e.closePath()}};function rge(e,t){let r=null,n=hN(a);e=typeof e=="function"?e:cr(e||pN),t=typeof t=="function"?t:cr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:cr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:cr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function oy(){}function ly(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function f6(e){this._context=e}f6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nge(e){return new f6(e)}function h6(e){this._context=e}h6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function age(e){return new h6(e)}function m6(e){this._context=e}m6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ly(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ige(e){return new m6(e)}function p6(e){this._context=e}p6.prototype={areaStart:oy,areaEnd:oy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sge(e){return new p6(e)}function UM(e){return e<0?-1:1}function BM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),c=(i*a+o*n)/(n+a);return(UM(i)+UM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function qM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function W_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,o-c*r,i,o)}function cy(e){this._context=e}cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:W_(this,this._t0,qM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,W_(this,qM(this,r=BM(this,e,t)),r);break;default:W_(this,this._t0,r=BM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function g6(e){this._context=new v6(e)}(g6.prototype=Object.create(cy.prototype)).point=function(e,t){cy.prototype.point.call(this,t,e)};function v6(e){this._context=e}v6.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function oge(e){return new cy(e)}function lge(e){return new g6(e)}function y6(e){this._context=e}y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=VM(e),a=VM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function VM(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function cge(e){return new y6(e)}function Wx(e,t){this._context=e,this._t=t}Wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uge(e){return new Wx(e,.5)}function dge(e){return new Wx(e,0)}function fge(e){return new Wx(e,1)}function Vc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function I1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hge(e,t){return e[t]}function mge(e){const t=[];return t.key=e,t}function pge(){var e=cr([]),t=I1,r=Vc,n=hge;function a(i){var o=Array.from(e.apply(this,arguments),mge),c,d=o.length,f=-1,m;for(const p of i)for(c=0,++f;c<d;++c)(o[c][f]=[0,+n(p,o[c].key,f,i)]).data=p;for(c=0,m=mN(t(o));c<d;++c)o[m[c]].index=c;return r(o,m),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:cr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?I1:typeof i=="function"?i:cr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Vc,a):r},a}function gge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Vc(e,t)}}function vge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Vc(e,t)}}function yge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var c=0,d=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[n][1]||0,y=m[n-1][1]||0,g=(p-y)/2,b=0;b<c;++b){var w=e[t[b]],_=w[n][1]||0,j=w[n-1][1]||0;g+=_-j}d+=p,f+=g*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Vc(e,t)}}var K_={},G_={},HM;function xge(){return HM||(HM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(G_)),G_}var Y_={},WM;function x6(){return WM||(WM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Y_)),Y_}var Z_={},KM;function gN(){return KM||(KM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Z_)),Z_}var X_={},Q_={},GM;function bge(){return GM||(GM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Q_)),Q_}var YM;function vN(){return YM||(YM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bge(),r=gN();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let c=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const p=a[c];f?p==="\\"&&c+1<o?(c++,d+=a[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,i.push(d),d=""):d+=p:p==="["?(m=!0,d&&(i.push(d),d="")):p==="."?d&&(i.push(d),d=""):d+=p,c++}return d&&i.push(d),i}e.toPath=n})(X_)),X_}var ZM;function yN(){return ZM||(ZM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xge(),r=x6(),n=gN(),a=vN();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?r.isDeepKey(d)?i(c,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function o(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=i})(K_)),K_}var J_,XM;function wge(){return XM||(XM=1,J_=yN().get),J_}var _ge=wge();const kd=ei(_ge);var jge=4;function bl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jge,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Ir(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var c=r[o-1];return typeof c=="string"?a+c+i:c!==void 0?a+bl(c)+i:a+i},"")}var Ca=e=>e===0?0:e>0?1:-1,ki=e=>typeof e=="number"&&e!=+e,jo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Fe=e=>(typeof e=="number"||e instanceof Number)&&!ki(e),Cs=e=>Fe(e)||typeof e=="string",Sge=0,Xh=e=>{var t=++Sge;return"".concat(e||"").concat(t)},es=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Fe(t)&&typeof t!="string")return n;var i;if(jo(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ki(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},b6=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function rr(e,t,r){return Fe(e)&&Fe(t)?bl(e+r*(t-e)):t}function w6(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):kd(n,t))===r)}var pr=e=>e===null||typeof e>"u",Mm=e=>pr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Cge(e){return e!=null}function Im(){}var Ege=["type","size","sizeType"];function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(null,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){Nge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nge(e,t,r){return(t=kge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kge(e){var t=Oge(e,"string");return typeof t=="symbol"?t:t+""}function Oge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Age(e,t){if(e==null)return{};var r,n,a=Rge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _6={symbolCircle:pN,symbolCross:Hpe,symbolDiamond:Kpe,symbolSquare:Gpe,symbolStar:Qpe,symbolTriangle:Jpe,symbolWye:tge},Tge=Math.PI/180,Pge=e=>{var t="symbol".concat(Mm(e));return _6[t]||pN},Dge=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Tge;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Mge=(e,t)=>{_6["symbol".concat(Mm(e))]=t},j6=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Age(e,Ege),i=JM(JM({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var y=Pge(o),g=rge().type(y).size(Dge(r,n,o)),b=g();if(b!==null)return b},{className:d,cx:f,cy:m}=i,p=Xn(i);return Fe(f)&&Fe(m)&&Fe(r)?x.createElement("path",$1({},p,{className:Kt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};j6.registerSymbol=Mge;var S6=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,xN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{fN(a)&&(n[a]=(i=>r[a](r,i)))}),n},Ige=(e,t,r)=>n=>(e(t,r,n),null),bN=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];fN(a)&&typeof i=="function"&&(n||(n={}),n[a]=Ige(i,t,r))}),n};function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $ge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){Lge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lge(e,t,r){return(t=zge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zge(e){var t=Fge(e,"string");return typeof t=="symbol"?t:t+""}function Fge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(e,t){var r=$ge({},e),n=t,a=Object.keys(t),i=a.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return i}var ej={},tj={},t2;function Uge(){return t2||(t2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=n(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})(tj)),tj}var rj={},r2;function C6(){return r2||(r2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rj)),rj}var nj={},aj={},ij={},n2;function Bge(){return n2||(n2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ij)),ij}var a2;function wN(){return a2||(a2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bge();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(aj)),aj}var sj={},i2;function qge(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(sj)),sj}var s2;function Vge(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN(),r=qge();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(nj)),nj}var oj={},lj={},o2;function Hge(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yN();function r(n){return function(a){return t.get(a,n)}}e.property=r})(lj)),lj}var cj={},uj={},dj={},fj={},l2;function E6(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(fj)),fj}var hj={},c2;function N6(){return c2||(c2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(hj)),hj}var mj={},u2;function k6(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(mj)),mj}var d2;function Wge(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=E6(),r=N6(),n=k6();function a(m,p,y){return typeof y!="function"?a(m,p,()=>{}):i(m,p,function g(b,w,_,j,E,N){const k=y(b,w,_,j,E,N);return k!==void 0?!!k:i(b,w,g,N)},new Map)}function i(m,p,y,g){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,y,g);case"function":return Object.keys(p).length>0?i(m,{...p},y,g):n.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:n.eq(m,p)}}function o(m,p,y,g){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,g);if(p instanceof Map)return c(m,p,y,g);if(p instanceof Set)return f(m,p,y,g);const b=Object.keys(p);if(m==null||r.isPrimitive(m))return b.length===0;if(b.length===0)return!0;if(g?.has(p))return g.get(p)===m;g?.set(p,m);try{for(let w=0;w<b.length;w++){const _=b[w];if(!r.isPrimitive(m)&&!(_ in m)||p[_]===void 0&&m[_]!==void 0||p[_]===null&&m[_]!==null||!y(m[_],p[_],_,m,p,g))return!1}return!0}finally{g?.delete(p)}}function c(m,p,y,g){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[b,w]of p.entries()){const _=m.get(b);if(y(_,w,b,m,p,g)===!1)return!1}return!0}function d(m,p,y,g){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const b=new Set;for(let w=0;w<p.length;w++){const _=p[w];let j=!1;for(let E=0;E<m.length;E++){if(b.has(E))continue;const N=m[E];let k=!1;if(y(N,_,w,m,p,g)&&(k=!0),k){b.add(E),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,g){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,g):!1}e.isMatchWith=a,e.isSetMatch=f})(dj)),dj}var f2;function O6(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wge();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(uj)),uj}var pj={},gj={},vj={},h2;function Kge(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vj)),vj}var yj={},m2;function A6(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yj)),yj}var xj={},p2;function R6(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",g="[object Object]",b="[object Error]",w="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",E="[object Uint16Array]",N="[object Uint32Array]",k="[object BigUint64Array]",O="[object Int8Array]",T="[object Int16Array]",R="[object Int32Array]",A="[object BigInt64Array]",P="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=P,e.float64ArrayTag=L,e.functionTag=p,e.int16ArrayTag=T,e.int32ArrayTag=R,e.int8ArrayTag=O,e.mapTag=d,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=E,e.uint32ArrayTag=N,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(xj)),xj}var bj={},g2;function Gge(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(bj)),bj}var v2;function T6(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kge(),r=A6(),n=R6(),a=N6(),i=Gge();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,g=new Map,b=void 0){const w=b?.(m,p,y,g);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(g.has(m))return g.get(m);if(Array.isArray(m)){const _=new Array(m.length);g.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,y,g,b);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;g.set(m,_);for(const[j,E]of m)_.set(j,c(E,j,y,g,b));return _}if(m instanceof Set){const _=new Set;g.set(m,_);for(const j of m)_.add(c(j,void 0,y,g,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);g.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,y,g,b);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return g.set(m,_),d(_,m,y,g,b),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return g.set(m,_),d(_,m,y,g,b),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof Error){const _=new m.constructor;return g.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,d(_,m,y,g,b),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof Number){const _=new Number(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof String){const _=new String(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(typeof m=="object"&&f(m)){const _=Object.create(Object.getPrototypeOf(m));return g.set(m,_),d(_,m,y,g,b),_}return m}function d(m,p,y=m,g,b){const w=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<w.length;_++){const j=w[_],E=Object.getOwnPropertyDescriptor(m,j);(E==null||E.writable)&&(m[j]=c(p[j],j,y,g,b))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(gj)),gj}var y2;function Yge(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T6();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(pj)),pj}var x2;function Zge(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O6(),r=Yge();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(cj)),cj}var wj={},_j={},jj={},b2;function Xge(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=T6(),r=R6();function n(a,i){return t.cloneDeepWith(a,(o,c,d,f)=>{const m=i?.(o,c,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(jj)),jj}var w2;function Qge(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xge();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(_j)),_j}var Sj={},Cj={},_2;function P6(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cj)),Cj}var Ej={},j2;function Jge(){return j2||(j2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A6();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Ej)),Ej}var S2;function eve(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x6(),r=P6(),n=Jge(),a=vN();function i(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i})(Sj)),Sj}var C2;function tve(){return C2||(C2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=O6(),r=gN(),n=Qge(),a=yN(),i=eve();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,c);return m===void 0?i.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=o})(wj)),wj}var E2;function rve(){return E2||(E2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C6(),r=Hge(),n=Zge(),a=tve();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(oj)),oj}var N2;function nve(){return N2||(N2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uge(),r=C6(),n=Vge(),a=rve();function i(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=i})(ej)),ej}var Nj,k2;function ave(){return k2||(k2=1,Nj=nve().uniqBy),Nj}var ive=ave();const O2=ei(ive);function sve(e,t,r){return t===!0?O2(e,r):typeof t=="function"?O2(e,t):e}var kj={exports:{}},Oj={},Aj={exports:{}},Rj={};var A2;function ove(){if(A2)return Rj;A2=1;var e=Md();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(p,y){var g=y(),b=n({inst:{value:g,getSnapshot:y}}),w=b[0].inst,_=b[1];return i(function(){w.value=g,w.getSnapshot=y,d(w)&&_({inst:w})},[p,g,y]),a(function(){return d(w)&&_({inst:w}),p(function(){d(w)&&_({inst:w})})},[p]),o(g),g}function d(p){var y=p.getSnapshot;p=p.value;try{var g=y();return!r(p,g)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Rj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Rj}var R2;function D6(){return R2||(R2=1,Aj.exports=ove()),Aj.exports}var T2;function lve(){if(T2)return Oj;T2=1;var e=Md(),t=D6();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Oj.useSyncExternalStoreWithSelector=function(f,m,p,y,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function j(T){if(!E){if(E=!0,N=T,T=y(T),g!==void 0&&w.hasValue){var R=w.value;if(g(R,T))return k=R}return k=T}if(R=k,n(N,T))return R;var A=y(T);return g!==void 0&&g(R,A)?(N=T,R):(N=T,k=A)}var E=!1,N,k,O=p===void 0?null:p;return[function(){return j(m())},O===null?void 0:function(){return j(O())}]},[m,p,y,g]);var _=a(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),d(_),_},Oj}var P2;function cve(){return P2||(P2=1,kj.exports=lve()),kj.exports}var uve=cve(),_N=x.createContext(null),dve=e=>e,Xr=()=>{var e=x.useContext(_N);return e?e.store.dispatch:dve},_v=()=>{},fve=()=>_v,hve=(e,t)=>e===t;function et(e){var t=x.useContext(_N);return uve.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:fve,t?t.store.getState:_v,t?t.store.getState:_v,t?e:_v,hve)}function mve(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pve(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function gve(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var D2=e=>Array.isArray(e)?e:[e];function vve(e){const t=Array.isArray(e[0])?e[0]:e;return gve(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yve(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var xve=class{constructor(e){this.value=e}deref(){return this.value}},bve=typeof WeakRef<"u"?WeakRef:xve,wve=0,M2=1;function Zg(){return{s:wve,v:void 0,o:null,p:null}}function M6(e,t={}){let r=Zg();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let c=r;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const w=b.get(g);w===void 0?(c=Zg(),b.set(g,c)):c=w}else{let b=c.p;b===null&&(c.p=b=new Map);const w=b.get(g);w===void 0?(c=Zg(),b.set(g,c)):c=w}}const f=c;let m;if(c.s===M2)m=c.v;else if(m=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,m)&&(m=p,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new bve(m):m}return f.s=M2,f.v=m,m}return o.clearCache=()=>{r=Zg(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function _ve(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),mve(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:g=M6,argsMemoizeOptions:b=[]}=m,w=D2(y),_=D2(b),j=vve(a),E=p(function(){return i++,f.apply(null,arguments)},...w),N=g(function(){o++;const O=yve(j,arguments);return c=E.apply(null,O),c},..._);return Object.assign(N,{resultFunc:f,memoizedResultFunc:E,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var he=_ve(M6),jve=Object.assign((e,t=he)=>{pve(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>jve}),Tj={},Pj={},Dj={},I2;function Sve(){return I2||(I2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),c=t(a);if(o===c&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})(Dj)),Dj}var Mj={},Ij={},$2;function I6(){return $2||($2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ij)),Ij}var L2;function Cve(){return L2||(L2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Mj)),Mj}var z2;function Eve(){return z2||(z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sve(),r=Cve(),n=vN();function a(i,o,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const f=(g,b)=>{let w=g;for(let _=0;_<b.length&&w!=null;++_)w=w[b[_]];return w},m=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:f(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?f(b,g):typeof b=="object"?b[g]:b,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:p.map(b=>m(b,g))})).slice().sort((g,b)=>{for(let w=0;w<p.length;w++){const _=t.compareValues(g.criteria[w],b.criteria[w],c[w]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=a})(Pj)),Pj}var $j={},F2;function Nve(){return F2||(F2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<i?o(m,d+1):a.push(m)}};return o(r,0),a}e.flatten=t})($j)),$j}var Lj={},U2;function $6(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P6(),r=wN(),n=E6(),a=k6();function i(o,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],o):!1}e.isIterateeCall=i})(Lj)),Lj}var B2;function kve(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eve(),r=Nve(),n=$6();function a(i,...o){const c=o.length;return c>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(Tj)),Tj}var zj,q2;function Ove(){return q2||(q2=1,zj=kve().sortBy),zj}var Ave=Ove();const Kx=ei(Ave);var L6=e=>e.legend.settings,Rve=e=>e.legend.size,Tve=e=>e.legend.payload;he([Tve,L6],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Kx(n,r):n});var Xg=1;function Pve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>Xg||Math.abs(o.left-t.left)>Xg||Math.abs(o.top-t.top)>Xg||Math.abs(o.width-t.width)>Xg)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function zn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dve=typeof Symbol=="function"&&Symbol.observable||"@@observable",V2=Dve,Fj=()=>Math.random().toString(36).substring(7).split("").join("."),Mve={INIT:`@@redux/INIT${Fj()}`,REPLACE:`@@redux/REPLACE${Fj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Fj()}`},uy=Mve;function jN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function z6(e,t,r){if(typeof e!="function")throw new Error(zn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zn(1));return r(z6)(e,t)}let n=e,a=t,i=new Map,o=i,c=0,d=!1;function f(){o===i&&(o=new Map,i.forEach((_,j)=>{o.set(j,_)}))}function m(){if(d)throw new Error(zn(3));return a}function p(_){if(typeof _!="function")throw new Error(zn(4));if(d)throw new Error(zn(5));let j=!0;f();const E=c++;return o.set(E,_),function(){if(j){if(d)throw new Error(zn(6));j=!1,f(),o.delete(E),i=null}}}function y(_){if(!jN(_))throw new Error(zn(7));if(typeof _.type>"u")throw new Error(zn(8));if(typeof _.type!="string")throw new Error(zn(17));if(d)throw new Error(zn(9));try{d=!0,a=n(a,_)}finally{d=!1}return(i=o).forEach(E=>{E()}),_}function g(_){if(typeof _!="function")throw new Error(zn(10));n=_,y({type:uy.REPLACE})}function b(){const _=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(zn(11));function E(){const k=j;k.next&&k.next(m())}return E(),{unsubscribe:_(E)}},[V2](){return this}}}return y({type:uy.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:g,[V2]:b}}function Ive(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:uy.INIT})>"u")throw new Error(zn(12));if(typeof r(void 0,{type:uy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zn(13))})}function F6(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{Ive(r)}catch(i){a=i}return function(o={},c){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const p=n[m],y=r[p],g=o[p],b=y(g,c);if(typeof b>"u")throw c&&c.type,new Error(zn(14));f[p]=b,d=d||b!==g}return d=d||n.length!==Object.keys(o).length,d?f:o}}function dy(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function $ve(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(zn(15))};const o={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(o));return i=dy(...c)(a.dispatch),{...a,dispatch:i}}}function U6(e){return jN(e)&&"type"in e&&typeof e.type=="string"}var B6=Symbol.for("immer-nothing"),H2=Symbol.for("immer-draftable"),la=Symbol.for("immer-state");function Vi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wa=Object,Od=Wa.getPrototypeOf,fy="constructor",Gx="prototype",L1="configurable",hy="enumerable",jv="writable",Qh="value",So=e=>!!e&&!!e[la];function ts(e){return e?q6(e)||Zx(e)||!!e[H2]||!!e[fy]?.[H2]||Xx(e)||Qx(e):!1}var Lve=Wa[Gx][fy].toString(),W2=new WeakMap;function q6(e){if(!e||!SN(e))return!1;const t=Od(e);if(t===null||t===Wa[Gx])return!0;const r=Wa.hasOwnProperty.call(t,fy)&&t[fy];if(r===Object)return!0;if(!cd(r))return!1;let n=W2.get(r);return n===void 0&&(n=Function.toString.call(r),W2.set(r,n)),n===Lve}function Yx(e,t,r=!0){$m(e)===0?(r?Reflect.ownKeys(e):Wa.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function $m(e){const t=e[la];return t?t.type_:Zx(e)?1:Xx(e)?2:Qx(e)?3:0}var K2=(e,t,r=$m(e))=>r===2?e.has(t):Wa[Gx].hasOwnProperty.call(e,t),z1=(e,t,r=$m(e))=>r===2?e.get(t):e[t],my=(e,t,r,n=$m(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function zve(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Zx=Array.isArray,Xx=e=>e instanceof Map,Qx=e=>e instanceof Set,SN=e=>typeof e=="object",cd=e=>typeof e=="function",Uj=e=>typeof e=="boolean";function Fve(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var so=e=>e.copy_||e.base_,CN=e=>e.modified_?e.copy_:e.base_;function F1(e,t){if(Xx(e))return new Map(e);if(Qx(e))return new Set(e);if(Zx(e))return Array[Gx].slice.call(e);const r=q6(e);if(t===!0||t==="class_only"&&!r){const n=Wa.getOwnPropertyDescriptors(e);delete n[la];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],c=n[o];c[jv]===!1&&(c[jv]=!0,c[L1]=!0),(c.get||c.set)&&(n[o]={[L1]:!0,[jv]:!0,[hy]:c[hy],[Qh]:e[o]})}return Wa.create(Od(e),n)}else{const n=Od(e);if(n!==null&&r)return{...e};const a=Wa.create(n);return Wa.assign(a,e)}}function EN(e,t=!1){return Jx(e)||So(e)||!ts(e)||($m(e)>1&&Wa.defineProperties(e,{set:Qg,add:Qg,clear:Qg,delete:Qg}),Wa.freeze(e),t&&Yx(e,(r,n)=>{EN(n,!0)},!1)),e}function Uve(){Vi(2)}var Qg={[Qh]:Uve};function Jx(e){return e===null||!SN(e)?!0:Wa.isFrozen(e)}var py="MapSet",U1="Patches",G2="ArrayMethods",V6={};function Hc(e){const t=V6[e];return t||Vi(0,e),t}var Y2=e=>!!V6[e],Jh,H6=()=>Jh,Bve=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Y2(py)?Hc(py):void 0,arrayMethodsPlugin_:Y2(G2)?Hc(G2):void 0});function Z2(e,t){t&&(e.patchPlugin_=Hc(U1),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function B1(e){q1(e),e.drafts_.forEach(qve),e.drafts_=null}function q1(e){e===Jh&&(Jh=e.parent_)}var X2=e=>Jh=Bve(Jh,e);function qve(e){const t=e[la];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Q2(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[la].modified_&&(B1(t),Vi(4)),ts(e)&&(e=J2(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[la].base_,e,t)}else e=J2(t,r);return Vve(t,e,!0),B1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==B6?e:void 0}function J2(e,t){if(Jx(t))return t;const r=t[la];if(!r)return gy(t,e.handledSet_,e);if(!eb(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);G6(r,e)}return r.copy_}function Vve(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&EN(t,r)}function W6(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var eb=(e,t)=>e.scope_===t,Hve=[];function K6(e,t,r,n){const a=so(e),i=e.type_;if(n!==void 0&&z1(a,n,i)===t){my(a,n,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Yx(a,(d,f)=>{if(So(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const o=e.draftLocations_.get(t)??Hve;for(const c of o)my(a,c,r,i)}function Wve(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!eb(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=CN(i);K6(e,i.draft_??i,o,r),G6(i,a)})}function G6(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}W6(e)}}function Kve(e,t,r){const{scope_:n}=e;if(So(r)){const a=r[la];eb(a,n)&&a.callbacks_.push(function(){Sv(e);const o=CN(a);K6(e,r,o,t)})}else ts(r)&&e.callbacks_.push(function(){const i=so(e);e.type_===3?i.has(r)&&gy(r,n.handledSet_,n):z1(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gy(z1(e.copy_,t,e.type_),n.handledSet_,n)})}function gy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||So(e)||t.has(e)||!ts(e)||Jx(e)||(t.add(e),Yx(e,(n,a)=>{if(So(a)){const i=a[la];if(eb(i,r)){const o=CN(i);my(e,n,o,e.type_),W6(i)}}else ts(a)&&gy(a,t,r)})),e}function Gve(e,t){const r=Zx(e),n={type_:r?1:0,scope_:t?t.scope_:H6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=vy;r&&(a=[n],i=em);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=o,[c,n]}var vy={get(e,t){if(t===la)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=so(e);if(!K2(a,t,e.type_))return Yve(e,a,t);const i=a[t];if(e.finalized_||!ts(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&Fve(t))return i;if(i===Bj(e.base_,t)){Sv(e);const o=e.type_===1?+t:t,c=H1(e.scope_,i,e,o);return e.copy_[o]=c}return i},has(e,t){return t in so(e)},ownKeys(e){return Reflect.ownKeys(so(e))},set(e,t,r){const n=Y6(so(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Bj(so(e),t),i=a?.[la];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(zve(r,a)&&(r!==void 0||K2(e.base_,t,e.type_)))return!0;Sv(e),V1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Kve(e,t,r)),!0},deleteProperty(e,t){return Sv(e),Bj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),V1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=so(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[jv]:!0,[L1]:e.type_!==1||t!=="length",[hy]:n[hy],[Qh]:r[t]}},defineProperty(){Vi(11)},getPrototypeOf(e){return Od(e.base_)},setPrototypeOf(){Vi(12)}},em={};for(let e in vy){let t=vy[e];em[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}em.deleteProperty=function(e,t){return em.set.call(this,e,t,void 0)};em.set=function(e,t,r){return vy.set.call(this,e[0],t,r,e[0])};function Bj(e,t){const r=e[la];return(r?so(r):e)[t]}function Yve(e,t,r){const n=Y6(t,r);return n?Qh in n?n[Qh]:n.get?.call(e.draft_):void 0}function Y6(e,t){if(!(t in e))return;let r=Od(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Od(r)}}function V1(e){e.modified_||(e.modified_=!0,e.parent_&&V1(e.parent_))}function Sv(e){e.copy_||(e.assigned_=new Map,e.copy_=F1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Zve=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(cd(r)&&!cd(n)){const o=n;n=r;const c=this;return function(f=o,...m){return c.produce(f,p=>n.call(this,p,...m))}}cd(n)||Vi(6),a!==void 0&&!cd(a)&&Vi(7);let i;if(ts(r)){const o=X2(this),c=H1(o,r,void 0);let d=!0;try{i=n(c),d=!1}finally{d?B1(o):q1(o)}return Z2(o,a),Q2(i,o)}else if(!r||!SN(r)){if(i=n(r),i===void 0&&(i=r),i===B6&&(i=void 0),this.autoFreeze_&&EN(i,!0),a){const o=[],c=[];Hc(U1).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:c}),a(o,c)}return i}else Vi(1,r)},this.produceWithPatches=(r,n)=>{if(cd(r))return(c,...d)=>this.produceWithPatches(c,f=>r(f,...d));let a,i;return[this.produce(r,n,(c,d)=>{a=c,i=d}),a,i]},Uj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Uj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Uj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ts(t)||Vi(8),So(t)&&(t=Xi(t));const r=X2(this),n=H1(r,t,void 0);return n[la].isManual_=!0,q1(r),n}finishDraft(t,r){const n=t&&t[la];(!n||!n.isManual_)&&Vi(9);const{scope_:a}=n;return Z2(a,r),Q2(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Hc(U1).applyPatches_;return So(t)?a(t,r):this.produce(t,i=>a(i,r))}};function H1(e,t,r,n){const[a,i]=Xx(t)?Hc(py).proxyMap_(t,r):Qx(t)?Hc(py).proxySet_(t,r):Gve(t,r);return(r?.scope_??H6()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?Wve(r,i,n):i.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:f}=d;i.modified_&&f&&f.generatePatches_(i,[],d)}),a}function Xi(e){return So(e)||Vi(10,e),Z6(e)}function Z6(e){if(!ts(e)||Jx(e))return e;const t=e[la];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=F1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=F1(e,!0);return Yx(r,(a,i)=>{my(r,a,Z6(i))},n),t&&(t.finalized_=!1),r}var Xve=new Zve,X6=Xve.produce;function Q6(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Qve=Q6(),Jve=Q6,eye=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dy:dy.apply(null,arguments)};function Oi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ga(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>U6(n)&&n.type===e,r}var J6=class wh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,wh.prototype)}static get[Symbol.species](){return wh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new wh(...t[0].concat(this)):new wh(...t.concat(this))}};function eI(e){return ts(e)?X6(e,()=>{}):e}function Jg(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function tye(e){return typeof e=="boolean"}var rye=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new J6;return r&&(tye(r)?o.push(Qve):o.push(Jve(r.extraArgument))),o},eq="RTK_autoBatch",br=()=>e=>({payload:e,meta:{[eq]:!0}}),tI=e=>t=>{setTimeout(t,e)},tq=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tI(10):e.type==="callback"?e.queueNotification:tI(e.timeout),f=()=>{o=!1,i&&(i=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>a&&m(),y=n.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[eq],i=!a,i&&(o||(o=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},nye=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new J6(e);return n&&a.push(tq(typeof n=="object"?n:void 0)),a};function aye(e){const t=rye(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(jN(r))c=F6(r);else throw new Error(Ga(1));let d;typeof n=="function"?d=n(t):d=t();let f=dy;a&&(f=eye({trace:!1,...typeof a=="object"&&a}));const m=$ve(...d),p=nye(m);let y=typeof o=="function"?o(p):p();const g=f(...y);return z6(c,i,g)}function rq(e){const t={},r=[];let n;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Ga(28));if(c in t)throw new Error(Ga(29));return t[c]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function iye(e){return typeof e=="function"}function sye(e,t){let[r,n,a]=rq(t),i;if(iye(e))i=()=>eI(e());else{const c=eI(e);i=()=>c}function o(c=i(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,p)=>{if(p)if(So(m)){const g=p(m,d);return g===void 0?m:g}else{if(ts(m))return X6(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=i,o}var oye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lye=(e=21)=>{let t="",r=e;for(;r--;)t+=oye[Math.random()*64|0];return t},cye=Symbol.for("rtk-slice-createasyncthunk");function uye(e,t){return`${e}/${t}`}function dye({creators:e}={}){const t=e?.asyncThunk?.[cye];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Ga(11));const o=(typeof n.reducers=="function"?n.reducers(hye()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,k){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(Ga(12));if(O in d.sliceCaseReducersByType)throw new Error(Ga(13));return d.sliceCaseReducersByType[O]=k,f},addMatcher(N,k){return d.sliceMatchers.push({matcher:N,reducer:k}),f},exposeAction(N,k){return d.actionCreators[N]=k,f},exposeCaseReducer(N,k){return d.sliceCaseReducersByName[N]=k,f}};c.forEach(N=>{const k=o[N],O={reducerName:N,type:uye(a,N),createNotation:typeof n.reducers=="function"};pye(k)?vye(O,k,f,t):mye(O,k,f)});function m(){const[N={},k=[],O=void 0]=typeof n.extraReducers=="function"?rq(n.extraReducers):[n.extraReducers],T={...N,...d.sliceCaseReducersByType};return sye(n.initialState,R=>{for(let A in T)R.addCase(A,T[A]);for(let A of d.sliceMatchers)R.addMatcher(A.matcher,A.reducer);for(let A of k)R.addMatcher(A.matcher,A.reducer);O&&R.addDefaultCase(O)})}const p=N=>N,y=new Map,g=new WeakMap;let b;function w(N,k){return b||(b=m()),b(N,k)}function _(){return b||(b=m()),b.getInitialState()}function j(N,k=!1){function O(R){let A=R[N];return typeof A>"u"&&k&&(A=Jg(g,O,_)),A}function T(R=p){const A=Jg(y,k,()=>new WeakMap);return Jg(A,R,()=>{const P={};for(const[L,M]of Object.entries(n.selectors??{}))P[L]=fye(M,R,()=>Jg(g,R,_),k);return P})}return{reducerPath:N,getSelectors:T,get selectors(){return T(O)},selectSlice:O}}const E={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(i),injectInto(N,{reducerPath:k,...O}={}){const T=k??i;return N.inject({reducerPath:T,reducer:w},O),{...E,...j(T,!0)}}};return E}}function fye(e,t,r,n){function a(i,...o){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return a.unwrapped=e,a}var Ra=dye();function hye(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function mye({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!gye(n))throw new Error(Ga(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Oi(e,o):Oi(e))}function pye(e){return e._reducerDefinitionType==="asyncThunk"}function gye(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vye({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ga(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:d,settled:f,options:m}=r,p=a(e,i,m);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),c&&n.addCase(p.pending,c),d&&n.addCase(p.rejected,d),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:o||ev,pending:c||ev,rejected:d||ev,settled:f||ev})}function ev(){}var yye="task",nq="listener",aq="completed",NN="cancelled",xye=`task-${NN}`,bye=`task-${aq}`,W1=`${nq}-${NN}`,wye=`${nq}-${aq}`,tb=class{constructor(e){this.code=e,this.message=`${yye} ${NN} (reason: ${e})`}name="TaskAbortError";message},kN=(e,t)=>{if(typeof e!="function")throw new TypeError(Ga(32))},yy=()=>{},iq=(e,t=yy)=>(e.catch(t),e),sq=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),kc=e=>{if(e.aborted)throw new tb(e.reason)};function oq(e,t){let r=yy;return new Promise((n,a)=>{const i=()=>a(new tb(e.reason));if(e.aborted){i();return}r=sq(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=yy})}var _ye=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof tb?"cancelled":"rejected",error:r}}finally{t?.()}},xy=e=>t=>iq(oq(e,t).then(r=>(kc(e),r))),lq=e=>{const t=xy(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:bd}=Object,rI={},rb="listenerMiddleware",jye=(e,t)=>{const r=n=>sq(e,()=>n.abort(e.reason));return(n,a)=>{kN(n);const i=new AbortController;r(i);const o=_ye(async()=>{kc(e),kc(i.signal);const c=await n({pause:xy(i.signal),delay:lq(i.signal),signal:i.signal});return kc(i.signal),c},()=>i.abort(bye));return a?.autoJoin&&t.push(o.catch(yy)),{result:xy(e)(o),cancel(){i.abort(xye)}}}},Sye=(e,t)=>{const r=async(n,a)=>{kc(t);let i=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:n,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});i=()=>{m(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await oq(t,Promise.race(c));return kc(t),d}finally{i()}};return(n,a)=>iq(r(n,a))},cq=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Oi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ga(21));return kN(i),{predicate:a,type:t,effect:i}},uq=bd(e=>{const{type:t,predicate:r,effect:n}=cq(e);return{id:lye(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ga(22))}}},{withTypes:()=>uq}),nI=(e,t)=>{const{type:r,effect:n,predicate:a}=cq(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},K1=e=>{e.pending.forEach(t=>{t.abort(W1)})},Cye=(e,t)=>()=>{for(const r of t.keys())K1(r);e.clear()},aI=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dq=bd(Oi(`${rb}/add`),{withTypes:()=>dq}),Eye=Oi(`${rb}/removeAll`),fq=bd(Oi(`${rb}/remove`),{withTypes:()=>fq}),Nye=(...e)=>{console.error(`${rb}/error`,...e)},Lm=(e={})=>{const t=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},a=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:i,onError:o=Nye}=e;kN(o);const c=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b?.cancelActive&&K1(g)}),d=g=>{const b=nI(t,g)??uq(g);return c(b)};bd(d,{withTypes:()=>d});const f=g=>{const b=nI(t,g);return b&&(b.unsubscribe(),g.cancelActive&&K1(b)),!!b};bd(f,{withTypes:()=>f});const m=async(g,b,w,_)=>{const j=new AbortController,E=Sye(d,j.signal),N=[];try{g.pending.add(j),n(g),await Promise.resolve(g.effect(b,bd({},w,{getOriginalState:_,condition:(k,O)=>E(k,O).then(Boolean),take:E,delay:lq(j.signal),pause:xy(j.signal),extra:i,signal:j.signal,fork:jye(j.signal,N),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((k,O,T)=>{k!==j&&(k.abort(W1),T.delete(k))})},cancel:()=>{j.abort(W1),g.pending.delete(j)},throwIfCancelled:()=>{kc(j.signal)}})))}catch(k){k instanceof tb||aI(o,k,{raisedBy:"effect"})}finally{await Promise.all(N),j.abort(wye),a(g),g.pending.delete(j)}},p=Cye(t,r);return{middleware:g=>b=>w=>{if(!U6(w))return b(w);if(dq.match(w))return d(w.payload);if(Eye.match(w)){p();return}if(fq.match(w))return f(w.payload);let _=g.getState();const j=()=>{if(_===rI)throw new Error(Ga(23));return _};let E;try{if(E=b(w),t.size>0){const N=g.getState(),k=Array.from(t.values());for(const O of k){let T=!1;try{T=O.predicate(w,N,_)}catch(R){T=!1,aI(o,R,{raisedBy:"predicate"})}T&&m(O,w,g,j)}}}finally{_=rI}return E},startListening:d,stopListening:f,clearListeners:p}};function Ga(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kye={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hq=Ra({name:"chartLayout",initialState:kye,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Oye,setLayout:Aye,setChartSize:Rye,setScale:Tye}=hq.actions,Pye=hq.reducer;function mq(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function sr(e){return Number.isFinite(e)}function Es(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){Dye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dye(e,t,r){return(t=Mye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mye(e){var t=Iye(e,"string");return typeof t=="symbol"?t:t+""}function Iye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t,r){return pr(e)||pr(t)?r:Cs(t)?kd(e,t,r):typeof t=="function"?t(e):r}var $ye=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Fe(e[i]))return dd(dd({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Fe(e[o]))return dd(dd({},e),{},{[o]:e[o]+(a||0)})}return e},Ds=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pq=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||o.push(t),i||o.push(r),o},gq=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:g}=e;if(!o)return null;var b=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=g==="angleAxis"&&i&&i.length>=2?Ca(i[0]-i[1])*2*w:w,p||y){var _=(p||y||[]).map((j,E)=>{var N=n?n.indexOf(j):j;return{coordinate:o(N)+w,value:j,offset:w,index:E}});return _.filter(j=>!ki(j.coordinate))}return d&&f?f.map((j,E)=>({coordinate:o(j)+w,value:j,index:E,offset:w})):o.ticks&&m!=null?o.ticks(m).map((j,E)=>({coordinate:o(j)+w,value:j,offset:w,index:E})):o.domain().map((j,E)=>({coordinate:o(j)+w,value:n?n[j]:j,index:E,offset:w}))},sI=1e-4,Lye=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sI,i=Math.max(n[0],n[1])+sI,o=e(t[0]),c=e(t[r-1]);(o<a||o>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},zye=(e,t)=>{if(!t||t.length!==2||!Fe(t[0])||!Fe(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Fe(e[0])||e[0]<r)&&(a[0]=r),(!Fe(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Fye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,c=0;c<r;++c){var d=e[c],f=d?.[a];if(f!=null){var m=f[1],p=f[0],y=ki(m)?p:m;y>=0?(f[0]=i,f[1]=i+y,i=m):(f[0]=o,f[1]=o+y,o=m)}}}},Uye=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var c=e[o],d=c?.[a];if(d!=null){var f=ki(d[1])?d[0]:d[1];f>=0?(d[0]=i,d[1]=i+f,i=d[1]):(d[0]=0,d[1]=0)}}}},Bye={sign:Fye,expand:gge,none:Vc,silhouette:vge,wiggle:yge,positive:Uye},qye=(e,t,r)=>{var n,a=(n=Bye[r])!==null&&n!==void 0?n:Vc,i=pge().keys(t).value((c,d)=>Number($r(c,d,0))).order(I1).offset(a),o=i(e);return o.forEach((c,d)=>{c.forEach((f,m)=>{var p=$r(e[m],t[d],0);Array.isArray(p)&&p.length===2&&Fe(p[0])&&Fe(p[1])&&(f[0]=p[0],f[1]=p[1])})}),o};function vq(e){return e==null?void 0:String(e)}function by(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pr(a[t.dataKey])){var c=w6(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=$r(a,pr(o)?t.dataKey:o);return pr(d)?null:t.scale(d)}var oI=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var c=$r(i,t.dataKey,t.scale.domain()[o]);return pr(c)?null:t.scale(c)-a/2+n},Vye=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Hye=e=>{var t=e.flat(2).filter(Fe);return[Math.min(...t),Math.max(...t)]},Wye=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Kye=(e,t,r)=>{if(e!=null)return Wye(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,c=o.reduce((d,f)=>{var m=mq(f,t,r),p=Hye(m);return!sr(p[0])||!sr(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},lI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Al=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Kx(t,m=>m.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var d=a[o],f=a[o-1];i=Math.min((d?.coordinate||0)-(f?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function uI(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return dd(dd({},t),{},{dataKey:r,payload:n,value:a,name:i})}function tf(e,t){if(e)return String(e);if(typeof t=="string")return t}var Gye=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Yye=(e,t)=>t==="centric"?e.angle:e.radius,To=e=>e.layout.width,Po=e=>e.layout.height,Zye=e=>e.layout.scale,yq=e=>e.layout.margin,nb=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ab=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Xye="data-recharts-item-index",Qye="data-recharts-item-id",zm=60;function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){Jye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jye(e,t,r){return(t=exe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function exe(e){var t=txe(e,"string");return typeof t=="symbol"?t:t+""}function txe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rxe=e=>e.brush.height;function nxe(e){var t=ab(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zm;return r+a}return r},0)}function axe(e){var t=ab(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:zm;return r+a}return r},0)}function ixe(e){var t=nb(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function sxe(e){var t=nb(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var An=he([To,Po,yq,rxe,nxe,axe,ixe,sxe,L6,Rve],(e,t,r,n,a,i,o,c,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+i},p={top:(r.top||0)+o,bottom:(r.bottom||0)+c},y=tv(tv({},p),m),g=y.bottom;y.bottom+=n,y=$ye(y,d,f);var b=e-y.left-y.right,w=t-y.top-y.bottom;return tv(tv({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(w,0)})}),oxe=he(An,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),ON=he(To,Po,(e,t)=>({x:0,y:0,width:e,height:t})),lxe=x.createContext(null),Rn=()=>x.useContext(lxe)!=null,ib=e=>e.brush,sb=he([ib,An,yq],(e,t,r)=>({height:e.height,x:Fe(e.x)?e.x:t.left,y:Fe(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Fe(e.width)?e.width:t.width})),qj={},Vj={},Hj={},fI;function cxe(){return fI||(fI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,c=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),w()};let y=null;const g=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},n)},b=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{b(),o=void 0,c=null},_=()=>{m()},j=function(...E){if(a?.aborted)return;o=this,c=E;const N=y==null;g(),d&&N&&m()};return j.schedule=g,j.cancel=w,j.flush=_,a?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(Hj)),Hj}var hI;function uxe(){return hI||(hI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cxe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:d}=i,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...w){m=n.apply(this,w),p=null},a,{edges:f}),g=function(...w){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=n.apply(this,w),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},b=()=>(y.flush(),m);return g.cancel=y.cancel,g.flush=b,g}e.debounce=r})(Vj)),Vj}var mI;function dxe(){return mI||(mI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uxe();function r(n,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:c})}e.throttle=r})(qj)),qj}var Wj,pI;function fxe(){return pI||(pI=1,Wj=dxe().throttle),Wj}var hxe=fxe();const mxe=ei(hxe);var wy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},xq=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,c=jo(n)?e:Number(n),d=jo(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},pxe={width:0,height:0,overflow:"visible"},gxe={width:0,overflowX:"visible"},vxe={height:0,overflowY:"visible"},yxe={},xxe=e=>{var{width:t,height:r}=e,n=jo(t),a=jo(r);return n&&a?pxe:n?gxe:a?vxe:yxe};function bxe(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G1.apply(null,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){wxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wxe(e,t,r){return(t=_xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _xe(e){var t=jxe(e,"string");return typeof t=="symbol"?t:t+""}function jxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bq=x.createContext({width:-1,height:-1});function Sxe(e){return Es(e.width)&&Es(e.height)}function wq(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return Sxe(a)?x.createElement(bq.Provider,{value:a},t):null}var AN=()=>x.useContext(bq),Cxe=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:g,style:b={}}=e,w=x.useRef(null),_=x.useRef();_.current=g,x.useImperativeHandle(t,()=>w.current);var[j,E]=x.useState({containerWidth:n.width,containerHeight:n.height}),N=x.useCallback((A,P)=>{E(L=>{var M=Math.round(A),$=Math.round(P);return L.containerWidth===M&&L.containerHeight===$?L:{containerWidth:M,containerHeight:$}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Im;var A=$=>{var U,{width:X,height:Y}=$[0].contentRect;N(X,Y),(U=_.current)===null||U===void 0||U.call(_,X,Y)};m>0&&(A=mxe(A,m,{trailing:!0,leading:!1}));var P=new ResizeObserver(A),{width:L,height:M}=w.current.getBoundingClientRect();return N(L,M),P.observe(w.current),()=>{P.disconnect()}},[N,m]);var{containerWidth:k,containerHeight:O}=j;wy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:T,calculatedHeight:R}=xq(k,O,{width:a,height:i,aspect:r,maxHeight:d});return wy(T!=null&&T>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,R,a,i,o,c,r),x.createElement("div",{id:p?"".concat(p):void 0,className:Kt("recharts-responsive-container",y),style:vI(vI({},b),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:d}),ref:w},x.createElement("div",{style:xxe({width:a,height:i})},x.createElement(wq,{width:T,height:R},f)))}),_y=x.forwardRef((e,t)=>{var r=AN();if(Es(r.width)&&Es(r.height))return e.children;var{width:n,height:a}=bxe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=xq(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Fe(i)&&Fe(o)?x.createElement(wq,{width:i,height:o},e.children):x.createElement(Cxe,G1({},e,{width:n,height:a,ref:t}))});function _q(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ob=()=>{var e,t=Rn(),r=et(oxe),n=et(sb),a=(e=et(ib))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Exe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},jq=()=>{var e;return(e=et(An))!==null&&e!==void 0?e:Exe},Sq=()=>et(To),Cq=()=>et(Po),Ut=e=>e.layout.layoutType,zl=()=>et(Ut),Nxe=()=>{var e=zl();if(e==="horizontal"||e==="vertical")return e},kxe=()=>{var e=zl();return e!==void 0},lb=e=>{var t=Xr(),r=Rn(),{width:n,height:a}=e,i=AN(),o=n,c=a;return i&&(o=i.width>0?i.width:n,c=i.height>0?i.height:a),x.useEffect(()=>{!r&&Es(o)&&Es(c)&&t(Rye({width:o,height:c}))},[t,r,o,c]),null},Eq=Symbol.for("immer-nothing"),yI=Symbol.for("immer-draftable"),Qa=Symbol.for("immer-state");function Hi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var tm=Object.getPrototypeOf;function Ad(e){return!!e&&!!e[Qa]}function Wc(e){return e?Nq(e)||Array.isArray(e)||!!e[yI]||!!e.constructor?.[yI]||Fm(e)||ub(e):!1}var Oxe=Object.prototype.constructor.toString(),xI=new WeakMap;function Nq(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=xI.get(r);return n===void 0&&(n=Function.toString.call(r),xI.set(r,n)),n===Oxe}function jy(e,t,r=!0){cb(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cb(e){const t=e[Qa];return t?t.type_:Array.isArray(e)?1:Fm(e)?2:ub(e)?3:0}function Y1(e,t){return cb(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kq(e,t,r){const n=cb(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Axe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fm(e){return e instanceof Map}function ub(e){return e instanceof Set}function mc(e){return e.copy_||e.base_}function Z1(e,t){if(Fm(e))return new Map(e);if(ub(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Nq(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Qa];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(tm(e),n)}else{const n=tm(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function RN(e,t=!1){return db(e)||Ad(e)||!Wc(e)||(cb(e)>1&&Object.defineProperties(e,{set:rv,add:rv,clear:rv,delete:rv}),Object.freeze(e),t&&Object.values(e).forEach(r=>RN(r,!0))),e}function Rxe(){Hi(2)}var rv={value:Rxe};function db(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Txe={};function Kc(e){const t=Txe[e];return t||Hi(0,e),t}var rm;function Oq(){return rm}function Pxe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bI(e,t){t&&(Kc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function X1(e){Q1(e),e.drafts_.forEach(Dxe),e.drafts_=null}function Q1(e){e===rm&&(rm=e.parent_)}function wI(e){return rm=Pxe(rm,e)}function Dxe(e){const t=e[Qa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function _I(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Qa].modified_&&(X1(t),Hi(4)),Wc(e)&&(e=Sy(t,e),t.parent_||Cy(t,e)),t.patches_&&Kc("Patches").generateReplacementPatches_(r[Qa].base_,e,t.patches_,t.inversePatches_)):e=Sy(t,r,[]),X1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Eq?e:void 0}function Sy(e,t,r){if(db(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Qa];if(!a)return jy(t,(i,o)=>jI(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Cy(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,c=!1;a.type_===3&&(o=new Set(i),i.clear(),c=!0),jy(o,(d,f)=>jI(e,a,i,d,f,r,c),n),Cy(e,i,!1),r&&e.patches_&&Kc("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function jI(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const c=db(a);if(!(c&&!o)){if(Ad(a)){const d=i&&t&&t.type_!==3&&!Y1(t.assigned_,n)?i.concat(n):void 0,f=Sy(e,a,d);if(kq(r,n,f),Ad(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Wc(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;Sy(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Fm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Cy(e,a)}}}function Cy(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&RN(t,r)}function Mxe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Oq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=TN;r&&(a=[n],i=nm);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=o,c}var TN={get(e,t){if(t===Qa)return e;const r=mc(e);if(!Y1(r,t))return Ixe(e,r,t);const n=r[t];return e.finalized_||!Wc(n)?n:n===Kj(e.base_,t)?(Gj(e),e.copy_[t]=eC(n,e)):n},has(e,t){return t in mc(e)},ownKeys(e){return Reflect.ownKeys(mc(e))},set(e,t,r){const n=Aq(mc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Kj(mc(e),t),i=a?.[Qa];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Axe(r,a)&&(r!==void 0||Y1(e.base_,t)))return!0;Gj(e),J1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Kj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gj(e),J1(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Hi(11)},getPrototypeOf(e){return tm(e.base_)},setPrototypeOf(){Hi(12)}},nm={};jy(TN,(e,t)=>{nm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nm.deleteProperty=function(e,t){return nm.set.call(this,e,t,void 0)};nm.set=function(e,t,r){return TN.set.call(this,e[0],t,r,e[0])};function Kj(e,t){const r=e[Qa];return(r?mc(r):e)[t]}function Ixe(e,t,r){const n=Aq(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Aq(e,t){if(!(t in e))return;let r=tm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=tm(r)}}function J1(e){e.modified_||(e.modified_=!0,e.parent_&&J1(e.parent_))}function Gj(e){e.copy_||(e.copy_=Z1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var $xe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...f){return o.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Hi(6),n!==void 0&&typeof n!="function"&&Hi(7);let a;if(Wc(t)){const i=wI(this),o=eC(t,void 0);let c=!0;try{a=r(o),c=!1}finally{c?X1(i):Q1(i)}return bI(i,n),_I(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Eq&&(a=void 0),this.autoFreeze_&&RN(a,!0),n){const i=[],o=[];Kc("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Hi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let n,a;return[this.produce(t,r,(o,c)=>{n=o,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Wc(e)||Hi(8),Ad(e)&&(e=Lxe(e));const t=wI(this),r=eC(e,void 0);return r[Qa].isManual_=!0,Q1(t),r}finishDraft(e,t){const r=e&&e[Qa];(!r||!r.isManual_)&&Hi(9);const{scope_:n}=r;return bI(n,t),_I(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Kc("Patches").applyPatches_;return Ad(e)?n(e,t):this.produce(e,a=>n(a,t))}};function eC(e,t){const r=Fm(e)?Kc("MapSet").proxyMap_(e,t):ub(e)?Kc("MapSet").proxySet_(e,t):Mxe(e,t);return(t?t.scope_:Oq()).drafts_.push(r),r}function Lxe(e){return Ad(e)||Hi(10,e),Rq(e)}function Rq(e){if(!Wc(e)||db(e))return e;const t=e[Qa];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Z1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Z1(e,!0);return jy(r,(a,i)=>{kq(r,a,Rq(i))},n),t&&(t.finalized_=!1),r}var zxe=new $xe;zxe.produce;var Fxe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Tq=Ra({name:"legend",initialState:Fxe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:br()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Xi(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:br()},removeLegendPayload:{reducer(e,t){var r=Xi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:br()}}}),{setLegendSize:QMe,setLegendSettings:JMe,addLegendPayload:Uxe,replaceLegendPayload:Bxe,removeLegendPayload:qxe}=Tq.actions,Vxe=Tq.reducer;function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tC.apply(null,arguments)}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){Hxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hxe(e,t,r){return(t=Wxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wxe(e){var t=Kxe(e,"string");return typeof t=="symbol"?t:t+""}function Kxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gxe(e){return Array.isArray(e)&&Cs(e[0])&&Cs(e[1])?e.join(" ~ "):e}var Yxe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,g=()=>{if(i&&i.length){var O={padding:0,margin:0},T=(c?Kx(i,c):i).map((R,A)=>{if(R.type==="none")return null;var P=R.formatter||o||Gxe,{value:L,name:M}=R,$=L,U=M;if(P){var X=P(L,M,R,A,i);if(Array.isArray(X))[$,U]=X;else if(X!=null)$=X;else return null}var Y=Yj({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:Y},Cs(U)?x.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Cs(U)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},$),x.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:O},T)}return null},b=Yj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Yj({margin:0},a),_=!pr(m),j=_?m:"",E=Kt("recharts-default-tooltip",d),N=Kt("recharts-tooltip-label",f);_&&p&&i!==void 0&&i!==null&&(j=p(m,i));var k=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",tC({className:E,style:b},k),x.createElement("p",{className:N,style:w},x.isValidElement(j)?j:"".concat(j)),g())},uh="recharts-tooltip-wrapper",Zxe={visibility:"hidden"};function Xxe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Kt(uh,{["".concat(uh,"-right")]:Fe(r)&&t&&Fe(t.x)&&r>=t.x,["".concat(uh,"-left")]:Fe(r)&&t&&Fe(t.x)&&r<t.x,["".concat(uh,"-bottom")]:Fe(n)&&t&&Fe(t.y)&&n>=t.y,["".concat(uh,"-top")]:Fe(n)&&t&&Fe(t.y)&&n<t.y})}function CI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&Fe(i[n]))return i[n];var m=r[n]-c-(a>0?a:0),p=r[n]+a;if(t[n])return o[n]?m:p;var y=d[n];if(y==null)return 0;if(o[n]){var g=m,b=y;return g<b?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var w=p+c,_=y+f;return w>_?Math.max(m,y):Math.max(p,y)}function Qxe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Jxe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,f,m,p;return o.height>0&&o.width>0&&r?(m=CI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=CI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Qxe({translateX:m,translateY:p,useTranslate3d:c})):f=Zxe,{cssProperties:f,cssClasses:Xxe({translateX:m,translateY:p,coordinate:r})}}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){rC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rC(e,t,r){return(t=ebe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ebe(e){var t=tbe(e,"string");return typeof t=="symbol"?t:t+""}function tbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rbe extends x.PureComponent{constructor(){super(...arguments),rC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rC(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:g,wrapperStyle:b,lastBoundingBox:w,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:E,cssProperties:N}=Jxe({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:g}),k=j?{}:nv(nv({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},N),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),O=nv(nv({},k),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:O,ref:_},i)}}var Pq=()=>{var e;return(e=et(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function nC(){return nC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nC.apply(null,arguments)}function NI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(r),!0).forEach(function(n){nbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nbe(e,t,r){return(t=abe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function abe(e){var t=ibe(e,"string");return typeof t=="symbol"?t:t+""}function ibe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var OI={curveBasisClosed:age,curveBasisOpen:ige,curveBasis:nge,curveBumpX:qpe,curveBumpY:Vpe,curveLinearClosed:sge,curveLinear:Hx,curveMonotoneX:oge,curveMonotoneY:lge,curveNatural:cge,curveStep:uge,curveStepAfter:fge,curveStepBefore:dge},Ey=e=>sr(e.x)&&sr(e.y),AI=e=>e.base!=null&&Ey(e.base)&&Ey(e),dh=e=>e.x,fh=e=>e.y,sbe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Mm(e));return(r==="curveMonotone"||r==="curveBump")&&t?OI["".concat(r).concat(t==="vertical"?"Y":"X")]:OI[r]||Hx},obe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=sbe(t,a),c=i?r.filter(Ey):r,d;if(Array.isArray(n)){var f=r.map((g,b)=>kI(kI({},g),{},{base:n[b]}));a==="vertical"?d=Yg().y(fh).x1(dh).x0(g=>g.base.x):d=Yg().x(dh).y1(fh).y0(g=>g.base.y);var m=d.defined(AI).curve(o),p=i?f.filter(AI):f;return m(p)}a==="vertical"&&Fe(n)?d=Yg().y(fh).x1(dh).x0(n):Fe(n)?d=Yg().x(dh).y1(fh).y0(n):d=l6().x(dh).y(fh);var y=d.defined(Ey).curve(o);return y(c)},Th=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=zl();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?obe(o):n;return x.createElement("path",nC({},Xa(e),xN(e),{className:Kt("recharts-curve",t),d:c===null?void 0:c,ref:a}))},lbe=["x","y","top","left","width","height","className"];function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aC.apply(null,arguments)}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cbe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(n){ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t,r){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hbe(e,t){if(e==null)return{};var r,n,a=mbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pbe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),gbe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:c}=e,d=hbe(e,lbe),f=cbe({x:t,y:r,top:n,left:a,width:i,height:o},d);return!Fe(t)||!Fe(r)||!Fe(i)||!Fe(o)||!Fe(n)||!Fe(a)?null:x.createElement("path",aC({},Xn(f),{className:Kt("recharts-cross",c),d:pbe(t,r,i,o,n,a)}))};function vbe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){ybe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ybe(e,t,r){return(t=xbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xbe(e){var t=bbe(e,"string");return typeof t=="symbol"?t:t+""}function bbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wbe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Dq=(e,t,r)=>e.map(n=>"".concat(wbe(n)," ").concat(t,"ms ").concat(r)).join(","),_be=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),am=(e,t)=>Object.keys(t).reduce((r,n)=>PI(PI({},r),{},{[n]:e(n,t[n])}),{});function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){jbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jbe(e,t,r){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sbe(e){var t=Cbe(e,"string");return typeof t=="symbol"?t:t+""}function Cbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ny=(e,t,r)=>e+(t-e)*r,iC=e=>{var{from:t,to:r}=e;return t!==r},Mq=(e,t,r)=>{var n=am((a,i)=>{if(iC(i)){var[o,c]=e(i.from,i.to,i.velocity);return gn(gn({},i),{},{from:o,velocity:c})}return i},t);return r<1?am((a,i)=>iC(i)&&n[a]!=null?gn(gn({},i),{},{velocity:Ny(i.velocity,n[a].velocity,r),from:Ny(i.from,n[a].from,r)}):i,t):Mq(e,n,r-1)};function Ebe(e,t,r,n,a,i){var o,c=n.reduce((y,g)=>gn(gn({},y),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),d=()=>am((y,g)=>g.from,c),f=()=>!Object.values(c).filter(iC).length,m=null,p=y=>{o||(o=y);var g=y-o,b=g/r.dt;c=Mq(r,c,b),a(gn(gn(gn({},e),t),d())),o=y,f()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function Nbe(e,t,r,n,a,i,o){var c=null,d=a.reduce((p,y)=>{var g=e[y],b=t[y];return g==null||b==null?p:gn(gn({},p),{},{[y]:[g,b]})},{}),f,m=p=>{f||(f=p);var y=(p-f)/n,g=am((w,_)=>Ny(..._,r(y)),d);if(i(gn(gn(gn({},e),t),g)),y<1)c=o.setTimeout(m);else{var b=am((w,_)=>Ny(..._,r(1)),d);i(gn(gn(gn({},e),t),b))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const kbe=(e,t,r,n,a,i)=>{var o=_be(e,t);return r==null?()=>(a(gn(gn({},e),t)),()=>{}):r.isStepper===!0?Ebe(e,t,r,o,a,i):Nbe(e,t,r,n,o,a,i)};var ky=1e-4,Iq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],$q=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),MI=(e,t)=>r=>{var n=Iq(e,t);return $q(n,r)},Obe=(e,t)=>r=>{var n=Iq(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return $q(a,r)},Abe=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Rbe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=Abe(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},Tbe=(e,t,r,n)=>{var a=MI(e,r),i=MI(t,n),o=Obe(e,r),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var g=a(p)-m,b=o(p);if(Math.abs(g-m)<ky||b<ky)return i(p);p=c(p-g/b)}return i(p)};return d.isStepper=!1,d},II=function(){return Tbe(...Rbe(...arguments))},Pbe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,c,d)=>{var f=-(o-c)*r,m=d*n,p=d+(f-m)*a/1e3,y=d*a/1e3+o;return Math.abs(y-c)<ky&&Math.abs(p)<ky?[c,0]:[y,p]};return i.isStepper=!0,i.dt=a,i},Dbe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return II(e);case"spring":return Pbe();default:if(e.split("(")[0]==="cubic-bezier")return II(e)}return typeof e=="function"?e:null};function Mbe(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Ibe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function $be(){return Mbe(new Ibe)}var Lbe=x.createContext($be);function zbe(e,t){var r=x.useContext(Lbe);return x.useMemo(()=>t??r(e),[e,t,r])}var Fbe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Um={isSsr:Fbe()},Ube={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$I={t:0},Zj={t:1};function Bm(e){var t=qn(e,Ube),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=r==="auto"?!Um.isSsr:r,p=zbe(t.animationId,t.animationManager),[y,g]=x.useState(m?$I:Zj),b=x.useRef(null);return x.useEffect(()=>{m||g(Zj)},[m]),x.useEffect(()=>{if(!m||!n)return Im;var w=kbe($I,Zj,Dbe(i),a,g,p.getTimeoutController()),_=()=>{b.current=w()};return p.start([d,o,_,a,c]),()=>{p.stop(),b.current&&b.current(),c()}},[m,n,a,i,o,d,c,p]),f(y.t)}function qm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Xh(t)),n=x.useRef(e);return n.current!==e&&(r.current=Xh(t),n.current=e),r.current}var Bbe=["radius"],qbe=["radius"],LI,zI,FI,UI,BI,qI,VI,HI,WI,KI;function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return(t=Hbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hbe(e){var t=Wbe(e,"string");return typeof t=="symbol"?t:t+""}function Wbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oy.apply(null,arguments)}function ZI(e,t){if(e==null)return{};var r,n,a=Kbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ds(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var XI=(e,t,r,n,a)=>{var i=bl(r),o=bl(n),c=Math.min(Math.abs(i)/2,Math.abs(o)/2),d=o>=0?1:-1,f=i>=0?1:-1,m=o>=0&&i>=0||o<0&&i<0?1:0,p;if(c>0&&a instanceof Array){for(var y=[0,0,0,0],g=0,b=4;g<b;g++)y[g]=a[g]>c?c:a[g];p=Ir(LI||(LI=ds(["M",",",""])),e,t+d*y[0]),y[0]>0&&(p+=Ir(zI||(zI=ds(["A ",",",",0,0,",",",",",""])),y[0],y[0],m,e+f*y[0],t)),p+=Ir(FI||(FI=ds(["L ",",",""])),e+r-f*y[1],t),y[1]>0&&(p+=Ir(UI||(UI=ds(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],m,e+r,t+d*y[1])),p+=Ir(BI||(BI=ds(["L ",",",""])),e+r,t+n-d*y[2]),y[2]>0&&(p+=Ir(qI||(qI=ds(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],m,e+r-f*y[2],t+n)),p+=Ir(VI||(VI=ds(["L ",",",""])),e+f*y[3],t+n),y[3]>0&&(p+=Ir(HI||(HI=ds(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],m,e,t+n-d*y[3])),p+="Z"}else if(c>0&&a===+a&&a>0){var w=Math.min(c,a);p=Ir(WI||(WI=ds(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*w,w,w,m,e+f*w,t,e+r-f*w,t,w,w,m,e+r,t+d*w,e+r,t+n-d*w,w,w,m,e+r-f*w,t+n,e+f*w,t+n,w,w,m,e,t+n-d*w)}else p=Ir(KI||(KI=ds(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},QI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lq=e=>{var t=qn(e,QI),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:i,y:o,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:w}=t,_=x.useRef(c),j=x.useRef(d),E=x.useRef(i),N=x.useRef(o),k=x.useMemo(()=>({x:i,y:o,width:c,height:d,radius:f}),[i,o,c,d,f]),O=qm(k,"rectangle-");if(i!==+i||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var T=Kt("recharts-rectangle",m);if(!w){var R=Xn(t),{radius:A}=R,P=ZI(R,Bbe);return x.createElement("path",Oy({},P,{x:bl(i),y:bl(o),width:bl(c),height:bl(d),radius:typeof f=="number"?f:void 0,className:T,d:XI(i,o,c,d,f)}))}var L=_.current,M=j.current,$=E.current,U=N.current,X="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),F=Dq(["strokeDasharray"],y,typeof p=="string"?p:QI.animationEasing);return x.createElement(Bm,{animationId:O,key:O,canBegin:n>0,duration:y,easing:p,isActive:w,begin:g},H=>{var I=rr(L,c,H),q=rr(M,d,H),ue=rr($,i,H),B=rr(U,o,H);r.current&&(_.current=I,j.current=q,E.current=ue,N.current=B);var Q;b?H>0?Q={transition:F,strokeDasharray:Y}:Q={strokeDasharray:X}:Q={strokeDasharray:Y};var V=Xn(t),{radius:ae}=V,Z=ZI(V,qbe);return x.createElement("path",Oy({},Z,{radius:typeof f=="number"?f:void 0,className:T,d:XI(ue,B,I,q,f),ref:r,style:YI(YI({},Q),t.style)}))})};function JI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(r),!0).forEach(function(n){Gbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gbe(e,t,r){return(t=Ybe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ybe(e){var t=Zbe(e,"string");return typeof t=="symbol"?t:t+""}function Zbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay=Math.PI/180,Xbe=e=>e*180/Math.PI,Un=(e,t,r,n)=>({x:e+Math.cos(-Ay*n)*r,y:t+Math.sin(-Ay*n)*r}),Qbe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jbe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},e0e=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=Jbe({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-a)/o,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:o,angle:Xbe(d),angleInRadian:d}},t0e=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},r0e=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},n0e=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=e0e({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:d,endAngle:f}=t0e(t),m=i,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?e$(e$({},t),{},{radius:a,angle:r0e(m,t)}):null};function zq(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Un(t,r,n,a),c=Un(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var t$,r$,n$,a$,i$,s$,o$;function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sC.apply(null,arguments)}function jc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a0e=(e,t)=>{var r=Ca(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},av=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,f=c*(o?1:-1)+n,m=Math.asin(c/f)/Ay,p=d?a:a+i*m,y=Un(t,r,f,p),g=Un(t,r,n,p),b=d?a-i*m:a,w=Un(t,r,f*Math.cos(m*Ay),b);return{center:y,circleTangency:g,lineTangency:w,theta:m}},Fq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,c=a0e(i,o),d=i+c,f=Un(t,r,a,i),m=Un(t,r,a,d),p=Ir(t$||(t$=jc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(c)>180),+(i>d),m.x,m.y);if(n>0){var y=Un(t,r,n,i),g=Un(t,r,n,d);p+=Ir(r$||(r$=jc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(c)>180),+(i<=d),y.x,y.y)}else p+=Ir(n$||(n$=jc(["L ",","," Z"])),t,r);return p},i0e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Ca(f-d),{circleTangency:p,lineTangency:y,theta:g}=av({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:_}=av({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-g-_;if(j<0)return o?Ir(a$||(a$=jc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,i,i,i*2,i,i,-i*2):Fq({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var E=Ir(i$||(i$=jc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,i,i,+(m<0),p.x,p.y,a,a,+(j>180),+(m<0),b.x,b.y,i,i,+(m<0),w.x,w.y);if(n>0){var{circleTangency:N,lineTangency:k,theta:O}=av({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:T,lineTangency:R,theta:A}=av({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=c?Math.abs(d-f):Math.abs(d-f)-O-A;if(P<0&&i===0)return"".concat(E,"L").concat(t,",").concat(r,"Z");E+=Ir(s$||(s$=jc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),R.x,R.y,i,i,+(m<0),T.x,T.y,n,n,+(P>180),+(m>0),N.x,N.y,i,i,+(m<0),k.x,k.y)}else E+=Ir(o$||(o$=jc(["L",",","Z"])),t,r);return E},s0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Uq=e=>{var t=qn(e,s0e),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(i<a||f===m)return null;var y=Kt("recharts-sector",p),g=i-a,b=es(o,g,0,!0),w;return b>0&&Math.abs(f-m)<360?w=i0e({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):w=Fq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:m}),x.createElement("path",sC({},Xn(t),{className:y,d:w}))};function o0e(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(S6(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:c}=t,d=Un(n,a,i,c),f=Un(n,a,o,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return zq(t)}}var Xj={},Qj={},Jj={},l$;function l0e(){return l$||(l$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I6();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Jj)),Jj}var c$;function c0e(){return c$||(c$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l0e();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Qj)),Qj}var u$;function u0e(){return u$||(u$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$6(),r=c0e();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=o;return d}e.range=n})(Xj)),Xj}var eS,d$;function d0e(){return d$||(d$=1,eS=u0e().range),eS}var f0e=d0e();const Bq=ei(f0e);function Sl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function PN(e){let t,r,n;e.length!==2?(t=Sl,r=(c,d)=>Sl(e(c),d),n=(c,d)=>e(c)-d):(t=e===Sl||e===h0e?e:m0e,r=e,n=e);function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,d,f=0,m=c.length){const p=a(c,d,f,m-1);return p>f&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:a,center:o,right:i}}function m0e(){return 0}function qq(e){return e===null?NaN:+e}function*p0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const g0e=PN(Sl),Vm=g0e.right;PN(qq).center;class f$ extends Map{constructor(t,r=x0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(h$(this,t))}has(t){return super.has(h$(this,t))}set(t,r){return super.set(v0e(this,t),r)}delete(t){return super.delete(y0e(this,t))}}function h$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function v0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function y0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function x0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function b0e(e=Sl){if(e===Sl)return Vq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Vq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const w0e=Math.sqrt(50),_0e=Math.sqrt(10),j0e=Math.sqrt(2);function Ry(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=w0e?10:i>=_0e?5:i>=j0e?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/o,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*o,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Ry(e,t,r*2):[c,d,f]}function oC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Ry(t,e,r):Ry(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)d[f]=(i-f)/-o;else for(let f=0;f<c;++f)d[f]=(i-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(a+f)/-o;else for(let f=0;f<c;++f)d[f]=(a+f)*o;return d}function lC(e,t,r){return t=+t,e=+e,r=+r,Ry(e,t,r)[2]}function cC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?lC(t,e,r):lC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function m$(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function p$(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Hq(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Vq:b0e(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),g=Math.max(r,Math.floor(t-f*p/d+y)),b=Math.min(n,Math.floor(t+(d-f)*p/d+y));Hq(e,t,g,b,a)}const i=e[t];let o=r,c=n;for(hh(e,r,t),a(e[n],i)>0&&hh(e,r,n);o<c;){for(hh(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?hh(e,r,c):(++c,hh(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function hh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function S0e(e,t,r){if(e=Float64Array.from(p0e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return p$(e);if(t>=1)return m$(e);var n,a=(n-1)*t,i=Math.floor(a),o=m$(Hq(e,i).subarray(0,i+1)),c=p$(e.subarray(i+1));return o+(c-o)*(a-i)}}function C0e(e,t,r=qq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function E0e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Pi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Do(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uC=Symbol("implicit");function DN(){var e=new f$,t=[],r=[],n=uC;function a(i){let o=e.get(i);if(o===void 0){if(n!==uC)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new f$;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return DN(t,r).unknown(n)},Pi.apply(a,arguments),a}function MN(){var e=DN().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,g=a<n,b=g?a:n,w=g?n:a;i=(w-b)/Math.max(1,y-d+f*2),c&&(i=Math.floor(i)),b+=(w-b-i*(y-d))*m,o=i*(1-d),c&&(b=Math.round(b),o=Math.round(o));var _=E0e(y).map(function(j){return b+i*j});return r(g?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return MN(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(m)},Pi.apply(p(),arguments)}function Wq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Wq(t())},e}function N0e(){return Wq(MN.apply(null,arguments).paddingInner(1))}function IN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Kq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hm(){}var im=.7,Ty=1/im,wd="\\s*([+-]?\\d+)\\s*",sm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",k0e=/^#([0-9a-f]{3,8})$/,O0e=new RegExp(`^rgb\\(${wd},${wd},${wd}\\)$`),A0e=new RegExp(`^rgb\\(${ws},${ws},${ws}\\)$`),R0e=new RegExp(`^rgba\\(${wd},${wd},${wd},${sm}\\)$`),T0e=new RegExp(`^rgba\\(${ws},${ws},${ws},${sm}\\)$`),P0e=new RegExp(`^hsl\\(${sm},${ws},${ws}\\)$`),D0e=new RegExp(`^hsla\\(${sm},${ws},${ws},${sm}\\)$`),g$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};IN(Hm,om,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v$,formatHex:v$,formatHex8:M0e,formatHsl:I0e,formatRgb:y$,toString:y$});function v$(){return this.rgb().formatHex()}function M0e(){return this.rgb().formatHex8()}function I0e(){return Gq(this).formatHsl()}function y$(){return this.rgb().formatRgb()}function om(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=k0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?x$(t):r===3?new Ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?iv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?iv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O0e.exec(e))?new Ea(t[1],t[2],t[3],1):(t=A0e.exec(e))?new Ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=R0e.exec(e))?iv(t[1],t[2],t[3],t[4]):(t=T0e.exec(e))?iv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=P0e.exec(e))?_$(t[1],t[2]/100,t[3]/100,1):(t=D0e.exec(e))?_$(t[1],t[2]/100,t[3]/100,t[4]):g$.hasOwnProperty(e)?x$(g$[e]):e==="transparent"?new Ea(NaN,NaN,NaN,0):null}function x$(e){return new Ea(e>>16&255,e>>8&255,e&255,1)}function iv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ea(e,t,r,n)}function $0e(e){return e instanceof Hm||(e=om(e)),e?(e=e.rgb(),new Ea(e.r,e.g,e.b,e.opacity)):new Ea}function dC(e,t,r,n){return arguments.length===1?$0e(e):new Ea(e,t,r,n??1)}function Ea(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}IN(Ea,dC,Kq(Hm,{brighter(e){return e=e==null?Ty:Math.pow(Ty,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ea(Oc(this.r),Oc(this.g),Oc(this.b),Py(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:b$,formatHex:b$,formatHex8:L0e,formatRgb:w$,toString:w$}));function b$(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}`}function L0e(){return`#${Sc(this.r)}${Sc(this.g)}${Sc(this.b)}${Sc((isNaN(this.opacity)?1:this.opacity)*255)}`}function w$(){const e=Py(this.opacity);return`${e===1?"rgb(":"rgba("}${Oc(this.r)}, ${Oc(this.g)}, ${Oc(this.b)}${e===1?")":`, ${e})`}`}function Py(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Oc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sc(e){return e=Oc(e),(e<16?"0":"")+e.toString(16)}function _$(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wi(e,t,r,n)}function Gq(e){if(e instanceof Wi)return new Wi(e.h,e.s,e.l,e.opacity);if(e instanceof Hm||(e=om(e)),!e)return new Wi;if(e instanceof Wi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-a,d=(i+a)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=d<.5?i+a:2-i-a,o*=60):c=d>0&&d<1?0:o,new Wi(o,c,d,e.opacity)}function z0e(e,t,r,n){return arguments.length===1?Gq(e):new Wi(e,t,r,n??1)}function Wi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}IN(Wi,z0e,Kq(Hm,{brighter(e){return e=e==null?Ty:Math.pow(Ty,e),new Wi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?im:Math.pow(im,e),new Wi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ea(tS(e>=240?e-240:e+120,a,n),tS(e,a,n),tS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Wi(j$(this.h),sv(this.s),sv(this.l),Py(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Py(this.opacity);return`${e===1?"hsl(":"hsla("}${j$(this.h)}, ${sv(this.s)*100}%, ${sv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function j$(e){return e=(e||0)%360,e<0?e+360:e}function sv(e){return Math.max(0,Math.min(1,e||0))}function tS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const $N=e=>()=>e;function F0e(e,t){return function(r){return e+r*t}}function U0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function B0e(e){return(e=+e)==1?Yq:function(t,r){return r-t?U0e(t,r,e):$N(isNaN(t)?r:t)}}function Yq(e,t){var r=t-e;return r?F0e(e,r):$N(isNaN(e)?t:e)}const S$=(function e(t){var r=B0e(t);function n(a,i){var o=r((a=dC(a)).r,(i=dC(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=Yq(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=c(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function q0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function V0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function H0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=rf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=a[o](c);return i}}function W0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Dy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K0e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=rf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rS=new RegExp(fC.source,"g");function G0e(e){return function(){return e}}function Y0e(e){return function(t){return e(t)+""}}function Z0e(e,t){var r=fC.lastIndex=rS.lastIndex=0,n,a,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(n=fC.exec(e))&&(a=rS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:Dy(n,a)})),r=rS.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?Y0e(d[0].x):G0e(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?$N(t):(r==="number"?Dy:r==="string"?(n=om(t))?(t=n,S$):Z0e:t instanceof om?S$:t instanceof Date?W0e:V0e(t)?q0e:Array.isArray(t)?H0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K0e:Dy)(e,t)}function LN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function X0e(e,t){t===void 0&&(t=e,e=rf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function Q0e(e){return function(){return e}}function My(e){return+e}var C$=[0,1];function aa(e){return e}function hC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Q0e(isNaN(t)?NaN:.5)}function J0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ewe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=hC(a,n),i=r(o,i)):(n=hC(n,a),i=r(i,o)),function(c){return i(n(c))}}function twe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=hC(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var d=Vm(e,c,1,n)-1;return i[d](a[d](c))}}function Wm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fb(){var e=C$,t=C$,r=rf,n,a,i,o=aa,c,d,f;function m(){var y=Math.min(e.length,t.length);return o!==aa&&(o=J0e(e[0],e[y-1])),c=y>2?twe:ewe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?i:(d||(d=c(e.map(n),t,r)))(n(o(y)))}return p.invert=function(y){return o(a((f||(f=c(t,e.map(n),Dy)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,My),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),r=LN,m()},p.clamp=function(y){return arguments.length?(o=y?!0:aa,m()):o!==aa},p.interpolate=function(y){return arguments.length?(r=y,m()):r},p.unknown=function(y){return arguments.length?(i=y,p):i},function(y,g){return n=y,a=g,m()}}function zN(){return fb()(aa,aa)}function rwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Iy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Rd(e){return e=Iy(Math.abs(e)),e?e[1]:NaN}function nwe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function awe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var iwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function lm(e){if(!(t=iwe.exec(e)))throw new Error("invalid format: "+e);var t;return new FN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}lm.prototype=FN.prototype;function FN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}FN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function swe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Zq;function owe(e,t){var r=Iy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Zq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Iy(e,Math.max(0,t+i-1))[0]}function E$(e,t){var r=Iy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const N$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:rwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>E$(e*100,t),r:E$,s:owe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function k$(e){return e}var O$=Array.prototype.map,A$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function lwe(e){var t=e.grouping===void 0||e.thousands===void 0?k$:nwe(O$.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?k$:awe(O$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=lm(p);var y=p.fill,g=p.align,b=p.sign,w=p.symbol,_=p.zero,j=p.width,E=p.comma,N=p.precision,k=p.trim,O=p.type;O==="n"?(E=!0,O="g"):N$[O]||(N===void 0&&(N=12),k=!0,O="g"),(_||y==="0"&&g==="=")&&(_=!0,y="0",g="=");var T=w==="$"?r:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",R=w==="$"?n:/[%p]/.test(O)?o:"",A=N$[O],P=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L(M){var $=T,U=R,X,Y,F;if(O==="c")U=A(M)+U,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?d:A(Math.abs(M),N),k&&(M=swe(M)),H&&+M==0&&b!=="+"&&(H=!1),$=(H?b==="("?b:c:b==="-"||b==="("?"":b)+$,U=(O==="s"?A$[8+Zq/3]:"")+U+(H&&b==="("?")":""),P){for(X=-1,Y=M.length;++X<Y;)if(F=M.charCodeAt(X),48>F||F>57){U=(F===46?a+M.slice(X+1):M.slice(X))+U,M=M.slice(0,X);break}}}E&&!_&&(M=t(M,1/0));var I=$.length+M.length+U.length,q=I<j?new Array(j-I+1).join(y):"";switch(E&&_&&(M=t(q+M,q.length?j-U.length:1/0),q=""),g){case"<":M=$+M+U+q;break;case"=":M=$+q+M+U;break;case"^":M=q.slice(0,I=q.length>>1)+$+M+U+q.slice(I);break;default:M=q+$+M+U;break}return i(M)}return L.toString=function(){return p+""},L}function m(p,y){var g=f((p=lm(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Rd(y)/3)))*3,w=Math.pow(10,-b),_=A$[8+b/3];return function(j){return g(w*j)+_}}return{format:f,formatPrefix:m}}var ov,UN,Xq;cwe({thousands:",",grouping:[3],currency:["$",""]});function cwe(e){return ov=lwe(e),UN=ov.format,Xq=ov.formatPrefix,ov}function uwe(e){return Math.max(0,-Rd(Math.abs(e)))}function dwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rd(t)/3)))*3-Rd(Math.abs(e)))}function fwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Rd(t)-Rd(e))+1}function Qq(e,t,r,n){var a=cC(e,t,r),i;switch(n=lm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=dwe(a,o))&&(n.precision=i),Xq(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=fwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=uwe(a))&&(n.precision=i-(n.type==="%")*2);break}}return UN(n)}function Fl(e){var t=e.domain;return e.ticks=function(r){var n=t();return oC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Qq(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],c=n[i],d,f,m=10;for(c<o&&(f=o,o=c,c=f,f=a,a=i,i=f);m-- >0;){if(f=lC(o,c,r),f===d)return n[a]=o,n[i]=c,t(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function Jq(){var e=zN();return e.copy=function(){return Wm(e,Jq())},Pi.apply(e,arguments),Fl(e)}function eV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,My),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return eV(e).unknown(t)},e=arguments.length?Array.from(e,My):[0,1],Fl(r)}function tV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function R$(e){return Math.log(e)}function T$(e){return Math.exp(e)}function hwe(e){return-Math.log(-e)}function mwe(e){return-Math.exp(-e)}function pwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function gwe(e){return e===10?pwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function vwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function P$(e){return(t,r)=>-e(-t,r)}function BN(e){const t=e(R$,T$),r=t.domain;let n=10,a,i;function o(){return a=vwe(n),i=gwe(n),r()[0]<0?(a=P$(a),i=P$(i),e(hwe,mwe)):e(R$,T$),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=a(f),g=a(m),b,w;const _=c==null?10:+c;let j=[];if(!(n%1)&&g-y<_){if(y=Math.floor(y),g=Math.ceil(g),f>0){for(;y<=g;++y)for(b=1;b<n;++b)if(w=y<0?b/i(-y):b*i(y),!(w<f)){if(w>m)break;j.push(w)}}else for(;y<=g;++y)for(b=n-1;b>=1;--b)if(w=y>0?b/i(-y):b*i(y),!(w<f)){if(w>m)break;j.push(w)}j.length*2<_&&(j=oC(f,m,_))}else j=oC(y,g,Math.min(g-y,_)).map(i);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=lm(d)).precision==null&&(d.trim=!0),d=UN(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=f?d(m):""}},t.nice=()=>r(tV(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function rV(){const e=BN(fb()).domain([1,10]);return e.copy=()=>Wm(e,rV()).base(e.base()),Pi.apply(e,arguments),e}function D$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function M$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qN(e){var t=1,r=e(D$(t),M$(t));return r.constant=function(n){return arguments.length?e(D$(t=+n),M$(t)):t},Fl(r)}function nV(){var e=qN(fb());return e.copy=function(){return Wm(e,nV()).constant(e.constant())},Pi.apply(e,arguments)}function I$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ywe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function xwe(e){return e<0?-e*e:e*e}function VN(e){var t=e(aa,aa),r=1;function n(){return r===1?e(aa,aa):r===.5?e(ywe,xwe):e(I$(r),I$(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Fl(t)}function HN(){var e=VN(fb());return e.copy=function(){return Wm(e,HN()).exponent(e.exponent())},Pi.apply(e,arguments),e}function bwe(){return HN.apply(null,arguments).exponent(.5)}function $$(e){return Math.sign(e)*e*e}function wwe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function aV(){var e=zN(),t=[0,1],r=!1,n;function a(i){var o=wwe(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert($$(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,My)).map($$)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return aV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Pi.apply(a,arguments),Fl(a)}function iV(){var e=[],t=[],r=[],n;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=C0e(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Vm(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(Sl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return iV().domain(e).range(t).unknown(n)},Pi.apply(i,arguments)}function sV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Vm(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return sV().domain([e,t]).range(a).unknown(i)},Pi.apply(Fl(o),arguments)}function oV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Vm(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return oV().domain(e).range(t).unknown(r)},Pi.apply(a,arguments)}const nS=new Date,aS=new Date;function xn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<o);return d},a.filter=i=>xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(nS.setTime(+i),aS.setTime(+o),e(nS),e(aS),Math.floor(r(nS,aS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const $y=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$y.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):$y);$y.range;const co=1e3,_i=co*60,uo=_i*60,Co=uo*24,WN=Co*7,L$=Co*30,iS=Co*365,Cc=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*co)},(e,t)=>(t-e)/co,e=>e.getUTCSeconds());Cc.range;const KN=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getMinutes());KN.range;const GN=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCMinutes());GN.range;const YN=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*co-e.getMinutes()*_i)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getHours());YN.range;const ZN=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*uo)},(e,t)=>(t-e)/uo,e=>e.getUTCHours());ZN.range;const Km=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*_i)/Co,e=>e.getDate()-1);Km.range;const hb=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Co,e=>e.getUTCDate()-1);hb.range;const lV=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Co,e=>Math.floor(e/Co));lV.range;function iu(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*_i)/WN)}const mb=iu(0),Ly=iu(1),_we=iu(2),jwe=iu(3),Td=iu(4),Swe=iu(5),Cwe=iu(6);mb.range;Ly.range;_we.range;jwe.range;Td.range;Swe.range;Cwe.range;function su(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/WN)}const pb=su(0),zy=su(1),Ewe=su(2),Nwe=su(3),Pd=su(4),kwe=su(5),Owe=su(6);pb.range;zy.range;Ewe.range;Nwe.range;Pd.range;kwe.range;Owe.range;const XN=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());XN.range;const QN=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());QN.range;const Eo=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Eo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Eo.range;const No=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());No.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});No.range;function cV(e,t,r,n,a,i){const o=[[Cc,1,co],[Cc,5,5*co],[Cc,15,15*co],[Cc,30,30*co],[i,1,_i],[i,5,5*_i],[i,15,15*_i],[i,30,30*_i],[a,1,uo],[a,3,3*uo],[a,6,6*uo],[a,12,12*uo],[n,1,Co],[n,2,2*Co],[r,1,WN],[t,1,L$],[t,3,3*L$],[e,1,iS]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const g=p&&typeof p.range=="function"?p:d(f,m,p),b=g?g.range(f,+m+1):[];return y?b.reverse():b}function d(f,m,p){const y=Math.abs(m-f)/p,g=PN(([,,_])=>_).right(o,y);if(g===o.length)return e.every(cC(f/iS,m/iS,p));if(g===0)return $y.every(Math.max(cC(f,m,p),1));const[b,w]=o[y/o[g-1][2]<o[g][2]/y?g-1:g];return b.every(w)}return[c,d]}const[Awe,Rwe]=cV(No,QN,pb,lV,ZN,GN),[Twe,Pwe]=cV(Eo,XN,mb,Km,YN,KN);function sS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Dwe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,f=ph(a),m=gh(a),p=ph(i),y=gh(i),g=ph(o),b=gh(o),w=ph(c),_=gh(c),j=ph(d),E=gh(d),N={a:H,A:I,b:q,B:ue,c:null,d:V$,e:V$,f:n_e,g:h_e,G:p_e,H:e_e,I:t_e,j:r_e,L:uV,m:a_e,M:i_e,p:B,q:Q,Q:K$,s:G$,S:s_e,u:o_e,U:l_e,V:c_e,w:u_e,W:d_e,x:null,X:null,y:f_e,Y:m_e,Z:g_e,"%":W$},k={a:V,A:ae,b:Z,B:ne,c:null,d:H$,e:H$,f:b_e,g:A_e,G:T_e,H:v_e,I:y_e,j:x_e,L:fV,m:w_e,M:__e,p:ee,q:pe,Q:K$,s:G$,S:j_e,u:S_e,U:C_e,V:E_e,w:N_e,W:k_e,x:null,X:null,y:O_e,Y:R_e,Z:P_e,"%":W$},O={a:L,A:M,b:$,B:U,c:X,d:B$,e:B$,f:Zwe,g:U$,G:F$,H:q$,I:q$,j:Wwe,L:Ywe,m:Hwe,M:Kwe,p:P,q:Vwe,Q:Qwe,s:Jwe,S:Gwe,u:zwe,U:Fwe,V:Uwe,w:Lwe,W:Bwe,x:Y,X:F,y:U$,Y:F$,Z:qwe,"%":Xwe};N.x=T(r,N),N.X=T(n,N),N.c=T(t,N),k.x=T(r,k),k.X=T(n,k),k.c=T(t,k);function T(G,ge){return function(ye){var le=[],Ue=-1,Le=0,Qe=G.length,Be,Rt,Nt;for(ye instanceof Date||(ye=new Date(+ye));++Ue<Qe;)G.charCodeAt(Ue)===37&&(le.push(G.slice(Le,Ue)),(Rt=z$[Be=G.charAt(++Ue)])!=null?Be=G.charAt(++Ue):Rt=Be==="e"?" ":"0",(Nt=ge[Be])&&(Be=Nt(ye,Rt)),le.push(Be),Le=Ue+1);return le.push(G.slice(Le,Ue)),le.join("")}}function R(G,ge){return function(ye){var le=mh(1900,void 0,1),Ue=A(le,G,ye+="",0),Le,Qe;if(Ue!=ye.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ge&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Le=oS(mh(le.y,0,1)),Qe=Le.getUTCDay(),Le=Qe>4||Qe===0?zy.ceil(Le):zy(Le),Le=hb.offset(Le,(le.V-1)*7),le.y=Le.getUTCFullYear(),le.m=Le.getUTCMonth(),le.d=Le.getUTCDate()+(le.w+6)%7):(Le=sS(mh(le.y,0,1)),Qe=Le.getDay(),Le=Qe>4||Qe===0?Ly.ceil(Le):Ly(Le),Le=Km.offset(Le,(le.V-1)*7),le.y=Le.getFullYear(),le.m=Le.getMonth(),le.d=Le.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Qe="Z"in le?oS(mh(le.y,0,1)).getUTCDay():sS(mh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Qe+5)%7:le.w+le.U*7-(Qe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,oS(le)):sS(le)}}function A(G,ge,ye,le){for(var Ue=0,Le=ge.length,Qe=ye.length,Be,Rt;Ue<Le;){if(le>=Qe)return-1;if(Be=ge.charCodeAt(Ue++),Be===37){if(Be=ge.charAt(Ue++),Rt=O[Be in z$?ge.charAt(Ue++):Be],!Rt||(le=Rt(G,ye,le))<0)return-1}else if(Be!=ye.charCodeAt(le++))return-1}return le}function P(G,ge,ye){var le=f.exec(ge.slice(ye));return le?(G.p=m.get(le[0].toLowerCase()),ye+le[0].length):-1}function L(G,ge,ye){var le=g.exec(ge.slice(ye));return le?(G.w=b.get(le[0].toLowerCase()),ye+le[0].length):-1}function M(G,ge,ye){var le=p.exec(ge.slice(ye));return le?(G.w=y.get(le[0].toLowerCase()),ye+le[0].length):-1}function $(G,ge,ye){var le=j.exec(ge.slice(ye));return le?(G.m=E.get(le[0].toLowerCase()),ye+le[0].length):-1}function U(G,ge,ye){var le=w.exec(ge.slice(ye));return le?(G.m=_.get(le[0].toLowerCase()),ye+le[0].length):-1}function X(G,ge,ye){return A(G,t,ge,ye)}function Y(G,ge,ye){return A(G,r,ge,ye)}function F(G,ge,ye){return A(G,n,ge,ye)}function H(G){return o[G.getDay()]}function I(G){return i[G.getDay()]}function q(G){return d[G.getMonth()]}function ue(G){return c[G.getMonth()]}function B(G){return a[+(G.getHours()>=12)]}function Q(G){return 1+~~(G.getMonth()/3)}function V(G){return o[G.getUTCDay()]}function ae(G){return i[G.getUTCDay()]}function Z(G){return d[G.getUTCMonth()]}function ne(G){return c[G.getUTCMonth()]}function ee(G){return a[+(G.getUTCHours()>=12)]}function pe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ge=T(G+="",N);return ge.toString=function(){return G},ge},parse:function(G){var ge=R(G+="",!1);return ge.toString=function(){return G},ge},utcFormat:function(G){var ge=T(G+="",k);return ge.toString=function(){return G},ge},utcParse:function(G){var ge=R(G+="",!0);return ge.toString=function(){return G},ge}}}var z$={"-":"",_:" ",0:"0"},Tn=/^\s*\d+/,Mwe=/^%/,Iwe=/[\\^$*+?|[\]().{}]/g;function Ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $we(e){return e.replace(Iwe,"\\$&")}function ph(e){return new RegExp("^(?:"+e.map($we).join("|")+")","i")}function gh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Lwe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zwe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Fwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Uwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Bwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function F$(e,t,r){var n=Tn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function U$(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qwe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Vwe(e,t,r){var n=Tn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Hwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function B$(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Wwe(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function q$(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Kwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Gwe(e,t,r){var n=Tn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Ywe(e,t,r){var n=Tn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Zwe(e,t,r){var n=Tn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Xwe(e,t,r){var n=Mwe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Qwe(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Jwe(e,t,r){var n=Tn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function V$(e,t){return Ht(e.getDate(),t,2)}function e_e(e,t){return Ht(e.getHours(),t,2)}function t_e(e,t){return Ht(e.getHours()%12||12,t,2)}function r_e(e,t){return Ht(1+Km.count(Eo(e),e),t,3)}function uV(e,t){return Ht(e.getMilliseconds(),t,3)}function n_e(e,t){return uV(e,t)+"000"}function a_e(e,t){return Ht(e.getMonth()+1,t,2)}function i_e(e,t){return Ht(e.getMinutes(),t,2)}function s_e(e,t){return Ht(e.getSeconds(),t,2)}function o_e(e){var t=e.getDay();return t===0?7:t}function l_e(e,t){return Ht(mb.count(Eo(e)-1,e),t,2)}function dV(e){var t=e.getDay();return t>=4||t===0?Td(e):Td.ceil(e)}function c_e(e,t){return e=dV(e),Ht(Td.count(Eo(e),e)+(Eo(e).getDay()===4),t,2)}function u_e(e){return e.getDay()}function d_e(e,t){return Ht(Ly.count(Eo(e)-1,e),t,2)}function f_e(e,t){return Ht(e.getFullYear()%100,t,2)}function h_e(e,t){return e=dV(e),Ht(e.getFullYear()%100,t,2)}function m_e(e,t){return Ht(e.getFullYear()%1e4,t,4)}function p_e(e,t){var r=e.getDay();return e=r>=4||r===0?Td(e):Td.ceil(e),Ht(e.getFullYear()%1e4,t,4)}function g_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ht(t/60|0,"0",2)+Ht(t%60,"0",2)}function H$(e,t){return Ht(e.getUTCDate(),t,2)}function v_e(e,t){return Ht(e.getUTCHours(),t,2)}function y_e(e,t){return Ht(e.getUTCHours()%12||12,t,2)}function x_e(e,t){return Ht(1+hb.count(No(e),e),t,3)}function fV(e,t){return Ht(e.getUTCMilliseconds(),t,3)}function b_e(e,t){return fV(e,t)+"000"}function w_e(e,t){return Ht(e.getUTCMonth()+1,t,2)}function __e(e,t){return Ht(e.getUTCMinutes(),t,2)}function j_e(e,t){return Ht(e.getUTCSeconds(),t,2)}function S_e(e){var t=e.getUTCDay();return t===0?7:t}function C_e(e,t){return Ht(pb.count(No(e)-1,e),t,2)}function hV(e){var t=e.getUTCDay();return t>=4||t===0?Pd(e):Pd.ceil(e)}function E_e(e,t){return e=hV(e),Ht(Pd.count(No(e),e)+(No(e).getUTCDay()===4),t,2)}function N_e(e){return e.getUTCDay()}function k_e(e,t){return Ht(zy.count(No(e)-1,e),t,2)}function O_e(e,t){return Ht(e.getUTCFullYear()%100,t,2)}function A_e(e,t){return e=hV(e),Ht(e.getUTCFullYear()%100,t,2)}function R_e(e,t){return Ht(e.getUTCFullYear()%1e4,t,4)}function T_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pd(e):Pd.ceil(e),Ht(e.getUTCFullYear()%1e4,t,4)}function P_e(){return"+0000"}function W$(){return"%"}function K$(e){return+e}function G$(e){return Math.floor(+e/1e3)}var nd,mV,pV;D_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function D_e(e){return nd=Dwe(e),mV=nd.format,nd.parse,pV=nd.utcFormat,nd.utcParse,nd}function M_e(e){return new Date(e)}function I_e(e){return e instanceof Date?+e:+new Date(+e)}function JN(e,t,r,n,a,i,o,c,d,f){var m=zN(),p=m.invert,y=m.domain,g=f(".%L"),b=f(":%S"),w=f("%I:%M"),_=f("%I %p"),j=f("%a %d"),E=f("%b %d"),N=f("%B"),k=f("%Y");function O(T){return(d(T)<T?g:c(T)<T?b:o(T)<T?w:i(T)<T?_:n(T)<T?a(T)<T?j:E:r(T)<T?N:k)(T)}return m.invert=function(T){return new Date(p(T))},m.domain=function(T){return arguments.length?y(Array.from(T,I_e)):y().map(M_e)},m.ticks=function(T){var R=y();return e(R[0],R[R.length-1],T??10)},m.tickFormat=function(T,R){return R==null?O:f(R)},m.nice=function(T){var R=y();return(!T||typeof T.range!="function")&&(T=t(R[0],R[R.length-1],T??10)),T?y(tV(R,T)):m},m.copy=function(){return Wm(m,JN(e,t,r,n,a,i,o,c,d,f))},m}function $_e(){return Pi.apply(JN(Twe,Pwe,Eo,XN,mb,Km,YN,KN,Cc,mV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function L_e(){return Pi.apply(JN(Awe,Rwe,No,QN,pb,hb,ZN,GN,Cc,pV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gb(){var e=0,t=1,r,n,a,i,o=aa,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:o(a===0?.5:(p=(i(p)-r)*a,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(y){var g,b;return arguments.length?([g,b]=y,o=p(g,b),f):[o(0),o(1)]}}return f.range=m(rf),f.rangeRound=m(LN),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),f}}function Ul(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gV(){var e=Fl(gb()(aa));return e.copy=function(){return Ul(e,gV())},Do.apply(e,arguments)}function vV(){var e=BN(gb()).domain([1,10]);return e.copy=function(){return Ul(e,vV()).base(e.base())},Do.apply(e,arguments)}function yV(){var e=qN(gb());return e.copy=function(){return Ul(e,yV()).constant(e.constant())},Do.apply(e,arguments)}function ek(){var e=VN(gb());return e.copy=function(){return Ul(e,ek()).exponent(e.exponent())},Do.apply(e,arguments)}function z_e(){return ek.apply(null,arguments).exponent(.5)}function xV(){var e=[],t=aa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Sl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>S0e(e,i/n))},r.copy=function(){return xV(t).domain(e)},Do.apply(r,arguments)}function vb(){var e=0,t=.5,r=1,n=1,a,i,o,c,d,f=aa,m,p=!1,y;function g(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-i)*(n*w<n*i?c:d),f(p?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),i=m(t=+t),o=m(r=+r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(w){return arguments.length?(p=!!w,g):p},g.interpolator=function(w){return arguments.length?(f=w,g):f};function b(w){return function(_){var j,E,N;return arguments.length?([j,E,N]=_,f=X0e(w,[j,E,N]),g):[f(0),f(.5),f(1)]}}return g.range=b(rf),g.rangeRound=b(LN),g.unknown=function(w){return arguments.length?(y=w,g):y},function(w){return m=w,a=w(e),i=w(t),o=w(r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function bV(){var e=Fl(vb()(aa));return e.copy=function(){return Ul(e,bV())},Do.apply(e,arguments)}function wV(){var e=BN(vb()).domain([.1,1,10]);return e.copy=function(){return Ul(e,wV()).base(e.base())},Do.apply(e,arguments)}function _V(){var e=qN(vb());return e.copy=function(){return Ul(e,_V()).constant(e.constant())},Do.apply(e,arguments)}function tk(){var e=VN(vb());return e.copy=function(){return Ul(e,tk()).exponent(e.exponent())},Do.apply(e,arguments)}function F_e(){return tk.apply(null,arguments).exponent(.5)}const _h=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:MN,scaleDiverging:bV,scaleDivergingLog:wV,scaleDivergingPow:tk,scaleDivergingSqrt:F_e,scaleDivergingSymlog:_V,scaleIdentity:eV,scaleImplicit:uC,scaleLinear:Jq,scaleLog:rV,scaleOrdinal:DN,scalePoint:N0e,scalePow:HN,scaleQuantile:iV,scaleQuantize:sV,scaleRadial:aV,scaleSequential:gV,scaleSequentialLog:vV,scaleSequentialPow:ek,scaleSequentialQuantile:xV,scaleSequentialSqrt:z_e,scaleSequentialSymlog:yV,scaleSqrt:bwe,scaleSymlog:nV,scaleThreshold:oV,scaleTime:$_e,scaleUtc:L_e,tickFormat:Qq},Symbol.toStringTag,{value:"Module"}));var Mo=e=>e.chartData,jV=he([Mo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rk=(e,t,r,n)=>n?jV(e):Mo(e),SV=(e,t,r)=>r?jV(e):Mo(e);function Rl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(sr(t)&&sr(r))return!0}return!1}function Y$(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(sr(r))a=r;else if(typeof r=="function")return;if(sr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Rl(o))return o}}function U_e(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Rl(n))return Y$(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Fe(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&lI.test(a)){var d=lI.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[0]-f}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Fe(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&cI.test(i)){var m=cI.exec(i);if(m==null||m[1]==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[o,c];if(Rl(y))return t==null?y:Y$(y,t,r)}}}var nf=1e9,B_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ak,wr=!0,Ai="[DecimalError] ",Ac=Ai+"Invalid argument: ",nk=Ai+"Exponent out of range: ",af=Math.floor,pc=Math.pow,q_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,kn=1e7,hr=7,EV=9007199254740991,Fy=af(EV/hr),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*hr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};qe.dividedBy=qe.div=function(e){return go(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,r=t.constructor;return ir(go(t,new r(e),0,1),r.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return cn(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ha))throw Error(Ai+"NaN");if(r.s<1)throw Error(Ai+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(wr=!1,t=go(cm(r,i),cm(e,i),i),wr=!0,ir(t,a))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OV(t,e):NV(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ai+"NaN");return r.s?(wr=!1,t=go(r,e,0,1).times(e),wr=!0,r.minus(t)):ir(new n(r),a)};qe.naturalExponential=qe.exp=function(){return kV(this)};qe.naturalLogarithm=qe.ln=function(){return cm(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NV(t,e):OV(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ac+e);if(t=cn(a)+1,n=a.d.length-1,r=n*hr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};qe.squareRoot=qe.sqrt=function(){var e,t,r,n,a,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ai+"NaN")}for(e=cn(c),wr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=ys(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=af((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(go(c,i,o+2)).times(.5),ys(i.d).slice(0,o)===(t=ys(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return wr=!0,ir(n,r)};qe.times=qe.mul=function(e){var t,r,n,a,i,o,c,d,f,m=this,p=m.constructor,y=m.d,g=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=y.length,f=g.length,d<f&&(i=y,y=g,g=i,o=d,d=f,f=o),i=[],o=d+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+g[n]*y[a-n-1]+t,i[a--]=c%kn|0,t=c/kn|0;i[a]=(i[a]+t)%kn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,wr?ir(e,p.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ns(e,0,nf),t===void 0?t=n.rounding:Ns(t,0,8),ir(r,e+cn(r)+1,t))};qe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Gc(n,!0):(Ns(e,0,nf),t===void 0?t=a.rounding:Ns(t,0,8),n=ir(new a(n),e+1,t),r=Gc(n,!0,e+1)),r};qe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Gc(a):(Ns(e,0,nf),t===void 0?t=i.rounding:Ns(t,0,8),n=ir(new i(a),e+cn(a)+1,t),r=Gc(n.abs(),!1,e+cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return ir(new t(e),cn(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,r,n,a,i,o,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Ha);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ai+"Infinity");return c}if(c.eq(Ha))return c;if(n=d.precision,e.eq(Ha))return ir(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=m<0?-m:m)<=EV){for(a=new d(Ha),t=Math.ceil(n/hr+4),wr=!1;r%2&&(a=a.times(c),X$(a.d,t)),r=af(r/2),r!==0;)c=c.times(c),X$(c.d,t);return wr=!0,e.s<0?new d(Ha).div(a):ir(a,n)}}else if(i<0)throw Error(Ai+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,wr=!1,a=e.times(cm(c,n+f)),wr=!0,a=kV(a),a.s=i,a};qe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=cn(a),n=Gc(a,r<=i.toExpNeg||r>=i.toExpPos)):(Ns(e,1,nf),t===void 0?t=i.rounding:Ns(t,0,8),a=ir(new i(a),e,t),r=cn(a),n=Gc(a,e<=r||r<=i.toExpNeg,e)),n};qe.toSignificantDigits=qe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ns(e,1,nf),t===void 0?t=n.rounding:Ns(t,0,8)),ir(new n(r),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cn(e),r=e.constructor;return Gc(e,t<=r.toExpNeg||t>=r.toExpPos)};function NV(e,t){var r,n,a,i,o,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),wr?ir(t,p):t;if(d=e.d,f=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=o,c=d.length),o=Math.ceil(p/hr),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/kn|0,d[i]%=kn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,wr?ir(t,p):t}function Ns(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ac+e)}function ys(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=hr-n.length,r&&(i+=ml(r)),i+=n;o=e[t],n=o+"",r=hr-n.length,r&&(i+=ml(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var go=(function(){function e(n,a){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+o,n[c]=i%kn|0,o=i/kn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*kn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var c,d,f,m,p,y,g,b,w,_,j,E,N,k,O,T,R,A,P=n.constructor,L=n.s==a.s?1:-1,M=n.d,$=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ai+"Division by zero");for(d=n.e-a.e,R=$.length,O=M.length,g=new P(L),b=g.d=[],f=0;$[f]==(M[f]||0);)++f;if($[f]>(M[f]||0)&&--d,i==null?E=i=P.precision:o?E=i+(cn(n)-cn(a))+1:E=i,E<0)return new P(0);if(E=E/hr+2|0,f=0,R==1)for(m=0,$=$[0],E++;(f<O||m)&&E--;f++)N=m*kn+(M[f]||0),b[f]=N/$|0,m=N%$|0;else{for(m=kn/($[0]+1)|0,m>1&&($=e($,m),M=e(M,m),R=$.length,O=M.length),k=R,w=M.slice(0,R),_=w.length;_<R;)w[_++]=0;A=$.slice(),A.unshift(0),T=$[0],$[1]>=kn/2&&++T;do m=0,c=t($,w,R,_),c<0?(j=w[0],R!=_&&(j=j*kn+(w[1]||0)),m=j/T|0,m>1?(m>=kn&&(m=kn-1),p=e($,m),y=p.length,_=w.length,c=t(p,w,y,_),c==1&&(m--,r(p,R<y?A:$,y))):(m==0&&(c=m=1),p=$.slice()),y=p.length,y<_&&p.unshift(0),r(w,p,_),c==-1&&(_=w.length,c=t($,w,R,_),c<1&&(m++,r(w,R<_?A:$,_))),_=w.length):c===0&&(m++,w=[0]),b[f++]=m,c&&w[0]?w[_++]=M[k]||0:(w=[M[k]],_=1);while((k++<O||w[0]!==void 0)&&E--)}return b[0]||b.shift(),g.e=d,ir(g,o?i+cn(g)+1:i)}})();function kV(e,t){var r,n,a,i,o,c,d=0,f=0,m=e.constructor,p=m.precision;if(cn(e)>16)throw Error(nk+cn(e));if(!e.s)return new m(Ha);for(wr=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(pc(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new m(Ha),m.precision=c;;){if(a=ir(a.times(e),c),r=r.times(++d),o=i.plus(go(a,r,c)),ys(o.d).slice(0,c)===ys(i.d).slice(0,c)){for(;f--;)i=ir(i.times(i),c);return m.precision=p,t==null?(wr=!0,ir(i,p)):i}i=o}}function cn(e){for(var t=e.e*hr,r=e.d[0];r>=10;r/=10)t++;return t}function lS(e,t,r){if(t>e.LN10.sd())throw wr=!0,r&&(e.precision=r),Error(Ai+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function ml(e){for(var t="";e--;)t+="0";return t}function cm(e,t){var r,n,a,i,o,c,d,f,m,p=1,y=10,g=e,b=g.d,w=g.constructor,_=w.precision;if(g.s<1)throw Error(Ai+(g.s?"NaN":"-Infinity"));if(g.eq(Ha))return new w(0);if(t==null?(wr=!1,f=_):f=t,g.eq(10))return t==null&&(wr=!0),lS(w,f);if(f+=y,w.precision=f,r=ys(b),n=r.charAt(0),i=cn(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=ys(g.d),n=r.charAt(0),p++;i=cn(g),n>1?(g=new w("0."+r),i++):g=new w(n+"."+r.slice(1))}else return d=lS(w,f+2,_).times(i+""),g=cm(new w(n+"."+r.slice(1)),f-y).plus(d),w.precision=_,t==null?(wr=!0,ir(g,_)):g;for(c=o=g=go(g.minus(Ha),g.plus(Ha),f),m=ir(g.times(g),f),a=3;;){if(o=ir(o.times(m),f),d=c.plus(go(o,new w(a),f)),ys(d.d).slice(0,f)===ys(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(lS(w,f+2,_).times(i+""))),c=go(c,new w(p),f),w.precision=_,t==null?(wr=!0,ir(c,_)):c;c=d,a+=2}}function Z$(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=af(r/hr),e.d=[],n=(r+1)%hr,r<0&&(n+=hr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=hr;n<a;)e.d.push(+t.slice(n,n+=hr));t=t.slice(n),n=hr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wr&&(e.e>Fy||e.e<-Fy))throw Error(nk+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,c,d,f,m,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=hr,a=t,f=p[m=0];else{if(m=Math.ceil((n+1)/hr),i=p.length,m>=i)return e;for(f=i=p[m],o=1;i>=10;i/=10)o++;n%=hr,a=n-hr+o}if(r!==void 0&&(i=pc(10,o-a-1),c=f/i%10|0,d=t<0||p[m+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/pc(10,o-a):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=cn(e),p.length=1,t=t-i-1,p[0]=pc(10,(hr-t%hr)%hr),e.e=af(-t/hr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=pc(10,hr-n),p[m]=a>0?(f/pc(10,o-a)%pc(10,a)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==kn&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=kn)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(wr&&(e.e>Fy||e.e<-Fy))throw Error(nk+cn(e));return e}function OV(e,t){var r,n,a,i,o,c,d,f,m,p,y=e.constructor,g=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wr?ir(t,g):t;if(d=e.d,p=t.d,n=t.e,f=e.e,d=d.slice(),o=f-n,o){for(m=o<0,m?(r=d,o=-o,c=p.length):(r=p,n=f,c=d.length),a=Math.max(Math.ceil(g/hr),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=p.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}o=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),c=d.length,a=p.length-c;a>0;--a)d[c++]=0;for(a=p.length;a>o;){if(d[--a]<p[a]){for(i=a;i&&d[--i]===0;)d[i]=kn-1;--d[i],d[a]+=kn}d[a]-=p[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,wr?ir(t,g):t):new y(0)}function Gc(e,t,r){var n,a=cn(e),i=ys(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ml(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ml(-a-1)+i,r&&(n=r-o)>0&&(i+=ml(n))):a>=o?(i+=ml(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ml(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ml(n))),e.s<0?"-"+i:i}function X$(e,t){if(e.length>t)return e.length=t,!0}function AV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Ac+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Z$(o,i.toString())}else if(typeof i!="string")throw Error(Ac+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,q_e.test(i))Z$(o,i);else throw Error(Ac+i)}if(a.prototype=qe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=AV,a.config=a.set=V_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function V_e(e){if(!e||typeof e!="object")throw Error(Ai+"Object expected");var t,r,n,a=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(af(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ac+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ac+r+": "+n);return this}var ak=AV(B_e);Ha=new ak(1);const Xt=ak;var H_e=e=>e,RV={},TV=e=>e===RV,Q$=e=>function t(){return arguments.length===0||arguments.length===1&&TV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},PV=(e,t)=>e===1?t:Q$(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==RV).length;return i>=e?t(...n):PV(e-i,Q$(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var f=n.map(m=>TV(m)?c.shift():m);return t(...f,...c)}))}),W_e=e=>PV(e.length,e),mC=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},K_e=W_e((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),G_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return H_e;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,d)=>d(c),i(...arguments))}};function DV(e){var t;return e===0?t=1:t=Math.floor(new Xt(e).abs().log(10).toNumber())+1,t}function MV(e,t,r){for(var n=new Xt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var IV=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},$V=(e,t,r)=>{if(e.lte(0))return new Xt(0);var n=DV(e.toNumber()),a=new Xt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,c=new Xt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=c.mul(a);return t?new Xt(d.toNumber()):new Xt(Math.ceil(d.toNumber()))},Y_e=(e,t,r)=>{var n=new Xt(1),a=new Xt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Xt(10).pow(DV(e)-1),a=new Xt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xt(Math.floor(e)))}else e===0?a=new Xt(Math.floor((t-1)/2)):r||(a=new Xt(Math.floor(e)));var o=Math.floor((t-1)/2),c=G_e(K_e(d=>a.add(new Xt(d-o).mul(n)).toNumber()),mC);return c(0,t)},LV=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var o=$V(new Xt(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new Xt(0):(c=new Xt(t).add(r).div(2),c=c.sub(new Xt(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Xt(r).sub(c).div(o).toNumber()),m=d+f+1;return m>n?LV(t,r,n,a,i+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:o,tickMin:c.sub(new Xt(d).mul(o)),tickMax:c.add(new Xt(f).mul(o))})},Z_e=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,d]=IV([r,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...mC(0,a-1).map(()=>1/0)]:[...mC(0,a-1).map(()=>-1/0),d];return r>n?f.reverse():f}if(c===d)return Y_e(c,a,i);var{step:m,tickMin:p,tickMax:y}=LV(c,d,o,i,0),g=MV(p,y.add(new Xt(.1).mul(m)),m);return r>n?g.reverse():g},X_e=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=IV([n,a]);if(o===-1/0||c===1/0)return[n,a];if(o===c)return[o];var d=Math.max(r,2),f=$V(new Xt(c).sub(o).div(d-1),i,0),m=[...MV(new Xt(o),new Xt(c),f),c];return i===!1&&(m=m.map(p=>Math.round(p))),n>a?m.reverse():m},zV=e=>e.rootProps.maxBarSize,Q_e=e=>e.rootProps.barGap,FV=e=>e.rootProps.barCategoryGap,J_e=e=>e.rootProps.barSize,yb=e=>e.rootProps.stackOffset,UV=e=>e.rootProps.reverseStackOrder,ik=e=>e.options.chartName,sk=e=>e.rootProps.syncId,BV=e=>e.rootProps.syncMethod,ok=e=>e.options.eventEmitter,eje=e=>e.rootProps.baseValue,yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},oo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},tje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:oo.reversed,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:oo.type,unit:void 0},rje={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},nje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:oo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:oo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:oo.scale,tick:oo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aje={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},lk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?nje:tje,ck=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aje:rje,bb=e=>e.polarOptions,uk=he([To,Po,An],Qbe),qV=he([bb,uk],(e,t)=>{if(e!=null)return es(e.innerRadius,t,0)}),VV=he([bb,uk],(e,t)=>{if(e!=null)return es(e.outerRadius,t,t*.8)}),ije=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},HV=he([bb],ije);he([lk,HV],xb);var WV=he([uk,qV,VV],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([ck,WV],xb);var KV=he([Ut,bb,qV,VV,To,Po],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=t;return{cx:es(o,a,a/2),cy:es(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),bn=(e,t)=>t,wb=(e,t,r)=>r;function _b(e){return e?.id}function GV(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=_b(c);f.forEach((p,y)=>{var g=i==null||a?y:String($r(p,i,null)),b=$r(p,c.dataKey,0),w;o.has(g)?w=o.get(g):w={},Object.assign(w,{[m]:b}),o.set(g,w)})}}),Array.from(o.values())}function jb(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Sb=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Cb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sje(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wn=e=>{var t=Ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},sf=e=>e.tooltip.settings.axisId;function J$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J$(Object(r),!0).forEach(function(n){oje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oje(e,t,r){return(t=lje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lje(e){var t=cje(e,"string");return typeof t=="symbol"?t:t+""}function cje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pC=[0,"auto"],En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},YV=(e,t)=>e.cartesianAxis.xAxis[t],Io=(e,t)=>{var r=YV(e,t);return r??En},Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:zm},ZV=(e,t)=>e.cartesianAxis.yAxis[t],$o=(e,t)=>{var r=ZV(e,t);return r??Nn},uje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??uje},da=(e,t,r)=>{switch(t){case"xAxis":return Io(e,r);case"yAxis":return $o(e,r);case"zAxis":return dk(e,r);case"angleAxis":return lk(e,r);case"radiusAxis":return ck(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},dje=(e,t,r)=>{switch(t){case"xAxis":return Io(e,r);case"yAxis":return $o(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Gm=(e,t,r)=>{switch(t){case"xAxis":return Io(e,r);case"yAxis":return $o(e,r);case"angleAxis":return lk(e,r);case"radiusAxis":return ck(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},XV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function QV(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ym=e=>e.graphicalItems.cartesianItems,fje=he([bn,wb],QV),JV=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Zm=he([Ym,da,fje],JV,{memoizeOptions:{resultEqualityCheck:Cb}}),eH=he([Zm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jb)),tH=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),hje=he([Zm],tH),rH=e=>e.map(t=>t.data).filter(Boolean).flat(1),mje=he([Zm],rH,{memoizeOptions:{resultEqualityCheck:Cb}}),nH=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},fk=he([mje,rk],nH),aH=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:$r(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:$r(a,n)}))):e.map(n=>({value:n})),Eb=he([fk,da,Zm],aH);function iH(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cv(e){if(Cs(e)||e instanceof Date){var t=Number(e);if(sr(t))return t}}function eL(e){if(Array.isArray(e)){var t=[Cv(e[0]),Cv(e[1])];return Rl(t)?t:void 0}var r=Cv(e);if(r!=null)return[r,r]}function ko(e){return e.map(Cv).filter(Cge)}function pje(e,t,r){return!r||typeof t!="number"||ki(t)?[]:r.length?ko(r.flatMap(n=>{var a=$r(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!sr(i)||!sr(o)))return[t-i,t+o]})):[]}var _n=e=>{var t=wn(e),r=sf(e);return Gm(e,t,r)},Xm=he([_n],e=>e?.dataKey),gje=he([eH,rk,_n],GV),sH=(e,t,r,n)=>{var a={},i=t.reduce((o,c)=>{if(c.stackId==null)return o;var d=o[c.stackId];return d==null&&(d=[]),d.push(c),o[c.stackId]=d,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[c,d]=o,f=n?[...d].reverse():d,m=f.map(_b);return[c,{stackedData:qye(e,m,r),graphicalItems:f}]}))},By=he([gje,eH,yb,UV],sH),oH=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=Kye(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},vje=he([da],e=>e.allowDataOverflow),hk=e=>{var t;if(e==null||!("domain"in e))return pC;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ko(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:pC},lH=he([da],hk),cH=he([lH,vje],CV),yje=he([By,Mo,bn,cH],oH,{memoizeOptions:{resultEqualityCheck:Sb}}),mk=e=>e.errorBars,xje=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>iH(r,n)),qy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},uH=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var f,m,p=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>iH(a,j)),y=$r(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),g=pje(c,y,p);if(g.length>=2){var b=Math.min(...g),w=Math.max(...g);(i==null||b<i)&&(i=b),(o==null||w>o)&&(o=w)}var _=eL(y);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=eL($r(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),sr(i)&&sr(o))return[i,o]},bje=he([fk,da,hje,mk,bn],uH,{memoizeOptions:{resultEqualityCheck:Sb}});function wje(e){var{value:t}=e;if(Cs(t)||t instanceof Date)return t}var _je=(e,t,r)=>{var n=e.map(wje).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&b6(n))?Bq(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dH=e=>e.referenceElements.dots,of=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),jje=he([dH,bn,wb],of),fH=e=>e.referenceElements.areas,Sje=he([fH,bn,wb],of),hH=e=>e.referenceElements.lines,Cje=he([hH,bn,wb],of),mH=(e,t)=>{if(e!=null){var r=ko(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Eje=he(jje,bn,mH),pH=(e,t)=>{if(e!=null){var r=ko(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Nje=he([Sje,bn],pH);function kje(e){var t;if(e.x!=null)return ko([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ko(r)}function Oje(e){var t;if(e.y!=null)return ko([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ko(r)}var gH=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?kje(n):Oje(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Aje=he([Cje,bn],gH),Rje=he(Eje,Aje,Nje,(e,t,r)=>qy(e,r,t)),vH=(e,t,r,n,a,i,o,c)=>{if(r!=null)return r;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=d?qy(n,i,a):qy(i,a);return U_e(t,f,e.allowDataOverflow)},Tje=he([da,lH,cH,yje,bje,Rje,Ut,bn],vH,{memoizeOptions:{resultEqualityCheck:Sb}}),Pje=[0,1],yH=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,f=Ds(t,i);if(f&&c==null){var m;return Bq(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?_je(n,e,f):a==="expand"?Pje:o}},pk=he([da,Ut,fk,Eb,yb,bn,Tje],yH),xH=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(Mm(i));return c in _h?c:"point"}}},Qm=he([da,Ut,XV,ik,bn],xH);function Dje(e){if(e!=null){if(e in _h)return _h[e]();var t="scale".concat(Mm(e));if(t in _h)return _h[t]()}}function gk(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Dje(t);if(a!=null){var i=a.domain(r).range(n);return Lye(i),i}}}var bH=(e,t,r)=>{var n=hk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Rl(e))return Z_e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Rl(e))return X_e(e,t.tickCount,t.allowDecimals)}},vk=he([pk,Gm,Qm],bH),wH=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Rl(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(o,c)]}return t},Mje=he([da,pk,vk,bn],wH),Ije=he(Eb,da,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ko(e.map(p=>p.value))).sort((p,y)=>p-y),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var c=0;c<n.length-1;c++){var d=n[c],f=n[c+1];if(!(d==null||f==null)){var m=f-d;r=Math.min(r,m)}}return r/o}}),_H=he(Ije,Ut,FV,An,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!sr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=es(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),$je=(e,t,r)=>{var n=Io(e,t);return n==null||typeof n.padding!="string"?0:_H(e,"xAxis",t,r,n.padding)},Lje=(e,t,r)=>{var n=$o(e,t);return n==null||typeof n.padding!="string"?0:_H(e,"yAxis",t,r,n.padding)},zje=he(Io,$je,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Fje=he($o,Lje,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Uje=he([An,zje,sb,ib,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Bje=he([An,Ut,Fje,sb,ib,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Jm=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Uje(e,r,n);case"yAxis":return Bje(e,r,n);case"zAxis":return(a=dk(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return HV(e);case"radiusAxis":return WV(e,r);default:return}},jH=he([da,Jm],xb),Nb=he([da,Qm,Mje,jH],gk);he([Zm,mk,bn],xje);function SH(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var kb=(e,t)=>t,Ob=(e,t,r)=>r,qje=he(nb,kb,Ob,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SH)),Vje=he(ab,kb,Ob,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(SH)),CH=(e,t)=>({width:e.width,height:t.height}),Hje=(e,t)=>{var r=typeof t.width=="number"?t.width:zm;return{width:r,height:e.height}},EH=he(An,Io,CH),Wje=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Kje=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Gje=he(Po,An,qje,kb,Ob,(e,t,r,n,a)=>{var i={},o;return r.forEach(c=>{var d=CH(t,c);o==null&&(o=Wje(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),i}),Yje=he(To,An,Vje,kb,Ob,(e,t,r,n,a)=>{var i={},o;return r.forEach(c=>{var d=Hje(t,c);o==null&&(o=Kje(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),i}),Zje=(e,t)=>{var r=Io(e,t);if(r!=null)return Gje(e,r.orientation,r.mirror)},Xje=he([An,Io,Zje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Qje=(e,t)=>{var r=$o(e,t);if(r!=null)return Yje(e,r.orientation,r.mirror)},Jje=he([An,$o,Qje,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),NH=he(An,$o,(e,t)=>{var r=typeof t.width=="number"?t.width:zm;return{width:r,height:e.height}}),tL=(e,t,r)=>{switch(t){case"xAxis":return EH(e,r).width;case"yAxis":return NH(e,r).height;default:return}},kH=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,c=Ds(e,n),d=t.map(f=>f.value);if(o&&c&&i==="category"&&a&&b6(d))return d}},yk=he([Ut,Eb,da,bn],kH),OH=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Ds(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},xk=he([Ut,Eb,Gm,bn],OH),rL=he([Ut,dje,Qm,Nb,yk,xk,Jm,vk,bn],(e,t,r,n,a,i,o,c,d)=>{if(t!=null){var f=Ds(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:c,range:o,realScaleType:r,scale:n}}}),eSe=(e,t,r,n,a,i,o,c,d)=>{if(!(t==null||n==null)){var f=Ds(e,d),{type:m,ticks:p,tickCount:y}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=m==="category"&&n.bandwidth?n.bandwidth()/g:0;b=d==="angleAxis"&&i!=null&&i.length>=2?Ca(i[0]-i[1])*2*b:b;var w=p||a;if(w){var _=w.map((j,E)=>{var N=o?o.indexOf(j):j;return{index:E,coordinate:n(N)+b,value:j,offset:b}});return _.filter(j=>sr(j.coordinate))}return f&&c?c.map((j,E)=>({coordinate:n(j)+b,value:j,index:E,offset:b})).filter(j=>sr(j.coordinate)):n.ticks?n.ticks(y).map(j=>({coordinate:n(j)+b,value:j,offset:b})):n.domain().map((j,E)=>({coordinate:n(j)+b,value:o?o[j]:j,index:E,offset:b}))}},AH=he([Ut,Gm,Qm,Nb,vk,Jm,yk,xk,bn],eSe),tSe=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Ds(e,o),{tickCount:d}=t,f=0;return f=o==="angleAxis"&&n?.length>=2?Ca(n[0]-n[1])*2*f:f,c&&i?i.map((m,p)=>({coordinate:r(m)+f,value:m,index:p,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,p)=>({coordinate:r(m)+f,value:a?a[m]:m,index:p,offset:f}))}},ks=he([Ut,Gm,Nb,Jm,yk,xk,bn],tSe),Os=he(da,Nb,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})}),rSe=he([da,Qm,pk,jH],gk);he((e,t,r)=>dk(e,r),rSe,(e,t)=>{if(!(e==null||t==null))return Uy(Uy({},e),{},{scale:t})});var nSe=he([Ut,nb,ab],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),RH=e=>e.options.defaultTooltipEventType,TH=e=>e.options.validateTooltipEventTypes;function PH(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function bk(e,t){var r=RH(e),n=TH(e);return PH(t,r,n)}function aSe(e){return et(t=>bk(t,e))}var DH=(e,t)=>{var r,n=Number(t);if(!(ki(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},iSe=e=>e.tooltip.settings,yl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},sSe={itemInteraction:{click:yl,hover:yl},axisInteraction:{click:yl,hover:yl},keyboardInteraction:yl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},MH=Ra({name:"tooltip",initialState:sSe,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:br()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Xi(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:br()},removeTooltipEntrySettings:{reducer(e,t){var r=Xi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:br()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:oSe,replaceTooltipEntrySettings:lSe,removeTooltipEntrySettings:cSe,setTooltipSettingsState:uSe,setActiveMouseOverItemIndex:IH,mouseLeaveItem:dSe,mouseLeaveChart:$H,setActiveClickItemIndex:fSe,setMouseOverAxisIndex:LH,setMouseClickAxisIndex:hSe,setSyncInteraction:gC,setKeyboardInteraction:vC}=MH.actions,mSe=MH.reducer;function nL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(r),!0).forEach(function(n){pSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pSe(e,t,r){return(t=gSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gSe(e){var t=vSe(e,"string");return typeof t=="symbol"?t:t+""}function vSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ySe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function xSe(e){return e.index!=null}var zH=(e,t,r,n)=>{if(t==null)return yl;var a=ySe(e,t,r);if(a==null)return yl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(xSe(a)){if(i)return lv(lv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return lv(lv({},yl),{},{coordinate:a.coordinate})};function bSe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function wSe(e,t){var r=bSe(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function _Se(e,t,r){if(r==null||t==null)return!0;var n=$r(e,t);return n==null||!Rl(r)?!0:wSe(n,r)}var wk=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!sr(i))return a;var o=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(o,Math.min(i,c)),f=t[d];return f==null||_Se(f,r,n)?String(d):null},FH=(e,t,r,n,a,i,o,c)=>{if(!(i==null||c==null)){var d=o[0],f=d==null?void 0:c(d.positions,i);if(f!=null)return f;var m=a?.[Number(i)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},UH=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},ep=e=>e.options.tooltipPayloadSearcher,lf=e=>e.tooltip;function aL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aL(Object(r),!0).forEach(function(n){jSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jSe(e,t,r){return(t=SSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SSe(e){var t=CSe(e,"string");return typeof t=="symbol"?t:t+""}function CSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ESe(e,t){return e??t}var BH=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,p=[];return e.reduce((y,g)=>{var b,{dataDefinedOnItem:w,settings:_}=g,j=ESe(w,c),E=Array.isArray(j)?mq(j,f,m):j,N=(b=_?.dataKey)!==null&&b!==void 0?b:n,k=_?.nameKey,O;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?O=w6(E,n,a):O=i(E,t,d,k),Array.isArray(O))O.forEach(R=>{var A=iL(iL({},_),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});y.push(uI({tooltipEntrySettings:A,dataKey:R.dataKey,payload:R.payload,value:$r(R.payload,R.dataKey),name:R.name}))});else{var T;y.push(uI({tooltipEntrySettings:_,dataKey:N,payload:O,value:$r(O,N),name:(T=$r(O,k))!==null&&T!==void 0?T:_?.name}))}return y},p)}},_k=he([_n,Ut,XV,ik,wn],xH),NSe=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),kSe=he([wn,sf],QV),cf=he([NSe,_n,kSe],JV,{memoizeOptions:{resultEqualityCheck:Cb}}),OSe=he([cf],e=>e.filter(jb)),ASe=he([cf],rH,{memoizeOptions:{resultEqualityCheck:Cb}}),uf=he([ASe,Mo],nH),RSe=he([OSe,Mo,_n],GV),jk=he([uf,_n,cf],aH),qH=he([_n],hk),TSe=he([_n],e=>e.allowDataOverflow),VH=he([qH,TSe],CV),PSe=he([cf],e=>e.filter(jb)),DSe=he([RSe,PSe,yb,UV],sH),MSe=he([DSe,Mo,wn,VH],oH),ISe=he([cf],tH),$Se=he([uf,_n,ISe,mk,wn],uH,{memoizeOptions:{resultEqualityCheck:Sb}}),LSe=he([dH,wn,sf],of),zSe=he([LSe,wn],mH),FSe=he([fH,wn,sf],of),USe=he([FSe,wn],pH),BSe=he([hH,wn,sf],of),qSe=he([BSe,wn],gH),VSe=he([zSe,qSe,USe],qy),HSe=he([_n,qH,VH,MSe,$Se,VSe,Ut,wn],vH),tp=he([_n,Ut,uf,jk,yb,wn,HSe],yH),WSe=he([tp,_n,_k],bH),KSe=he([_n,tp,WSe,wn],wH),HH=e=>{var t=wn(e),r=sf(e),n=!1;return Jm(e,t,r,n)},WH=he([_n,HH],xb),KH=he([_n,_k,KSe,WH],gk),GSe=he([Ut,jk,_n,wn],kH),YSe=he([Ut,jk,_n,wn],OH),ZSe=(e,t,r,n,a,i,o,c)=>{if(t){var{type:d}=t,f=Ds(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=c==="angleAxis"&&a!=null&&a?.length>=2?Ca(a[0]-a[1])*2*p:p,f&&o?o.map((y,g)=>({coordinate:n(y)+p,value:y,index:g,offset:p})):n.domain().map((y,g)=>({coordinate:n(y)+p,value:i?i[y]:y,index:g,offset:p}))}}},Lo=he([Ut,_n,_k,KH,HH,GSe,YSe,wn],ZSe),Sk=he([RH,TH,iSe],(e,t,r)=>PH(r.shared,e,t)),GH=e=>e.tooltip.settings.trigger,Ck=e=>e.tooltip.settings.defaultIndex,rp=he([lf,Sk,GH,Ck],zH),Yc=he([rp,uf,Xm,tp],wk),YH=he([Lo,Yc],DH),ZH=he([rp],e=>{if(e)return e.dataKey});he([rp],e=>{if(e)return e.graphicalItemId});var XH=he([lf,Sk,GH,Ck],UH),XSe=he([To,Po,Ut,An,Lo,Ck,XH,ep],FH),QSe=he([rp,XSe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),JSe=he([rp],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),e1e=he([XH,Yc,Mo,Xm,YH,ep,Sk],BH),t1e=he([e1e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function sL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(r),!0).forEach(function(n){r1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r1e(e,t,r){return(t=n1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n1e(e){var t=a1e(e,"string");return typeof t=="symbol"?t:t+""}function a1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1e=()=>et(_n),s1e=()=>{var e=i1e(),t=et(Lo),r=et(KH);return Al(!e||!r?void 0:oL(oL({},e),{},{scale:r}),t)};function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){o1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t,r){return(t=l1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l1e(e){var t=c1e(e,"string");return typeof t=="symbol"?t:t+""}function c1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u1e=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},d1e=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return ad(ad(ad({},n),Un(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:d}=n;return ad(ad(ad({},n),Un(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function f1e(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var QH=(e,t,r,n,a)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d,f,m,p,y,g=c>0?(d=r[c-1])===null||d===void 0?void 0:d.coordinate:(f=r[o-1])===null||f===void 0?void 0:f.coordinate,b=(m=r[c])===null||m===void 0?void 0:m.coordinate,w=c>=o-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(y=r[c+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(g==null||b==null||w==null))if(Ca(b-g)!==Ca(w-b)){var j=[];if(Ca(w-b)===Ca(a[1]-a[0])){_=w;var E=b+a[1]-a[0];j[0]=Math.min(E,(E+g)/2),j[1]=Math.max(E,(E+g)/2)}else{_=g;var N=w+a[1]-a[0];j[0]=Math.min(b,(N+b)/2),j[1]=Math.max(b,(N+b)/2)}var k=[Math.min(b,(_+b)/2),Math.max(b,(_+b)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){var O;return(O=r[c])===null||O===void 0?void 0:O.index}}else{var T=Math.min(g,w),R=Math.max(g,w);if(e>(T+b)/2&&e<=(R+b)/2){var A;return(A=r[c])===null||A===void 0?void 0:A.index}}}else if(t)for(var P=0;P<o;P++){var L=t[P];if(L!=null){var M=t[P+1],$=t[P-1];if(P===0&&M!=null&&e<=(L.coordinate+M.coordinate)/2||P===o-1&&$!=null&&e>(L.coordinate+$.coordinate)/2||P>0&&P<o-1&&$!=null&&M!=null&&e>(L.coordinate+$.coordinate)/2&&e<=(L.coordinate+M.coordinate)/2)return L.index}}return-1},JH=()=>et(ik),Ek=(e,t)=>t,e8=(e,t,r)=>r,Nk=(e,t,r,n)=>n,h1e=he(Lo,e=>Kx(e,t=>t.coordinate)),kk=he([lf,Ek,e8,Nk],zH),Ok=he([kk,uf,Xm,tp],wk),m1e=(e,t,r)=>{if(t!=null){var n=lf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},t8=he([lf,Ek,e8,Nk],UH),Vy=he([To,Po,Ut,An,Lo,Nk,t8,ep],FH),p1e=he([kk,Vy],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),r8=he([Lo,Ok],DH),g1e=he([t8,Ok,Mo,Xm,r8,ep,Ek],BH),v1e=he([kk,Ok],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),y1e=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&f1e(e,o)){var c=Gye(e,t),d=QH(c,i,a,r,n),f=u1e(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},x1e=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var c=n0e(e,r);if(c){var d=Yye(c,t),f=QH(d,o,i,n,a),m=d1e(t,i,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},b1e=(e,t,r,n,a,i,o,c)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?y1e(e,t,n,a,i,o,c):x1e(e,t,r,n,a,i,o)},w1e=he(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),_1e=he(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(yn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:sje}});function cL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cL(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return(t=S1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E1e={},N1e={zIndexMap:Object.values(yn).reduce((e,t)=>uL(uL({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),E1e)},k1e=new Set(Object.values(yn));function O1e(e){return k1e.has(e)}var n8=Ra({name:"zIndex",initialState:N1e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:br()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!O1e(r)&&delete e.zIndexMap[r])},prepare:br()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:br()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:br()}}}),{registerZIndexPortal:A1e,unregisterZIndexPortal:R1e,registerZIndexPortalElement:T1e,unregisterZIndexPortalElement:P1e}=n8.actions,D1e=n8.reducer;function ri(e){var{zIndex:t,children:r}=e,n=kxe(),a=n&&t!==void 0&&t!==0,i=Rn(),o=Xr();x.useLayoutEffect(()=>a?(o(A1e({zIndex:t})),()=>{o(R1e({zIndex:t}))}):Im,[o,t,a]);var c=et(d=>w1e(d,t,i));return a?c?Jc.createPortal(r,c):null:r}function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yC.apply(null,arguments)}function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(n){M1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M1e(e,t,r){return(t=I1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I1e(e){var t=$1e(e,"string");return typeof t=="symbol"?t:t+""}function $1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L1e(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function z1e(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=r,y=n,g=a;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var b,w,_;if(m==="ScatterChart")b=p,w=gbe,_=yn.cursorLine;else if(m==="BarChart")b=vbe(c,p,i,o),w=Lq,_=yn.cursorRectangle;else if(c==="radial"&&S6(p)){var{cx:j,cy:E,radius:N,startAngle:k,endAngle:O}=zq(p);b={cx:j,cy:E,startAngle:k,endAngle:O,innerRadius:N,outerRadius:N},w=Uq,_=yn.cursorLine}else b={points:o0e(c,p,i)},w=Th,_=yn.cursorLine;var T=typeof d=="object"&&"className"in d?d.className:void 0,R=cv(cv(cv(cv({stroke:"#ccc",pointerEvents:"none"},i),b),Dm(d)),{},{payload:y,payloadIndex:g,className:Kt("recharts-tooltip-cursor",T)});return x.createElement(ri,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(L1e,{cursor:d,cursorComp:w,cursorProps:R}))}function F1e(e){var t=s1e(),r=jq(),n=zl(),a=JH();return t==null||r==null||n==null||a==null?null:x.createElement(z1e,yC({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var a8=x.createContext(null),U1e=()=>x.useContext(a8),cS={exports:{}},fL;function B1e(){return fL||(fL=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new a(m,p||d,y),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],g]:d._events[b].push(g):(d._events[b]=g,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,b=new Array(g);y<g;y++)b[y]=p[y].fn;return b},c.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,g,b){var w=r?r+f:f;if(!this._events[w])return!1;var _=this._events[w],j=arguments.length,E,N;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,p),!0;case 4:return _.fn.call(_.context,m,p,y),!0;case 5:return _.fn.call(_.context,m,p,y,g),!0;case 6:return _.fn.call(_.context,m,p,y,g,b),!0}for(N=1,E=new Array(j-1);N<j;N++)E[N-1]=arguments[N];_.fn.apply(_.context,E)}else{var k=_.length,O;for(N=0;N<k;N++)switch(_[N].once&&this.removeListener(f,_[N].fn,void 0,!0),j){case 1:_[N].fn.call(_[N].context);break;case 2:_[N].fn.call(_[N].context,m);break;case 3:_[N].fn.call(_[N].context,m,p);break;case 4:_[N].fn.call(_[N].context,m,p,y);break;default:if(!E)for(O=1,E=new Array(j-1);O<j;O++)E[O-1]=arguments[O];_[N].fn.apply(_[N].context,E)}}return!0},c.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var g=r?r+f:f;if(!this._events[g])return this;if(!m)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===m&&(!y||b.once)&&(!p||b.context===p)&&o(this,g);else{for(var w=0,_=[],j=b.length;w<j;w++)(b[w].fn!==m||y&&!b[w].once||p&&b[w].context!==p)&&_.push(b[w]);_.length?this._events[g]=_.length===1?_[0]:_:o(this,g)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(cS)),cS.exports}var q1e=B1e();const V1e=ei(q1e);var um=new V1e,xC="recharts.syncEvent.tooltip",hL="recharts.syncEvent.brush";function Ak(e,t){if(t){var r=Number.parseInt(t,10);if(!ki(r))return e?.[r]}}var H1e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},i8=Ra({name:"options",initialState:H1e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),W1e=i8.reducer,{createEventEmitter:K1e}=i8.actions;function G1e(e){return e.tooltip.syncInteraction}var Y1e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},s8=Ra({name:"chartData",initialState:Y1e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:mL,setDataStartEndIndexes:Z1e,setComputedData:e2e}=s8.actions,X1e=s8.reducer,Q1e=["x","y"];function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){J1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J1e(e,t,r){return(t=eCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eCe(e){var t=tCe(e,"string");return typeof t=="symbol"?t:t+""}function tCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rCe(e,t){if(e==null)return{};var r,n,a=nCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aCe(){var e=et(sk),t=et(ok),r=Xr(),n=et(BV),a=et(Lo),i=zl(),o=ob(),c=et(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Im;var d=(f,m,p)=>{if(t!==p&&e===f){if(n==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var g=m.payload.coordinate,{x:b,y:w}=g,_=rCe(g,Q1e),{x:j,y:E,width:N,height:k}=m.payload.sourceViewBox,O=id(id({},_),{},{x:o.x+(N?(b-j)/N:0)*o.width,y:o.y+(k?(w-E)/k:0)*o.height});r(id(id({},m),{},{payload:id(id({},m.payload),{},{coordinate:O})}))}else r(m);return}if(a!=null){var T;if(typeof n=="function"){var R={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},A=n(a,R);T=a[A]}else n==="value"&&(T=a.find(F=>String(F.value)===m.payload.label));var{coordinate:P}=m.payload;if(T==null||m.payload.active===!1||P==null||o==null){r(gC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:L,y:M}=P,$=Math.min(L,o.x+o.width),U=Math.min(M,o.y+o.height),X={x:i==="horizontal"?T.coordinate:$,y:i==="horizontal"?U:T.coordinate},Y=gC({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(T.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(Y)}}};return um.on(xC,d),()=>{um.off(xC,d)}},[c,r,t,e,n,a,i,o])}function iCe(){var e=et(sk),t=et(ok),r=Xr();x.useEffect(()=>{if(e==null)return Im;var n=(a,i,o)=>{t!==o&&e===a&&r(Z1e(i))};return um.on(hL,n),()=>{um.off(hL,n)}},[r,t,e])}function sCe(){var e=Xr();x.useEffect(()=>{e(K1e())},[e]),aCe(),iCe()}function oCe(e,t,r,n,a,i){var o=et(g=>m1e(g,e,t)),c=et(ok),d=et(sk),f=et(BV),m=et(G1e),p=m?.active,y=ob();x.useEffect(()=>{if(!p&&d!=null&&c!=null){var g=gC({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});um.emit(xC,d,g,c)}},[p,r,o,a,n,c,d,f,i,y])}function gL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gL(Object(r),!0).forEach(function(n){lCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lCe(e,t,r){return(t=cCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cCe(e){var t=uCe(e,"string");return typeof t=="symbol"?t:t+""}function uCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dCe(e){return e.dataKey}function fCe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(Yxe,t)}var yL=[],hCe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Hy(e){var t,r,n=qn(e,hCe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:g,reverseDirection:b,useTranslate3d:w,wrapperStyle:_,cursor:j,shared:E,trigger:N,defaultIndex:k,portal:O,axisId:T}=n,R=Xr(),A=typeof k=="number"?String(k):k;x.useEffect(()=>{R(uSe({shared:E,trigger:N,axisId:T,active:a,defaultIndex:A}))},[R,E,N,T,a,A]);var P=ob(),L=Pq(),M=aSe(E),{activeIndex:$,isActive:U}=(t=et(ee=>v1e(ee,M,N,A)))!==null&&t!==void 0?t:{},X=et(ee=>g1e(ee,M,N,A)),Y=et(ee=>r8(ee,M,N,A)),F=et(ee=>p1e(ee,M,N,A)),H=X,I=U1e(),q=(r=a??U)!==null&&r!==void 0?r:!1,[ue,B]=Pve([H,q]),Q=M==="axis"?Y:void 0;oCe(M,N,F,Q,$,q);var V=O??I;if(V==null||P==null||M==null)return null;var ae=H??yL;q||(ae=yL),f&&ae.length&&(ae=sve(ae.filter(ee=>ee.value!=null&&(ee.hide!==!0||n.includeHidden)),y,dCe));var Z=ae.length>0,ne=x.createElement(rbe,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:m,active:q,coordinate:F,hasPayload:Z,offset:p,position:g,reverseDirection:b,useTranslate3d:w,viewBox:P,wrapperStyle:_,lastBoundingBox:ue,innerRef:B,hasPortalFromProps:!!O},fCe(d,vL(vL({},n),{},{payload:ae,label:Q,active:q,activeIndex:$,coordinate:F,accessibilityLayer:L})));return x.createElement(x.Fragment,null,Jc.createPortal(ne,V),q&&x.createElement(F1e,{cursor:j,tooltipEventType:M,coordinate:F,payload:ae,index:$}))}var o8=e=>null;o8.displayName="Cell";function mCe(e,t,r){return(t=pCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pCe(e){var t=gCe(e,"string");return typeof t=="symbol"?t:t+""}function gCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vCe{constructor(t){mCe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){xCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xCe(e,t,r){return(t=bCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return typeof t=="symbol"?t:t+""}function wCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ce={cacheSize:2e3,enableCache:!0},l8=yCe({},_Ce),bL=new vCe(l8.cacheSize),jCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wL="recharts_measurement_span";function SCe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var _L=(e,t)=>{try{var r=document.getElementById(wL);r||(r=document.createElement("span"),r.setAttribute("id",wL),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,jCe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ph=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Um.isSsr)return{width:0,height:0};if(!l8.enableCache)return _L(t,r);var n=SCe(t,r),a=bL.get(n);if(a)return a;var i=_L(t,r);return bL.set(n,i),i},c8;function CCe(e,t,r){return(t=ECe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ECe(e){var t=NCe(e,"string");return typeof t=="symbol"?t:t+""}function NCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,OCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ACe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},RCe=["cm","mm","pt","pc","in","Q","px"];function TCe(e){return RCe.includes(e)}var fd="NaN";function PCe(e,t){return e*ACe[t]}class Fn{static parse(t){var r,[,n,a]=(r=OCe.exec(t))!==null&&r!==void 0?r:[];return n==null?Fn.NaN:new Fn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ki(t)&&(this.unit=""),r!==""&&!kCe.test(r)&&(this.num=NaN,this.unit=""),TCe(r)&&(this.num=PCe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ki(this.num)}}c8=Fn;CCe(Fn,"NaN",new c8(NaN,""));function u8(e){if(e==null||e.includes(fd))return fd;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=jL.exec(t))!==null&&r!==void 0?r:[],o=Fn.parse(n??""),c=Fn.parse(i??""),d=a==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return fd;t=t.replace(jL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=SL.exec(t))!==null&&f!==void 0?f:[],g=Fn.parse(m??""),b=Fn.parse(y??""),w=p==="+"?g.add(b):g.subtract(b);if(w.isNaN())return fd;t=t.replace(SL,w.toString())}return t}var CL=/\(([^()]*)\)/;function DCe(e){for(var t=e,r;(r=CL.exec(t))!=null;){var[,n]=r;t=t.replace(CL,u8(n))}return t}function MCe(e){var t=e.replace(/\s+/g,"");return t=DCe(t),t=u8(t),t}function ICe(e){try{return MCe(e)}catch{return fd}}function uS(e){var t=ICe(e.slice(5,-1));return t===fd?"":t}var $Ce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],LCe=["dx","dy","angle","className","breakAll"];function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(null,arguments)}function EL(e,t){if(e==null)return{};var r,n,a=zCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var d8=/[ \f\n\r\t\v\u2028\u2029]+/,f8=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];pr(t)||(r?a=t.toString().split(""):a=t.toString().split(d8));var i=a.map(c=>({word:c,width:Ph(c,n).width})),o=r?0:Ph("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function FCe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var h8=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:c}=i,d=a[a.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(o),d.width+=c+r;else{var f={words:[o],width:c};a.push(f)}return a},[]),m8=e=>e.reduce((t,r)=>t.width>r.width?t:r),UCe="",NL=(e,t,r,n,a,i,o,c)=>{var d=e.slice(0,t),f=f8({breakAll:r,style:n,children:d+UCe});if(!f)return[!1,[]];var m=h8(f.wordsWithComputedWidth,i,o,c),p=m.length>a||m8(m).width>Number(i);return[p,m]},BCe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:c,breakAll:d}=e,f=Fe(i),m=String(o),p=h8(t,n,r,a);if(!f||a)return p;var y=p.length>i||m8(p).width>Number(n);if(!y)return p;for(var g=0,b=m.length-1,w=0,_;g<=b&&w<=m.length-1;){var j=Math.floor((g+b)/2),E=j-1,[N,k]=NL(m,E,d,c,i,n,r,a),[O]=NL(m,j,d,c,i,n,r,a);if(!N&&!O&&(g=j+1),N&&O&&(b=j-1),!N&&O){_=k;break}w++}return _||p},kL=e=>{var t=pr(e)?[]:e.toString().split(d8);return[{words:t,width:void 0}]},qCe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Um.isSsr){var c,d,f=f8({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return kL(n);return BCe({breakAll:i,children:n,maxLines:o,style:a},c,d,t,!!r)}return kL(n)},p8="#808080",VCe={angle:0,breakAll:!1,capHeight:"0.71em",fill:p8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Rk=x.forwardRef((e,t)=>{var r=qn(e,VCe),{x:n,y:a,lineHeight:i,capHeight:o,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,p=EL(r,$Ce),y=x.useMemo(()=>qCe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:g,dy:b,angle:w,className:_,breakAll:j}=p,E=EL(p,LCe);if(!Cs(n)||!Cs(a)||y.length===0)return null;var N=Number(n)+(Fe(g)?g:0),k=Number(a)+(Fe(b)?b:0);if(!sr(N)||!sr(k))return null;var O;switch(m){case"start":O=uS("calc(".concat(o,")"));break;case"middle":O=uS("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:O=uS("calc(".concat(y.length-1," * -").concat(i,")"));break}var T=[];if(d){var R=y[0].width,{width:A}=p;T.push("scale(".concat(Fe(A)&&Fe(R)?A/R:1,")"))}return w&&T.push("rotate(".concat(w,", ").concat(N,", ").concat(k,")")),T.length&&(E.transform=T.join(" ")),x.createElement("text",bC({},Xn(E),{ref:t,x:N,y:k,className:Kt("recharts-text",_),textAnchor:f,fill:c.includes("url")?p8:c}),y.map((P,L)=>{var M=P.words.join(j?"":" ");return x.createElement("tspan",{x:N,dy:L===0?O:i,key:"".concat(M,"-").concat(L)},M)}))});Rk.displayName="Text";var HCe=["labelRef"],WCe=["content"];function OL(e,t){if(e==null)return{};var r,n,a=KCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){GCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t,r){return(t=YCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YCe(e){var t=ZCe(e,"string");return typeof t=="symbol"?t:t+""}function ZCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lo.apply(null,arguments)}var g8=x.createContext(null),XCe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:c}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(g8.Provider,{value:d},c)},v8=()=>{var e=x.useContext(g8),t=ob();return e||_q(t)},QCe=x.createContext(null),JCe=()=>{var e=x.useContext(QCe),t=et(KV);return e||t},eEe=e=>{var{value:t,formatter:r}=e,n=pr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Tk=e=>e!=null&&typeof e=="function",tEe=(e,t)=>{var r=Ca(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rEe=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:g}=a,b=(f+m)/2,w=tEe(p,y),_=w>=0?1:-1,j,E;switch(t){case"insideStart":j=p+_*i,E=g;break;case"insideEnd":j=y-_*i,E=!g;break;case"end":j=y+_*i,E=g;break;default:throw new Error("Unsupported position ".concat(t))}E=w<=0?E:!E;var N=Un(c,d,b,j),k=Un(c,d,b,j+(E?1:-1)*359),O="M".concat(N.x,",").concat(N.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(k.x,",").concat(k.y),T=pr(e.id)?Xh("recharts-radial-line-"):e.id;return x.createElement("text",lo({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:T,d:O})),x.createElement("textPath",{xlinkHref:"#".concat(T)},r))},nEe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:m,y:p}=Un(n,a,o+t,f);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+o)/2,{x:g,y:b}=Un(n,a,y,f);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},wC=e=>"cx"in e&&Fe(e.cx),aEe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!wC(r)&&(i=r);var{x:o,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=o,y=o+(d-f)/2,g=(p+y)/2,b=(d+f)/2,w=p+d/2,_=m>=0?1:-1,j=_*n,E=_>0?"end":"start",N=_>0?"start":"end",k=d>=0?1:-1,O=k*n,T=k>0?"end":"start",R=k>0?"start":"end";if(a==="top"){var A={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:E};return Hr(Hr({},A),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var P={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:N};return Hr(Hr({},P),i?{height:Math.max(i.y+i.height-(c+m),0),width:f}:{})}if(a==="left"){var L={x:g-O,y:c+m/2,textAnchor:T,verticalAnchor:"middle"};return Hr(Hr({},L),i?{width:Math.max(L.x-i.x,0),height:m}:{})}if(a==="right"){var M={x:g+b+O,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return Hr(Hr({},M),i?{width:Math.max(i.x+i.width-M.x,0),height:m}:{})}var $=i?{width:b,height:m}:{};return a==="insideLeft"?Hr({x:g+O,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},$):a==="insideRight"?Hr({x:g+b-O,y:c+m/2,textAnchor:T,verticalAnchor:"middle"},$):a==="insideTop"?Hr({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:N},$):a==="insideBottom"?Hr({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:E},$):a==="insideTopLeft"?Hr({x:p+O,y:c+j,textAnchor:R,verticalAnchor:N},$):a==="insideTopRight"?Hr({x:p+d-O,y:c+j,textAnchor:T,verticalAnchor:N},$):a==="insideBottomLeft"?Hr({x:y+O,y:c+m-j,textAnchor:R,verticalAnchor:E},$):a==="insideBottomRight"?Hr({x:y+f-O,y:c+m-j,textAnchor:T,verticalAnchor:E},$):a&&typeof a=="object"&&(Fe(a.x)||jo(a.x))&&(Fe(a.y)||jo(a.y))?Hr({x:o+es(a.x,b),y:c+es(a.y,m),textAnchor:"end",verticalAnchor:"end"},$):Hr({x:w,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},$)},iEe={angle:0,offset:5,zIndex:yn.label,position:"middle",textBreakAll:!1};function pl(e){var t=qn(e,iEe),{viewBox:r,position:n,value:a,children:i,content:o,className:c="",textBreakAll:d,labelRef:f}=t,m=JCe(),p=v8(),y=n==="center"?p:m??p,g,b,w;if(r==null?g=y:wC(r)?g=r:g=_q(r),!g||pr(a)&&pr(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var _=Hr(Hr({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:j}=_,E=OL(_,HCe);return x.cloneElement(o,E)}if(typeof o=="function"){var{content:N}=_,k=OL(_,WCe);if(b=x.createElement(o,k),x.isValidElement(b))return b}else b=eEe(t);var O=Xn(t);if(wC(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return rEe(t,n,b,O,g);w=nEe(g,t.offset,t.position)}else w=aEe(t,g);return x.createElement(ri,{zIndex:t.zIndex},x.createElement(Rk,lo({ref:f,className:Kt("recharts-label",c)},O,w,{textAnchor:FCe(O.textAnchor)?O.textAnchor:w.textAnchor,breakAll:d}),b))}pl.displayName="Label";var sEe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(pl,lo({key:"label-implicit"},n)):Cs(e)?x.createElement(pl,lo({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===pl?x.cloneElement(e,Hr({key:"label-implicit"},n)):x.createElement(pl,lo({key:"label-implicit",content:e},n)):Tk(e)?x.createElement(pl,lo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(pl,lo({},e,{key:"label-implicit"},n)):null};function oEe(e){var{label:t,labelRef:r}=e,n=v8();return sEe(t,n,r)||null}var dS={},fS={},RL;function lEe(){return RL||(RL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(fS)),fS}var hS={},TL;function cEe(){return TL||(TL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(hS)),hS}var PL;function uEe(){return PL||(PL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lEe(),r=cEe(),n=wN();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(dS)),dS}var mS,DL;function dEe(){return DL||(DL=1,mS=uEe().last),mS}var fEe=dEe();const hEe=ei(fEe);var mEe=["valueAccessor"],pEe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function ML(e,t){if(e==null)return{};var r,n,a=gEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vEe=e=>Array.isArray(e.value)?hEe(e.value):e.value,y8=x.createContext(void 0),Pk=y8.Provider,x8=x.createContext(void 0);x8.Provider;function yEe(){return x.useContext(y8)}function xEe(){return x.useContext(x8)}function Ev(e){var{valueAccessor:t=vEe}=e,r=ML(e,mEe),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:c}=r,d=ML(r,pEe),f=yEe(),m=xEe(),p=f||m;return!p||!p.length?null:x.createElement(ri,{zIndex:c??yn.label},x.createElement(Qn,{className:"recharts-label-list"},p.map((y,g)=>{var b,w=pr(n)?t(y,g):$r(y&&y.payload,n),_=pr(i)?{}:{id:"".concat(i,"-").concat(g)};return x.createElement(pl,Wy({key:"label-".concat(g)},Xn(y),d,_,{fill:(b=r.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:o,viewBox:y.viewBox,index:g,zIndex:0}))})))}Ev.displayName="LabelList";function Dk(e){var{label:t}=e;return t?t===!0?x.createElement(Ev,{key:"labelList-implicit"}):x.isValidElement(t)||Tk(t)?x.createElement(Ev,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Ev,Wy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function _C(){return _C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_C.apply(null,arguments)}var b8=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Kt("recharts-dot",a);return Fe(t)&&Fe(r)&&Fe(n)?x.createElement("circle",_C({},Xa(e),xN(e),{className:i,cx:t,cy:r,r:n})):null},bEe={radiusAxis:{},angleAxis:{}},w8=Ra({name:"polarAxis",initialState:bEe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:t2e,removeRadiusAxis:r2e,addAngleAxis:n2e,removeAngleAxis:a2e}=w8.actions,wEe=w8.reducer,pS={exports:{}},tr={};var IL;function _Ee(){if(IL)return tr;IL=1;var e=60103,t=60106,r=60107,n=60108,a=60114,i=60109,o=60110,c=60112,d=60113,f=60120,m=60115,p=60116,y=60121,g=60122,b=60117,w=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),r=j("react.fragment"),n=j("react.strict_mode"),a=j("react.profiler"),i=j("react.provider"),o=j("react.context"),c=j("react.forward_ref"),d=j("react.suspense"),f=j("react.suspense_list"),m=j("react.memo"),p=j("react.lazy"),y=j("react.block"),g=j("react.server.block"),b=j("react.fundamental"),w=j("react.debug_trace_mode"),_=j("react.legacy_hidden")}function E(U){if(typeof U=="object"&&U!==null){var X=U.$$typeof;switch(X){case e:switch(U=U.type,U){case r:case a:case n:case d:case f:return U;default:switch(U=U&&U.$$typeof,U){case o:case c:case p:case m:case i:return U;default:return X}}case t:return X}}}var N=i,k=e,O=c,T=r,R=p,A=m,P=t,L=a,M=n,$=d;return tr.ContextConsumer=o,tr.ContextProvider=N,tr.Element=k,tr.ForwardRef=O,tr.Fragment=T,tr.Lazy=R,tr.Memo=A,tr.Portal=P,tr.Profiler=L,tr.StrictMode=M,tr.Suspense=$,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(U){return E(U)===o},tr.isContextProvider=function(U){return E(U)===i},tr.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},tr.isForwardRef=function(U){return E(U)===c},tr.isFragment=function(U){return E(U)===r},tr.isLazy=function(U){return E(U)===p},tr.isMemo=function(U){return E(U)===m},tr.isPortal=function(U){return E(U)===t},tr.isProfiler=function(U){return E(U)===a},tr.isStrictMode=function(U){return E(U)===n},tr.isSuspense=function(U){return E(U)===d},tr.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===r||U===a||U===w||U===n||U===d||U===f||U===_||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===m||U.$$typeof===i||U.$$typeof===o||U.$$typeof===c||U.$$typeof===b||U.$$typeof===y||U[0]===g)},tr.typeOf=E,tr}var $L;function jEe(){return $L||($L=1,pS.exports=_Ee()),pS.exports}var SEe=jEe(),LL=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zL=null,gS=null,_8=e=>{if(e===zL&&Array.isArray(gS))return gS;var t=[];return x.Children.forEach(e,r=>{pr(r)||(SEe.isFragment(r)?t=t.concat(_8(r.props.children)):t.push(r))}),gS=t,zL=e,t};function CEe(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>LL(a)):n=[LL(t)],_8(e).forEach(a=>{var i=kd(a,"type.displayName")||kd(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var Mk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,vS={},FL;function EEe(){return FL||(FL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(vS)),vS}var yS,UL;function NEe(){return UL||(UL=1,yS=EEe().isPlainObject),yS}var kEe=NEe();const OEe=ei(kEe);var BL,qL,VL,HL,WL;function KL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KL(Object(r),!0).forEach(function(n){AEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AEe(e,t,r){return(t=REe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=TEe(e,"string");return typeof t=="symbol"?t:t+""}function TEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function vh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var YL=(e,t,r,n,a)=>{var i=r-n,o;return o=Ir(BL||(BL=vh(["M ",",",""])),e,t),o+=Ir(qL||(qL=vh(["L ",",",""])),e+r,t),o+=Ir(VL||(VL=vh(["L ",",",""])),e+r-i/2,t+a),o+=Ir(HL||(HL=vh(["L ",",",""])),e+r-i/2-n,t+a),o+=Ir(WL||(WL=vh(["L ",","," Z"])),e,t),o},PEe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DEe=e=>{var t=qn(e,PEe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=t,y=x.useRef(null),[g,b]=x.useState(-1),w=x.useRef(a),_=x.useRef(i),j=x.useRef(o),E=x.useRef(r),N=x.useRef(n),k=qm(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var X=y.current.getTotalLength();X&&b(X)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var O=Kt("recharts-trapezoid",c);if(!p)return x.createElement("g",null,x.createElement("path",Ky({},Xn(t),{className:O,d:YL(r,n,a,i,o)})));var T=w.current,R=_.current,A=j.current,P=E.current,L=N.current,M="0px ".concat(g===-1?1:g,"px"),$="".concat(g,"px 0px"),U=Dq(["strokeDasharray"],f,d);return x.createElement(Bm,{animationId:k,key:k,canBegin:g>0,duration:f,easing:d,isActive:p,begin:m},X=>{var Y=rr(T,a,X),F=rr(R,i,X),H=rr(A,o,X),I=rr(P,r,X),q=rr(L,n,X);y.current&&(w.current=Y,_.current=F,j.current=H,E.current=I,N.current=q);var ue=X>0?{transition:U,strokeDasharray:$}:{strokeDasharray:M};return x.createElement("path",Ky({},Xn(t),{className:O,d:YL(I,q,Y,F,H),ref:y,style:GL(GL({},ue),t.style)}))})},MEe=["option","shapeType","activeClassName"];function IEe(e,t){if(e==null)return{};var r,n,a=$Ee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(r),!0).forEach(function(n){LEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LEe(e,t,r){return(t=zEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zEe(e){var t=FEe(e,"string");return typeof t=="symbol"?t:t+""}function FEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UEe(e,t){return Gy(Gy({},t),e)}function BEe(e,t){return e==="symbols"}function XL(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(Lq,r);case"trapezoid":return x.createElement(DEe,r);case"sector":return x.createElement(Uq,r);case"symbols":if(BEe(t))return x.createElement(j6,r);break;case"curve":return x.createElement(Th,r);default:return null}}function qEe(e){return x.isValidElement(e)?e.props:e}function j8(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=IEe(e,MEe),i;if(x.isValidElement(t))i=x.cloneElement(t,Gy(Gy({},a),qEe(t)));else if(typeof t=="function")i=t(a,a.index);else if(OEe(t)&&typeof t!="boolean"){var o=UEe(t,a);i=x.createElement(XL,{shapeType:r,elementProps:o})}else{var c=a;i=x.createElement(XL,{shapeType:r,elementProps:c})}return a.isActive?x.createElement(Qn,{className:n},i):i}var S8=(e,t,r)=>{var n=Xr();return(a,i)=>o=>{e?.(a,i,o),n(IH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},C8=e=>{var t=Xr();return(r,n)=>a=>{e?.(r,n,a),t(dSe())}},E8=(e,t,r)=>{var n=Xr();return(a,i)=>o=>{e?.(a,i,o),n(fSe({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Ik(e){var{tooltipEntrySettings:t}=e,r=Xr(),n=Rn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(oSe(t)):a.current!==t&&r(lSe({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(cSe(a.current)),a.current=null)},[r]),null}function $k(e){var{legendPayload:t}=e,r=Xr(),n=Rn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(Uxe(t)):a.current!==t&&r(Bxe({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(qxe(a.current)),a.current=null)},[r]),null}var xS,VEe=()=>{var[e]=x.useState(()=>Xh("uid-"));return e},HEe=(xS=ax.useId)!==null&&xS!==void 0?xS:VEe;function WEe(e,t){var r=HEe();return t||(e?"".concat(e,"-").concat(r):r)}var KEe=x.createContext(void 0),Lk=e=>{var{id:t,type:r,children:n}=e,a=WEe("recharts-".concat(r),t);return x.createElement(KEe.Provider,{value:a},n(a))},GEe={cartesianItems:[],polarItems:[]},N8=Ra({name:"graphicalItems",initialState:GEe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:br()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Xi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:br()},removeCartesianGraphicalItem:{reducer(e,t){var r=Xi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:br()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:br()},removePolarGraphicalItem:{reducer(e,t){var r=Xi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:br()}}}),{addCartesianGraphicalItem:YEe,replaceCartesianGraphicalItem:ZEe,removeCartesianGraphicalItem:XEe,addPolarGraphicalItem:i2e,removePolarGraphicalItem:s2e}=N8.actions,QEe=N8.reducer,JEe=e=>{var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(YEe(e)):r.current!==e&&t(ZEe({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(XEe(r.current)),r.current=null)},[t]),null},zk=x.memo(JEe),eNe=["points"];function QL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(r),!0).forEach(function(n){tNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tNe(e,t,r){return(t=rNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rNe(e){var t=nNe(e,"string");return typeof t=="symbol"?t:t+""}function nNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function aNe(e,t){if(e==null)return{};var r,n,a=iNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sNe(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Kt(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=aNe(i,eNe);return x.createElement(b8,Yy({},c,{className:a}))}function oNe(e,t){return e==null?!1:t?!0:e.length===1}function k8(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:c,clipPathId:d,zIndex:f=yn.scatter}=e;if(!oNe(t,r))return null;var m=Mk(r),p=Tpe(r),y=t.map((b,w)=>{var _,j,E=bS(bS(bS({r:3},o),p),{},{index:w,cx:(_=b.x)!==null&&_!==void 0?_:void 0,cy:(j=b.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return x.createElement(sNe,{key:"dot-".concat(w),option:r,dotProps:E,className:a})}),g={};return c&&d!=null&&(g.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(ri,{zIndex:f},x.createElement(Qn,Yy({className:n},g),y))}function JL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JL(Object(r),!0).forEach(function(n){lNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lNe(e,t,r){return(t=cNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cNe(e){var t=uNe(e,"string");return typeof t=="symbol"?t:t+""}function uNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O8=0,dNe={xAxis:{},yAxis:{},zAxis:{}},A8=Ra({name:"cartesianAxis",initialState:dNe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:br()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:br()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:br()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:br()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:br()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:br()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:br()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:br()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:br()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=ez(ez({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:fNe,replaceXAxis:hNe,removeXAxis:mNe,addYAxis:pNe,replaceYAxis:gNe,removeYAxis:vNe,addZAxis:o2e,replaceZAxis:l2e,removeZAxis:c2e,updateYAxisWidth:yNe}=A8.actions,xNe=A8.reducer,bNe=he([An],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),wNe=he([bNe,To,Po],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ab=()=>et(wNe),_Ne=()=>et(t1e);function tz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tz(Object(r),!0).forEach(function(n){jNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jNe(e,t,r){return(t=SNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SNe(e){var t=CNe(e,"string");return typeof t=="symbol"?t:t+""}function CNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ENe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=wS(wS(wS({},c),Dm(a)),xN(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(b8,d),x.createElement(Qn,{className:"recharts-active-dot",clipPath:o},f)};function jC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=yn.activeDot}=e,c=et(Yc),d=_Ne();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return pr(f)?null:x.createElement(ri,{zIndex:o},x.createElement(ENe,{point:f,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var rz=(e,t,r)=>{var n=r??e;if(!pr(n))return es(n,t,0)},NNe=(e,t,r)=>{var n={},a=e.filter(jb),i=e.filter(f=>f.stackId==null),o=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),n),c=Object.entries(o).map(f=>{var[m,p]=f,y=p.map(b=>b.dataKey),g=rz(t,r,p[0].barSize);return{stackId:m,dataKeys:y,barSize:g}}),d=i.map(f=>{var m=[f.dataKey].filter(y=>y!=null),p=rz(t,r,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function nz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nz(Object(r),!0).forEach(function(n){kNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kNe(e,t,r){return(t=ONe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ONe(e){var t=ANe(e,"string");return typeof t=="symbol"?t:t+""}function ANe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RNe(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=es(e,r,0,!0),c,d=[];if(sr(n[0].barSize)){var f=!1,m=r/i,p=n.reduce((j,E)=>j+(E.barSize||0),0);p+=(i-1)*o,p>=r&&(p-=(i-1)*o,o=0),p>=r&&m>0&&(f=!0,m*=.9,p=i*m);var y=(r-p)/2>>0,g={offset:y-o,size:0};c=n.reduce((j,E)=>{var N,k={stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:g.offset+g.size+o,size:f?m:(N=E.barSize)!==null&&N!==void 0?N:0}},O=[...j,k];return g=O[O.length-1].position,O},d)}else{var b=es(t,r,0,!0);r-2*b-(i-1)*o<=0&&(o=0);var w=(r-2*b-(i-1)*o)/i;w>1&&(w>>=0);var _=sr(a)?Math.min(w,a):w;c=n.reduce((j,E,N)=>[...j,{stackId:E.stackId,dataKeys:E.dataKeys,position:{offset:b+(w+o)*N+(w-_)/2,size:_}}],d)}return c}}var TNe=(e,t,r,n,a,i,o)=>{var c=pr(o)?t:o,d=RNe(r,n,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(f=>uv(uv({},f),{},{position:uv(uv({},f.position),{},{offset:f.position.offset-a/2})}))),d},PNe=(e,t)=>{var r=_b(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function DNe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&sr(e.zIndex)?e.zIndex:t}var MNe=e=>{var{chartData:t}=e,r=Xr(),n=Rn();return x.useEffect(()=>n?()=>{}:(r(mL(t)),()=>{r(mL(void 0))}),[t,r,n]),null},az={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R8=Ra({name:"brush",initialState:az,reducers:{setBrushSettings(e,t){return t.payload==null?az:t.payload}}}),{setBrushSettings:u2e}=R8.actions,INe=R8.reducer;function $Ne(e,t,r){return(t=LNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LNe(e){var t=zNe(e,"string");return typeof t=="symbol"?t:t+""}function zNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Fk{static create(t){return new Fk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}$Ne(Fk,"EPS",1e-4);function FNe(e){return(e%180+180)%180}var UNe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=FNe(a),o=i*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},BNe={dots:[],areas:[],lines:[]},T8=Ra({name:"referenceElements",initialState:BNe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Xi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Xi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Xi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:d2e,removeDot:f2e,addArea:h2e,removeArea:m2e,addLine:p2e,removeLine:g2e}=T8.actions,qNe=T8.reducer,VNe=x.createContext(void 0),HNe=e=>{var{children:t}=e,[r]=x.useState("".concat(Xh("recharts"),"-clip")),n=Ab();if(n==null)return null;var{x:a,y:i,width:o,height:c}=n;return x.createElement(VNe.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:c,width:o}))),t)};function P8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function WNe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return UNe(n,r)}function KNe(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:c}=e;return t===1?{start:n?a:i,end:n?a+o:i+c}:{start:n?a+o:i+c,end:n?a:i}}function dm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function GNe(e,t){return P8(e,t+1)}function YNe(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:c}=t,d=0,f=1,m=o,p=function(){var b=n?.[d];if(b===void 0)return{v:P8(n,f)};var w=d,_,j=()=>(_===void 0&&(_=r(b,w)),_),E=b.coordinate,N=d===0||dm(e,E,j,m,c);N||(d=0,m=o,f+=1),N&&(m=E+e*(j()/2+a),d+=f)},y;f<=i.length;)if(y=p(),y)return y.v;return[]}function ZNe(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:c,end:d}=t,f=1;f<=o;f++){for(var m=(o-1)%f,p=c,y=!0,g=function(){var E=n[b],N=b,k,O=()=>(k===void 0&&(k=r(E,N)),k),T=E.coordinate,R=b===m||dm(e,T,O,p,d);if(!R)return y=!1,1;R&&(p=T+e*(O()/2+a))},b=m;b<o&&!g();b+=f);if(y){for(var w=[],_=m;_<o;_+=f)w.push(n[_]);return w}}return[]}function iz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iz(Object(r),!0).forEach(function(n){XNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XNe(e,t,r){return(t=QNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QNe(e){var t=JNe(e,"string");return typeof t=="symbol"?t:t+""}function JNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eke(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:c}=t,{end:d}=t,f=function(y){var g=i[y],b,w=()=>(b===void 0&&(b=r(g,y)),b);if(y===o-1){var _=e*(g.coordinate+e*w()/2-d);i[y]=g=Kn(Kn({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else i[y]=g=Kn(Kn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var j=dm(e,g.tickCoord,w,c,d);j&&(d=g.tickCoord-e*(w()/2+a),i[y]=Kn(Kn({},g),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return i}function tke(e,t,r,n,a,i){var o=(n||[]).slice(),c=o.length,{start:d,end:f}=t;if(i){var m=n[c-1],p=r(m,c-1),y=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=Kn(Kn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var g=dm(e,m.tickCoord,()=>p,d,f);g&&(f=m.tickCoord-e*(p/2+a),o[c-1]=Kn(Kn({},m),{},{isShow:!0}))}}for(var b=i?c-1:c,w=function(E){var N=o[E],k,O=()=>(k===void 0&&(k=r(N,E)),k);if(E===0){var T=e*(N.coordinate-e*O()/2-d);o[E]=N=Kn(Kn({},N),{},{tickCoord:T<0?N.coordinate-T*e:N.coordinate})}else o[E]=N=Kn(Kn({},N),{},{tickCoord:N.coordinate});if(N.tickCoord!=null){var R=dm(e,N.tickCoord,O,d,f);R&&(d=N.tickCoord+e*(O()/2+a),o[E]=Kn(Kn({},N),{},{isShow:!0}))}},_=0;_<b;_++)w(_);return o}function Uk(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!a||!a.length||!n)return[];if(Fe(d)||Um.isSsr){var y;return(y=GNe(a,Fe(d)?d:0))!==null&&y!==void 0?y:[]}var g=[],b=c==="top"||c==="bottom"?"width":"height",w=m&&b==="width"?Ph(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(N,k)=>{var O=typeof f=="function"?f(N.value,k):N.value;return b==="width"?WNe(Ph(O,{fontSize:t,letterSpacing:r}),w,p):Ph(O,{fontSize:t,letterSpacing:r})[b]},j=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,E=KNe(i,j,b);return d==="equidistantPreserveStart"?YNe(j,E,_,a,o):d==="equidistantPreserveEnd"?ZNe(j,E,_,a,o):(d==="preserveStart"||d==="preserveStartEnd"?g=tke(j,E,_,a,o,d==="preserveStartEnd"):g=eke(j,E,_,a,o),g.filter(N=>N.isShow))}var rke=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,f=o+d+c+(r?n:0);return Math.round(f)}return 0},nke=["axisLine","width","height","className","hide","ticks","axisType"];function ake(e,t){if(e==null)return{};var r,n,a=ike(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ike(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zc.apply(null,arguments)}function sz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sz(Object(r),!0).forEach(function(n){ske(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ske(e,t,r){return(t=oke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oke(e){var t=lke(e,"string");return typeof t=="symbol"?t:t+""}function lke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yn.axis};function cke(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=on(on(on({},d),Xa(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);f=on(on({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var p=+(i==="left"&&!o||i==="right"&&o);f=on(on({},f),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+a})}return x.createElement("line",Zc({},f,{className:Kt("recharts-cartesian-axis-line",kd(c,"className"))}))}function uke(e,t,r,n,a,i,o,c,d){var f,m,p,y,g,b,w=c?-1:1,_=e.tickSize||o,j=Fe(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=m=e.coordinate,y=r+ +!c*a,p=y-w*_,b=p-w*d,g=j;break;case"left":p=y=e.coordinate,m=t+ +!c*n,f=m-w*_,g=f-w*d,b=j;break;case"right":p=y=e.coordinate,m=t+ +c*n,f=m+w*_,g=f+w*d,b=j;break;default:f=m=e.coordinate,y=r+ +c*a,p=y+w*_,b=p+w*d,g=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:g,y:b}}}function dke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function fke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function hke(e){var{option:t,tickProps:r,value:n}=e,a,i=Kt(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,on(on({},r),{},{className:i}));else if(typeof t=="function")a=t(on(on({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Kt(o,t?.className)),a=x.createElement(Rk,Zc({},r,{className:o}),n)}return a}var mke=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:g,width:b,height:w,tickSize:_,tickMargin:j,fontSize:E,letterSpacing:N,getTicksConfig:k,events:O,axisType:T}=e,R=Uk(on(on({},k),{},{ticks:r}),E,N),A=dke(m,p),P=fke(m,p),L=Xa(k),M=Dm(n),$={};typeof a=="object"&&($=a);var U=on(on({},L),{},{fill:"none"},$),X=R.map(H=>on({entry:H},uke(H,y,g,b,w,m,_,p,j))),Y=X.map(H=>{var{entry:I,line:q}=H;return x.createElement(Qn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&x.createElement("line",Zc({},U,q,{className:Kt("recharts-cartesian-axis-tick-line",kd(a,"className"))})))}),F=X.map((H,I)=>{var{entry:q,tick:ue}=H,B=on(on(on(on({textAnchor:A,verticalAnchor:P},L),{},{stroke:"none",fill:i},M),ue),{},{index:I,payload:q,visibleTicksCount:R.length,tickFormatter:o,padding:d},f);return x.createElement(Qn,Zc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},bN(O,q,I)),n&&x.createElement(hke,{option:n,tickProps:B,value:"".concat(typeof o=="function"?o(q.value,I):q.value).concat(c||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(T,"-ticks")},F.length>0&&x.createElement(ri,{zIndex:yn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(T,"-tick-labels"),ref:t},F)),Y.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(T,"-tick-lines")},Y))}),pke=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:c,axisType:d}=e,f=ake(e,nke),[m,p]=x.useState(""),[y,g]=x.useState(""),b=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return rke({ticks:b.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=j;var E=j[0];if(E){var N=window.getComputedStyle(E),k=N.fontSize,O=N.letterSpacing;(k!==m||O!==y)&&(p(k),g(O))}}},[m,y]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ri,{zIndex:e.zIndex},x.createElement(Qn,{className:Kt("recharts-cartesian-axis",i)},x.createElement(cke,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Xa(e)}),x.createElement(mke,{ref:w,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(XCe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(oEe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Bk=x.forwardRef((e,t)=>{var r=qn(e,vo);return x.createElement(pke,Zc({},r,{ref:t}))});Bk.displayName="CartesianAxis";var gke=["x1","y1","x2","y2","key"],vke=["offset"],yke=["xAxisId","yAxisId"],xke=["xAxisId","yAxisId"];function oz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oz(Object(r),!0).forEach(function(n){bke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bke(e,t,r){return(t=wke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wke(e){var t=_ke(e,"string");return typeof t=="symbol"?t:t+""}function _ke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(null,arguments)}function Zy(e,t){if(e==null)return{};var r,n,a=jke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ske=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:c}=e;return x.createElement("rect",{x:n,y:a,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function D8(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:c,y2:d,key:f}=r,m=Zy(r,gke),p=(a=Xa(m))!==null&&a!==void 0?a:{},{offset:y}=p,g=Zy(p,vke);n=x.createElement("line",Ec({},g,{x1:i,y1:o,x2:c,y2:d,fill:"none",key:f}))}return n}function Cke(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Zy(e,yke),d=a.map((f,m)=>{var p=Zn(Zn({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement(D8,{key:"line-".concat(m),option:n,lineItemProps:p})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Eke(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Zy(e,xke),d=a.map((f,m)=>{var p=Zn(Zn({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement(D8,{option:n,lineItemProps:p,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Nke(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+a-a)).sort((p,y)=>p-y);a!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var g=!f[y+1],b=g?a+o-p:f[y+1]-p;if(b<=0)return null;var w=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:b,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function kke(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(p=>Math.round(p+a-a)).sort((p,y)=>p-y);a!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var g=!f[y+1],b=g?a+o-p:f[y+1]-p;if(b<=0)return null;var w=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:p,y:i,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Oke=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return pq(Uk(Zn(Zn(Zn({},vo),r),{},{ticks:gq(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Ake=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return pq(Uk(Zn(Zn(Zn({},vo),r),{},{ticks:gq(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Rke={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yn.grid};function fm(e){var t=Sq(),r=Cq(),n=jq(),a=Zn(Zn({},qn(e,Rke)),{},{x:Fe(e.x)?e.x:n.left,y:Fe(e.y)?e.y:n.top,width:Fe(e.width)?e.width:n.width,height:Fe(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:g}=a,b=Rn(),w=et(P=>rL(P,"xAxis",i,b)),_=et(P=>rL(P,"yAxis",o,b));if(!Es(f)||!Es(m)||!Fe(c)||!Fe(d))return null;var j=a.verticalCoordinatesGenerator||Oke,E=a.horizontalCoordinatesGenerator||Ake,{horizontalPoints:N,verticalPoints:k}=a;if((!N||!N.length)&&typeof E=="function"){var O=y&&y.length,T=E({yAxis:_?Zn(Zn({},_),{},{ticks:O?y:_.ticks}):void 0,width:t??f,height:r??m,offset:n},O?!0:p);wy(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(N=T)}if((!k||!k.length)&&typeof j=="function"){var R=g&&g.length,A=j({xAxis:w?Zn(Zn({},w),{},{ticks:R?g:w.ticks}):void 0,width:t??f,height:r??m,offset:n},R?!0:p);wy(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(k=A)}return x.createElement(ri,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Ske,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(Nke,Ec({},a,{horizontalPoints:N})),x.createElement(kke,Ec({},a,{verticalPoints:k})),x.createElement(Cke,Ec({},a,{offset:n,horizontalPoints:N,xAxis:w,yAxis:_})),x.createElement(Eke,Ec({},a,{offset:n,verticalPoints:k,xAxis:w,yAxis:_}))))}fm.displayName="CartesianGrid";var Tke={},M8=Ra({name:"errorBars",initialState:Tke,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:v2e,replaceErrorBar:y2e,removeErrorBar:x2e}=M8.actions,Pke=M8.reducer,Dke=["children"];function Mke(e,t){if(e==null)return{};var r,n,a=Ike(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ike(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $ke={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Lke=x.createContext($ke);function I8(e){var{children:t}=e,r=Mke(e,Dke);return x.createElement(Lke.Provider,{value:r},t)}function Rb(e,t){var r,n,a=et(f=>Io(f,e)),i=et(f=>$o(f,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:En.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Nn.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function qk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Ab(),{needClipX:i,needClipY:o,needClip:c}=Rb(t,r);if(!c||!a)return null;var{x:d,y:f,width:m,height:p}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-m/2,y:o?f:f-p/2,width:i?m:m*2,height:o?p:p*2}))}var $8=(e,t,r,n)=>Os(e,"xAxis",t,n),L8=(e,t,r,n)=>ks(e,"xAxis",t,n),z8=(e,t,r,n)=>Os(e,"yAxis",r,n),F8=(e,t,r,n)=>ks(e,"yAxis",r,n),zke=he([Ut,$8,z8,L8,F8],(e,t,r,n,a)=>Ds(e,"xAxis")?Al(t,n,!1):Al(r,a,!1)),Fke=(e,t,r,n,a)=>a;function Uke(e){return e.type==="line"}var Bke=he([Ym,Fke],(e,t)=>e.filter(Uke).find(r=>r.id===t)),qke=he([Ut,$8,z8,L8,F8,Bke,zke,rk],(e,t,r,n,a,i,o,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:y}=i,g;if(y!=null&&y.length>0?g=y:g=d?.slice(f,m+1),g!=null)return OOe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:g})}});function U8(e){var t=Dm(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=n),{r:o,strokeWidth:c}}return{r,strokeWidth:n}}var _S={exports:{}},jS={};var lz;function Vke(){if(lz)return jS;lz=1;var e=Md();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return jS.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var g=a(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=o(function(){function _(O){if(!j){if(j=!0,E=O,O=p(O),y!==void 0&&b.hasValue){var T=b.value;if(y(T,O))return N=T}return N=O}if(T=N,r(E,O))return T;var R=p(O);return y!==void 0&&y(T,R)?(E=O,T):(E=O,N=R)}var j=!1,E,N,k=m===void 0?null:m;return[function(){return _(f())},k===null?void 0:function(){return _(k())}]},[f,m,p,y]);var w=n(d,g[0],g[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},jS}var cz;function Hke(){return cz||(cz=1,_S.exports=Vke()),_S.exports}Hke();function Wke(e){e()}function Kke(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Wke(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var uz={notify(){},get:()=>[]};function Gke(e,t){let r,n=uz,a=0,i=!1;function o(w){m();const _=n.subscribe(w);let j=!1;return()=>{j||(j=!0,_(),p())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return i}function m(){a++,r||(r=e.subscribe(d),n=Kke())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=uz)}function y(){i||(i=!0,m())}function g(){i&&(i=!1,p())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>n};return b}var Yke=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zke=Yke(),Xke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qke=Xke(),Jke=()=>Zke||Qke?x.useLayoutEffect:x.useEffect,eOe=Jke();function dz(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function tOe(e,t){if(dz(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!dz(e[r[a]],t[r[a]]))return!1;return!0}var rOe=Symbol.for("react-redux-context"),nOe=typeof globalThis<"u"?globalThis:{};function aOe(){if(!x.createContext)return{};const e=nOe[rOe]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var iOe=aOe();function sOe(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=Gke(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);eOe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const c=r||iOe;return x.createElement(c.Provider,{value:i},t)}var oOe=sOe,lOe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function cOe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function np(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(lOe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!tOe(e[n],t[n]))return!1}else if(!cOe(e[n],t[n]))return!1;return!0}var uOe=["id"],dOe=["type","layout","connectNulls","needClip","shape"],fOe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function hm(){return hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hm.apply(null,arguments)}function fz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fz(Object(r),!0).forEach(function(n){hOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hOe(e,t,r){return(t=mOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mOe(e){var t=pOe(e,"string");return typeof t=="symbol"?t:t+""}function pOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vk(e,t){if(e==null)return{};var r,n,a=gOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vOe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tf(r,t),payload:e}]},yOe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:c,unit:d,tooltipType:f,id:m}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:tf(o,t),hide:c,type:f,color:n,unit:d,graphicalItemId:m}};return x.createElement(Ik,{tooltipEntrySettings:p})}),B8=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function xOe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var bOe=(e,t,r)=>{var n=r.reduce((p,y)=>p+y);if(!n)return B8(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,c=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){c=[...r.slice(0,d),i-f];break}var m=c.length%2===0?[0,o]:[o];return[...xOe(r,a),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function wOe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:c}=n,d=Vk(n,uOe),f=Xa(d);return x.createElement(k8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:f,needClip:o,clipPathId:t})}function _Oe(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ms(ms({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(Pk,{value:t?a:void 0},r)}function hz(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:c,connectNulls:d,needClip:f,shape:m}=i,p=Vk(i,dOe),y=ms(ms({},Xn(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(j8,hm({shapeType:"curve",option:m},y,{pathRef:r})),x.createElement(wOe,{points:n,clipPathId:t,props:i}))}function jOe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function SOe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:y,width:g,height:b,onAnimationEnd:w,onAnimationStart:_}=r,j=a.current,E=qm(o,"recharts-line-"),N=x.useRef(E),[k,O]=x.useState(!1),T=!k,R=x.useCallback(()=>{typeof w=="function"&&w(),O(!1)},[w]),A=x.useCallback(()=>{typeof _=="function"&&_(),O(!0)},[_]),P=jOe(n.current),L=x.useRef(0);N.current!==E&&(L.current=i.current,N.current=E);var M=L.current;return x.createElement(_Oe,{points:o,showLabels:T},r.children,x.createElement(Bm,{animationId:E,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:R,onAnimationStart:A,key:E},$=>{var U=rr(M,P+M,$),X=Math.min(U,P),Y;if(d)if(c){var F="".concat(c).split(/[,\s]+/gim).map(q=>parseFloat(q));Y=bOe(X,P,F)}else Y=B8(P,X);else Y=c==null?void 0:String(c);if($>0&&P>0&&(a.current=o,i.current=Math.max(i.current,X)),j){var H=j.length/o.length,I=$===1?o:o.map((q,ue)=>{var B=Math.floor(ue*H);if(j[B]){var Q=j[B];return ms(ms({},q),{},{x:rr(Q.x,q.x,$),y:rr(Q.y,q.y,$)})}return y?ms(ms({},q),{},{x:rr(g*2,q.x,$),y:rr(b/2,q.y,$)}):ms(ms({},q),{},{x:q.x,y:q.y})});return a.current=I,x.createElement(hz,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:Y})}return x.createElement(hz,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:Y})}),x.createElement(Dk,{label:r.label}))}function COe(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(SOe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var EOe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:$r(e.payload,t)}};class NOe extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:c,left:d,width:f,height:m,id:p,needClip:y,zIndex:g}=this.props;if(t)return null;var b=Kt("recharts-line",a),w=p,{r:_,strokeWidth:j}=U8(r),E=Mk(r),N=_*2+j,k=y?"url(#clipPath-".concat(E?"":"dots-").concat(w,")"):void 0;return x.createElement(ri,{zIndex:g},x.createElement(Qn,{className:b},y&&x.createElement("defs",null,x.createElement(qk,{clipPathId:w,xAxisId:i,yAxisId:o}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:d-N/2,y:c-N/2,width:f+N,height:m+N}))),x.createElement(I8,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:EOe,errorBarOffset:0},x.createElement(COe,{props:this.props,clipPathId:w}))),x.createElement(jC,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var q8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yn.line,type:"linear"};function kOe(e){var t=qn(e,q8),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:p,legendType:y,xAxisId:g,yAxisId:b,id:w}=t,_=Vk(t,fOe),{needClip:j}=Rb(g,b),E=Ab(),N=zl(),k=Rn(),O=et(L=>qke(L,g,b,k,w));if(N!=="horizontal"&&N!=="vertical"||O==null||E==null)return null;var{height:T,width:R,x:A,y:P}=E;return x.createElement(NOe,hm({},_,{id:w,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:m,hide:f,label:p,legendType:y,xAxisId:g,yAxisId:b,points:O,layout:N,height:T,width:R,left:A,top:P,needClip:j}))}function OOe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((f,m)=>{var p=$r(f,o);if(t==="horizontal"){var y=by({axis:r,ticks:a,bandSize:c,entry:f,index:m}),g=pr(p)?null:n.scale(p);return{x:y,y:g,value:p,payload:f}}var b=pr(p)?null:r.scale(p),w=by({axis:n,ticks:i,bandSize:c,entry:f,index:m});return b==null||w==null?null:{x:b,y:w,value:p,payload:f}}).filter(Boolean)}function AOe(e){var t=qn(e,q8),r=Rn();return x.createElement(Lk,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement($k,{legendPayload:vOe(t)}),x.createElement(yOe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(zk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(kOe,hm({},t,{id:n}))))}var Hk=x.memo(AOe,np);Hk.displayName="Line";function Ms(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:O8}function Is(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:O8}var V8=(e,t,r)=>Os(e,"xAxis",Ms(e,t),r),H8=(e,t,r)=>ks(e,"xAxis",Ms(e,t),r),W8=(e,t,r)=>Os(e,"yAxis",Is(e,t),r),K8=(e,t,r)=>ks(e,"yAxis",Is(e,t),r),ROe=he([Ut,V8,W8,H8,K8],(e,t,r,n,a)=>Ds(e,"xAxis")?Al(t,n,!1):Al(r,a,!1)),TOe=(e,t)=>t,G8=he([Ym,TOe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Y8=e=>{var t=Ut(e),r=Ds(t,"xAxis");return r?"yAxis":"xAxis"},POe=(e,t)=>{var r=Y8(e);return r==="yAxis"?Is(e,t):Ms(e,t)},DOe=(e,t,r)=>By(e,Y8(e),POe(e,t),r),MOe=he([G8,DOe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=_b(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=i?.find(c=>c.key===a);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),IOe=he([Ut,V8,W8,H8,K8,MOe,SV,ROe,G8,eje],(e,t,r,n,a,i,o,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:g}=d,b;if(g&&g.length>0?b=g:b=m?.slice(p,y+1),b!=null)return tAe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:i,displayedData:b,chartBaseValue:f,bandSize:c})}}),$Oe=["id"],LOe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rc.apply(null,arguments)}function Z8(e,t){if(e==null)return{};var r,n,a=zOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mz(Object(r),!0).forEach(function(n){FOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FOe(e,t,r){return(t=UOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UOe(e){var t=BOe(e,"string");return typeof t=="symbol"?t:t+""}function BOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xy(e,t){return e&&e!=="none"?e:t}var qOe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:Xy(n,a),value:tf(r,t),payload:e}]},VOe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:c,unit:d,tooltipType:f,id:m}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:tf(o,t),hide:c,type:f,color:Xy(n,i),unit:d,graphicalItemId:m}};return x.createElement(Ik,{tooltipEntrySettings:p})});function HOe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n,c=Xa(n);return x.createElement(k8,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:a,clipPathId:t})}function WOe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return hd(hd({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(Pk,{value:t?a:void 0},r)}function pz(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:c,stroke:d,connectNulls:f,isRange:m}=i,{id:p}=i,y=Z8(i,$Oe),g=Xa(y),b=Xn(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Qn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(Th,Rc({},b,{id:p,points:t,connectNulls:f,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(Th,Rc({},g,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&x.createElement(Th,Rc({},g,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:r}))),x.createElement(HOe,{points:t,props:y,clipPathId:a}))}function KOe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,d=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!sr(c)||!sr(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(p=>p.x||0));return Fe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(p=>p.x||0),m)),Fe(m)?x.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}function GOe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,d=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!sr(c)||!sr(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(p=>p.y||0));return Fe(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(p=>p.y||0),m)),Fe(m)?x.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(o?parseInt("".concat(o),10):1))}):null}function YOe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?x.createElement(KOe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):x.createElement(GOe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function ZOe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:g}=n,b=x.useMemo(()=>({points:o,baseLine:c}),[o,c]),w=qm(b,"recharts-area-"),_=Nxe(),[j,E]=x.useState(!1),N=!j,k=x.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),O=x.useCallback(()=>{typeof y=="function"&&y(),E(!0)},[y]);if(_==null)return null;var T=a.current,R=i.current;return x.createElement(WOe,{showLabels:N,points:o},n.children,x.createElement(Bm,{animationId:w,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:k,onAnimationStart:O,key:w},A=>{if(T){var P=T.length/o.length,L=A===1?o:o.map(($,U)=>{var X=Math.floor(U*P);if(T[X]){var Y=T[X];return hd(hd({},$),{},{x:rr(Y.x,$.x,A),y:rr(Y.y,$.y,A)})}return $}),M;return Fe(c)?M=rr(R,c,A):pr(c)||ki(c)?M=rr(R,0,A):M=c.map(($,U)=>{var X=Math.floor(U*P);if(Array.isArray(R)&&R[X]){var Y=R[X];return hd(hd({},$),{},{x:rr(Y.x,$.x,A),y:rr(Y.y,$.y,A)})}return $}),A>0&&(a.current=L,i.current=M),x.createElement(pz,{points:L,baseLine:M,needClip:t,clipPathId:r,props:n})}return A>0&&(a.current=o,i.current=c),x.createElement(Qn,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(YOe,{alpha:A,points:o,baseLine:c,layout:_,strokeWidth:n.strokeWidth}))),x.createElement(Qn,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(pz,{points:o,baseLine:c,needClip:t,clipPathId:r,props:n})))}),x.createElement(Dk,{label:n.label}))}function XOe(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),i=x.useRef();return x.createElement(ZOe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class QOe extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:o,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:g,zIndex:b}=this.props;if(t)return null;var w=Kt("recharts-area",a),_=y,{r:j,strokeWidth:E}=U8(r),N=Mk(r),k=j*2+E,O=c?"url(#clipPath-".concat(N?"":"dots-").concat(_,")"):void 0;return x.createElement(ri,{zIndex:b},x.createElement(Qn,{className:w},c&&x.createElement("defs",null,x.createElement(qk,{clipPathId:_,xAxisId:d,yAxisId:f}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(_)},x.createElement("rect",{x:o-k/2,y:i-k/2,width:m+k,height:p+k}))),x.createElement(XOe,{needClip:c,clipPathId:_,props:this.props})),x.createElement(jC,{points:n,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(g)&&x.createElement(jC,{points:g,mainColor:Xy(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var X8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:yn.area};function JOe(e){var t,r=qn(e,X8),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:g,stroke:b,xAxisId:w,yAxisId:_}=r,j=Z8(r,LOe),E=zl(),N=JH(),{needClip:k}=Rb(w,_),O=Rn(),{points:T,isRange:R,baseLine:A}=(t=et(X=>IOe(X,e.id,O)))!==null&&t!==void 0?t:{},P=Ab();if(E!=="horizontal"&&E!=="vertical"||P==null||N!=="AreaChart"&&N!=="ComposedChart")return null;var{height:L,width:M,x:$,y:U}=P;return!T||!T.length?null:x.createElement(QOe,Rc({},j,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:A,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:L,hide:p,layout:E,isAnimationActive:y==="auto"?!Um.isSsr:y,isRange:R,legendType:g,needClip:k,points:T,stroke:b,width:M,left:$,top:U,xAxisId:w,yAxisId:_}))}var eAe=(e,t,r,n,a)=>{var i=r??t;if(Fe(i))return i;var o=e==="horizontal"?a:n,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return i==="dataMin"?f:i==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function tAe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:g}=e,b=a&&a.length,w=eAe(i,o,r,c,d),_=i==="horizontal",j=!1,E=f.map((k,O)=>{var T,R,A;if(b)A=a[m+O];else{var P=$r(k,n);Array.isArray(P)?(A=P,j=!0):A=[w,P]}var L=(T=(R=A)===null||R===void 0?void 0:R[1])!==null&&T!==void 0?T:null,M=L==null||b&&!t&&$r(k,n)==null;return _?{x:by({axis:c,ticks:p,bandSize:g,entry:k,index:O}),y:M?null:d.scale(L),value:A,payload:k}:{x:M?null:c.scale(L),y:by({axis:d,ticks:y,bandSize:g,entry:k,index:O}),value:A,payload:k}}),N;return b||j?N=E.map(k=>{var O=Array.isArray(k.value)?k.value[0]:null;return _?{x:k.x,y:O!=null&&k.y!=null?d.scale(O):null,payload:k.payload}:{x:O!=null?c.scale(O):null,y:k.y,payload:k.payload}}):N=_?d.scale(w):c.scale(w),{points:E,baseLine:N,isRange:j}}function rAe(e){var t=qn(e,X8),r=Rn();return x.createElement(Lk,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement($k,{legendPayload:qOe(t)}),x.createElement(VOe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(zk,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:vq(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(JOe,Rc({},t,{id:n}))))}var Q8=x.memo(rAe,np);Q8.displayName="Area";var nAe="Invariant failed";function aAe(e,t){throw new Error(nAe)}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(null,arguments)}function Qy(e){return x.createElement(j8,SC({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var iAe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Fe(t))return t;var i=Fe(n)||pr(n);return i?t(n,a):(i||aAe(),r)}},sAe=(e,t,r)=>r,oAe=(e,t)=>t,ap=he([Ym,oAe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lAe=he([ap],e=>e?.maxBarSize),cAe=(e,t,r,n)=>n,uAe=he([Ut,Ym,Ms,Is,sAe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),dAe=(e,t,r)=>{var n=Ut(e),a=Ms(e,t),i=Is(e,t);if(!(a==null||i==null))return n==="horizontal"?By(e,"yAxis",i,r):By(e,"xAxis",a,r)},fAe=(e,t)=>{var r=Ut(e),n=Ms(e,t),a=Is(e,t);if(!(n==null||a==null))return r==="horizontal"?tL(e,"xAxis",n):tL(e,"yAxis",a)},hAe=he([uAe,J_e,fAe],NNe),mAe=(e,t,r)=>{var n,a,i=ap(e,t);if(i!=null){var o=Ms(e,t),c=Is(e,t);if(!(o==null||c==null)){var d=Ut(e),f=zV(e),{maxBarSize:m}=i,p=pr(m)?f:m,y,g;return d==="horizontal"?(y=Os(e,"xAxis",o,r),g=ks(e,"xAxis",o,r)):(y=Os(e,"yAxis",c,r),g=ks(e,"yAxis",c,r)),(n=(a=Al(y,g,!0))!==null&&a!==void 0?a:p)!==null&&n!==void 0?n:0}}},J8=(e,t,r)=>{var n=Ut(e),a=Ms(e,t),i=Is(e,t);if(!(a==null||i==null)){var o,c;return n==="horizontal"?(o=Os(e,"xAxis",a,r),c=ks(e,"xAxis",a,r)):(o=Os(e,"yAxis",i,r),c=ks(e,"yAxis",i,r)),Al(o,c)}},pAe=he([hAe,zV,Q_e,FV,mAe,J8,lAe],TNe),gAe=(e,t,r)=>{var n=Ms(e,t);if(n!=null)return Os(e,"xAxis",n,r)},vAe=(e,t,r)=>{var n=Is(e,t);if(n!=null)return Os(e,"yAxis",n,r)},yAe=(e,t,r)=>{var n=Ms(e,t);if(n!=null)return ks(e,"xAxis",n,r)},xAe=(e,t,r)=>{var n=Is(e,t);if(n!=null)return ks(e,"yAxis",n,r)},bAe=he([pAe,ap],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),wAe=he([dAe,ap],PNe),_Ae=he([An,ON,gAe,vAe,yAe,xAe,bAe,Ut,SV,J8,wAe,ap,cAe],(e,t,r,n,a,i,o,c,d,f,m,p,y)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(p==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:_}=p,j;if(_!=null&&_.length>0?j=_:j=g?.slice(b,w+1),j!=null)return XAe({layout:c,barSettings:p,pos:o,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:j,offset:e,cells:y,dataStartIndex:b})}}),jAe=["index"];function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(null,arguments)}function SAe(e,t){if(e==null)return{};var r,n,a=CAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eW=x.createContext(void 0),EAe=e=>{var t=x.useContext(eW);if(t!=null)return t.stackId;if(e!=null)return vq(e)},NAe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),kAe=e=>{var t=x.useContext(eW);if(t!=null){var{stackId:r}=t;return"url(#".concat(NAe(r,e),")")}},OAe=e=>{var{index:t}=e,r=SAe(e,jAe),n=kAe(t);return x.createElement(Qn,CC({className:"recharts-bar-stack-layer",clipPath:n},r))},AAe=["onMouseEnter","onMouseLeave","onClick"],RAe=["value","background","tooltipPosition"],TAe=["id"],PAe=["onMouseEnter","onClick","onMouseLeave"];function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(null,arguments)}function gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gz(Object(r),!0).forEach(function(n){DAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DAe(e,t,r){return(t=MAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MAe(e){var t=IAe(e,"string");return typeof t=="symbol"?t:t+""}function IAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jy(e,t){if(e==null)return{};var r,n,a=$Ae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Ae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LAe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:tf(r,t),payload:e}]},zAe=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:c,tooltipType:d,id:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:tf(i,t),hide:o,type:d,color:a,unit:c,graphicalItemId:f}};return x.createElement(Ik,{tooltipEntrySettings:m})});function FAe(e){var t=et(Yc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=i,f=Jy(i,AAe),m=S8(o,n,i.id),p=C8(c),y=E8(d,n,i.id);if(!a||r==null)return null;var g=Dm(a);return x.createElement(ri,{zIndex:DNe(a,yn.barBackground)},r.map((b,w)=>{var{value:_,background:j,tooltipPosition:E}=b,N=Jy(b,RAe);if(!j)return null;var k=m(b,w),O=p(b,w),T=y(b,w),R=na(na(na(na(na({option:a,isActive:String(w)===t},N),{},{fill:"#eee"},j),g),bN(f,b,w)),{},{onMouseEnter:k,onMouseLeave:O,onClick:T,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(Qy,Oo({key:"background-bar-".concat(w)},R))}))}function UAe(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return na(na({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(Pk,{value:t?a:void 0},r)}function BAe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,c=et(Yc),d=et(ZH),f=r&&String(i)===c&&(d==null||o===d),m=f?r:t;return f?x.createElement(ri,{zIndex:yn.activeBar},x.createElement(Qy,Oo({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:o}))):x.createElement(Qy,Oo({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:o}))}function qAe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(Qy,Oo({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function VAe(e){var t,{data:r,props:n}=e,a=(t=Xa(n))!==null&&t!==void 0?t:{},{id:i}=a,o=Jy(a,TAe),{shape:c,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:p,onMouseLeave:y}=n,g=Jy(n,PAe),b=S8(m,d,i),w=C8(y),_=E8(p,d,i);return r?x.createElement(x.Fragment,null,r.map((j,E)=>x.createElement(OAe,Oo({index:E,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(E),className:"recharts-bar-rectangle"},bN(g,j,E),{onMouseEnter:b(j,E),onMouseLeave:w(j,E),onClick:_(j,E)}),f?x.createElement(BAe,{shape:c,activeBar:f,baseProps:o,entry:j,index:E,dataKey:d}):x.createElement(qAe,{shape:c,baseProps:o,entry:j,index:E,dataKey:d})))):null}function HAe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=t,p=r.current,y=qm(t,"recharts-bar-"),[g,b]=x.useState(!1),w=!g,_=x.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),j=x.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return x.createElement(UAe,{showLabels:w,rects:n},x.createElement(Bm,{animationId:y,begin:o,duration:c,isActive:i,easing:d,onAnimationEnd:_,onAnimationStart:j,key:y},E=>{var N=E===1?n:n?.map((k,O)=>{var T=p&&p[O];if(T)return na(na({},k),{},{x:rr(T.x,k.x,E),y:rr(T.y,k.y,E),width:rr(T.width,k.width,E),height:rr(T.height,k.height,E)});if(a==="horizontal"){var R=rr(0,k.height,E),A=rr(k.stackedBarStart,k.y,E);return na(na({},k),{},{y:A,height:R})}var P=rr(0,k.width,E),L=rr(k.stackedBarStart,k.x,E);return na(na({},k),{},{width:P,x:L})});return E>0&&(r.current=N??null),N==null?null:x.createElement(Qn,null,x.createElement(VAe,{props:t,data:N}))}),x.createElement(Dk,{label:t.label}),t.children)}function WAe(e){var t=x.useRef(null);return x.createElement(HAe,{previousRectanglesRef:t,props:e})}var tW=0,KAe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$r(e,t)}};class GAe extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:c,background:d,id:f}=this.props;if(t||r==null)return null;var m=Kt("recharts-bar",a),p=f;return x.createElement(Qn,{className:m,id:f},c&&x.createElement("defs",null,x.createElement(qk,{clipPathId:p,xAxisId:i,yAxisId:o})),x.createElement(Qn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},x.createElement(FAe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(WAe,this.props)))}}var YAe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:tW,xAxisId:0,yAxisId:0,zIndex:yn.bar};function ZAe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=e,{needClip:p}=Rb(t,r),y=zl(),g=Rn(),b=CEe(e.children,o8),w=et(E=>_Ae(E,e.id,g,b));if(y!=="vertical"&&y!=="horizontal")return null;var _,j=w?.[0];return j==null||j.height==null||j.width==null?_=0:_=y==="vertical"?j.height/2:j.width/2,x.createElement(I8,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:KAe,errorBarOffset:_},x.createElement(GAe,Oo({},e,{layout:y,needClip:p,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function XAe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:y,cells:g,parentViewBox:b,dataStartIndex:w}=e,_=t==="horizontal"?c:o,j=m?_.scale.domain():null,E=Vye({numericAxis:_}),N=_.scale(E);return p.map((k,O)=>{var T,R,A,P,L,M;if(m){var $=m[O+w];if($==null)return null;T=zye($,j)}else T=$r(k,r),Array.isArray(T)||(T=[E,T]);var U=iAe(n,tW)(T[1],O);if(t==="horizontal"){var X,[Y,F]=[c.scale(T[0]),c.scale(T[1])];R=oI({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:k,index:O}),A=(X=F??Y)!==null&&X!==void 0?X:void 0,P=a.size;var H=Y-F;if(L=ki(H)?0:H,M={x:R,y:y.top,width:P,height:y.height},Math.abs(U)>0&&Math.abs(L)<Math.abs(U)){var I=Ca(L||U)*(Math.abs(U)-Math.abs(L));A-=I,L+=I}}else{var[q,ue]=[o.scale(T[0]),o.scale(T[1])];if(R=q,A=oI({axis:c,ticks:f,bandSize:i,offset:a.offset,entry:k,index:O}),P=ue-q,L=a.size,M={x:y.left,y:A,width:y.width,height:L},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var B=Ca(P||U)*(Math.abs(U)-Math.abs(P));P+=B}}if(R==null||A==null||P==null||L==null)return null;var Q=na(na({},k),{},{stackedBarStart:N,x:R,y:A,width:P,height:L,value:m?T:T[1],payload:k,background:M,tooltipPosition:{x:R+P/2,y:A+L/2},parentViewBox:b},g&&g[O]&&g[O].props);return Q}).filter(Boolean)}function QAe(e){var t=qn(e,YAe),r=EAe(t.stackId),n=Rn();return x.createElement(Lk,{id:t.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement($k,{legendPayload:LAe(t)}),x.createElement(zAe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),x.createElement(zk,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(ri,{zIndex:t.zIndex},x.createElement(ZAe,Oo({},t,{id:a})))))}var rW=x.memo(QAe,np);rW.displayName="Bar";var JAe=["domain","range"],eRe=["domain","range"];function vz(e,t){if(e==null)return{};var r,n,a=tRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yz(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function nW(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=vz(e,JAe),{domain:i,range:o}=t,c=vz(t,eRe);return!yz(r,i)||!yz(n,o)?!1:np(a,c)}var rRe=["dangerouslySetInnerHTML","ticks","scale"],nRe=["id","scale"];function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(null,arguments)}function xz(e,t){if(e==null)return{};var r,n,a=aRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iRe(e){var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(fNe(e)):r.current!==e&&t(hNe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(mNe(r.current)),r.current=null)},[t]),null}var sRe=e=>{var{xAxisId:t,className:r}=e,n=et(ON),a=Rn(),i="xAxis",o=et(j=>AH(j,i,t,a)),c=et(j=>EH(j,t)),d=et(j=>Xje(j,t)),f=et(j=>YV(j,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:y}=e,g=xz(e,rRe),{id:b,scale:w}=f,_=xz(f,nRe);return x.createElement(Bk,EC({},g,_,{x:d.x,y:d.y,width:c.width,height:c.height,className:Kt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},oRe={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,angle:En.angle,axisLine:vo.axisLine,height:En.height,hide:!1,includeHidden:En.includeHidden,interval:En.interval,minTickGap:En.minTickGap,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,tickLine:vo.tickLine,tickSize:vo.tickSize,type:En.type,xAxisId:0},lRe=e=>{var t=qn(e,oRe);return x.createElement(x.Fragment,null,x.createElement(iRe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(sRe,t))},mm=x.memo(lRe,nW);mm.displayName="XAxis";var cRe=["dangerouslySetInnerHTML","ticks","scale"],uRe=["id","scale"];function NC(){return NC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NC.apply(null,arguments)}function bz(e,t){if(e==null)return{};var r,n,a=dRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fRe(e){var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(pNe(e)):r.current!==e&&t(gNe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(vNe(r.current)),r.current=null)},[t]),null}var hRe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),c=et(ON),d=Rn(),f=Xr(),m="yAxis",p=et(T=>NH(T,t)),y=et(T=>Jje(T,t)),g=et(T=>AH(T,m,t,d)),b=et(T=>ZV(T,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Tk(a)||x.isValidElement(a)||b==null)){var T=i.current;if(T){var R=T.getCalculatedWidth();Math.round(p.width)!==Math.round(R)&&f(yNe({id:t,width:R}))}}},[g,p,f,a,t,n,b]),p==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:j}=e,E=bz(e,cRe),{id:N,scale:k}=b,O=bz(b,uRe);return x.createElement(Bk,NC({},E,O,{ref:i,labelRef:o,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Kt("recharts-".concat(m," ").concat(m),r),viewBox:c,ticks:g,axisType:m}))},mRe={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:vo.axisLine,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:vo.tickLine,tickSize:vo.tickSize,type:Nn.type,width:Nn.width,yAxisId:0},pRe=e=>{var t=qn(e,mRe);return x.createElement(x.Fragment,null,x.createElement(fRe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(hRe,t))},pm=x.memo(pRe,nW);pm.displayName="YAxis";var gRe=(e,t)=>t,Wk=he([gRe,Ut,KV,wn,WH,Lo,h1e,An],b1e),Kk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},aW=Oi("mouseClick"),iW=Lm();iW.startListening({actionCreator:aW,effect:(e,t)=>{var r=e.payload,n=Wk(t.getState(),Kk(r));n?.activeIndex!=null&&t.dispatch(hSe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var kC=Oi("mouseMove"),sW=Lm(),dv=null;sW.startListening({actionCreator:kC,effect:(e,t)=>{var r=e.payload;dv!==null&&cancelAnimationFrame(dv);var n=Kk(r);dv=requestAnimationFrame(()=>{var a=t.getState(),i=bk(a,a.tooltip.settings.shared);if(i==="axis"){var o=Wk(a,n);o?.activeIndex!=null?t.dispatch(LH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch($H())}dv=null})}});function vRe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var wz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},oW=Ra({name:"rootProps",initialState:wz,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wz.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yRe=oW.reducer,{updateOptions:xRe}=oW.actions,lW=Ra({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:b2e}=lW.actions,bRe=lW.reducer,cW=Oi("keyDown"),uW=Oi("focus"),Gk=Lm();Gk.startListening({actionCreator:cW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=wk(a,uf(r),Xm(r),tp(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var d=Lo(r);if(i==="Enter"){var f=Vy(r,"axis","hover",String(a.index));t.dispatch(vC({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var m=nSe(r),p=m==="left-to-right"?1:-1,y=i==="ArrowRight"?1:-1,g=c+y*p;if(!(d==null||g>=d.length||g<0)){var b=Vy(r,"axis","hover",String(g));t.dispatch(vC({active:!0,activeIndex:g.toString(),activeCoordinate:b}))}}}}}});Gk.startListening({actionCreator:uW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Vy(r,"axis","hover",String(i));t.dispatch(vC({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var gi=Oi("externalEvent"),dW=Lm(),SS=new Map;dW.startListening({actionCreator:gi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=SS.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:QSe(c),activeDataKey:ZH(c),activeIndex:Yc(c),activeLabel:YH(c),activeTooltipIndex:Yc(c),isTooltipActive:JSe(c)};r(d,n)}finally{SS.delete(a)}});SS.set(a,o)}}});var wRe=he([lf],e=>e.tooltipItemPayloads),_Re=he([wRe,ep,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),fW=Oi("touchMove"),hW=Lm();hW.startListening({actionCreator:fW,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=bk(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=Wk(n,Kk({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(LH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(Xye),p=(c=f.getAttribute(Qye))!==null&&c!==void 0?c:void 0,y=cf(n).find(w=>w.id===p);if(m==null||y==null||p==null)return;var{dataKey:g}=y,b=_Re(n,m,p);t.dispatch(IH({activeDataKey:g,activeIndex:m,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var jRe=F6({brush:INe,cartesianAxis:xNe,chartData:X1e,errorBars:Pke,graphicalItems:QEe,layout:Pye,legend:Vxe,options:W1e,polarAxis:wEe,polarOptions:bRe,referenceElements:qNe,rootProps:yRe,tooltip:mSe,zIndex:D1e}),SRe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aye({reducer:jRe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([iW.middleware,sW.middleware,Gk.middleware,dW.middleware,hW.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(tq({type:"raf"}))},devTools:{serialize:{replacer:vRe},name:"recharts-".concat(r)}})};function CRe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Rn(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=SRe(t,n));var o=_N;return x.createElement(oOe,{context:o,store:i.current},r)}function ERe(e){var{layout:t,margin:r}=e,n=Xr(),a=Rn();return x.useEffect(()=>{a||(n(Aye(t)),n(Oye(r)))},[n,a,t,r]),null}var NRe=x.memo(ERe,np);function kRe(e){var t=Xr();return x.useEffect(()=>{t(xRe(e))},[t,e]),null}function _z(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=Xr();return x.useLayoutEffect(()=>(n.current&&a(T1e({zIndex:t,element:n.current,isPanorama:r})),()=>{a(P1e({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function jz(e){var{children:t,isPanorama:r}=e,n=et(_1e);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(_z,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(_z,{key:o,zIndex:o,isPanorama:r})))}var ORe=["children"];function ARe(e,t){if(e==null)return{};var r,n,a=RRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}var TRe={width:"100%",height:"100%",display:"block"},PRe=x.forwardRef((e,t)=>{var r=Sq(),n=Cq(),a=Pq();if(!Es(r)||!Es(n))return null;var{children:i,otherAttributes:o,title:c,desc:d}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=a?0:void 0,typeof o.role=="string"?m=o.role:m=a?"application":void 0),x.createElement(r6,ex({},o,{title:c,desc:d,role:m,tabIndex:f,width:r,height:n,style:TRe,ref:t}),i)}),DRe=e=>{var{children:t}=e,r=et(sb);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(r6,{width:n,height:a,x:o,y:i},t)},Sz=x.forwardRef((e,t)=>{var{children:r}=e,n=ARe(e,ORe),a=Rn();return a?x.createElement(DRe,null,x.createElement(jz,{isPanorama:!0},r)):x.createElement(PRe,ex({ref:t},n),x.createElement(jz,{isPanorama:!1},r))});function MRe(){var e=Xr(),[t,r]=x.useState(null),n=et(Zye);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;sr(i)&&i!==n&&e(Tye(i))}},[t,e,n]),r}function Cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cz(Object(r),!0).forEach(function(n){$Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Re(e,t,r){return(t=LRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=zRe(e,"string");return typeof t=="symbol"?t:t+""}function zRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xc(){return Xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xc.apply(null,arguments)}var FRe=()=>(sCe(),null);function tx(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var URe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:tx((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:tx((n=e.style)===null||n===void 0?void 0:n.height)}),c=x.useCallback((f,m)=>{o(p=>{var y=Math.round(f),g=Math.round(m);return p.containerWidth===y&&p.containerHeight===g?p:{containerWidth:y,containerHeight:g}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=b=>{var{width:w,height:_}=b[0].contentRect;c(w,_)},g=new ResizeObserver(y);g.observe(f),a.current=g}},[t,c]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[c]),x.createElement(x.Fragment,null,x.createElement(lb,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Xc({ref:d},e)))}),BRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:tx(r),containerHeight:tx(n)}),o=x.useCallback((d,f)=>{i(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();o(f,m)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(lb,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Xc({ref:c},e)))}),qRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(lb,{width:r,height:n}),x.createElement("div",Xc({ref:t},e)))}),VRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return jo(r)||jo(n)?x.createElement(BRe,Xc({},e,{ref:t})):x.createElement(qRe,Xc({},e,{ref:t}))});function HRe(e){return e===!0?URe:VRe}var WRe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:g,onTouchMove:b,onTouchStart:w,style:_,width:j,responsive:E,dispatchTouchEvents:N=!0}=e,k=x.useRef(null),O=Xr(),[T,R]=x.useState(null),[A,P]=x.useState(null),L=MRe(),M=AN(),$=M?.width>0?M.width:j,U=M?.height>0?M.height:a,X=x.useCallback(G=>{L(G),typeof t=="function"&&t(G),R(G),P(G),G!=null&&(k.current=G)},[L,t,R,P]),Y=x.useCallback(G=>{O(aW(G)),O(gi({handler:i,reactEvent:G}))},[O,i]),F=x.useCallback(G=>{O(kC(G)),O(gi({handler:f,reactEvent:G}))},[O,f]),H=x.useCallback(G=>{O($H()),O(gi({handler:m,reactEvent:G}))},[O,m]),I=x.useCallback(G=>{O(kC(G)),O(gi({handler:p,reactEvent:G}))},[O,p]),q=x.useCallback(()=>{O(uW())},[O]),ue=x.useCallback(G=>{O(cW(G.key))},[O]),B=x.useCallback(G=>{O(gi({handler:o,reactEvent:G}))},[O,o]),Q=x.useCallback(G=>{O(gi({handler:c,reactEvent:G}))},[O,c]),V=x.useCallback(G=>{O(gi({handler:d,reactEvent:G}))},[O,d]),ae=x.useCallback(G=>{O(gi({handler:y,reactEvent:G}))},[O,y]),Z=x.useCallback(G=>{O(gi({handler:w,reactEvent:G}))},[O,w]),ne=x.useCallback(G=>{N&&O(fW(G)),O(gi({handler:b,reactEvent:G}))},[O,N,b]),ee=x.useCallback(G=>{O(gi({handler:g,reactEvent:G}))},[O,g]),pe=HRe(E);return x.createElement(a8.Provider,{value:T},x.createElement(zpe.Provider,{value:A},x.createElement(pe,{width:$??_?.width,height:U??_?.height,className:Kt("recharts-wrapper",n),style:IRe({position:"relative",cursor:"default",width:$,height:U},_),onClick:Y,onContextMenu:B,onDoubleClick:Q,onFocus:q,onKeyDown:ue,onMouseDown:V,onMouseEnter:F,onMouseLeave:H,onMouseMove:I,onMouseUp:ae,onTouchEnd:ee,onTouchMove:ne,onTouchStart:Z,ref:X},x.createElement(FRe,null),r)))}),KRe=["width","height","responsive","children","className","style","compact","title","desc"];function GRe(e,t){if(e==null)return{};var r,n,a=YRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZRe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:c,compact:d,title:f,desc:m}=e,p=GRe(e,KRe),y=Xa(p);return d?x.createElement(x.Fragment,null,x.createElement(lb,{width:r,height:n}),x.createElement(Sz,{otherAttributes:y,title:f,desc:m},i)):x.createElement(WRe,{className:o,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(Sz,{otherAttributes:y,title:f,desc:m,ref:t},x.createElement(HNe,null,i)))});function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(null,arguments)}var XRe={top:5,right:5,bottom:5,left:5},QRe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:XRe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Yk=x.forwardRef(function(t,r){var n,a=qn(t.categoricalChartProps,QRe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(CRe,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},x.createElement(MNe,{chartData:f.data}),x.createElement(NRe,{layout:a.layout,margin:a.margin}),x.createElement(kRe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(ZRe,OC({},a,{ref:r})))}),JRe=["axis"],mW=x.forwardRef((e,t)=>x.createElement(Yk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JRe,tooltipPayloadSearcher:Ak,categoricalChartProps:e,ref:t})),eTe=["axis","item"],tTe=x.forwardRef((e,t)=>x.createElement(Yk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:eTe,tooltipPayloadSearcher:Ak,categoricalChartProps:e,ref:t})),rTe=["axis"],nTe=x.forwardRef((e,t)=>x.createElement(Yk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rTe,tooltipPayloadSearcher:Ak,categoricalChartProps:e,ref:t}));async function CS(e,t,r){const{data:n,error:a}=await Se.from("work_stats").select("earnings, units_completed, hours_worked").eq("worker_id",e).gte("work_date",t).lte("work_date",r);if(a)throw new Error(`Failed to calculate balance: ${a.message}`);const i=n||[];return{worker_id:e,total_earnings:i.reduce((o,c)=>o+(c.earnings||0),0),total_units:i.reduce((o,c)=>o+(c.units_completed||0),0),total_hours:i.reduce((o,c)=>o+(c.hours_worked||0),0),work_days:i.length,currency:"USD"}}async function aTe(e,t,r){const{data:n,error:a}=await Se.from("work_stats").select(`
      project_id,
      earnings,
      units_completed,
      hours_worked,
      projects:project_id (
        id,
        name
      )
    `).eq("worker_id",e).gte("work_date",t).lte("work_date",r);if(a)throw new Error(`Failed to get balance breakdown: ${a.message}`);const i=new Map;for(const o of n||[]){const c=o.project_id,d=o.projects;i.has(c)||i.set(c,{project_id:c,project_name:d?.name||"Unknown Project",total_earnings:0,total_units:0,total_hours:0,work_days:0});const f=i.get(c);f.total_earnings+=o.earnings||0,f.total_units+=o.units_completed||0,f.total_hours+=o.hours_worked||0,f.work_days+=1}return Array.from(i.values()).sort((o,c)=>c.total_earnings-o.total_earnings)}function iTe({workerId:e,workerName:t}){const r=new Date,n=He(po(r),"yyyy-MM-dd"),a=He(wo(r),"yyyy-MM-dd"),i=He(yv(r),"yyyy-MM-dd"),o=He(N1(r),"yyyy-MM-dd"),c=He(Yv(r,6),"yyyy-MM-dd"),{data:d,isLoading:f}=Je({queryKey:["worker-balance-month",e,n,a],queryFn:()=>CS(e,n,a)}),{data:m,isLoading:p}=Je({queryKey:["worker-balance-quarter",e,i,o],queryFn:()=>CS(e,i,o)}),{data:y,isLoading:g}=Je({queryKey:["worker-balance-total",e],queryFn:()=>CS(e,"2020-01-01",He(r,"yyyy-MM-dd"))}),{data:b,isLoading:w}=Je({queryKey:["worker-balance-breakdown",e,c],queryFn:()=>aTe(e,c,He(r,"yyyy-MM-dd"))}),_=He(Yv(r,1),"yyyy-MM-dd"),{data:j,isLoading:E}=Je({queryKey:["worker-daily-earnings",e,_],queryFn:async()=>{const{data:T,error:R}=await Se.from("work_stats").select(`
          work_date,
          earnings,
          units_completed,
          hours_worked,
          projects:project_id (
            name
          )
        `).eq("worker_id",e).gte("work_date",_).order("work_date",{ascending:!1});if(R)throw R;return(T||[]).map(A=>({work_date:A.work_date,earnings:A.earnings||0,units_completed:A.units_completed||0,hours_worked:A.hours_worked||0,project_name:A.projects?.name||"Unknown"}))}}),N=x.useMemo(()=>{if(!j)return[];const T=new Map;return j.forEach(R=>{const A=R.work_date.substring(0,7);T.set(A,(T.get(A)||0)+R.earnings)}),Array.from(T.entries()).sort((R,A)=>R[0].localeCompare(A[0])).map(([R,A])=>({month:He(new Date(R+"-01"),"MMM yyyy"),total:A}))},[j]),k=T=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(T);return f||p||g?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((T,R)=>s.jsx($e,{className:"h-32"},R))}),s.jsx($e,{className:"h-64"}),s.jsx($e,{className:"h-96"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(xx,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:k(y?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y?.work_days||0," work days recorded"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"This Month"}),s.jsx(Ic,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(d?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d?.total_units||0," units | ",d?.total_hours?.toFixed(1)||0," hours"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"This Quarter"}),s.jsx($c,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k(m?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m?.work_days||0," work days"]})]})]})]}),N.length>0&&s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5"}),"Earnings Over Time"]}),s.jsx(dt,{children:"Monthly earnings breakdown"})]}),s.jsx(ke,{children:s.jsx("div",{className:"h-80 w-full",children:s.jsx(_y,{width:"100%",height:"100%",children:s.jsxs(nTe,{data:N,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorEarnings",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:.1})]})}),s.jsx(fm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(mm,{dataKey:"month",tick:{fontSize:12},tickLine:!1,axisLine:!1,className:"text-muted-foreground"}),s.jsx(pm,{tickFormatter:T=>`$${T.toLocaleString()}`,tick:{fontSize:12},tickLine:!1,axisLine:!1,className:"text-muted-foreground",width:80}),s.jsx(Hy,{content:({active:T,payload:R})=>T&&R&&R.length?s.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:s.jsx("div",{className:"grid gap-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:R[0].payload.month}),s.jsx("span",{className:"font-bold text-primary",children:k(R[0].value)})]})})}):null}),s.jsx(Q8,{type:"monotone",dataKey:"total",stroke:"hsl(var(--primary))",strokeWidth:2,fillOpacity:1,fill:"url(#colorEarnings)"})]})})})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5"}),"Earnings by Project"]}),s.jsx(dt,{children:"Last 6 months breakdown"})]}),s.jsx(ke,{children:w?s.jsx($e,{className:"h-48"}):b&&b.length>0?s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Project"}),s.jsx(Oe,{className:"text-right",children:"Earnings"}),s.jsx(Oe,{className:"text-right",children:"Units"}),s.jsx(Oe,{className:"text-right",children:"Hours"}),s.jsx(Oe,{className:"text-right",children:"Days"})]})}),s.jsx(Yr,{children:b.map(T=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:T.project_name}),s.jsx(Ne,{className:"text-right font-semibold text-green-600",children:k(T.total_earnings)}),s.jsx(Ne,{className:"text-right",children:T.total_units}),s.jsx(Ne,{className:"text-right",children:T.total_hours.toFixed(1)}),s.jsx(Ne,{className:"text-right",children:s.jsx(ze,{variant:"secondary",children:T.work_days})})]},T.project_id))})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No project earnings recorded in the last 6 months."})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Ic,{className:"h-5 w-5"}),"Recent Earnings"]}),s.jsx(dt,{children:"Last 30 days detailed breakdown"})]}),s.jsx(ke,{children:E?s.jsx($e,{className:"h-48"}):j&&j.length>0?s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Date"}),s.jsx(Oe,{children:"Project"}),s.jsx(Oe,{className:"text-right",children:"Units"}),s.jsx(Oe,{className:"text-right",children:"Hours"}),s.jsx(Oe,{className:"text-right",children:"Earnings"})]})}),s.jsx(Yr,{children:j.map((T,R)=>s.jsxs(vt,{children:[s.jsx(Ne,{children:He(new Date(T.work_date),"MMM d, yyyy")}),s.jsx(Ne,{className:"font-medium",children:T.project_name}),s.jsx(Ne,{className:"text-right",children:T.units_completed||"-"}),s.jsx(Ne,{className:"text-right",children:T.hours_worked?T.hours_worked.toFixed(1):"-"}),s.jsx(Ne,{className:"text-right font-semibold text-green-600",children:T.earnings?k(T.earnings):"-"})]},`${T.work_date}-${R}`))})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No earnings recorded in the last 30 days."})})]})]})}function sTe(){const{id:e}=Qc(),t=Or(),n=ti().hash.replace("#","")||"profile",{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["worker",e],queryFn:async()=>{if(!e)throw new Error("Worker ID is required");const{data:f,error:m}=await Se.from("workers").select("*").eq("id",e).single();if(m)throw m;const p=f;if(p.supervisor_id){const{data:g}=await Se.from("workers").select("full_name").eq("id",p.supervisor_id).single();g&&(p.supervisor_name=g.full_name)}const y=[p.created_by,p.updated_by].filter(g=>!!g);if(y.length>0){const{data:g}=await Se.from("profiles").select("id, full_name").in("id",y);if(g){const b=new Map(g.map(w=>[w.id,w.full_name]));p.created_by&&(p.created_by_name=b.get(p.created_by)||null),p.updated_by&&(p.updated_by_name=b.get(p.updated_by)||null)}}return p},enabled:!!e}),d=f=>({active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"})[f]||"secondary";return i?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-24 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):o||!a?s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load worker: ",c?.message||"Worker not found"]})}),s.jsxs(se,{variant:"outline",onClick:()=>t("/workers"),className:"mt-4",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Workers"]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/workers"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Workers"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold",children:a.full_name}),s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx("span",{children:a.email_personal}),s.jsx("span",{children:""}),s.jsxs("span",{children:["HR ID: ",a.hr_id]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{variant:d(a.status),className:"text-sm px-3 py-1",children:a.status.toUpperCase()})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",onClick:()=>t(`/workers/${e}/edit`),children:"Edit Worker"}),s.jsx(se,{variant:"outline",disabled:!0,children:"Replace Account"}),s.jsx(se,{variant:"outline",disabled:!0,children:"Assign to Project"})]})]}),s.jsxs(dN,{value:n,onValueChange:f=>t(`#${f}`),children:[s.jsxs(qx,{children:[s.jsx(bi,{value:"profile",children:"Profile"}),s.jsx(bi,{value:"accounts",children:"Accounts"}),s.jsx(bi,{value:"projects",children:"Projects"}),s.jsx(bi,{value:"earnings",children:"Earnings"}),s.jsx(bi,{value:"activity",children:"Activity"})]}),s.jsx(wi,{value:"profile",className:"mt-6",children:s.jsx(vpe,{worker:a})}),s.jsx(wi,{value:"accounts",className:"mt-6",children:s.jsx(Epe,{workerId:a.id,workerName:a.full_name})}),s.jsx(wi,{value:"projects",className:"mt-6",children:s.jsx(Npe,{workerId:a.id,workerName:a.full_name})}),s.jsx(wi,{value:"earnings",className:"mt-6",children:s.jsx(iTe,{workerId:a.id,workerName:a.full_name})}),s.jsx(wi,{value:"activity",className:"mt-6",children:s.jsx(kpe,{workerId:a.id,workerName:a.full_name})})]})]})}function oTe(){const e=Or(),[t,r]=zC(),{isManagerOrAbove:n}=Ar(),[a,i]=x.useState([]),[o,c]=x.useState([]),[d,f]=x.useState(t.get("search")||""),[m,p]=x.useState(t.get("status")||"all"),[y,g]=x.useState(t.get("department")||"all"),{data:b,isLoading:w,isError:_,error:j}=Je({queryKey:["projects"],queryFn:async()=>{const{data:P,error:L}=await Se.from("workforce_projects").select("*").order("created_at",{ascending:!1});if(L)throw L;return P}}),{data:E}=Je({queryKey:["departments-map"],queryFn:async()=>{const{data:P,error:L}=await Se.from("departments").select("id, department_name");if(L)throw L;const M=new Map;return P?.forEach($=>M.set($.id,$.department_name)),M}}),N=x.useMemo(()=>!b||!E?b||[]:b.map(P=>({...P,departments:P.department_id?{name:E.get(P.department_id)||"Unknown"}:void 0})),[b,E]),{data:k}=Je({queryKey:["departments"],queryFn:async()=>{const{data:P,error:L}=await Se.from("departments").select("id, department_name").order("department_name");if(L)throw L;return P}});x.useEffect(()=>{const P=new URLSearchParams;d&&P.set("search",d),m!=="all"&&P.set("status",m),y!=="all"&&P.set("department",y),r(P,{replace:!0})},[d,m,y,r]);const O=x.useMemo(()=>N?N.filter(P=>{const L=d.toLowerCase(),M=!d||P.project_code.toLowerCase().includes(L)||P.project_name.toLowerCase().includes(L),$=m==="all"||P.status===m,U=y==="all"||P.department_id===y;return M&&$&&U}):[],[N,d,m,y]),T=[{accessorKey:"project_code",header:"Project Code",cell:({row:P})=>s.jsx("div",{className:"font-medium",children:P.original.project_code})},{accessorKey:"project_name",header:"Project Name",cell:({row:P})=>s.jsx("div",{className:"max-w-md truncate",children:P.original.project_name})},{accessorKey:"departments",header:"Department",cell:({row:P})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:P.original.departments?.name||"-"})},{accessorKey:"expert_tier",header:"Tier",cell:({row:P})=>{const L=P.original.expert_tier,M={tier0:"outline",tier1:"secondary",tier2:"default"};return s.jsx(ze,{variant:M[L]||"outline",children:L.toUpperCase()})}},{accessorKey:"status",header:"Status",cell:({row:P})=>{const L=P.original.status,M={active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"};return s.jsx(ze,{variant:M[L]||"secondary",children:L})}},{accessorKey:"start_date",header:"Start Date",cell:({row:P})=>{const L=P.original.start_date;return L?s.jsx("div",{className:"text-sm",children:He(new Date(L),"MMM d, yyyy")}):s.jsx("span",{children:"-"})}},{id:"actions",header:"Actions",cell:({row:P})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),e(`/projects/${P.original.id}/edit`)},children:"Edit"})})}],R=Kd({data:O,columns:T,getCoreRowModel:Vd(),getSortedRowModel:Wd(),getPaginationRowModel:Hd(),getFilteredRowModel:Cm(),onSortingChange:i,onColumnFiltersChange:c,state:{sorting:a,columnFilters:o},initialState:{pagination:{pageSize:25}}}),A=()=>{f(""),p("all"),g("all")};return w?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx($e,{className:"h-8 w-64"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):_?s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load projects: ",j?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage workforce projects (",b?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/projects/create"),children:[s.jsx(Cl,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xe,{id:"search",placeholder:"Search by project code or name...",value:d,onChange:P=>f(P.target.value),className:"pr-8"}),d&&s.jsx("button",{onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Rs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"status",children:"Status"}),s.jsxs(Ct,{value:m,onValueChange:p,children:[s.jsx(wt,{id:"status",children:s.jsx(Et,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Statuses"}),s.jsx(De,{value:"active",children:"Active"}),s.jsx(De,{value:"paused",children:"Paused"}),s.jsx(De,{value:"completed",children:"Completed"}),s.jsx(De,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"department",children:"Department"}),s.jsxs(Ct,{value:y,onValueChange:g,children:[s.jsx(wt,{id:"department",children:s.jsx(Et,{placeholder:"All Departments"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Departments"}),k?.map(P=>s.jsx(De,{value:P.id,children:P.department_name},P.id))]})]})]}),(d||m!=="all"||y!=="all")&&s.jsx(se,{variant:"outline",onClick:A,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",O.length," of ",b?.length||0," projects"]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:R.getHeaderGroups().map(P=>s.jsx(vt,{children:P.headers.map(L=>s.jsx(Oe,{children:L.isPlaceholder?null:Ei(L.column.columnDef.header,L.getContext())},L.id))},P.id))}),s.jsx(Yr,{children:R.getRowModel().rows?.length?R.getRowModel().rows.map(P=>s.jsx(vt,{onClick:()=>e(`/projects/${P.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:P.getVisibleCells().map(L=>s.jsx(Ne,{children:Ei(L.column.columnDef.cell,L.getContext())},L.id))},P.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:T.length,className:"h-24 text-center",children:"No projects found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",R.getState().pagination.pageIndex+1," of ",R.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]})]})}const pW=ru({project_code:Tt().min(3,"Project code must be at least 3 characters").max(20,"Project code must be at most 20 characters").regex(/^[a-zA-Z0-9_-]+$/,"Project code can only contain letters, numbers, hyphens, and underscores"),project_name:Tt().min(5,"Project name must be at least 5 characters"),department_id:Tt().uuid("Please select a department"),expert_tier:Uh(["tier0","tier1","tier2"]),status:Uh(["active","paused","completed","cancelled"]).default("active"),start_date:Tt().optional().or(ps("")),end_date:Tt().optional().or(ps(""))});var Zk="Radio",[lTe,gW]=ca(Zk),[cTe,uTe]=lTe(Zk),vW=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:d,form:f,...m}=e,[p,y]=x.useState(null),g=jt(t,_=>y(_)),b=x.useRef(!1),w=p?f||!!p.closest("form"):!0;return s.jsxs(cTe,{scope:r,checked:a,disabled:o,children:[s.jsx(it.button,{type:"button",role:"radio","aria-checked":a,"data-state":wW(a),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:g,onClick:Ie(e.onClick,_=>{a||d?.(),w&&(b.current=_.isPropagationStopped(),b.current||_.stopPropagation())})}),w&&s.jsx(bW,{control:p,bubbles:!b.current,name:n,value:c,checked:a,required:i,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});vW.displayName=Zk;var yW="RadioIndicator",xW=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=uTe(yW,r);return s.jsx(Bn,{present:n||i.checked,children:s.jsx(it.span,{"data-state":wW(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});xW.displayName=yW;var dTe="RadioBubbleInput",bW=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),c=jt(o,i),d=kx(r),f=Ex(t);return x.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&g){const b=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(b)}},[d,r,n]),s.jsx(it.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bW.displayName=dTe;function wW(e){return e?"checked":"unchecked"}var fTe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Tb="RadioGroup",[hTe]=ca(Tb,[ef,gW]),_W=ef(),jW=gW(),[mTe,pTe]=hTe(Tb),SW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...y}=e,g=_W(r),b=Gd(f),[w,_]=Ss({prop:i,defaultProp:a??null,onChange:p,caller:Tb});return s.jsx(mTe,{scope:r,name:n,required:o,disabled:c,value:w,onValueChange:_,children:s.jsx($E,{asChild:!0,...g,orientation:d,dir:b,loop:m,children:s.jsx(it.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...y,ref:t})})})});SW.displayName=Tb;var CW="RadioGroupItem",EW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=pTe(CW,r),o=i.disabled||n,c=_W(r),d=jW(r),f=x.useRef(null),m=jt(t,f),p=i.value===a.value,y=x.useRef(!1);return x.useEffect(()=>{const g=w=>{fTe.includes(w.key)&&(y.current=!0)},b=()=>y.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),s.jsx(LE,{asChild:!0,...c,focusable:!o,active:p,children:s.jsx(vW,{disabled:o,required:i.required,checked:p,...d,...a,name:i.name,ref:m,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ie(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Ie(a.onFocus,()=>{y.current&&f.current?.click()})})})});EW.displayName=CW;var gTe="RadioGroupIndicator",NW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=jW(r);return s.jsx(xW,{...a,...n,ref:t})});NW.displayName=gTe;var kW=SW,OW=EW,vTe=NW;const Xk=x.forwardRef(({className:e,...t},r)=>s.jsx(kW,{className:Me("grid gap-2",e),...t,ref:r}));Xk.displayName=kW.displayName;const Qk=x.forwardRef(({className:e,...t},r)=>s.jsx(OW,{ref:r,className:Me("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(vTe,{className:"flex items-center justify-center",children:s.jsx(rU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Qk.displayName=OW.displayName;const yTe=[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],xTe=[{value:"tier0",label:"Tier 0",description:"Entry-level annotators"},{value:"tier1",label:"Tier 1",description:"Experienced annotators"},{value:"tier2",label:"Tier 2",description:"Expert annotators"}];function bTe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,setValue:o,watch:c,formState:{errors:d}}=Ao({resolver:Ro(pW),defaultValues:{status:"active",expert_tier:"tier0"}}),{data:f}=Je({queryKey:["departments"],queryFn:async()=>{const{data:w,error:_}=await Se.from("departments").select("id, department_name").order("department_name");if(_)throw _;return w}}),m=mr({mutationFn:async w=>{const{error:_}=await Se.from("workforce_projects").insert({project_code:w.project_code,project_name:w.project_name,department_id:w.department_id,expert_tier:w.expert_tier,status:w.status,start_date:w.start_date||null,end_date:w.end_date||null});if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e("/projects")},onError:w=>{n(w.message||"Failed to create project")}}),p=w=>{n(null),m.mutate(w)},y=c("expert_tier"),g=c("department_id"),b=c("status");return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/projects"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new workforce project to the system"})]}),r&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:r})}),s.jsxs("form",{onSubmit:i(p),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Basic Information"}),s.jsx(dt,{children:"Project identification and basic details"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_code",children:["Project Code ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"project_code",placeholder:"e.g., PROJ-001",...a("project_code"),"aria-invalid":!!d.project_code}),d.project_code&&s.jsx("p",{className:"text-sm text-destructive",children:d.project_code.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier (letters, numbers, hyphens, underscores)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_name",children:["Project Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"project_name",placeholder:"e.g., Data Annotation Project",...a("project_name"),"aria-invalid":!!d.project_name}),d.project_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.project_name.message})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Project Configuration"}),s.jsx(dt,{children:"Department assignment and expert tier requirements"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:g,onValueChange:w=>o("department_id",w),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Et,{placeholder:"Select department"})}),s.jsx(_t,{children:f?.map(w=>s.jsx(De,{value:w.id,children:w.department_name},w.id))})]}),d.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"status",children:["Status ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:b,onValueChange:w=>o("status",w),children:[s.jsx(wt,{id:"status",children:s.jsx(Et,{placeholder:"Select status"})}),s.jsx(_t,{children:yTe.map(w=>s.jsx(De,{value:w.value,children:w.label},w.value))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(_e,{children:["Expert Tier ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xk,{value:y,onValueChange:w=>o("expert_tier",w),children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:xTe.map(w=>s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Qk,{value:w.value,id:w.value,className:"mt-1"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(_e,{htmlFor:w.value,className:"font-medium cursor-pointer",children:w.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]})]},w.value))})})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Timeline"}),s.jsx(dt,{children:"Project start and end dates (optional)"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Xe,{id:"start_date",type:"date",...a("start_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"end_date",children:"End Date"}),s.jsx(Xe,{id:"end_date",type:"date",...a("end_date")})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:m.isPending,children:m.isPending?"Creating...":"Create Project"})]})]})]})}const wTe=[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],_Te=[{value:"tier0",label:"Tier 0",description:"Entry-level annotators"},{value:"tier1",label:"Tier 1",description:"Experienced annotators"},{value:"tier2",label:"Tier 2",description:"Expert annotators"}];function jTe(){const{id:e}=Qc(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,reset:f,formState:{errors:m}}=Ao({resolver:Ro(pW)}),{data:p,isLoading:y}=Je({queryKey:["project",e],queryFn:async()=>{if(!e)throw new Error("Project ID is required");const{data:N,error:k}=await Se.from("workforce_projects").select("*").eq("id",e).single();if(k)throw k;return N},enabled:!!e}),{data:g}=Je({queryKey:["departments"],queryFn:async()=>{const{data:N,error:k}=await Se.from("departments").select("id, department_name").order("department_name");if(k)throw k;return N}});x.useEffect(()=>{p&&f({project_code:p.project_code,project_name:p.project_name,department_id:p.department_id,expert_tier:p.expert_tier,status:p.status,start_date:p.start_date||"",end_date:p.end_date||""})},[p,f]);const b=mr({mutationFn:async N=>{if(!e)throw new Error("Project ID is required");const{error:k}=await Se.from("workforce_projects").update({project_code:N.project_code,project_name:N.project_name,department_id:N.department_id,expert_tier:N.expert_tier,status:N.status,start_date:N.start_date||null,end_date:N.end_date||null,updated_at:new Date().toISOString()}).eq("id",e);if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["projects"]}),r.invalidateQueries({queryKey:["project",e]}),t("/projects")},onError:N=>{a(N.message||"Failed to update project")}}),w=N=>{a(null),b.mutate(N)},_=d("expert_tier")||p?.expert_tier,j=d("department_id")||p?.department_id,E=d("status")||p?.status;return y?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-64 w-full"}),s.jsx($e,{className:"h-64 w-full"})]}):p?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/projects"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project information"})]}),n&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:n})}),s.jsxs("form",{onSubmit:o(w),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Basic Information"}),s.jsx(dt,{children:"Project identification and basic details"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_code",children:["Project Code ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"project_code",placeholder:"e.g., PROJ-001",...i("project_code"),"aria-invalid":!!m.project_code}),m.project_code&&s.jsx("p",{className:"text-sm text-destructive",children:m.project_code.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier (letters, numbers, hyphens, underscores)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_name",children:["Project Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"project_name",placeholder:"e.g., Data Annotation Project",...i("project_name"),"aria-invalid":!!m.project_name}),m.project_name&&s.jsx("p",{className:"text-sm text-destructive",children:m.project_name.message})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Project Configuration"}),s.jsx(dt,{children:"Department assignment and expert tier requirements"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:j,onValueChange:N=>c("department_id",N),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Et,{placeholder:"Select department"})}),s.jsx(_t,{children:g?.map(N=>s.jsx(De,{value:N.id,children:N.department_name},N.id))})]}),m.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:m.department_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"status",children:["Status ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:E,onValueChange:N=>c("status",N),children:[s.jsx(wt,{id:"status",children:s.jsx(Et,{placeholder:"Select status"})}),s.jsx(_t,{children:wTe.map(N=>s.jsx(De,{value:N.value,children:N.label},N.value))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(_e,{children:["Expert Tier ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xk,{value:_,onValueChange:N=>c("expert_tier",N),children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:_Te.map(N=>s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Qk,{value:N.value,id:N.value,className:"mt-1"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(_e,{htmlFor:N.value,className:"font-medium cursor-pointer",children:N.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:N.description})]})]},N.value))})})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Timeline"}),s.jsx(dt,{children:"Project start and end dates (optional)"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Xe,{id:"start_date",type:"date",...i("start_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"end_date",children:"End Date"}),s.jsx(Xe,{id:"end_date",type:"date",...i("end_date")})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/projects"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":"Save Changes"})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:"Project not found"})})})}var STe=Symbol("radix.slottable");function CTe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=STe,t}var AW="AlertDialog",[ETe]=ca(AW,[J3]),zo=J3(),RW=e=>{const{__scopeAlertDialog:t,...r}=e,n=zo(t);return s.jsx(p5,{...n,...r,modal:!0})};RW.displayName=AW;var NTe="AlertDialogTrigger",kTe=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=zo(r);return s.jsx(vme,{...a,...n,ref:t})});kTe.displayName=NTe;var OTe="AlertDialogPortal",TW=e=>{const{__scopeAlertDialog:t,...r}=e,n=zo(t);return s.jsx(g5,{...n,...r})};TW.displayName=OTe;var ATe="AlertDialogOverlay",PW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=zo(r);return s.jsx(QE,{...a,...n,ref:t})});PW.displayName=ATe;var _d="AlertDialogContent",[RTe,TTe]=ETe(_d),PTe=CTe("AlertDialogContent"),DW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=zo(r),o=x.useRef(null),c=jt(t,o),d=x.useRef(null);return s.jsx(hme,{contentName:_d,titleName:MW,docsSlug:"alert-dialog",children:s.jsx(RTe,{scope:r,cancelRef:d,children:s.jsxs(JE,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:Ie(a.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[s.jsx(PTe,{children:n}),s.jsx(MTe,{contentRef:o})]})})})});DW.displayName=_d;var MW="AlertDialogTitle",IW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=zo(r);return s.jsx(eN,{...a,...n,ref:t})});IW.displayName=MW;var $W="AlertDialogDescription",LW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=zo(r);return s.jsx(tN,{...a,...n,ref:t})});LW.displayName=$W;var DTe="AlertDialogAction",zW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=zo(r);return s.jsx(rN,{...a,...n,ref:t})});zW.displayName=DTe;var FW="AlertDialogCancel",UW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=TTe(FW,r),i=zo(r),o=jt(t,a);return s.jsx(rN,{...i,...n,ref:o})});UW.displayName=FW;var MTe=({contentRef:e})=>{const t=`\`${_d}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${_d}\` by passing a \`${$W}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${_d}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},ITe=RW,$Te=TW,BW=PW,qW=DW,VW=zW,HW=UW,WW=IW,KW=LW;const Jk=ITe,LTe=$Te,GW=x.forwardRef(({className:e,...t},r)=>s.jsx(BW,{className:Me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));GW.displayName=BW.displayName;const Pb=x.forwardRef(({className:e,...t},r)=>s.jsxs(LTe,{children:[s.jsx(GW,{}),s.jsx(qW,{ref:r,className:Me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Pb.displayName=qW.displayName;const Db=({className:e,...t})=>s.jsx("div",{className:Me("flex flex-col space-y-2 text-center sm:text-left",e),...t});Db.displayName="AlertDialogHeader";const Mb=({className:e,...t})=>s.jsx("div",{className:Me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Mb.displayName="AlertDialogFooter";const Ib=x.forwardRef(({className:e,...t},r)=>s.jsx(WW,{ref:r,className:Me("text-lg font-semibold",e),...t}));Ib.displayName=WW.displayName;const $b=x.forwardRef(({className:e,...t},r)=>s.jsx(KW,{ref:r,className:Me("text-sm text-muted-foreground",e),...t}));$b.displayName=KW.displayName;const Lb=x.forwardRef(({className:e,...t},r)=>s.jsx(VW,{ref:r,className:Me(vd(),e),...t}));Lb.displayName=VW.displayName;const zb=x.forwardRef(({className:e,...t},r)=>s.jsx(HW,{ref:r,className:Me(vd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zb.displayName=HW.displayName;function zTe({open:e,onOpenChange:t,projectId:r,projectName:n,existingTeamIds:a}){const{user:i}=Ar(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState(""),[p,y]=x.useState(null),{data:g,isLoading:b}=Je({queryKey:["teams-for-assignment"],queryFn:async()=>{const{data:T,error:R}=await Se.from("teams").select(`
          id,
          team_name,
          locale_primary,
          locale_secondary,
          locale_region,
          is_active,
          department:departments(department_name)
        `).eq("is_active",!0).order("team_name");if(R)throw R;return T},enabled:e}),w=g?.filter(T=>{const R=!a.includes(T.id),A=f===""||T.team_name.toLowerCase().includes(f.toLowerCase())||T.locale_primary.toLowerCase().includes(f.toLowerCase())||T.department?.department_name?.toLowerCase().includes(f.toLowerCase());return R&&A}),_=mr({mutationFn:async T=>{const R=T.map(P=>({project_id:r,team_id:P,created_by:i?.id||null})),{error:A}=await Se.from("project_teams").insert(R);if(A)throw A},onSuccess:()=>{o.invalidateQueries({queryKey:["project-teams",r]}),o.invalidateQueries({queryKey:["teams-for-project"]}),d([]),m(""),y(null),t(!1)},onError:T=>{y(T instanceof Error?T.message:"Failed to assign teams")}}),j=T=>{d(R=>R.includes(T)?R.filter(A=>A!==T):[...R,T])},E=()=>{w&&d(w.map(T=>T.id))},N=()=>{d([])},k=()=>{c.length!==0&&(y(null),_.mutate(c))},O=T=>{T||(d([]),m(""),y(null)),t(T)};return s.jsx(ka,{open:e,onOpenChange:O,children:s.jsxs(ia,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Assign Teams to Project"}),s.jsxs(Ni,{children:["Select teams to assign to ",s.jsx("span",{className:"font-medium",children:n})]})]}),p&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:p})}),s.jsxs("div",{className:"relative",children:[s.jsx(qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Xe,{placeholder:"Search teams by name, locale, or department...",value:f,onChange:T=>m(T.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c.length," of ",w?.length||0," teams selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{variant:"ghost",size:"sm",onClick:E,children:"Select All"}),s.jsx(se,{variant:"ghost",size:"sm",onClick:N,children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md min-h-[200px] max-h-[400px]",children:b?s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"})]}):w&&w.length>0?s.jsx("div",{className:"divide-y",children:w.map(T=>s.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>j(T.id),children:[s.jsx(_o,{checked:c.includes(T.id),onCheckedChange:()=>j(T.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:T.team_name}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:T.department?.department_name||"No department"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:"outline",children:T.locale_primary}),T.locale_region&&s.jsx(ze,{variant:"secondary",children:T.locale_region})]})]},T.id))}):s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(_s,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),g&&g.length>0?s.jsx("p",{children:"No available teams match your search, or all teams are already assigned."}):s.jsx("p",{children:"No active teams found. Create teams first before assigning to projects."})]})}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),s.jsxs(se,{onClick:k,disabled:c.length===0||_.isPending,children:[_.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length," Team",c.length!==1?"s":""]})]})]})})}function FTe({projectId:e,projectName:t="this project"}){const r=jr(),[n,a]=x.useState(!1),[i,o]=x.useState(null),{data:c,isLoading:d}=Je({queryKey:["project-teams",e],queryFn:async()=>{const{data:b,error:w}=await Se.from("project_teams").select("id, team_id, project_id, created_at").eq("project_id",e).order("created_at",{ascending:!1});if(w)throw w;return b}}),f=c?.map(b=>b.team_id)||[],{data:m}=Je({queryKey:["teams-for-project",f],queryFn:async()=>{if(f.length===0)return[];const{data:b,error:w}=await Se.from("teams").select("id, team_name, locale_primary").in("id",f);if(w)throw w;return b},enabled:f.length>0}),p=c?.map(b=>({...b,teams:m?.find(w=>w.id===b.team_id)})),y=mr({mutationFn:async b=>{const{error:w}=await Se.from("project_teams").delete().eq("id",b);if(w)throw w},onSuccess:()=>{r.invalidateQueries({queryKey:["project-teams",e]}),o(null)}}),g=()=>{i&&y.mutate(i.id)};return d?s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Assigned Teams"}),s.jsx(dt,{children:"Teams assigned to this project"})]}),s.jsx(ke,{children:s.jsx("p",{className:"text-muted-foreground",children:"Loading teams..."})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Te,{children:"Assigned Teams"}),s.jsxs(dt,{children:[p?.length||0," team(s) assigned to this project"]})]}),s.jsxs(se,{onClick:()=>a(!0),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Assign Teams"]})]})}),s.jsx(ke,{children:p&&p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"font-medium",children:b.teams?.team_name||"Unknown Team"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned on ",He(new Date(b.created_at),"MMM d, yyyy")]})]}),b.teams?.locale_primary&&s.jsx(ze,{variant:"outline",children:b.teams.locale_primary})]}),s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>o({id:b.id,name:b.teams?.team_name||"Unknown Team"}),disabled:y.isPending,children:[s.jsx(Rs,{className:"h-4 w-4 mr-1"}),"Remove"]})]},b.id))}):s.jsx(pt,{children:s.jsx(gt,{children:'No teams assigned yet. Click "Assign Teams" to add teams to this project.'})})})]}),s.jsx(zTe,{open:n,onOpenChange:a,projectId:e,projectName:t,existingTeamIds:c?.map(b=>b.team_id)||[]}),s.jsx(Jk,{open:!!i,onOpenChange:b=>!b&&o(null),children:s.jsxs(Pb,{children:[s.jsxs(Db,{children:[s.jsx(Ib,{children:"Remove Team from Project"}),s.jsxs($b,{children:["Are you sure you want to remove ",s.jsx("span",{className:"font-medium",children:i?.name})," from this project? This action cannot be undone."]})]}),s.jsxs(Mb,{children:[s.jsx(zb,{children:"Cancel"}),s.jsx(Lb,{onClick:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Team"})]})]})})]})}function UTe({open:e,onOpenChange:t,projectId:r,projectName:n,existingWorkerIds:a}){const{user:i}=Ar(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState(""),[p,y]=x.useState(null),{data:g,isLoading:b}=Je({queryKey:["workers-for-project-assignment"],queryFn:async()=>{const{data:R,error:A}=await Se.from("workers").select("id, hr_id, full_name, email_personal, status, locale_primary").in("status",["active","pending"]).order("full_name");if(A)throw A;return R},enabled:e}),w=g?.filter(R=>{const A=!a.includes(R.id),P=f===""||R.full_name.toLowerCase().includes(f.toLowerCase())||R.hr_id.toLowerCase().includes(f.toLowerCase())||R.email_personal.toLowerCase().includes(f.toLowerCase())||R.locale_primary.toLowerCase().includes(f.toLowerCase());return A&&P}),_=mr({mutationFn:async R=>{const A=R.map(M=>({project_id:r,worker_id:M,assigned_at:new Date().toISOString(),assigned_by:i?.id||null})),{data:P,error:L}=await Se.from("worker_assignments").insert(A).select();if(L)throw L;return P},onSuccess:(R,A)=>{o.invalidateQueries({queryKey:["worker-assignments",r]}),A.forEach(P=>{o.invalidateQueries({queryKey:["worker-assignments",P]}),o.invalidateQueries({queryKey:["worker-active-project-ids",P]})}),d([]),m(""),y(null),t(!1)},onError:R=>{y(R instanceof Error?R.message:"Failed to assign workers")}}),j=R=>{d(A=>A.includes(R)?A.filter(P=>P!==R):[...A,R])},E=()=>{w&&d(w.map(R=>R.id))},N=()=>{d([])},k=()=>{c.length!==0&&(y(null),_.mutate(c))},O=R=>{R||(d([]),m(""),y(null)),t(R)},T={active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"};return s.jsx(ka,{open:e,onOpenChange:O,children:s.jsxs(ia,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Assign Workers to Project"}),s.jsxs(Ni,{children:["Select workers to assign to ",s.jsx("span",{className:"font-medium",children:n})]})]}),p&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:p})}),s.jsxs("div",{className:"relative",children:[s.jsx(qd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Xe,{placeholder:"Search workers by name, HR ID, email, or locale...",value:f,onChange:R=>m(R.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c.length," of ",w?.length||0," workers selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{variant:"ghost",size:"sm",onClick:E,children:"Select All"}),s.jsx(se,{variant:"ghost",size:"sm",onClick:N,children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md min-h-[200px] max-h-[400px]",children:b?s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"})]}):w&&w.length>0?s.jsx("div",{className:"divide-y",children:w.map(R=>s.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>j(R.id),children:[s.jsx(_o,{checked:c.includes(R.id),onCheckedChange:()=>j(R.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:R.full_name}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[R.hr_id,"  ",R.email_personal]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:T[R.status],children:R.status}),s.jsx(ze,{variant:"outline",children:R.locale_primary})]})]},R.id))}):s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(vE,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),g&&g.length>0?s.jsx("p",{children:"No available workers match your search, or all workers are already assigned."}):s.jsx("p",{children:"No active workers found."})]})}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>O(!1),children:"Cancel"}),s.jsxs(se,{onClick:k,disabled:c.length===0||_.isPending,children:[_.isPending&&s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length," Worker",c.length!==1?"s":""]})]})]})})}function BTe({projectId:e,projectName:t="this project"}){const r=jr(),[n,a]=x.useState(!1),[i,o]=x.useState(null),{data:c,isLoading:d}=Je({queryKey:["worker-assignments",e],queryFn:async()=>{const{data:j,error:E}=await Se.from("worker_assignments").select("id, worker_id, project_id, assigned_at, removed_at").eq("project_id",e).order("assigned_at",{ascending:!1});if(E)throw E;return j}}),f=c?.map(j=>j.worker_id)||[],{data:m}=Je({queryKey:["workers-for-project",f],queryFn:async()=>{if(f.length===0)return[];const{data:j,error:E}=await Se.from("workers").select("id, full_name, email_personal, status").in("id",f);if(E)throw E;return j},enabled:f.length>0}),p=c?.map(j=>({...j,workers:m?.find(E=>E.id===j.worker_id)})),y=p?.filter(j=>!j.removed_at)||[],g=p?.filter(j=>j.removed_at)||[],b=mr({mutationFn:async({assignmentId:j,workerId:E})=>{const{error:N}=await Se.from("worker_assignments").update({removed_at:new Date().toISOString()}).eq("id",j);if(N)throw N;return{workerId:E}},onSuccess:(j,E)=>{r.invalidateQueries({queryKey:["worker-assignments",e]}),r.invalidateQueries({queryKey:["worker-assignments",E.workerId]}),r.invalidateQueries({queryKey:["worker-active-project-ids",E.workerId]}),o(null)}}),w=()=>{i&&b.mutate({assignmentId:i.id,workerId:i.workerId})};if(d)return s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Assigned Workers"}),s.jsx(dt,{children:"Workers assigned to this project"})]}),s.jsx(ke,{children:s.jsx("p",{className:"text-muted-foreground",children:"Loading workers..."})})]});const _={active:"default",pending:"secondary",terminated:"destructive",inactive:"outline"};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Te,{children:"Current Assignments"}),s.jsxs(dt,{children:[y.length," worker(s) currently assigned"]})]}),s.jsxs(se,{onClick:()=>a(!0),children:[s.jsx(vE,{className:"h-4 w-4 mr-2"}),"Assign Workers"]})]})}),s.jsx(ke,{children:y.length>0?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Worker Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Assigned Date"}),s.jsx(Oe,{children:"Actions"})]})}),s.jsx(Yr,{children:y.map(j=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:j.workers?.full_name||"Unknown"}),s.jsx(Ne,{className:"text-sm text-muted-foreground",children:j.workers?.email_personal||"-"}),s.jsx(Ne,{children:j.workers&&s.jsx(ze,{variant:_[j.workers.status],children:j.workers.status})}),s.jsx(Ne,{className:"text-sm",children:He(new Date(j.assigned_at),"MMM d, yyyy")}),s.jsx(Ne,{children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>o({id:j.id,workerId:j.worker_id,name:j.workers?.full_name||"Unknown"}),disabled:b.isPending,children:[s.jsx(Rs,{className:"h-4 w-4 mr-1"}),"Remove"]})})]},j.id))})]})}):s.jsx(pt,{children:s.jsx(gt,{children:'No workers assigned yet. Click "Assign Workers" to add workers to this project.'})})})]}),g.length>0&&s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Past Assignments"}),s.jsxs(dt,{children:[g.length," worker(s) previously assigned"]})]}),s.jsx(ke,{children:s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Worker Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Assigned Date"}),s.jsx(Oe,{children:"Removed Date"})]})}),s.jsx(Yr,{children:g.map(j=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:j.workers?.full_name||"Unknown"}),s.jsx(Ne,{className:"text-sm text-muted-foreground",children:j.workers?.email_personal||"-"}),s.jsx(Ne,{className:"text-sm",children:He(new Date(j.assigned_at),"MMM d, yyyy")}),s.jsx(Ne,{className:"text-sm",children:j.removed_at?He(new Date(j.removed_at),"MMM d, yyyy"):"-"})]},j.id))})]})})})]}),s.jsx(UTe,{open:n,onOpenChange:a,projectId:e,projectName:t,existingWorkerIds:y.map(j=>j.worker_id)}),s.jsx(Jk,{open:!!i,onOpenChange:j=>!j&&o(null),children:s.jsxs(Pb,{children:[s.jsxs(Db,{children:[s.jsx(Ib,{children:"Remove Worker from Project"}),s.jsxs($b,{children:["Are you sure you want to remove ",s.jsx("span",{className:"font-medium",children:i?.name})," from this project? The worker will be soft-deleted and moved to past assignments."]})]}),s.jsxs(Mb,{children:[s.jsx(zb,{children:"Cancel"}),s.jsx(Lb,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Worker"})]})]})})]})}function qTe(){const{id:e}=Qc(),t=Or(),n=ti().hash.replace("#","")||"overview",[a,i]=x.useState(n),{data:o,isLoading:c,isError:d,error:f}=Je({queryKey:["project",e],queryFn:async()=>{if(!e)throw new Error("Project ID is required");const{data:b,error:w}=await Se.from("workforce_projects").select("*").eq("id",e).single();if(w)throw w;return b},enabled:!!e}),{data:m}=Je({queryKey:["department",o?.department_id],queryFn:async()=>{if(!o?.department_id)return null;const{data:b,error:w}=await Se.from("departments").select("department_name").eq("id",o.department_id).single();if(w)throw w;return b},enabled:!!o?.department_id}),p=b=>{i(b),t(`#${b}`,{replace:!0})};if(c)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-96 w-full"})]});if(d||!o)return s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:f?.message||"Project not found"})})});const y={active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"},g={tier0:"outline",tier1:"secondary",tier2:"default"};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/projects"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:o.project_name}),s.jsx(ze,{variant:y[o.status],children:o.status}),s.jsx(ze,{variant:g[o.expert_tier],children:o.expert_tier.toUpperCase()})]}),s.jsxs("p",{className:"text-muted-foreground",children:["Project Code: ",s.jsx("span",{className:"font-medium",children:o.project_code})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(se,{variant:"outline",onClick:()=>t(`/projects/${e}/edit`),children:[s.jsx(gE,{className:"h-4 w-4 mr-2"}),"Edit Project"]})})]})]}),s.jsxs(dN,{value:a,onValueChange:p,children:[s.jsxs(qx,{children:[s.jsx(bi,{value:"overview",children:"Overview"}),s.jsx(bi,{value:"teams",children:"Teams"}),s.jsx(bi,{value:"workers",children:"Workers"})]}),s.jsx(wi,{value:"overview",className:"space-y-4",children:s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Project Information"}),s.jsx(dt,{children:"Basic details about this project"})]}),s.jsx(ke,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Project Code"}),s.jsx("p",{className:"text-base font-medium",children:o.project_code})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Project Name"}),s.jsx("p",{className:"text-base font-medium",children:o.project_name})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{className:"text-base",children:m?.department_name||"Loading..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expert Tier"}),s.jsx(ze,{variant:g[o.expert_tier],children:o.expert_tier.toUpperCase()})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(ze,{variant:y[o.status],children:o.status})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"text-base",children:o.start_date?He(new Date(o.start_date),"MMM d, yyyy"):"-"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"End Date"}),s.jsx("p",{className:"text-base",children:o.end_date?He(new Date(o.end_date),"MMM d, yyyy"):"-"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-base",children:He(new Date(o.created_at),"MMM d, yyyy HH:mm")})]})]})})]})}),s.jsx(wi,{value:"teams",className:"space-y-4",children:s.jsx(FTe,{projectId:e,projectName:o.project_name})}),s.jsx(wi,{value:"workers",className:"space-y-4",children:s.jsx(BTe,{projectId:e,projectName:o.project_name})})]})]})}function VTe(){const e=Or(),[t,r]=zC(),{isManagerOrAbove:n}=Ar(),[a,i]=x.useState([]),[o,c]=x.useState([]),[d,f]=x.useState(t.get("search")||""),[m,p]=x.useState(t.get("department")||"all"),[y,g]=x.useState(t.get("active")||"all"),{data:b,isLoading:w,isError:_,error:j}=Je({queryKey:["teams"],queryFn:async()=>{const{data:P,error:L}=await Se.from("teams").select("*").order("created_at",{ascending:!1});if(L)throw L;return P}}),{data:E}=Je({queryKey:["departments-map"],queryFn:async()=>{const{data:P,error:L}=await Se.from("departments").select("id, department_name");if(L)throw L;const M=new Map;return P?.forEach($=>M.set($.id,$.department_name)),M}}),{data:N}=Je({queryKey:["departments"],queryFn:async()=>{const{data:P,error:L}=await Se.from("departments").select("id, department_name").order("department_name");if(L)throw L;return P}}),k=x.useMemo(()=>b?b.map(P=>({...P,departments:P.department_id?{name:E?.get(P.department_id)||"Unknown"}:void 0,workers_count:0})):[],[b,E]);x.useEffect(()=>{const P=new URLSearchParams;d&&P.set("search",d),m!=="all"&&P.set("department",m),y!=="all"&&P.set("active",y),r(P,{replace:!0})},[d,m,y,r]);const O=x.useMemo(()=>k?k.filter(P=>{const L=d.toLowerCase(),M=!d||P.team_name.toLowerCase().includes(L),$=m==="all"||P.department_id===m,U=y==="all"||y==="active"&&P.is_active||y==="inactive"&&!P.is_active;return M&&$&&U}):[],[k,d,m,y]),T=[{accessorKey:"team_name",header:"Team Name",cell:({row:P})=>s.jsx("div",{className:"font-medium",children:P.original.team_name})},{accessorKey:"departments",header:"Department",cell:({row:P})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:P.original.departments?.name||"-"})},{accessorKey:"locale_primary",header:"Primary Locale",cell:({row:P})=>s.jsx(ze,{variant:"outline",children:P.original.locale_primary})},{accessorKey:"locale_secondary",header:"Secondary Locale",cell:({row:P})=>{const L=P.original.locale_secondary;return L?s.jsx(ze,{variant:"secondary",children:L}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"is_active",header:"Status",cell:({row:P})=>{const L=P.original.is_active;return s.jsx(ze,{variant:L?"default":"secondary",children:L?"Active":"Inactive"})}},{id:"actions",header:"Actions",cell:({row:P})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:L=>{L.stopPropagation(),e(`/teams/${P.original.id}/edit`)},children:"Edit"})})}],R=Kd({data:O,columns:T,getCoreRowModel:Vd(),getSortedRowModel:Wd(),getPaginationRowModel:Hd(),getFilteredRowModel:Cm(),onSortingChange:i,onColumnFiltersChange:c,state:{sorting:a,columnFilters:o},initialState:{pagination:{pageSize:25}}}),A=()=>{f(""),p("all"),g("all")};return w?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx($e,{className:"h-8 w-64"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):_?s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load teams: ",j?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage language-based teams (",b?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/teams/create"),children:[s.jsx(_s,{className:"h-4 w-4 mr-2"}),"Create Team"]})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xe,{id:"search",placeholder:"Search by team name...",value:d,onChange:P=>f(P.target.value),className:"pr-8"}),d&&s.jsx("button",{onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Rs,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"department",children:"Department"}),s.jsxs(Ct,{value:m,onValueChange:p,children:[s.jsx(wt,{id:"department",children:s.jsx(Et,{placeholder:"All Departments"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Departments"}),N?.map(P=>s.jsx(De,{value:P.id,children:P.department_name},P.id))]})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"active",children:"Status"}),s.jsxs(Ct,{value:y,onValueChange:g,children:[s.jsx(wt,{id:"active",children:s.jsx(Et,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Statuses"}),s.jsx(De,{value:"active",children:"Active"}),s.jsx(De,{value:"inactive",children:"Inactive"})]})]})]}),(d||m!=="all"||y!=="all")&&s.jsx(se,{variant:"outline",onClick:A,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",O.length," of ",b?.length||0," teams"]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:R.getHeaderGroups().map(P=>s.jsx(vt,{children:P.headers.map(L=>s.jsx(Oe,{children:L.isPlaceholder?null:Ei(L.column.columnDef.header,L.getContext())},L.id))},P.id))}),s.jsx(Yr,{children:R.getRowModel().rows?.length?R.getRowModel().rows.map(P=>s.jsx(vt,{onClick:()=>e(`/teams/${P.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:P.getVisibleCells().map(L=>s.jsx(Ne,{children:Ei(L.column.columnDef.cell,L.getContext())},L.id))},P.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:T.length,className:"h-24 text-center",children:"No teams found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",R.getState().pagination.pageIndex+1," of ",R.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:"Next"})]})]})]})}const YW=ru({team_name:Tt().min(3,"Team name must be at least 3 characters"),department_id:Tt().uuid("Please select a department"),locale_primary:Tt().min(1,"Please select a primary locale"),locale_secondary:Tt().optional().or(ps("")),locale_region:Tt().optional().or(ps("")),is_active:bne()}),Ez=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"ja",label:"Japanese"},{value:"zh",label:"Chinese"},{value:"pt",label:"Portuguese"},{value:"it",label:"Italian"},{value:"ru",label:"Russian"},{value:"ar",label:"Arabic"},{value:"ko",label:"Korean"},{value:"hi",label:"Hindi"}],HTe=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"EU",label:"Europe"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"JP",label:"Japan"},{value:"CN",label:"China"},{value:"IN",label:"India"},{value:"PH",label:"Philippines"},{value:"AU",label:"Australia"}];function WTe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,setValue:o,watch:c,formState:{errors:d}}=Ao({resolver:Ro(YW),defaultValues:{is_active:!0}}),{data:f}=Je({queryKey:["departments"],queryFn:async()=>{const{data:j,error:E}=await Se.from("departments").select("id, department_name").order("department_name");if(E)throw E;return j}}),m=mr({mutationFn:async j=>{const{error:E}=await Se.from("teams").insert({team_name:j.team_name,department_id:j.department_id,locale_primary:j.locale_primary,locale_secondary:j.locale_secondary||null,locale_region:j.locale_region||null,is_active:j.is_active});if(E)throw E},onSuccess:()=>{t.invalidateQueries({queryKey:["teams"]}),e("/teams")},onError:j=>{n(j.message||"Failed to create team")}}),p=j=>{n(null),m.mutate(j)},y=c("locale_primary"),g=c("locale_secondary"),b=c("locale_region"),w=c("department_id"),_=c("is_active")??!0;return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/teams"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new language-based team to the system"})]}),r&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:r})}),s.jsxs("form",{onSubmit:i(p),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Basic Information"}),s.jsx(dt,{children:"Team identification and department assignment"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"team_name",children:["Team Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"team_name",placeholder:"e.g., Spanish Annotation Team",...a("team_name"),"aria-invalid":!!d.team_name}),d.team_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.team_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:w,onValueChange:j=>o("department_id",j),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Et,{placeholder:"Select department"})}),s.jsx(_t,{children:f?.map(j=>s.jsx(De,{value:j.id,children:j.department_name},j.id))})]}),d.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_id.message})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Locale Configuration"}),s.jsx(dt,{children:"Language and region settings for the team"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"locale_primary",children:["Primary Locale ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:y,onValueChange:j=>o("locale_primary",j),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Et,{placeholder:"Select primary locale"})}),s.jsx(_t,{children:Ez.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))})]}),d.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:d.locale_primary.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_secondary",children:"Secondary Locale"}),s.jsxs(Ct,{value:g||"none",onValueChange:j=>o("locale_secondary",j==="none"?"":j),children:[s.jsx(wt,{id:"locale_secondary",children:s.jsx(Et,{placeholder:"Select secondary locale (optional)"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"None"}),Ez.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_region",children:"Locale Region"}),s.jsxs(Ct,{value:b||"none",onValueChange:j=>o("locale_region",j==="none"?"":j),children:[s.jsx(wt,{id:"locale_region",children:s.jsx(Et,{placeholder:"Select region (optional)"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"None"}),HTe.map(j=>s.jsx(De,{value:j.value,children:j.label},j.value))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional geographic region for locale specialization"})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Team Status"}),s.jsx(dt,{children:"Set the team's active status"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_o,{id:"is_active",checked:_,onCheckedChange:j=>o("is_active",j)}),s.jsx(_e,{htmlFor:"is_active",className:"font-normal cursor-pointer",children:"Team is active"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/teams"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:m.isPending,children:m.isPending?"Creating...":"Create Team"})]})]})]})}const Nz=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"ja",label:"Japanese"},{value:"zh",label:"Chinese"},{value:"pt",label:"Portuguese"},{value:"it",label:"Italian"},{value:"ru",label:"Russian"},{value:"ar",label:"Arabic"},{value:"ko",label:"Korean"},{value:"hi",label:"Hindi"}],KTe=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"EU",label:"Europe"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"JP",label:"Japan"},{value:"CN",label:"China"},{value:"IN",label:"India"},{value:"PH",label:"Philippines"},{value:"AU",label:"Australia"}];function GTe(){const{id:e}=Qc(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,reset:f,formState:{errors:m}}=Ao({resolver:Ro(YW)}),{data:p,isLoading:y}=Je({queryKey:["team",e],queryFn:async()=>{if(!e)throw new Error("Team ID is required");const{data:O,error:T}=await Se.from("teams").select("*").eq("id",e).single();if(T)throw T;return O},enabled:!!e}),{data:g}=Je({queryKey:["departments"],queryFn:async()=>{const{data:O,error:T}=await Se.from("departments").select("id, department_name").order("department_name");if(T)throw T;return O}});x.useEffect(()=>{p&&f({team_name:p.team_name,department_id:p.department_id,locale_primary:p.locale_primary,locale_secondary:p.locale_secondary||"",locale_region:p.locale_region||"",is_active:p.is_active})},[p,f]);const b=mr({mutationFn:async O=>{if(!e)throw new Error("Team ID is required");const{error:T}=await Se.from("teams").update({team_name:O.team_name,department_id:O.department_id,locale_primary:O.locale_primary,locale_secondary:O.locale_secondary||null,locale_region:O.locale_region||null,is_active:O.is_active,updated_at:new Date().toISOString()}).eq("id",e);if(T)throw T},onSuccess:()=>{r.invalidateQueries({queryKey:["teams"]}),r.invalidateQueries({queryKey:["team",e]}),t("/teams")},onError:O=>{a(O.message||"Failed to update team")}}),w=O=>{a(null),b.mutate(O)},_=d("locale_primary")||p?.locale_primary,j=d("locale_secondary")??p?.locale_secondary,E=d("locale_region")??p?.locale_region,N=d("department_id")||p?.department_id,k=d("is_active")??p?.is_active;return y?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-64 w-full"}),s.jsx($e,{className:"h-64 w-full"})]}):p?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/teams"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Update team information"})]}),n&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:n})}),s.jsxs("form",{onSubmit:o(w),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Basic Information"}),s.jsx(dt,{children:"Team identification and department assignment"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"team_name",children:["Team Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"team_name",placeholder:"e.g., Spanish Annotation Team",...i("team_name"),"aria-invalid":!!m.team_name}),m.team_name&&s.jsx("p",{className:"text-sm text-destructive",children:m.team_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:N,onValueChange:O=>c("department_id",O),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Et,{placeholder:"Select department"})}),s.jsx(_t,{children:g?.map(O=>s.jsx(De,{value:O.id,children:O.department_name},O.id))})]}),m.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:m.department_id.message})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Locale Configuration"}),s.jsx(dt,{children:"Language and region settings for the team"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"locale_primary",children:["Primary Locale ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:_,onValueChange:O=>c("locale_primary",O),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Et,{placeholder:"Select primary locale"})}),s.jsx(_t,{children:Nz.map(O=>s.jsx(De,{value:O.value,children:O.label},O.value))})]}),m.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:m.locale_primary.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_secondary",children:"Secondary Locale"}),s.jsxs(Ct,{value:j||"none",onValueChange:O=>c("locale_secondary",O==="none"?"":O),children:[s.jsx(wt,{id:"locale_secondary",children:s.jsx(Et,{placeholder:"Select secondary locale (optional)"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"None"}),Nz.map(O=>s.jsx(De,{value:O.value,children:O.label},O.value))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_region",children:"Locale Region"}),s.jsxs(Ct,{value:E||"none",onValueChange:O=>c("locale_region",O==="none"?"":O),children:[s.jsx(wt,{id:"locale_region",children:s.jsx(Et,{placeholder:"Select region (optional)"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"none",children:"None"}),KTe.map(O=>s.jsx(De,{value:O.value,children:O.label},O.value))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional geographic region for locale specialization"})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Team Status"}),s.jsx(dt,{children:"Set the team's active status"})]}),s.jsx(ke,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_o,{id:"is_active",checked:k,onCheckedChange:O=>c("is_active",O)}),s.jsx(_e,{htmlFor:"is_active",className:"font-normal cursor-pointer",children:"Team is active"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/teams"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":"Save Changes"})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:"Team not found"})})})}function YTe({team:e}){return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(vx,{className:"h-5 w-5"}),"Team Information"]})}),s.jsxs(ke,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Team Name"}),s.jsx("p",{className:"text-base",children:e.team_name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{className:"text-base",children:e.department?.department_name||"Not assigned"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{children:s.jsx(ze,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})})]})]}),s.jsx(qc,{}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[s.jsx(l1,{className:"h-4 w-4"}),"Locale Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Primary Locale"}),s.jsx("div",{children:s.jsx(ze,{variant:"default",children:e.locale_primary})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Secondary Locale"}),s.jsx("div",{children:e.locale_secondary?s.jsx(ze,{variant:"secondary",children:e.locale_secondary}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Not set"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Region"}),s.jsx("div",{children:e.locale_region?s.jsx(ze,{variant:"outline",children:e.locale_region}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Not set"})})]})]})]}),s.jsx(qc,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Metadata"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{className:"text-sm",children:He(new Date(e.created_at),"PPP")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:He(new Date(e.updated_at),"PPP")})]})]})]})]})]})})}function ZTe({teamId:e,teamName:t}){const r=Or(),{data:n,isLoading:a,isError:i,error:o}=Je({queryKey:["team-projects",e],queryFn:async()=>{const{data:d,error:f}=await Se.from("project_teams").select(`
          project:workforce_projects(
            id,
            project_code,
            project_name,
            status,
            start_date,
            end_date
          )
        `).eq("team_id",e).order("created_at",{ascending:!1});if(f)throw f;return d.map(m=>m.project).filter(Boolean)}}),c=d=>({active:"default",planning:"secondary",paused:"outline",completed:"outline",cancelled:"destructive"})[d]||"secondary";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"})]}):i?s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load projects: ",o?.message||"Unknown error"]})}):!n||n.length===0?s.jsx(Ee,{children:s.jsxs(ke,{className:"py-12 text-center",children:[s.jsx(Bh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No projects assigned to this team yet."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Teams are assigned to projects through the project management interface."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," project",n.length!==1?"s":""," assigned to ",t]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Bh,{className:"h-5 w-5"}),"Assigned Projects"]}),s.jsx(dt,{children:"Projects that this team is currently working on"})]}),s.jsx(ke,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Project Code"}),s.jsx(Oe,{children:"Project Name"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Start Date"}),s.jsx(Oe,{children:"End Date"}),s.jsx(Oe,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:n.map(d=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:d.project_code}),s.jsx(Ne,{children:d.project_name}),s.jsx(Ne,{children:s.jsx(ze,{variant:c(d.status),children:d.status.toUpperCase()})}),s.jsx(Ne,{children:d.start_date?new Date(d.start_date).toLocaleDateString():"-"}),s.jsx(Ne,{children:d.end_date?new Date(d.end_date).toLocaleDateString():"-"}),s.jsx(Ne,{className:"text-right",children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(`/projects/${d.id}`),children:[s.jsx(aU,{className:"h-4 w-4 mr-1"}),"View"]})})]},d.id))})]})})]})]})}function XTe({teamId:e,teamName:t}){const r=Or(),{data:n,isLoading:a,isError:i,error:o}=Je({queryKey:["team-workers",e],queryFn:async()=>{const{data:m,error:p}=await Se.from("project_teams").select("project_id").eq("team_id",e);if(p)throw p;if(!m||m.length===0)return[];const y=m.map(_=>_.project_id),{data:g,error:b}=await Se.from("worker_assignments").select(`
          worker_id,
          workers (
            id,
            hr_id,
            full_name,
            email_personal,
            status,
            worker_role,
            hire_date
          )
        `).in("project_id",y).is("removed_at",null);if(b)throw b;if(!g)return[];const w=new Map;return g.forEach(_=>{_.workers&&!w.has(_.workers.id)&&w.set(_.workers.id,_.workers)}),Array.from(w.values()).sort((_,j)=>_.full_name.localeCompare(j.full_name))}}),c=m=>({active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"})[m]||"secondary";if(a)return s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-32 w-full"}),s.jsx($e,{className:"h-32 w-full"})]});if(i)return s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load workers: ",o?.message||"Unknown error"]})});if(!n||n.length===0)return s.jsx(Ee,{children:s.jsxs(ke,{className:"py-12 text-center",children:[s.jsx(_s,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No workers currently assigned to projects for this team."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Workers appear here when they are assigned to projects that this team works on."})]})});const d=n.filter(m=>m.status==="active"||m.status==="pending"),f=n.filter(m=>m.status==="inactive"||m.status==="terminated");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workers on Team Projects"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," worker",n.length!==1?"s":""," on projects assigned to ",t," ","(",d.length," active)"]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(_s,{className:"h-5 w-5"}),"Workers"]}),s.jsx(dt,{children:"Workers assigned to projects this team works on"})]}),s.jsx(ke,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"HR ID"}),s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Email"}),s.jsx(Oe,{children:"Role"}),s.jsx(Oe,{children:"Status"}),s.jsx(Oe,{children:"Hire Date"}),s.jsx(Oe,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:n.map(m=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium",children:m.hr_id}),s.jsx(Ne,{children:m.full_name}),s.jsx(Ne,{className:"text-sm text-muted-foreground",children:m.email_personal}),s.jsx(Ne,{className:"text-sm",children:m.worker_role||"-"}),s.jsx(Ne,{children:s.jsx(ze,{variant:c(m.status),children:m.status.toUpperCase()})}),s.jsx(Ne,{children:new Date(m.hire_date).toLocaleDateString()}),s.jsx(Ne,{className:"text-right",children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(`/workers/${m.id}`),children:[s.jsx(aU,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-3",children:s.jsx(Te,{className:"text-sm font-medium",children:"Active Workers"})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active or pending"})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-3",children:s.jsx(Te,{className:"text-sm font-medium",children:"Inactive Workers"})}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive or terminated"})]})]})]})]})}function QTe(){const{id:e}=Qc(),t=Or(),n=ti().hash.replace("#","")||"overview",{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["team",e],queryFn:async()=>{if(!e)throw new Error("Team ID is required");const{data:d,error:f}=await Se.from("teams").select(`
          *,
          department:departments(id, department_name)
        `).eq("id",e).single();if(f)throw f;return d},enabled:!!e});return i?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-24 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):o||!a?s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load team: ",c?.message||"Team not found"]})}),s.jsxs(se,{variant:"outline",onClick:()=>t("/teams"),className:"mt-4",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Teams"]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/teams"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold",children:a.team_name}),s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx("span",{children:a.department?.department_name||"No department"}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Primary Locale: ",a.locale_primary]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{variant:a.is_active?"default":"secondary",className:"text-sm px-3 py-1",children:a.is_active?"ACTIVE":"INACTIVE"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(se,{variant:"outline",onClick:()=>t(`/teams/${e}/edit`),children:"Edit Team"})})]}),s.jsxs(dN,{value:n,onValueChange:d=>t(`#${d}`),children:[s.jsxs(qx,{children:[s.jsx(bi,{value:"overview",children:"Overview"}),s.jsx(bi,{value:"projects",children:"Projects"}),s.jsx(bi,{value:"workers",children:"Workers"})]}),s.jsx(wi,{value:"overview",className:"mt-6",children:s.jsx(YTe,{team:a})}),s.jsx(wi,{value:"projects",className:"mt-6",children:s.jsx(ZTe,{teamId:a.id,teamName:a.team_name})}),s.jsx(wi,{value:"workers",className:"mt-6",children:s.jsx(XTe,{teamId:a.id,teamName:a.team_name})})]})]})}function JTe(){const e=Or(),[t,r]=x.useState([]),{isAdminOrAbove:n}=Ar(),{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["departments-list"],queryFn:async()=>{const{data:y,error:g}=await Se.from("departments").select("id, department_name, description, created_at").order("department_name",{ascending:!0});if(g)throw g;return y}}),{data:d}=Je({queryKey:["departments-teams-counts"],queryFn:async()=>{const{data:y,error:g}=await Se.from("teams").select("id, department_id");if(g)throw g;const b=new Map;return y?.forEach(w=>{b.set(w.department_id,(b.get(w.department_id)||0)+1)}),b}}),f=x.useMemo(()=>a?a.map(y=>({...y,teams_count:d?.get(y.id)||0})):[],[a,d]),m=[{accessorKey:"department_name",header:"Name",cell:({row:y})=>s.jsx("div",{className:"font-medium",children:y.original.department_name})},{accessorKey:"description",header:"Description",cell:({row:y})=>s.jsx("div",{className:"max-w-md text-sm text-muted-foreground truncate",children:y.original.description||"-"})},{accessorKey:"teams_count",header:"Teams",cell:({row:y})=>s.jsx("div",{className:"text-sm",children:y.original.teams_count||0})},{accessorKey:"created_at",header:"Created",cell:({row:y})=>{const g=y.original.created_at;return g?s.jsx("div",{className:"text-sm",children:He(new Date(g),"MMM d, yyyy")}):s.jsx("span",{children:"-"})}},{id:"actions",header:"Actions",cell:({row:y})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),e(`/departments/${y.original.id}/edit`)},children:"Edit"})})}],p=Kd({data:f,columns:m,getCoreRowModel:Vd(),getSortedRowModel:Wd(),getPaginationRowModel:Hd(),onSortingChange:r,state:{sorting:t},initialState:{pagination:{pageSize:25}}});return i?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx($e,{className:"h-8 w-64"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-96 w-full"})]}):o?s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load departments: ",c?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Departments"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage organizational departments (",a?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/departments/create"),children:[s.jsx(vx,{className:"h-4 w-4 mr-2"}),"Create Department"]})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:p.getHeaderGroups().map(y=>s.jsx(vt,{children:y.headers.map(g=>s.jsx(Oe,{children:g.isPlaceholder?null:Ei(g.column.columnDef.header,g.getContext())},g.id))},y.id))}),s.jsx(Yr,{children:p.getRowModel().rows?.length?p.getRowModel().rows.map(y=>s.jsx(vt,{className:"hover:bg-muted/50",children:y.getVisibleCells().map(g=>s.jsx(Ne,{children:Ei(g.column.columnDef.cell,g.getContext())},g.id))},y.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:m.length,className:"h-24 text-center",children:"No departments found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",p.getState().pagination.pageIndex+1," of ",p.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),children:"Next"})]})]})]})}const ZW=ru({department_name:Tt().min(3,"Department name must be at least 3 characters"),description:Tt().optional().or(ps(""))}),eO=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));eO.displayName="Textarea";function ePe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,formState:{errors:o}}=Ao({resolver:Ro(ZW)}),c=mr({mutationFn:async f=>{const{error:m}=await Se.from("departments").insert({department_name:f.department_name,description:f.description||null});if(m)throw m},onSuccess:()=>{t.invalidateQueries({queryKey:["departments"]}),t.invalidateQueries({queryKey:["departments-list"]}),e("/departments")},onError:f=>{n(f.message||"Failed to create department")}}),d=f=>{n(null),c.mutate(f)};return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/departments"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Departments"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Department"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new department to the organization"})]}),r&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:r})}),s.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Department Information"}),s.jsx(dt,{children:"Basic details about the department"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_name",children:["Department Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"department_name",placeholder:"e.g., Annotation, Quality Assurance, Operations",...a("department_name"),"aria-invalid":!!o.department_name}),o.department_name&&s.jsx("p",{className:"text-sm text-destructive",children:o.department_name.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be unique across all departments"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"description",children:"Description"}),s.jsx(eO,{id:"description",placeholder:"Optional description of the department's responsibilities and focus areas",rows:4,...a("description")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide additional context about this department"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/departments"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:c.isPending,children:c.isPending?"Creating...":"Create Department"})]})]})]})}function tPe(){const{id:e}=Qc(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,reset:c,formState:{errors:d}}=Ao({resolver:Ro(ZW)}),{data:f,isLoading:m}=Je({queryKey:["department",e],queryFn:async()=>{if(!e)throw new Error("Department ID is required");const{data:w,error:_}=await Se.from("departments").select("*").eq("id",e).single();if(_)throw _;return w},enabled:!!e}),{data:p}=Je({queryKey:["department-usage",e],queryFn:async()=>{if(!e)return{teams:0,projects:0};const[w,_]=await Promise.all([Se.from("teams").select("id",{count:"exact",head:!0}).eq("department_id",e),Se.from("workforce_projects").select("id",{count:"exact",head:!0}).eq("department_id",e)]);return{teams:w.count||0,projects:_.count||0}},enabled:!!e});x.useEffect(()=>{f&&c({department_name:f.department_name,description:f.description||""})},[f,c]);const y=mr({mutationFn:async w=>{if(!e)throw new Error("Department ID is required");const{error:_}=await Se.from("departments").update({department_name:w.department_name,description:w.description||null,updated_at:new Date().toISOString()}).eq("id",e);if(_)throw _},onSuccess:()=>{r.invalidateQueries({queryKey:["departments"]}),r.invalidateQueries({queryKey:["departments-list"]}),r.invalidateQueries({queryKey:["department",e]}),t("/departments")},onError:w=>{a(w.message||"Failed to update department")}}),g=w=>{a(null),y.mutate(w)};if(m)return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx($e,{className:"h-64 w-full"})]});if(!f)return s.jsx("div",{className:"p-6",children:s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:"Department not found"})})});const b=(p?.teams||0)>0||(p?.projects||0)>0;return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/departments"),className:"mb-2",children:[s.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Back to Departments"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Department"}),s.jsx("p",{className:"text-muted-foreground",children:"Update department information"})]}),b&&s.jsxs(pt,{children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsxs(gt,{children:["This department has ",s.jsxs("strong",{children:[p?.teams||0," team(s)"]})," and"," ",s.jsxs("strong",{children:[p?.projects||0," project(s)"]})," assigned to it. Deletion is not allowed while resources are associated."]})]}),n&&s.jsx(pt,{variant:"destructive",children:s.jsx(gt,{children:n})}),s.jsxs("form",{onSubmit:o(g),className:"space-y-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Department Information"}),s.jsx(dt,{children:"Basic details about the department"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_name",children:["Department Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Xe,{id:"department_name",placeholder:"e.g., Annotation, Quality Assurance, Operations",...i("department_name"),"aria-invalid":!!d.department_name}),d.department_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_name.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be unique across all departments"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"description",children:"Description"}),s.jsx(eO,{id:"description",placeholder:"Optional description of the department's responsibilities and focus areas",rows:4,...i("description")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide additional context about this department"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/departments"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:y.isPending,children:y.isPending?"Saving...":"Save Changes"})]})]})]})}const ES=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,XW=/^\d{4}-\d{2}-\d{2}$/,rPe=/^\d{1,2}\/\d{1,2}\/\d{4}$/;function nPe(e){if(!e||typeof e!="string")return e;const t=e.trim();if(XW.test(t))return t;if(rPe.test(t)){const r=t.split("/"),n=r[0].padStart(2,"0"),a=r[1].padStart(2,"0");return`${r[2]}-${a}-${n}`}return t}const aPe=Tt().transform((e,t)=>{const r=nPe(e);if(!XW.test(r))return t.addIssue({code:ID.custom,message:"Invalid date format (use YYYY-MM-DD or DD/MM/YYYY)"}),hD;const[n,a,i]=r.split("-").map(Number),o=new Date(n,a-1,i);return o.getFullYear()!==n||o.getMonth()!==a-1||o.getDate()!==i?(t.addIssue({code:ID.custom,message:"Invalid date (check day/month values)"}),hD):r}),iPe=ru({worker_account_email:Tt().email("Invalid email format"),project_code:Tt().min(1,"Project code is required"),work_date:aPe,locale_code:Tt().optional().nullable(),units_completed:gd().int().positive("Units must be greater than 0").optional().nullable(),hours_worked:gd().positive("Hours must be greater than 0").max(24,"Hours cannot exceed 24").optional().nullable(),earnings:gd().nonnegative("Earnings must be non-negative").optional().nullable()}),sPe=ru({worker_id:Tt().regex(ES,"Invalid worker ID format"),worker_account_id:Tt().regex(ES,"Invalid worker account ID format").optional().nullable(),project_id:Tt().regex(ES,"Invalid project ID format"),work_date:Tt().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format (use YYYY-MM-DD)"),units_completed:gd().int().positive("Units must be greater than 0").optional().nullable(),hours_worked:gd().positive("Hours must be greater than 0").max(24,"Hours cannot exceed 24").optional().nullable(),earnings:gd().nonnegative("Earnings must be non-negative").optional().nullable()});sPe.extend({id:Tt().uuid().optional(),created_at:Tt().optional(),created_by:Tt().uuid().optional().nullable(),updated_at:Tt().optional(),updated_by:Tt().uuid().optional().nullable()});async function oPe(e){const{data:t,error:r}=await Se.from("worker_accounts").select(`
      id,
      worker_id,
      worker_account_email,
      workers:worker_id (
        id,
        locale_primary,
        country_residence
      )
    `).eq("worker_account_email",e).eq("status","active").eq("is_current",!0).single();if(r||!t){const{data:a,error:i}=await Se.from("workers").select("id, email_pph, locale_primary, country_residence").eq("email_pph",e).single();if(i||!a)return null;const{data:o}=await Se.from("worker_accounts").select("id").eq("worker_id",a.id).eq("status","active").eq("is_current",!0).single();return{worker_id:a.id,worker_account_id:o?.id||"",locale_primary:a.locale_primary,country_residence:a.country_residence}}const n=t.workers;return{worker_id:t.worker_id,worker_account_id:t.id,locale_primary:n?.locale_primary||"",country_residence:n?.country_residence||""}}async function lPe(e){const{data:t,error:r}=await Se.from("workforce_projects").select("id, expert_tier").eq("project_code",e).single();if(!r&&t)return{id:t.id,expert_tier:t.expert_tier};const{data:n,error:a}=await Se.from("projects").select("id, name").ilike("name",`%${e}%`).limit(1).single();return!a&&n?{id:n.id,expert_tier:"standard"}:null}async function cPe(e){const{data:t,error:r}=await Se.from("locale_mappings").select("standard_iso_code, locale_name").eq("client_locale_code",e).single();return r||!t?null:{standard_iso_code:t.standard_iso_code,locale_name:t.locale_name}}async function uPe(e,t,r,n){const a=r,{data:i,error:o}=await Se.from("rates_payable").select("rate_per_unit, rate_per_hour, currency").eq("locale",e).eq("country",t).eq("expert_tier",a).lte("effective_from",n).or(`effective_to.is.null,effective_to.gte.${n}`).order("effective_from",{ascending:!1}).limit(1);if(!o&&i&&i.length>0)return{rate_per_unit:i[0].rate_per_unit,rate_per_hour:i[0].rate_per_hour,currency:i[0].currency};const{data:c,error:d}=await Se.from("rates_payable").select("rate_per_unit, rate_per_hour, currency").eq("locale",e).eq("expert_tier",a).lte("effective_from",n).or(`effective_to.is.null,effective_to.gte.${n}`).order("effective_from",{ascending:!1}).limit(1);return!d&&c&&c.length>0?{rate_per_unit:c[0].rate_per_unit,rate_per_hour:c[0].rate_per_hour,currency:c[0].currency}:null}function dPe(e,t,r){if(!r)return null;let n=0;return e&&r.rate_per_unit&&(n+=e*r.rate_per_unit),t&&r.rate_per_hour&&!r.rate_per_unit&&(n+=t*r.rate_per_hour),n>0?Number(n.toFixed(2)):null}async function fPe(e,t){const r=[],n=await oPe(e.worker_account_email);n||r.push({row:t,field:"worker_account_email",message:`No active worker account found for email: ${e.worker_account_email}`,data:e});const a=await lPe(e.project_code);a||r.push({row:t,field:"project_code",message:`Project not found with code: ${e.project_code}`,data:e});let i=n?.locale_primary||"";if(e.locale_code){const o=await cPe(e.locale_code);o?i=o.standard_iso_code:i=e.locale_code}return r.length>0||!n||!a?{result:null,errors:r}:{result:{worker_id:n.worker_id,worker_account_id:n.worker_account_id||null,project_id:a.id,worker_locale:i,worker_country:n.country_residence,project_expert_tier:a.expert_tier},errors:[],resolvedLocale:i}}async function hPe(e,t,r,n){let a=Se.from("work_stats").select("*",{count:"exact",head:!0}).eq("worker_id",e).eq("project_id",t).eq("work_date",r);n&&(a=a.eq("worker_account_id",n));const{count:i,error:o}=await a;return o?(console.error("Error checking duplicate:",o),!1):(i||0)>0}function mPe(e){const t=new Date;return t.setHours(0,0,0,0),new Date(e)<=t}async function pPe(e,t,r){const n=[];return mPe(e.work_date)||n.push({row:r,field:"work_date",message:"Work date cannot be in the future",data:t}),await hPe(e.worker_id,e.project_id,e.work_date,e.worker_account_id)&&n.push({row:r,field:"work_date",message:"Duplicate entry: Work stat already exists for this worker, project, and date",data:t}),n}async function gPe(e,t,r=10){let n=0,a=0;const i=[];for(let o=0;o<e.length;o+=r){const c=e.slice(o,o+r),d=c.map(p=>({worker_id:p.worker_id,worker_account_id:p.worker_account_id||null,project_id:p.project_id,work_date:p.work_date,units_completed:p.units_completed||null,hours_worked:p.hours_worked||null,earnings:p.earnings||null,created_by:t,created_at:new Date().toISOString()})),{data:f,error:m}=await Se.from("work_stats").insert(d).select();m?(console.error("Batch insert error:",m),a+=c.length,c.forEach((p,y)=>{i.push({row:o+y+2,message:`Insert failed: ${m.message}`})})):n+=f?.length||0}return{successCount:n,errorCount:a,errors:i}}const kz=["worker_account_email","project_code","work_date"],vPe=["locale_code","units_completed","hours_worked","earnings"];function yPe(){const{user:e}=Ar(),{toast:t}=Ll(),r=jr(),[n,a]=x.useState(null),[i,o]=x.useState([]),[c,d]=x.useState([]),[f,m]=x.useState(!1),[p,y]=x.useState(0),[g,b]=x.useState(null),w=()=>{const T=[...kz,...vPe],R=new Date,A=new Date(R),P=Math.floor(Math.random()*170)+30,L=I=>I.toISOString().split("T")[0],M=new Date(A);M.setDate(M.getDate()-P);const $=new Date(A);$.setDate($.getDate()-P-1);const U=new Date(A);U.setDate(U.getDate()-P-2);const X=[T.join(","),`john.doe@pph.com,VA-ENG-2024,${L(M)},en-US,150,8,200.00`,`jane.smith@pph.com,VA-ENG-2024,${L($)},en-GB,180,8,`,`carlos.garcia@pph.com,AUD-SPA-2024,${L(U)},es-MX,100,6,150.00`].join(`
`),Y=new Blob([X],{type:"text/csv"}),F=URL.createObjectURL(Y),H=document.createElement("a");H.href=F,H.download="work_stats_import_template.csv",document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(F),t({title:"Template Downloaded",description:"CSV template downloaded successfully"})},_=()=>{if(c.length===0)return;const T=c.map(M=>({row:M.row,field:M.field||"general",message:M.message,worker_account_email:M.data?.worker_account_email||"",project_code:M.data?.project_code||"",work_date:M.data?.work_date||""})),R=A1.unparse(T),A=new Blob([R],{type:"text/csv"}),P=URL.createObjectURL(A),L=document.createElement("a");L.href=P,L.download="work_stats_import_errors.csv",document.body.appendChild(L),L.click(),document.body.removeChild(L),URL.revokeObjectURL(P),t({title:"Error Report Downloaded",description:`Downloaded error report with ${c.length} error(s)`})},j=T=>{const R=T.target.files?.[0];R&&(a(R),d([]),o([]),b(null))},E=async()=>{if(!n){t({variant:"destructive",title:"No File Selected",description:"Please select a CSV file first"});return}m(!0),d([]),o([]);try{A1.parse(n,{header:!0,skipEmptyLines:!0,complete:async T=>{try{const R=[],A=[];if(!T.data||T.data.length===0){R.push({row:0,field:"file",message:"CSV file is empty or has no data rows"}),d(R),m(!1),t({variant:"destructive",title:"Empty File",description:"The CSV file contains no data rows"});return}const P=Object.keys(T.data[0]||{}),L=kz.filter(M=>!P.includes(M));if(L.length>0){R.push({row:0,field:"headers",message:`Missing required columns: ${L.join(", ")}`}),d(R),m(!1),t({variant:"destructive",title:"Missing Columns",description:`Required columns missing: ${L.join(", ")}`});return}for(let M=0;M<T.data.length;M++){const $=T.data[M],U=M+2;try{const X=iPe.parse({worker_account_email:$.worker_account_email?.trim(),project_code:$.project_code?.trim(),work_date:$.work_date?.trim(),locale_code:$.locale_code?.trim()||null,units_completed:$.units_completed?.trim()||null,hours_worked:$.hours_worked?.trim()||null,earnings:$.earnings?.trim()||null}),{result:Y,errors:F}=await fPe(X,U);if(F.length>0){R.push(...F);continue}if(!Y)continue;let H=X.earnings;if(!H&&(X.units_completed||X.hours_worked)){const ue=await uPe(Y.worker_locale,Y.worker_country,Y.project_expert_tier,X.work_date);ue&&(H=dPe(X.units_completed,X.hours_worked,ue))}const I={worker_id:Y.worker_id,worker_account_id:Y.worker_account_id,project_id:Y.project_id,work_date:X.work_date,units_completed:X.units_completed,hours_worked:X.hours_worked,earnings:H},q=await pPe(I,X,U);q.length>0?R.push(...q):A.push(I)}catch(X){X.errors&&Array.isArray(X.errors)?X.errors.forEach(Y=>{const F=Array.isArray(Y.path)?Y.path.join("."):Y.path||"unknown";R.push({row:U,field:F,message:Y.message||"Invalid value",data:$})}):X.issues&&Array.isArray(X.issues)?X.issues.forEach(Y=>{const F=Array.isArray(Y.path)?Y.path.join("."):"unknown";R.push({row:U,field:F,message:Y.message||"Invalid value",data:$})}):R.push({row:U,field:"unknown",message:typeof X.message=="string"?X.message:"Validation error",data:$})}}d(R),o(A),m(!1),R.length===0&&A.length>0?t({title:"Validation Successful",description:`${A.length} rows are valid and ready to import`}):A.length>0?t({variant:"destructive",title:"Validation Completed",description:`${A.length} valid rows, ${R.length} error(s) found`}):t({variant:"destructive",title:"Validation Failed",description:`All ${R.length} rows have errors`})}catch(R){m(!1),t({variant:"destructive",title:"Validation Error",description:R.message||"An error occurred during validation"})}},error:T=>{m(!1),t({variant:"destructive",title:"Parse Error",description:`Failed to parse CSV: ${T.message}`})}})}catch(T){m(!1),t({variant:"destructive",title:"Error",description:T.message||"An unexpected error occurred"})}},N=mr({mutationFn:async T=>{y(0);const R=await gPe(T,e?.id||null);return y(100),R},onSuccess:T=>{b({successful:T.successCount,failed:T.errorCount,errors:T.errors}),T.errorCount>0&&d(T.errors),r.invalidateQueries({queryKey:["work-stats"]}),t({title:T.errorCount===0?"Import Successful":"Import Completed with Errors",description:T.errorCount===0?`Successfully imported ${T.successCount} work stat record(s)`:`Imported ${T.successCount} record(s), ${T.errorCount} failed`,variant:T.errorCount===0?"default":"destructive"})},onError:T=>{t({variant:"destructive",title:"Import Failed",description:T.message})}}),k=()=>{i.length!==0&&N.mutate(i)},O=()=>{a(null),o([]),d([]),b(null),y(0);const T=document.getElementById("csv-upload");T&&(T.value="")};return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Work Stats Import"}),s.jsx("p",{className:"text-muted-foreground",children:"Bulk import work statistics from CSV files"})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx($ie,{className:"h-5 w-5"}),"CSV File Upload"]}),s.jsx(dt,{children:"Download the template, fill in your work stats data, and upload the file for validation"})]}),s.jsxs(ke,{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-4",children:s.jsxs(se,{onClick:w,variant:"outline",children:[s.jsx(_l,{className:"mr-2 h-4 w-4"}),"Download Template"]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Select CSV File"}),s.jsx("input",{id:"csv-upload",type:"file",accept:".csv",onChange:j,className:`block w-full text-sm text-muted-foreground
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-primary file:text-primary-foreground
                hover:file:bg-primary/90
                file:cursor-pointer cursor-pointer`})]}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(o1,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:["Selected: ",n.name]}),s.jsxs(ze,{variant:"secondary",children:[(n.size/1024).toFixed(2)," KB"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{onClick:E,disabled:!n||f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(o1,{className:"mr-2 h-4 w-4"}),"Validate File"]})}),(i.length>0||c.length>0)&&s.jsx(se,{onClick:O,variant:"outline",children:"Reset"})]})]})]}),(i.length>0||c.length>0)&&s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{className:"flex items-center gap-2",children:c.length===0?s.jsxs(s.Fragment,{children:[s.jsx(s1,{className:"h-5 w-5 text-green-600"}),"Validation Successful"]}):s.jsxs(s.Fragment,{children:[s.jsx(Na,{className:"h-5 w-5 text-amber-600"}),"Validation Results"]})})}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Valid Rows"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Errors"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.length})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Total Rows"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length+c.length})]})]}),c.length>0&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{children:["Found ",c.length," validation error(s). Please fix the errors before importing.",s.jsxs(se,{variant:"outline",size:"sm",className:"ml-4",onClick:_,children:[s.jsx(_l,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})]}),c.length>0&&c.length<=50&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Error Details:"}),s.jsx(Zh,{className:"h-[300px] rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"w-16",children:"Row"}),s.jsx(Oe,{className:"w-32",children:"Field"}),s.jsx(Oe,{children:"Error Message"})]})}),s.jsx(Yr,{children:c.slice(0,50).map((T,R)=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-mono text-sm",children:T.row}),s.jsx(Ne,{children:s.jsx(ze,{variant:"outline",className:"font-mono text-xs",children:T.field||"general"})}),s.jsx(Ne,{className:"text-sm text-muted-foreground max-w-md",children:T.message})]},R))})]})}),c.length>50&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Showing first 50 errors. Download the error report to see all errors."})]}),i.length>0&&s.jsxs("div",{className:"space-y-2",children:[c.length>0&&s.jsxs("p",{className:"text-sm text-amber-600",children:["Note: ",c.length," row(s) have errors and will be skipped. Only ",i.length," valid row(s) will be imported."]}),s.jsx(se,{onClick:k,disabled:N.isPending,className:"w-full",size:"lg",children:N.isPending?s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing ",i.length," Record(s)..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Import ",i.length," Valid Work Stat Record(s)"]})})]}),N.isPending&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Import Progress"}),s.jsxs("span",{children:[p,"%"]})]}),s.jsx(iN,{value:p})]})]})]}),g&&s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(s1,{className:"h-5 w-5 text-green-600"}),"Import Complete"]})}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Successfully Imported"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.successful})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:g.failed})]})]}),g.failed>0&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsxs(gt,{children:[g.failed," record(s) failed to import. Check the error details below.",s.jsxs(se,{variant:"outline",size:"sm",className:"ml-4",onClick:_,children:[s.jsx(_l,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})]}),s.jsx(se,{onClick:O,variant:"outline",className:"w-full",children:"Import Another File"})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Import Instructions"})}),s.jsxs(ke,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Required Columns:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"worker_account_email"})," - Worker's PPH email (e.g., john.doe@pph.com)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"project_code"})," - Project code (e.g., VA-ENG-2024)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"work_date"})," - Date in YYYY-MM-DD or DD/MM/YYYY format"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Optional Columns:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"locale_code"})," - Client locale code (will be mapped to ISO standard)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"units_completed"})," - Number of units completed"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"hours_worked"})," - Decimal hours worked (max 24)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"earnings"})," - Decimal earnings amount (auto-calculated if not provided)"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Auto-Calculation Features:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Locale Mapping:"})," Client locale codes are automatically mapped to ISO standard codes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Earnings Calculation:"})," If earnings is not provided, it will be auto-calculated using the rates_payable table based on worker locale, country, project tier, and work date"]}),s.jsx("li",{children:"Rate lookup uses: worker's locale + country + project expert tier + effective date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Validation Rules:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"Worker email must match an active worker account"}),s.jsx("li",{children:"Project code must exist in the database"}),s.jsx("li",{children:"Work date cannot be in the future"}),s.jsx("li",{children:"Hours worked must be between 0 and 24"}),s.jsx("li",{children:"Duplicate entries (same worker, project, and date) are not allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Example Project Codes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"VA-ENG-2024"})," - Voice Assistant Training - English"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"MED-IMG-2024"})," - Medical Image Annotation"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"AUD-SPA-2024"})," - Spanish Audio Transcription"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"NLP-SENT-2024"})," - Sentiment Analysis Dataset"]})]})]})]})]})]})}function xPe(e){const t=bPe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(_Pe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function bPe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=SPe(a),c=jPe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?As(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var wPe=Symbol("radix.slottable");function _Pe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===wPe}function jPe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function SPe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Fb="Popover",[QW]=ca(Fb,[Xd]),ip=Xd(),[CPe,Bl]=QW(Fb),JW=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,c=ip(t),d=x.useRef(null),[f,m]=x.useState(!1),[p,y]=Ss({prop:n,defaultProp:a??!1,onChange:i,caller:Fb});return s.jsx(RE,{...c,children:s.jsx(CPe,{scope:t,contentId:Zi(),triggerRef:d,open:p,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(g=>!g),[y]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:o,children:r})})};JW.displayName=Fb;var e9="PopoverAnchor",EPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Bl(e9,r),i=ip(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=a;return x.useEffect(()=>(o(),()=>c()),[o,c]),s.jsx(Nx,{...i,...n,ref:t})});EPe.displayName=e9;var t9="PopoverTrigger",r9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Bl(t9,r),i=ip(r),o=jt(t,a.triggerRef),c=s.jsx(it.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":o9(a.open),...n,ref:o,onClick:Ie(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:s.jsx(Nx,{asChild:!0,...i,children:c})});r9.displayName=t9;var tO="PopoverPortal",[NPe,kPe]=QW(tO,{forceMount:void 0}),n9=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Bl(tO,t);return s.jsx(NPe,{scope:t,forceMount:r,children:s.jsx(Bn,{present:r||i.open,children:s.jsx(Om,{asChild:!0,container:a,children:n})})})};n9.displayName=tO;var Dd="PopoverContent",a9=x.forwardRef((e,t)=>{const r=kPe(Dd,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Bl(Dd,e.__scopePopover);return s.jsx(Bn,{present:n||i.open,children:i.modal?s.jsx(APe,{...a,ref:t}):s.jsx(RPe,{...a,ref:t})})});a9.displayName=Dd;var OPe=xPe("PopoverContent.RemoveScroll"),APe=x.forwardRef((e,t)=>{const r=Bl(Dd,e.__scopePopover),n=x.useRef(null),a=jt(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Ox(o)},[]),s.jsx(Am,{as:OPe,allowPinchZoom:!0,children:s.jsx(i9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),RPe=x.forwardRef((e,t)=>{const r=Bl(Dd,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(i9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),i9=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,y=Bl(Dd,r),g=ip(r);return wx(),s.jsx(Nm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Em,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(TE,{"data-state":o9(y.open),role:"dialog",id:y.contentId,...g,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),s9="PopoverClose",TPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Bl(s9,r);return s.jsx(it.button,{type:"button",...n,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});TPe.displayName=s9;var PPe="PopoverArrow",DPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=ip(r);return s.jsx(PE,{...a,...n,ref:t})});DPe.displayName=PPe;function o9(e){return e?"open":"closed"}var MPe=JW,IPe=r9,$Pe=n9,l9=a9;const rx=MPe,nx=IPe,gm=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx($Pe,{children:s.jsx(l9,{ref:a,align:t,sideOffset:r,className:Me("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));gm.displayName=l9.displayName;function LPe(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const zPe={},jh={};function Nc(e,t){try{const n=(zPe[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in jh?jh[n]:Oz(n,n.split(":"))}catch{if(e in jh)return jh[e];const r=e?.match(FPe);return r?Oz(e,r.slice(1)):NaN}}const FPe=/([+-]\d\d):?(\d\d)?/;function Oz(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return jh[e]=r*60+n>0?r*60+n+a:r*60-n-a}class xs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Nc(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),c9(this),AC(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new xs(...r,t):new xs(Date.now(),t)}withTimeZone(t){return new xs(+this,t)}getTimezoneOffset(){const t=-Nc(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),AC(this),+this}[Symbol.for("constructDateFrom")](t){return new xs(+new Date(t),this.timeZone)}}const Az=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!Az.test(e))return;const t=e.replace(Az,"$1UTC");xs.prototype[t]&&(e.startsWith("get")?xs.prototype[e]=function(){return this.internal[t]()}:(xs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),UPe(this),+this},xs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),AC(this),+this}))});function AC(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Nc(e.timeZone,e)*60))}function UPe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),c9(e)}function c9(e){const t=Nc(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const m=a>0?f.getSeconds():(f.getSeconds()-60)%60,p=Math.round(-(Nc(e.timeZone,e)*60))%60;(p||m)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+p),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+p+m));const y=Nc(e.timeZone,e),g=y>0?Math.floor(y):Math.ceil(y),w=-new Date(+e).getTimezoneOffset()-g,_=g!==r,j=w-d;if(_&&j){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j);const E=Nc(e.timeZone,e),N=E>0?Math.floor(E):Math.ceil(E),k=g-N;k&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+k))}}class Gn extends xs{static tz(t,...r){return r.length?new Gn(...r,t):new Gn(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${LPe(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Gn(+this,t)}[Symbol.for("constructDateFrom")](t){return new Gn(+new Date(t),this.timeZone)}}const Rz=5,BPe=4;function qPe(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,Rz*7-1);return t.getMonth(e)===t.getMonth(i)?Rz:BPe}function u9(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function VPe(e,t){const r=u9(e,t),n=qPe(e,t);return t.addDays(r,n*7-1)}class Ja{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Gn.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Gn(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):ME(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):IE(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):Iue(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):$ue(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):IB(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):LB(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):Yue(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):Zue(n),i=new Set(a.map(c=>this.getYear(c)));if(i.size===a.length)return a;const o=[];return i.forEach(c=>{o.push(new Date(c,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):VPe(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):Xue(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):wo(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):Gv(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):E1(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):He(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):FB(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):Zde(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):Xde(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):BB(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):Qde(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):Jde(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):$B(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):Uue(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):efe(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):tfe(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):Lue(n),this.min=n=>this.overrides?.min?this.overrides.min(n):zue(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):vfe(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):yfe(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):u9(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Wh(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Hh(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):po(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Ol(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):Ah(n),this.options={locale:Dx,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Ja.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&Ja.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}Ja.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const $s=new Ja;class d9{constructor(t,r,n=$s){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class HPe{constructor(t,r){this.date=t,this.weeks=r}}class WPe{constructor(t,r){this.days=r,this.weekNumber=t}}function KPe(e){return re.createElement("button",{...e})}function GPe(e){return re.createElement("span",{...e})}function YPe(e){const{size:t=24,orientation:r="left",className:n}=e;return re.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&re.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&re.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&re.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&re.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function ZPe(e){const{day:t,modifiers:r,...n}=e;return re.createElement("td",{...n})}function XPe(e){const{day:t,modifiers:r,...n}=e,a=re.useRef(null);return re.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),re.createElement("button",{ref:a,...n})}var tt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(tt||(tt={}));var kr;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(kr||(kr={}));var Gi;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Gi||(Gi={}));var za;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(za||(za={}));function QPe(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[tt.Dropdown],r].join(" "),c=t?.find(({value:d})=>d===i.value);return re.createElement("span",{"data-disabled":i.disabled,className:a[tt.DropdownRoot]},re.createElement(n.Select,{className:o,...i},t?.map(({value:d,label:f,disabled:m})=>re.createElement(n.Option,{key:d,value:d,disabled:m},f))),re.createElement("span",{className:a[tt.CaptionLabel],"aria-hidden":!0},c?.label,re.createElement(n.Chevron,{orientation:"down",size:18,className:a[tt.Chevron]})))}function JPe(e){return re.createElement("div",{...e})}function eDe(e){return re.createElement("div",{...e})}function tDe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return re.createElement("div",{...n},e.children)}function rDe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return re.createElement("div",{...n})}function nDe(e){return re.createElement("table",{...e})}function aDe(e){return re.createElement("div",{...e})}const f9=x.createContext(void 0);function sp(){const e=x.useContext(f9);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function iDe(e){const{components:t}=sp();return re.createElement(t.Dropdown,{...e})}function sDe(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:c,labels:{labelPrevious:d,labelNext:f}}=sp(),m=x.useCallback(y=>{a&&r?.(y)},[a,r]),p=x.useCallback(y=>{n&&t?.(y)},[n,t]);return re.createElement("nav",{...i},re.createElement(o.PreviousMonthButton,{type:"button",className:c[tt.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:p},re.createElement(o.Chevron,{disabled:n?void 0:!0,className:c[tt.Chevron],orientation:"left"})),re.createElement(o.NextMonthButton,{type:"button",className:c[tt.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":f(a),onClick:m},re.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:c[tt.Chevron]})))}function oDe(e){const{components:t}=sp();return re.createElement(t.Button,{...e})}function lDe(e){return re.createElement("option",{...e})}function cDe(e){const{components:t}=sp();return re.createElement(t.Button,{...e})}function uDe(e){const{rootRef:t,...r}=e;return re.createElement("div",{...r,ref:t})}function dDe(e){return re.createElement("select",{...e})}function fDe(e){const{week:t,...r}=e;return re.createElement("tr",{...r})}function hDe(e){return re.createElement("th",{...e})}function mDe(e){return re.createElement("thead",{"aria-hidden":!0},re.createElement("tr",{...e}))}function pDe(e){const{week:t,...r}=e;return re.createElement("th",{...r})}function gDe(e){return re.createElement("th",{...e})}function vDe(e){return re.createElement("tbody",{...e})}function yDe(e){const{components:t}=sp();return re.createElement(t.Dropdown,{...e})}const xDe=Object.freeze(Object.defineProperty({__proto__:null,Button:KPe,CaptionLabel:GPe,Chevron:YPe,Day:ZPe,DayButton:XPe,Dropdown:QPe,DropdownNav:JPe,Footer:eDe,Month:tDe,MonthCaption:rDe,MonthGrid:nDe,Months:aDe,MonthsDropdown:iDe,Nav:sDe,NextMonthButton:oDe,Option:lDe,PreviousMonthButton:cDe,Root:uDe,Select:dDe,Week:fDe,WeekNumber:pDe,WeekNumberHeader:gDe,Weekday:hDe,Weekdays:mDe,Weeks:vDe,YearsDropdown:yDe},Symbol.toStringTag,{value:"Module"}));function fo(e,t,r=!1,n=$s){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:c}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?c(i,t):!r&&a?c(a,t):!1}function h9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function rO(e){return!!(e&&typeof e=="object"&&"from"in e)}function m9(e){return!!(e&&typeof e=="object"&&"after"in e)}function p9(e){return!!(e&&typeof e=="object"&&"before"in e)}function g9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function v9(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ho(e,t,r=$s){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(c=>{if(typeof c=="boolean")return c;if(r.isDate(c))return a(e,c);if(v9(c,r))return c.includes(e);if(rO(c))return fo(c,e,!1,r);if(g9(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(h9(c)){const d=i(c.before,e),f=i(c.after,e),m=d>0,p=f<0;return o(c.before,c.after)?p&&m:m||p}return m9(c)?i(e,c.after)>0:p9(c)?i(c.before,e)>0:typeof c=="function"?c(e):!1})}function bDe(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:c,showOutsideDays:d,broadcastCalendar:f,today:m}=t,{isSameDay:p,isSameMonth:y,startOfMonth:g,isBefore:b,endOfMonth:w,isAfter:_}=a,j=r&&g(r),E=n&&w(n),N={[kr.focused]:[],[kr.outside]:[],[kr.disabled]:[],[kr.hidden]:[],[kr.today]:[]},k={};for(const O of e){const{date:T,displayMonth:R}=O,A=!!(R&&!y(T,R)),P=!!(j&&b(T,j)),L=!!(E&&_(T,E)),M=!!(i&&ho(T,i,a)),$=!!(o&&ho(T,o,a))||P||L||!f&&!d&&A||f&&d===!1&&A,U=p(T,m??a.today());A&&N.outside.push(O),M&&N.disabled.push(O),$&&N.hidden.push(O),U&&N.today.push(O),c&&Object.keys(c).forEach(X=>{const Y=c?.[X];Y&&ho(T,Y,a)&&(k[X]?k[X].push(O):k[X]=[O])})}return O=>{const T={[kr.focused]:!1,[kr.disabled]:!1,[kr.hidden]:!1,[kr.outside]:!1,[kr.today]:!1},R={};for(const A in N){const P=N[A];T[A]=P.some(L=>L===O)}for(const A in k)R[A]=k[A].some(P=>P===O);return{...T,...R}}}function wDe(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[kr[i]]?a.push(t[kr[i]]):t[Gi[i]]&&a.push(t[Gi[i]]),a),[t[tt.Day]])}function _De(e){return{...xDe,...e}}function jDe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function SDe(){const e={};for(const t in tt)e[tt[t]]=`rdp-${tt[t]}`;for(const t in kr)e[kr[t]]=`rdp-${kr[t]}`;for(const t in Gi)e[Gi[t]]=`rdp-${Gi[t]}`;for(const t in za)e[za[t]]=`rdp-${za[t]}`;return e}function y9(e,t,r){return(r??new Ja(t)).formatMonthYear(e)}const CDe=y9;function EDe(e,t,r){return(r??new Ja(t)).format(e,"d")}function NDe(e,t=$s){return t.format(e,"LLLL")}function kDe(e,t,r){return(r??new Ja(t)).format(e,"cccccc")}function ODe(e,t=$s){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function ADe(){return""}function x9(e,t=$s){return t.format(e,"yyyy")}const RDe=x9,TDe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:y9,formatDay:EDe,formatMonthCaption:CDe,formatMonthDropdown:NDe,formatWeekNumber:ODe,formatWeekNumberHeader:ADe,formatWeekdayName:kDe,formatYearCaption:RDe,formatYearDropdown:x9},Symbol.toStringTag,{value:"Module"}));function PDe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...TDe,...e}}function DDe(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:c,eachMonthOfInterval:d,getMonth:f}=a;return d({start:o(e),end:c(e)}).map(y=>{const g=n.formatMonthDropdown(y,a),b=f(y),w=t&&y<i(t)||r&&y>i(r)||!1;return{value:b,label:g,disabled:w}})}function MDe(e,t={},r={}){let n={...t?.[tt.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function IDe(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const c=e.addDays(a,o);i.push(c)}return i}function $De(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:c,getYear:d}=n,f=i(e),m=o(t),p=c({start:f,end:m});return a&&p.reverse(),p.map(y=>{const g=r.formatYearDropdown(y,n);return{value:d(y),label:g,disabled:!1}})}function b9(e,t,r,n){let a=(n??new Ja(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const LDe=b9;function w9(e,t,r){return(r??new Ja(t)).formatMonthYear(e)}const zDe=w9;function FDe(e,t,r,n){let a=(n??new Ja(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function UDe(e){return"Choose the Month"}function BDe(){return""}function qDe(e){return"Go to the Next Month"}function VDe(e){return"Go to the Previous Month"}function HDe(e,t,r){return(r??new Ja(t)).format(e,"cccc")}function WDe(e,t){return`Week ${e}`}function KDe(e){return"Week Number"}function GDe(e){return"Choose the Year"}const YDe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:zDe,labelDay:LDe,labelDayButton:b9,labelGrid:w9,labelGridcell:FDe,labelMonthDropdown:UDe,labelNav:BDe,labelNext:qDe,labelPrevious:VDe,labelWeekNumber:WDe,labelWeekNumberHeader:KDe,labelWeekday:HDe,labelYearDropdown:GDe},Symbol.toStringTag,{value:"Module"})),op=e=>e instanceof HTMLElement?e:null,NS=e=>[...e.querySelectorAll("[data-animated-month]")??[]],ZDe=e=>op(e.querySelector("[data-animated-month]")),kS=e=>op(e.querySelector("[data-animated-caption]")),OS=e=>op(e.querySelector("[data-animated-weeks]")),XDe=e=>op(e.querySelector("[data-animated-nav]")),QDe=e=>op(e.querySelector("[data-animated-weekdays]"));function JDe(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=x.useRef(null),c=x.useRef(n),d=x.useRef(!1);x.useLayoutEffect(()=>{const f=c.current;if(c.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||f.length===0||n.length!==f.length)return;const m=i.isSameMonth(n[0].date,f[0].date),p=i.isAfter(n[0].date,f[0].date),y=p?r[za.caption_after_enter]:r[za.caption_before_enter],g=p?r[za.weeks_after_enter]:r[za.weeks_before_enter],b=o.current,w=e.current.cloneNode(!0);if(w instanceof HTMLElement?(NS(w).forEach(N=>{if(!(N instanceof HTMLElement))return;const k=ZDe(N);k&&N.contains(k)&&N.removeChild(k);const O=kS(N);O&&O.classList.remove(y);const T=OS(N);T&&T.classList.remove(g)}),o.current=w):o.current=null,d.current||m||a)return;const _=b instanceof HTMLElement?NS(b):[],j=NS(e.current);if(j?.every(E=>E instanceof HTMLElement)&&_&&_.every(E=>E instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const E=XDe(e.current);E&&(E.style.zIndex="1"),j.forEach((N,k)=>{const O=_[k];if(!O)return;N.style.position="relative",N.style.overflow="hidden";const T=kS(N);T&&T.classList.add(y);const R=OS(N);R&&R.classList.add(g);const A=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),E&&(E.style.zIndex=""),T&&T.classList.remove(y),R&&R.classList.remove(g),N.style.position="",N.style.overflow="",N.contains(O)&&N.removeChild(O)};O.style.pointerEvents="none",O.style.position="absolute",O.style.overflow="hidden",O.setAttribute("aria-hidden","true");const P=QDe(O);P&&(P.style.opacity="0");const L=kS(O);L&&(L.classList.add(p?r[za.caption_before_exit]:r[za.caption_after_exit]),L.addEventListener("animationend",A));const M=OS(O);M&&M.classList.add(p?r[za.weeks_before_exit]:r[za.weeks_after_exit]),N.insertBefore(O,N.firstChild)})}})}function eMe(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:c,broadcastCalendar:d}=r??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:p,endOfBroadcastWeek:y,endOfISOWeek:g,endOfMonth:b,endOfWeek:w,isAfter:_,startOfBroadcastWeek:j,startOfISOWeek:E,startOfWeek:N}=n,k=d?j(a,n):o?E(a):N(a),O=d?y(i):o?g(b(i)):w(b(i)),T=m(O,k),R=p(i,a)+1,A=[];for(let M=0;M<=T;M++){const $=f(k,M);if(t&&_($,t))break;A.push($)}const L=(d?35:42)*R;if(c&&A.length<L){const M=L-A.length;for(let $=0;$<M;$++){const U=f(A[A.length-1],1);A.push(U)}}return A}function tMe(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function rMe(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const c=n.addMonths(e,o);if(t&&c>t)break;i.push(c)}return i}function Tz(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:c=1}=e;let d=a||i||o;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:p}=n;if(r&&f(r,d)<c-1){const y=-1*(c-1);d=m(r,y)}return t&&f(d,t)<0&&(d=t),p(d)}function nMe(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:c,endOfWeek:d,getISOWeek:f,getWeek:m,startOfBroadcastWeek:p,startOfISOWeek:y,startOfWeek:g}=n,b=e.reduce((w,_)=>{const j=r.broadcastCalendar?p(_,n):r.ISOWeek?y(_):g(_),E=r.broadcastCalendar?i(_):r.ISOWeek?o(c(_)):d(c(_)),N=t.filter(R=>R>=j&&R<=E),k=r.broadcastCalendar?35:42;if(r.fixedWeeks&&N.length<k){const R=t.filter(A=>{const P=k-N.length;return A>E&&A<=a(E,P)});N.push(...R)}const O=N.reduce((R,A)=>{const P=r.ISOWeek?f(A):m(A),L=R.find($=>$.weekNumber===P),M=new d9(A,_,n);return L?L.days.push(M):R.push(new WPe(P,[M])),R},[]),T=new HPe(_,O);return w.push(T),w},[]);return r.reverseMonths?b.reverse():b}function aMe(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:c,addYears:d,endOfYear:f,newDate:m,today:p}=t,{fromYear:y,toYear:g,fromMonth:b,toMonth:w}=e;!r&&b&&(r=b),!r&&y&&(r=t.newDate(y,0,1)),!n&&w&&(n=w),!n&&g&&(n=m(g,11,31));const _=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):y?r=m(y,0,1):!r&&_&&(r=a(d(e.today??p(),-100))),n?n=c(n):g?n=m(g,11,31):!n&&_&&(n=f(e.today??p())),[r&&i(r),n&&i(n)]}function iMe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,f=a?i:1,m=o(e);if(!t)return c(m,f);if(!(d(t,e)<i))return c(m,f)}function sMe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,f=a?i??1:1,m=o(e);if(!t)return c(m,-f);if(!(d(m,t)<=0))return c(m,-f)}function oMe(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function Ub(e,t){const[r,n]=x.useState(e);return[t===void 0?r:t,n]}function lMe(e,t){const[r,n]=aMe(e,t),{startOfMonth:a,endOfMonth:i}=t,o=Tz(e,r,n,t),[c,d]=Ub(o,e.month?o:void 0);x.useEffect(()=>{const T=Tz(e,r,n,t);d(T)},[e.timeZone]);const f=rMe(c,n,e,t),m=eMe(f,e.endMonth?i(e.endMonth):void 0,e,t),p=nMe(f,m,e,t),y=oMe(p),g=tMe(p),b=sMe(c,r,e,t),w=iMe(c,n,e,t),{disableNavigation:_,onMonthChange:j}=e,E=T=>y.some(R=>R.days.some(A=>A.isEqualTo(T))),N=T=>{if(_)return;let R=a(T);r&&R<a(r)&&(R=a(r)),n&&R>a(n)&&(R=a(n)),d(R),j?.(R)};return{months:p,weeks:y,days:g,navStart:r,navEnd:n,previousMonth:b,nextMonth:w,goToMonth:N,goToDay:T=>{E(T)||N(T.date)}}}var fs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(fs||(fs={}));function Pz(e){return!e[kr.disabled]&&!e[kr.hidden]&&!e[kr.outside]}function cMe(e,t,r,n){let a,i=-1;for(const o of e){const c=t(o);Pz(c)&&(c[kr.focused]&&i<fs.FocusedModifier?(a=o,i=fs.FocusedModifier):n?.isEqualTo(o)&&i<fs.LastFocused?(a=o,i=fs.LastFocused):r(o.date)&&i<fs.Selected?(a=o,i=fs.Selected):c[kr.today]&&i<fs.Today&&(a=o,i=fs.Today))}return a||(a=e.find(o=>Pz(t(o)))),a}function uMe(e,t,r,n,a,i,o){const{ISOWeek:c,broadcastCalendar:d}=i,{addDays:f,addMonths:m,addWeeks:p,addYears:y,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:w,max:_,min:j,startOfBroadcastWeek:E,startOfISOWeek:N,startOfWeek:k}=o;let T={day:f,week:p,month:m,year:y,startOfWeek:R=>d?E(R,o):c?N(R):k(R),endOfWeek:R=>d?g(R):c?b(R):w(R)}[e](r,t==="after"?1:-1);return t==="before"&&n?T=_([n,T]):t==="after"&&a&&(T=j([a,T])),T}function _9(e,t,r,n,a,i,o,c=0){if(c>365)return;const d=uMe(e,t,r.date,n,a,i,o),f=!!(i.disabled&&ho(d,i.disabled,o)),m=!!(i.hidden&&ho(d,i.hidden,o)),p=d,y=new d9(d,p,o);return!f&&!m?y:_9(e,t,y,n,a,i,o,c+1)}function dMe(e,t,r,n,a){const{autoFocus:i}=e,[o,c]=x.useState(),d=cMe(t.days,r,n||(()=>!1),o),[f,m]=x.useState(i?d:void 0);return{isFocusTarget:w=>!!d?.isEqualTo(w),setFocused:m,focused:f,blur:()=>{c(f),m(void 0)},moveFocus:(w,_)=>{if(!f)return;const j=_9(w,_,f,t.navStart,t.navEnd,e,a);j&&(e.disableNavigation&&!t.days.some(N=>N.isEqualTo(j))||(t.goToDay(j),m(j)))}}}function fMe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Ub(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t,f=g=>c?.some(b=>d(b,g))??!1,{min:m,max:p}=e;return{selected:c,select:(g,b,w)=>{let _=[...c??[]];if(f(g)){if(c?.length===m||n&&c?.length===1)return;_=c?.filter(j=>!d(j,g))}else c?.length===p?_=[g]:_=[..._,g];return a||o(_),a?.(_,g,b,w),_},isSelected:f}}function hMe(e,t,r=0,n=0,a=!1,i=$s){const{from:o,to:c}=t||{},{isSameDay:d,isAfter:f,isBefore:m}=i;let p;if(!o&&!c)p={from:e,to:r>0?void 0:e};else if(o&&!c)d(o,e)?r===0?p={from:o,to:e}:a?p={from:o,to:void 0}:p=void 0:m(e,o)?p={from:e,to:o}:p={from:o,to:e};else if(o&&c)if(d(o,e)&&d(c,e))a?p={from:o,to:c}:p=void 0;else if(d(o,e))p={from:o,to:r>0?void 0:e};else if(d(c,e))p={from:e,to:r>0?void 0:e};else if(m(e,o))p={from:e,to:c};else if(f(e,o))p={from:o,to:e};else if(f(e,c))p={from:o,to:e};else throw new Error("Invalid range");if(p?.from&&p?.to){const y=i.differenceInCalendarDays(p.to,p.from);n>0&&y>n?p={from:e,to:void 0}:r>1&&y<r&&(p={from:e,to:void 0})}return p}function mMe(e,t,r=$s){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let c=0;c<=o;c++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function Dz(e,t,r=$s){return fo(e,t.from,!1,r)||fo(e,t.to,!1,r)||fo(t,e.from,!1,r)||fo(t,e.to,!1,r)}function pMe(e,t,r=$s){const n=Array.isArray(t)?t:[t];if(n.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:r.isDate(c)?fo(e,c,!1,r):v9(c,r)?c.some(d=>fo(e,d,!1,r)):rO(c)?c.from&&c.to?Dz(e,{from:c.from,to:c.to},r):!1:g9(c)?mMe(e,c.dayOfWeek,r):h9(c)?r.isAfter(c.before,c.after)?Dz(e,{from:r.addDays(c.after,1),to:r.addDays(c.before,-1)},r):ho(e.from,c,r)||ho(e.to,c,r):m9(c)||p9(c)?ho(e.from,c,r)||ho(e.to,c,r):!1))return!0;const o=n.filter(c=>typeof c=="function");if(o.length){let c=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(o.some(m=>m(c)))return!0;c=r.addDays(c,1)}}return!1}function gMe(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[c,d]=Ub(a,o?a:void 0),f=o?a:c;return{selected:f,select:(y,g,b)=>{const{min:w,max:_}=e,j=y?hMe(y,f,w,_,i,t):void 0;return n&&r&&j?.from&&j.to&&pMe({from:j.from,to:j.to},r,t)&&(j.from=y,j.to=void 0),o||d(j),o?.(j,y,g,b),j},isSelected:y=>f&&fo(f,y,!1,t)}}function vMe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=Ub(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t;return{selected:c,select:(p,y,g)=>{let b=p;return!n&&c&&c&&d(p,c)&&(b=void 0),a||o(b),a?.(b,p,y,g),b},isSelected:p=>c?d(c,p):!1}}function yMe(e,t){const r=vMe(e,t),n=fMe(e,t),a=gMe(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function xMe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Gn(t.today,t.timeZone)),t.month&&(t.month=new Gn(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Gn(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Gn(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Gn(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Gn(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(xt=>new Gn(xt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Gn(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Gn(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:o,classNames:c}=x.useMemo(()=>{const xt={...Dx,...t.locale};return{dateLib:new Ja({locale:xt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:_De(t.components),formatters:PDe(t.formatters),labels:{...YDe,...t.labels},locale:xt,classNames:{...SDe(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:m,numberOfMonths:p=1,onDayBlur:y,onDayClick:g,onDayFocus:b,onDayKeyDown:w,onDayMouseEnter:_,onDayMouseLeave:j,onNextClick:E,onPrevClick:N,showWeekNumber:k,styles:O}=t,{formatCaption:T,formatDay:R,formatMonthDropdown:A,formatWeekNumber:P,formatWeekNumberHeader:L,formatWeekdayName:M,formatYearDropdown:$}=n,U=lMe(t,i),{days:X,months:Y,navStart:F,navEnd:H,previousMonth:I,nextMonth:q,goToMonth:ue}=U,B=bDe(X,t,F,H,i),{isSelected:Q,select:V,selected:ae}=yMe(t,i)??{},{blur:Z,focused:ne,isFocusTarget:ee,moveFocus:pe,setFocused:G}=dMe(t,U,B,Q??(()=>!1),i),{labelDayButton:ge,labelGridcell:ye,labelGrid:le,labelMonthDropdown:Ue,labelNav:Le,labelPrevious:Qe,labelNext:Be,labelWeekday:Rt,labelWeekNumber:Nt,labelWeekNumberHeader:St,labelYearDropdown:W}=a,ie=x.useMemo(()=>IDe(i,t.ISOWeek),[i,t.ISOWeek]),de=f!==void 0||g!==void 0,Ae=x.useCallback(()=>{I&&(ue(I),N?.(I))},[I,ue,N]),be=x.useCallback(()=>{q&&(ue(q),E?.(q))},[ue,q,E]),Ce=x.useCallback((xt,zt)=>ft=>{ft.preventDefault(),ft.stopPropagation(),G(xt),V?.(xt.date,zt,ft),g?.(xt.date,zt,ft)},[V,g,G]),Pe=x.useCallback((xt,zt)=>ft=>{G(xt),b?.(xt.date,zt,ft)},[b,G]),ot=x.useCallback((xt,zt)=>ft=>{Z(),y?.(xt.date,zt,ft)},[Z,y]),yt=x.useCallback((xt,zt)=>ft=>{const Bt={ArrowLeft:[ft.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ft.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ft.shiftKey?"year":"week","after"],ArrowUp:[ft.shiftKey?"year":"week","before"],PageUp:[ft.shiftKey?"year":"month","before"],PageDown:[ft.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Bt[ft.key]){ft.preventDefault(),ft.stopPropagation();const[Fr,kt]=Bt[ft.key];pe(Fr,kt)}w?.(xt.date,zt,ft)},[pe,w,t.dir]),gr=x.useCallback((xt,zt)=>ft=>{_?.(xt.date,zt,ft)},[_]),dn=x.useCallback((xt,zt)=>ft=>{j?.(xt.date,zt,ft)},[j]),Tr=x.useCallback(xt=>zt=>{const ft=Number(zt.target.value),Bt=i.setMonth(i.startOfMonth(xt),ft);ue(Bt)},[i,ue]),Cr=x.useCallback(xt=>zt=>{const ft=Number(zt.target.value),Bt=i.setYear(i.startOfMonth(xt),ft);ue(Bt)},[i,ue]),{className:fn,style:vr}=x.useMemo(()=>({className:[c[tt.Root],t.className].filter(Boolean).join(" "),style:{...O?.[tt.Root],...t.style}}),[c,t.className,t.style,O]),Jn=jDe(t),Pr=x.useRef(null);JDe(Pr,!!t.animate,{classNames:c,months:Y,focused:ne,dateLib:i});const ql={dayPickerProps:t,selected:ae,select:V,isSelected:Q,months:Y,nextMonth:q,previousMonth:I,goToMonth:ue,getModifiers:B,components:r,classNames:c,styles:O,labels:a,formatters:n};return re.createElement(f9.Provider,{value:ql},re.createElement(r.Root,{rootRef:t.animate?Pr:void 0,className:fn,style:vr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Jn},re.createElement(r.Months,{className:c[tt.Months],style:O?.[tt.Months]},!t.hideNavigation&&!m&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[tt.Nav],style:O?.[tt.Nav],"aria-label":Le(),onPreviousClick:Ae,onNextClick:be,previousMonth:I,nextMonth:q}),Y.map((xt,zt)=>re.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[tt.Month],style:O?.[tt.Month],key:zt,displayIndex:zt,calendarMonth:xt},m==="around"&&!t.hideNavigation&&zt===0&&re.createElement(r.PreviousMonthButton,{type:"button",className:c[tt.PreviousMonthButton],tabIndex:I?void 0:-1,"aria-disabled":I?void 0:!0,"aria-label":Qe(I),onClick:Ae,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:I?void 0:!0,className:c[tt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),re.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[tt.MonthCaption],style:O?.[tt.MonthCaption],calendarMonth:xt,displayIndex:zt},d?.startsWith("dropdown")?re.createElement(r.DropdownNav,{className:c[tt.Dropdowns],style:O?.[tt.Dropdowns]},(()=>{const ft=d==="dropdown"||d==="dropdown-months"?re.createElement(r.MonthsDropdown,{key:"month",className:c[tt.MonthsDropdown],"aria-label":Ue(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Tr(xt.date),options:DDe(xt.date,F,H,n,i),style:O?.[tt.Dropdown],value:i.getMonth(xt.date)}):re.createElement("span",{key:"month"},A(xt.date,i)),Bt=d==="dropdown"||d==="dropdown-years"?re.createElement(r.YearsDropdown,{key:"year",className:c[tt.YearsDropdown],"aria-label":W(i.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Cr(xt.date),options:$De(F,H,n,i,!!t.reverseYears),style:O?.[tt.Dropdown],value:i.getYear(xt.date)}):re.createElement("span",{key:"year"},$(xt.date,i));return i.getMonthYearOrder()==="year-first"?[Bt,ft]:[ft,Bt]})(),re.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},T(xt.date,i.options,i))):re.createElement(r.CaptionLabel,{className:c[tt.CaptionLabel],role:"status","aria-live":"polite"},T(xt.date,i.options,i))),m==="around"&&!t.hideNavigation&&zt===p-1&&re.createElement(r.NextMonthButton,{type:"button",className:c[tt.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":Be(q),onClick:be,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:q?void 0:!0,className:c[tt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),zt===p-1&&m==="after"&&!t.hideNavigation&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[tt.Nav],style:O?.[tt.Nav],"aria-label":Le(),onPreviousClick:Ae,onNextClick:be,previousMonth:I,nextMonth:q}),re.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":le(xt.date,i.options,i)||void 0,className:c[tt.MonthGrid],style:O?.[tt.MonthGrid]},!t.hideWeekdays&&re.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[tt.Weekdays],style:O?.[tt.Weekdays]},k&&re.createElement(r.WeekNumberHeader,{"aria-label":St(i.options),className:c[tt.WeekNumberHeader],style:O?.[tt.WeekNumberHeader],scope:"col"},L()),ie.map(ft=>re.createElement(r.Weekday,{"aria-label":Rt(ft,i.options,i),className:c[tt.Weekday],key:String(ft),style:O?.[tt.Weekday],scope:"col"},M(ft,i.options,i)))),re.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[tt.Weeks],style:O?.[tt.Weeks]},xt.weeks.map(ft=>re.createElement(r.Week,{className:c[tt.Week],key:ft.weekNumber,style:O?.[tt.Week],week:ft},k&&re.createElement(r.WeekNumber,{week:ft,style:O?.[tt.WeekNumber],"aria-label":Nt(ft.weekNumber,{locale:o}),className:c[tt.WeekNumber],scope:"row",role:"rowheader"},P(ft.weekNumber,i)),ft.days.map(Bt=>{const{date:Fr}=Bt,kt=B(Bt);if(kt[kr.focused]=!kt.hidden&&!!ne?.isEqualTo(Bt),kt[Gi.selected]=Q?.(Fr)||kt.selected,rO(ae)){const{from:Jr,to:ni}=ae;kt[Gi.range_start]=!!(Jr&&ni&&i.isSameDay(Fr,Jr)),kt[Gi.range_end]=!!(Jr&&ni&&i.isSameDay(Fr,ni)),kt[Gi.range_middle]=fo(ae,Fr,!0,i)}const ht=MDe(kt,O,t.modifiersStyles),or=wDe(kt,c,t.modifiersClassNames),Qr=!de&&!kt.hidden?ye(Fr,kt,i.options,i):void 0;return re.createElement(r.Day,{key:`${i.format(Fr,"yyyy-MM-dd")}_${i.format(Bt.displayMonth,"yyyy-MM")}`,day:Bt,modifiers:kt,className:or.join(" "),style:ht,role:"gridcell","aria-selected":kt.selected||void 0,"aria-label":Qr,"data-day":i.format(Fr,"yyyy-MM-dd"),"data-month":Bt.outside?i.format(Fr,"yyyy-MM"):void 0,"data-selected":kt.selected||void 0,"data-disabled":kt.disabled||void 0,"data-hidden":kt.hidden||void 0,"data-outside":Bt.outside||void 0,"data-focused":kt.focused||void 0,"data-today":kt.today||void 0},!kt.hidden&&de?re.createElement(r.DayButton,{className:c[tt.DayButton],style:O?.[tt.DayButton],type:"button",day:Bt,modifiers:kt,disabled:kt.disabled||void 0,tabIndex:ee(Bt)?0:-1,"aria-label":ge(Fr,kt,i.options,i),onClick:Ce(Bt,kt),onBlur:ot(Bt,kt),onFocus:Pe(Bt,kt),onKeyDown:yt(Bt,kt),onMouseEnter:gr(Bt,kt),onMouseLeave:dn(Bt,kt)},R(Fr,i.options,i)):!kt.hidden&&R(Bt.date,i.options,i))})))))))),t.footer&&re.createElement(r.Footer,{className:c[tt.Footer],style:O?.[tt.Footer],role:"status","aria-live":"polite"},t.footer)))}function vm({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(xMe,{showOutsideDays:r,className:Me("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",month_caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",button_previous:Me(vd({variant:"outline"}),"absolute left-1 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),button_next:Me(vd({variant:"outline"}),"absolute right-1 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),month_grid:"w-full border-collapse space-y-1",weekdays:"flex",weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative",day_button:Me(vd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:bg-accent hover:text-accent-foreground"),selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-md",today:"bg-accent text-accent-foreground rounded-md",outside:"text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...t},components:{Chevron:({orientation:a})=>{const i=a==="left"?yx:Sm;return s.jsx(i,{className:"h-4 w-4"})}},...n})}vm.displayName="Calendar";function bMe(){const e=Or(),[t,r]=x.useState([{id:"work_date",desc:!0}]),[n,a]=x.useState(Yn(new Date,30)),[i,o]=x.useState(new Date),[c,d]=x.useState("all"),[f,m]=x.useState("all"),{data:p}=Je({queryKey:["workers-dropdown"],queryFn:async()=>{const{data:M,error:$}=await Se.from("workers").select("id, hr_id, full_name").order("full_name");if($)throw $;return M}}),{data:y}=Je({queryKey:["projects-dropdown"],queryFn:async()=>{const{data:M,error:$}=await Se.from("projects").select("id, name").order("name");if($)throw $;return M}}),{data:g,isLoading:b,isError:w,error:_,refetch:j}=Je({queryKey:["work-stats",n,i,c,f],queryFn:async()=>{let M=Se.from("work_stats").select(`
          id,
          worker_id,
          worker_account_id,
          project_id,
          work_date,
          units_completed,
          hours_worked,
          earnings,
          created_at,
          created_by,
          worker:workers!work_stats_worker_id_fkey(id, hr_id, full_name),
          project:projects!work_stats_project_id_fkey(id, name)
        `).order("work_date",{ascending:!1});n&&(M=M.gte("work_date",He(n,"yyyy-MM-dd"))),i&&(M=M.lte("work_date",He(i,"yyyy-MM-dd"))),c&&c!=="all"&&(M=M.eq("worker_id",c)),f&&f!=="all"&&(M=M.eq("project_id",f));const{data:$,error:U}=await M;if(U)throw U;return $}}),E=x.useMemo(()=>{if(!g||g.length===0)return{totalRecords:0,totalUnits:0,totalHours:0,totalEarnings:0,avgUnitsPerDay:0,avgHoursPerDay:0,activeWorkers:0};const M=g.reduce((F,H)=>F+(H.units_completed||0),0),$=g.reduce((F,H)=>F+(H.hours_worked||0),0),U=g.reduce((F,H)=>F+(H.earnings||0),0),X=new Set(g.map(F=>F.work_date)).size,Y=new Set(g.map(F=>F.worker_id)).size;return{totalRecords:g.length,totalUnits:M,totalHours:$,totalEarnings:U,avgUnitsPerDay:X>0?Math.round(M/X):0,avgHoursPerDay:X>0?($/X).toFixed(1):"0",activeWorkers:Y}},[g]),N=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach($=>{const U=$.work_date;M[U]=(M[U]||0)+($.earnings||0)}),Object.entries(M).sort(([$],[U])=>$.localeCompare(U)).map(([$,U])=>({date:He(VB($),"MMM d"),fullDate:$,earnings:Number(U.toFixed(2))}))},[g]),k=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach($=>{const U=$.project_id,X=$.project?.name||"Unknown Project";M[U]||(M[U]={name:X,units:0,hours:0}),M[U].units+=$.units_completed||0,M[U].hours+=$.hours_worked||0}),Object.values(M).sort(($,U)=>U.units-$.units).slice(0,5)},[g]),O=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach($=>{const U=$.worker_id,X=$.worker?.full_name||"Unknown Worker",Y=$.worker?.hr_id||"";M[U]||(M[U]={name:X,hrId:Y,earnings:0,units:0,hours:0}),M[U].earnings+=$.earnings||0,M[U].units+=$.units_completed||0,M[U].hours+=$.hours_worked||0}),Object.entries(M).map(([$,U])=>({id:$,...U})).sort(($,U)=>U.earnings-$.earnings).slice(0,10)},[g]),T=x.useMemo(()=>[{accessorKey:"work_date",header:"Date",cell:({row:M})=>He(new Date(M.original.work_date),"MMM d, yyyy")},{accessorKey:"worker",header:"Worker",cell:({row:M})=>{const $=M.original.worker;return $?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:$.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:$.hr_id})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"project",header:"Project",cell:({row:M})=>{const $=M.original.project;return $?s.jsx("span",{children:$.name}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"units_completed",header:"Units",cell:({row:M})=>{const $=M.original.units_completed;return $!==null?s.jsx(ze,{variant:"secondary",children:$.toLocaleString()}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"hours_worked",header:"Hours",cell:({row:M})=>{const $=M.original.hours_worked;return $!==null?s.jsxs("span",{children:[$.toFixed(1),"h"]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"earnings",header:"Earnings",cell:({row:M})=>{const $=M.original.earnings;return $!==null?s.jsxs("span",{className:"font-medium",children:["$",$.toFixed(2)]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"created_at",header:"Imported",cell:({row:M})=>He(new Date(M.original.created_at),"MMM d, yyyy")}],[]),R=Kd({data:g||[],columns:T,state:{sorting:t},onSortingChange:r,getCoreRowModel:Vd(),getSortedRowModel:Wd(),getPaginationRowModel:Hd(),getFilteredRowModel:Cm(),initialState:{pagination:{pageSize:20}}}),A=()=>{a(Yn(new Date,30)),o(new Date),d("all"),m("all")},P=M=>{const $=new Date;switch(M){case"today":a($),o($);break;case"last7":a(Yn($,7)),o($);break;case"last30":a(Yn($,30)),o($);break;case"last90":a(Yn($,90)),o($);break;case"thisMonth":a(po($)),o(wo($));break;case"lastMonth":const U=Yv($,1);a(po(U)),o(wo(U));break;case"allTime":a(void 0),o(void 0);break}},L=c!=="all"||f!=="all"||n&&He(n,"yyyy-MM-dd")!==He(Yn(new Date,30),"yyyy-MM-dd")||i&&He(i,"yyyy-MM-dd")!==He(new Date,"yyyy-MM-dd");return b?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((M,$)=>s.jsx($e,{className:"h-24"},$))}),s.jsx($e,{className:"h-96"})]}):w?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx(pt,{variant:"destructive",children:s.jsxs(gt,{children:["Failed to load work stats: ",_?.message||"Unknown error"]})})}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Work Stats"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage worker productivity statistics"})]}),s.jsxs(se,{onClick:()=>e("/stats/import"),children:[s.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Import Stats"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Active Workers"}),s.jsx(_s,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.activeWorkers.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[E.totalRecords," records in period"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Units"}),s.jsx($c,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E.totalUnits.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",E.avgUnitsPerDay," per day"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(Uv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[E.totalHours.toFixed(1),"h"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",E.avgHoursPerDay,"h per day"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(xx,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",E.totalEarnings.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all workers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5"}),"Earnings Over Time"]}),s.jsx(dt,{children:"Daily earnings in selected period"})]}),s.jsx(ke,{children:N.length>0?s.jsx(_y,{width:"100%",height:300,children:s.jsxs(mW,{data:N,children:[s.jsx(fm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(mm,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(pm,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:M=>`$${M}`}),s.jsx(Hy,{formatter:M=>[`$${M.toFixed(2)}`,"Earnings"],labelFormatter:M=>`Date: ${M}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Hk,{type:"monotone",dataKey:"earnings",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2},activeDot:{r:6}})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No earnings data available"})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Cd,{className:"h-5 w-5"}),"Units by Project"]}),s.jsx(dt,{children:"Top 5 projects by units completed"})]}),s.jsx(ke,{children:k.length>0?s.jsx(_y,{width:"100%",height:300,children:s.jsxs(tTe,{data:k,layout:"vertical",children:[s.jsx(fm,{strokeDasharray:"3 3",className:"stroke-muted",horizontal:!0,vertical:!1}),s.jsx(mm,{type:"number",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(pm,{type:"category",dataKey:"name",tick:{fontSize:11},tickLine:!1,axisLine:!1,width:150}),s.jsx(Hy,{formatter:(M,$)=>[M.toLocaleString(),$==="units"?"Units":"Hours"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(rW,{dataKey:"units",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No project data available"})})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(w_,{className:"h-5 w-5 text-yellow-500"}),"Top Earners"]}),s.jsx(dt,{children:"Workers ranked by earnings in selected period"})]}),s.jsx(ke,{children:O.length>0?s.jsx("div",{className:"space-y-3",children:O.map((M,$)=>{const U=X=>{switch(X){case 0:return s.jsx(w_,{className:"h-5 w-5 text-yellow-500"});case 1:return s.jsx(Yie,{className:"h-5 w-5 text-gray-400"});case 2:return s.jsx(oie,{className:"h-5 w-5 text-amber-600"});default:return s.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-medium text-muted-foreground",children:X+1})}};return s.jsxs("div",{className:Me("flex items-center justify-between p-3 rounded-lg border",$===0&&"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20 dark:border-yellow-800",$===1&&"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-700",$===2&&"bg-amber-50 border-amber-200 dark:bg-amber-950/20 dark:border-amber-800",$>2&&"bg-muted/30"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8",children:U($)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:M.hrId})]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-right",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Units"}),s.jsx("div",{className:"font-medium",children:M.units.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Hours"}),s.jsxs("div",{className:"font-medium",children:[M.hours.toFixed(1),"h"]})]}),s.jsxs("div",{className:"min-w-[80px]",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Earnings"}),s.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400",children:["$",M.earnings.toFixed(2)]})]})]})]},M.id)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[s.jsx(w_,{className:"h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"No earner data available"})]})})]}),s.jsxs(Ee,{children:[s.jsx(Re,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Te,{className:"text-base",children:"Filters"}),L&&s.jsxs(se,{variant:"ghost",size:"sm",onClick:A,children:[s.jsx(Rs,{className:"mr-2 h-4 w-4"}),"Clear Filters"]})]})}),s.jsxs(ke,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("today"),children:"Today"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last7"),children:"Last 7 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last30"),children:"Last 30 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last90"),children:"Last 90 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("thisMonth"),children:"This Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("lastMonth"),children:"Last Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("allTime"),children:"All Time"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"From Date"}),s.jsxs(rx,{children:[s.jsx(nx,{asChild:!0,children:s.jsxs(se,{variant:"outline",className:Me("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(Ic,{className:"mr-2 h-4 w-4"}),n?He(n,"MMM d, yyyy"):s.jsx("span",{children:"Select start date"})]})}),s.jsx(gm,{className:"w-auto p-0",align:"start",children:s.jsx(vm,{mode:"single",selected:n,onSelect:a,disabled:M=>i?M>i:!1,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"To Date"}),s.jsxs(rx,{children:[s.jsx(nx,{asChild:!0,children:s.jsxs(se,{variant:"outline",className:Me("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[s.jsx(Ic,{className:"mr-2 h-4 w-4"}),i?He(i,"MMM d, yyyy"):s.jsx("span",{children:"Select end date"})]})}),s.jsx(gm,{className:"w-auto p-0",align:"start",children:s.jsx(vm,{mode:"single",selected:i,onSelect:o,disabled:M=>n?M<n:!1,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Worker"}),s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"All Workers"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Workers"}),p?.map(M=>s.jsx(De,{value:M.id,children:M.full_name},M.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Project"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"All Projects"})}),s.jsxs(_t,{children:[s.jsx(De,{value:"all",children:"All Projects"}),y?.map(M=>s.jsx(De,{value:M.id,children:M.name},M.id))]})]})]})]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Work Stats History"}),s.jsxs(dt,{children:["Showing ",g?.length||0," records"]})]}),s.jsx(ke,{children:g&&g.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:R.getHeaderGroups().map(M=>s.jsx(vt,{children:M.headers.map($=>s.jsx(Oe,{children:$.isPlaceholder?null:Ei($.column.columnDef.header,$.getContext())},$.id))},M.id))}),s.jsx(Yr,{children:R.getRowModel().rows.map(M=>s.jsx(vt,{children:M.getVisibleCells().map($=>s.jsx(Ne,{children:Ei($.column.columnDef.cell,$.getContext())},$.id))},M.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",R.getState().pagination.pageIndex*R.getState().pagination.pageSize+1," to"," ",Math.min((R.getState().pagination.pageIndex+1)*R.getState().pagination.pageSize,g.length)," ","of ",g.length," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>R.previousPage(),disabled:!R.getCanPreviousPage(),children:[s.jsx(yx,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>R.nextPage(),disabled:!R.getCanNextPage(),children:["Next",s.jsx(Sm,{className:"h-4 w-4"})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Cd,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No work stats found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:L?"Try adjusting your filters or import some stats.":"Get started by importing work stats from a CSV file."}),s.jsxs(se,{onClick:()=>e("/stats/import"),children:[s.jsx(Lc,{className:"mr-2 h-4 w-4"}),"Import Stats"]})]})})]})]})}function wMe(){const{user:e,profile:t}=Ar(),[r,n]=x.useState(Yn(new Date,30)),[a,i]=x.useState(new Date),[o,c]=x.useState(0),d=10,{data:f,isLoading:m,error:p}=Je({queryKey:["my-worker-profile",e?.email],queryFn:async()=>{if(!e?.email)return null;const{data:k,error:O}=await Se.from("workers").select("id, hr_id, full_name, email, pph_email, status, hire_date").or(`email.eq.${e.email},pph_email.eq.${e.email}`).single();return O?(console.error("Error finding linked worker:",O),null):k},enabled:!!e?.email}),{data:y}=Je({queryKey:["my-assignments",f?.id],queryFn:async()=>{if(!f?.id)return[];const{data:k,error:O}=await Se.from("worker_assignments").select(`
          id,
          assigned_at,
          project:workforce_projects!worker_assignments_project_id_fkey(id, name, code, status),
          team:teams!worker_assignments_team_id_fkey(id, name)
        `).eq("worker_id",f.id).is("removed_at",null).order("assigned_at",{ascending:!1});if(O)throw O;return k},enabled:!!f?.id}),{data:g,isLoading:b}=Je({queryKey:["my-work-stats",f?.id,r,a],queryFn:async()=>{if(!f?.id)return[];let k=Se.from("work_stats").select(`
          id,
          worker_id,
          project_id,
          work_date,
          units_completed,
          hours_worked,
          earnings,
          project:projects!work_stats_project_id_fkey(id, name)
        `).eq("worker_id",f.id).order("work_date",{ascending:!1});r&&(k=k.gte("work_date",He(r,"yyyy-MM-dd"))),a&&(k=k.lte("work_date",He(a,"yyyy-MM-dd")));const{data:O,error:T}=await k;if(T)throw T;return O},enabled:!!f?.id}),w=x.useMemo(()=>{if(!g||g.length===0)return{totalUnits:0,totalHours:0,totalEarnings:0,avgUnitsPerDay:0,avgHoursPerDay:0,daysWorked:0};const k=g.reduce((A,P)=>A+(P.units_completed||0),0),O=g.reduce((A,P)=>A+(P.hours_worked||0),0),T=g.reduce((A,P)=>A+(P.earnings||0),0),R=new Set(g.map(A=>A.work_date)).size;return{totalUnits:k,totalHours:O,totalEarnings:T,avgUnitsPerDay:R>0?Math.round(k/R):0,avgHoursPerDay:R>0?(O/R).toFixed(1):"0",daysWorked:R}},[g]),_=x.useMemo(()=>{if(!g||g.length===0)return[];const k={};return g.forEach(O=>{const T=O.work_date;k[T]=(k[T]||0)+(O.earnings||0)}),Object.entries(k).sort(([O],[T])=>O.localeCompare(T)).map(([O,T])=>({date:He(VB(O),"MMM d"),fullDate:O,earnings:Number(T.toFixed(2))}))},[g]),j=x.useMemo(()=>{if(!g)return[];const k=o*d;return g.slice(k,k+d)},[g,o]),E=Math.ceil((g?.length||0)/d),N=k=>{const O=new Date;switch(k){case"last7":n(Yn(O,7)),i(O);break;case"last30":n(Yn(O,30)),i(O);break;case"thisMonth":n(po(O)),i(wo(O));break;case"lastMonth":const T=Yv(O,1);n(po(T)),i(wo(T));break}c(0)};return m?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx($e,{className:"h-10 w-64"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((k,O)=>s.jsx($e,{className:"h-24"},O))}),s.jsx($e,{className:"h-96"})]}):f?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Stats"}),s.jsx("p",{className:"text-muted-foreground",children:"View your work statistics, earnings, and project assignments"})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{className:"text-lg",children:"My Profile"})}),s.jsx(ke,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:f.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"HR ID"}),s.jsx("p",{className:"font-medium",children:f.hr_id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(ze,{variant:f.status==="active"?"default":"secondary",children:f.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hire Date"}),s.jsx("p",{className:"font-medium",children:f.hire_date?He(new Date(f.hire_date),"MMM d, yyyy"):"-"})]})]})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx(Cl,{className:"h-5 w-5"}),"Current Assignments"]}),s.jsx(dt,{children:"Projects you are currently assigned to"})]}),s.jsx(ke,{children:y&&y.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(k=>s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.project.name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k.project.code})]}),s.jsx(ze,{variant:k.project.status==="active"?"default":"secondary",children:k.project.status})]}),k.team&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Team: ",k.team.name]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Assigned: ",He(new Date(k.assigned_at),"MMM d, yyyy")]})]},k.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"You are not currently assigned to any projects."})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>N("last7"),children:"Last 7 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>N("last30"),children:"Last 30 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>N("thisMonth"),children:"This Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>N("lastMonth"),children:"Last Month"}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(rx,{children:[s.jsx(nx,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",className:Me(!r&&"text-muted-foreground"),children:[s.jsx(Ic,{className:"mr-2 h-4 w-4"}),r?He(r,"MMM d"):"From"]})}),s.jsx(gm,{className:"w-auto p-0",align:"start",children:s.jsx(vm,{mode:"single",selected:r,onSelect:k=>{n(k),c(0)},disabled:k=>a?k>a:!1,initialFocus:!0})})]}),s.jsx("span",{className:"text-muted-foreground",children:"to"}),s.jsxs(rx,{children:[s.jsx(nx,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",className:Me(!a&&"text-muted-foreground"),children:[s.jsx(Ic,{className:"mr-2 h-4 w-4"}),a?He(a,"MMM d"):"To"]})}),s.jsx(gm,{className:"w-auto p-0",align:"start",children:s.jsx(vm,{mode:"single",selected:a,onSelect:k=>{i(k),c(0)},disabled:k=>r?k<r:!1,initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Units"}),s.jsx($c,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w.totalUnits.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",w.avgUnitsPerDay," per day"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(Uv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[w.totalHours.toFixed(1),"h"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",w.avgHoursPerDay,"h per day"]})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(xx,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",w.totalEarnings.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In selected period"})]})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Days Worked"}),s.jsx(Cd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ke,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w.daysWorked}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days with activity"})]})]})]}),_.length>0&&s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsxs(Te,{className:"flex items-center gap-2",children:[s.jsx($c,{className:"h-5 w-5"}),"My Earnings Over Time"]}),s.jsx(dt,{children:"Daily earnings in selected period"})]}),s.jsx(ke,{children:s.jsx(_y,{width:"100%",height:300,children:s.jsxs(mW,{data:_,children:[s.jsx(fm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(mm,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(pm,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:k=>`$${k}`}),s.jsx(Hy,{formatter:k=>[`$${k.toFixed(2)}`,"Earnings"],labelFormatter:k=>`Date: ${k}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Hk,{type:"monotone",dataKey:"earnings",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2},activeDot:{r:6}})]})})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{children:[s.jsx(Te,{children:"Work History"}),s.jsxs(dt,{children:["Showing ",g?.length||0," records in selected period"]})]}),s.jsx(ke,{children:b?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((k,O)=>s.jsx($e,{className:"h-12 w-full"},O))}):j.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{children:"Date"}),s.jsx(Oe,{children:"Project"}),s.jsx(Oe,{children:"Units"}),s.jsx(Oe,{children:"Hours"}),s.jsx(Oe,{children:"Earnings"})]})}),s.jsx(Yr,{children:j.map(k=>s.jsxs(vt,{children:[s.jsx(Ne,{children:He(new Date(k.work_date),"MMM d, yyyy")}),s.jsx(Ne,{children:k.project?.name||"-"}),s.jsx(Ne,{children:k.units_completed!==null?s.jsx(ze,{variant:"secondary",children:k.units_completed.toLocaleString()}):"-"}),s.jsx(Ne,{children:k.hours_worked!==null?`${k.hours_worked.toFixed(1)}h`:"-"}),s.jsx(Ne,{className:"font-medium text-green-600",children:k.earnings!==null?`$${k.earnings.toFixed(2)}`:"-"})]},k.id))})]})}),E>1&&s.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",o+1," of ",E]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(k=>Math.max(0,k-1)),disabled:o===0,children:[s.jsx(yx,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>c(k=>Math.min(E-1,k+1)),disabled:o>=E-1,children:["Next",s.jsx(Sm,{className:"h-4 w-4"})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Cd,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No work stats found"}),s.jsx("p",{className:"text-muted-foreground",children:"No work statistics recorded for the selected period."})]})})]})]}):s.jsx("div",{className:"container mx-auto py-6",children:s.jsxs(pt,{variant:"destructive",children:[s.jsx(Na,{className:"h-4 w-4"}),s.jsx(hE,{children:"No Worker Profile Found"}),s.jsxs(gt,{children:["Your user account (",e?.email,") is not linked to a worker profile in the system. Please contact your administrator to set up your worker profile."]})]})})}const Mz=["tier0","tier1","tier2"],Iz={tier0:"Tier 0 (Entry)",tier1:"Tier 1 (Intermediate)",tier2:"Tier 2 (Expert)"},$z=["USD","EUR","GBP","CAD","AUD","PHP","INR","MXN"];function _Me(){const{user:e}=Ar(),t=jr(),[r,n]=x.useState([]),[a,i]=x.useState(""),[o,c]=x.useState(!1),[d,f]=x.useState(!1),[m,p]=x.useState(!1),[y,g]=x.useState(null),[b,w]=x.useState({locale:"",expert_tier:"tier0",country:"",rate_per_unit:"",rate_per_hour:"",currency:"USD",effective_from:new Date().toISOString().split("T")[0],effective_to:""}),{data:_}=Je({queryKey:["user-profile",e?.id],queryFn:async()=>{if(!e?.id)return null;const{data:I,error:q}=await Se.from("profiles").select("id, role, email").eq("id",e.id).single();return q?(console.error("Error fetching user profile:",q),null):I},enabled:!!e?.id}),{data:j,isLoading:E}=Je({queryKey:["rates-payable"],queryFn:async()=>{const{data:I,error:q}=await Se.from("rates_payable").select("*").order("locale",{ascending:!0}).order("expert_tier",{ascending:!0}).order("effective_from",{ascending:!1});if(q)throw q;return I}}),N=mr({mutationFn:async I=>{const{data:q,error:ue}=await Se.from("rates_payable").insert({locale:I.locale,expert_tier:I.expert_tier,country:I.country,rate_per_unit:I.rate_per_unit?parseFloat(I.rate_per_unit):null,rate_per_hour:I.rate_per_hour?parseFloat(I.rate_per_hour):null,currency:I.currency,effective_from:I.effective_from,effective_to:I.effective_to||null,created_by:null}).select();if(ue)throw ue;if(!q||q.length===0)throw new Error("Insert failed: No rows were created. You may not have permission to add rates.");return q[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),c(!1),T(),_a.success("Rate Added",{description:"The rate card has been created successfully."})},onError:I=>{_a.error("Error",{description:I.message})}}),k=mr({mutationFn:async({id:I,data:q})=>{const{data:ue,error:B}=await Se.from("rates_payable").update({locale:q.locale,expert_tier:q.expert_tier,country:q.country,rate_per_unit:q.rate_per_unit?parseFloat(q.rate_per_unit):null,rate_per_hour:q.rate_per_hour?parseFloat(q.rate_per_hour):null,currency:q.currency,effective_from:q.effective_from,effective_to:q.effective_to||null}).eq("id",I).select();if(B)throw B;if(!ue||ue.length===0)throw new Error("Update failed: No rows were updated. You may not have permission to update this rate.");return ue[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),f(!1),g(null),T(),_a.success("Rate Updated",{description:"The rate card has been updated successfully."})},onError:I=>{_a.error("Error",{description:I.message})}}),O=mr({mutationFn:async I=>{const{data:q,error:ue}=await Se.from("rates_payable").update({effective_to:new Date().toISOString().split("T")[0]}).eq("id",I).select();if(ue)throw ue;if(!q||q.length===0)throw new Error("Deactivation failed: No rows were updated. You may not have permission to update this rate.");return q[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),p(!1),g(null),_a.success("Rate Deactivated",{description:"The rate card has been deactivated."})},onError:I=>{_a.error("Error",{description:I.message})}}),T=()=>{w({locale:"",expert_tier:"tier0",country:"",rate_per_unit:"",rate_per_hour:"",currency:"USD",effective_from:new Date().toISOString().split("T")[0],effective_to:""})},R=I=>{g(I),w({locale:I.locale,expert_tier:I.expert_tier,country:I.country,rate_per_unit:I.rate_per_unit?.toString()||"",rate_per_hour:I.rate_per_hour?.toString()||"",currency:I.currency,effective_from:I.effective_from,effective_to:I.effective_to||""}),f(!0)},A=I=>{g(I),p(!0)},P=(I,q)=>q?new Date(q)>new Date(I):!0,L=()=>{const I=[];return b.locale||I.push("Locale"),b.expert_tier||I.push("Expert Tier"),b.country||I.push("Country"),b.currency||I.push("Currency"),b.effective_from||I.push("Effective From"),I},M=()=>{const I=L();if(I.length>0){_a.error("Missing Required Fields",{description:`Please fill in: ${I.join(", ")}`});return}if(b.effective_to&&!P(b.effective_from,b.effective_to)){_a.error("Invalid Date Range",{description:"Effective To date must be after Effective From date."});return}N.mutate(b)},$=()=>{if(!y)return;const I=L();if(I.length>0){_a.error("Missing Required Fields",{description:`Please fill in: ${I.join(", ")}`});return}if(b.effective_to&&!P(b.effective_from,b.effective_to)){_a.error("Invalid Date Range",{description:"Effective To date must be after Effective From date."});return}k.mutate({id:y.id,data:b})},U=I=>I.effective_to?new Date(I.effective_to)>=new Date:!0,X=x.useMemo(()=>_?["root","admin","manager"].includes(_.role):!1,[_]),Y=x.useMemo(()=>{if(!j)return{total:0,active:0,locales:0,tiers:0};const I=j.filter(U),q=new Set(j.map(B=>B.locale)).size,ue=new Set(j.map(B=>B.expert_tier)).size;return{total:j.length,active:I.length,locales:q,tiers:ue}},[j]),F=x.useMemo(()=>[{accessorKey:"locale",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Locale"}),cell:({row:I})=>s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx(l1,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:I.original.locale})]})},{accessorKey:"expert_tier",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Expert Tier"}),cell:({row:I})=>{const q=I.original.expert_tier,ue={tier0:"bg-slate-100 text-slate-800",tier1:"bg-blue-100 text-blue-800",tier2:"bg-purple-100 text-purple-800"},B={tier0:"Tier 0",tier1:"Tier 1",tier2:"Tier 2"};return s.jsx(ze,{variant:"secondary",className:`whitespace-nowrap ${ue[q]||""}`,children:B[q]||q})}},{accessorKey:"country",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Country"}),cell:({row:I})=>s.jsx("span",{className:"whitespace-nowrap",children:I.original.country||"-"})},{accessorKey:"rate_per_unit",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Rate/Unit"}),cell:({row:I})=>{const q=I.original.rate_per_unit,ue=I.original.currency;return s.jsx("span",{className:"whitespace-nowrap",children:q?`${ue} ${q.toFixed(2)}`:"-"})}},{accessorKey:"rate_per_hour",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Rate/Hour"}),cell:({row:I})=>{const q=I.original.rate_per_hour,ue=I.original.currency;return s.jsx("span",{className:"whitespace-nowrap",children:q?`${ue} ${q.toFixed(2)}`:"-"})}},{accessorKey:"currency",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Currency"}),cell:({row:I})=>s.jsx(ze,{variant:"outline",className:"whitespace-nowrap",children:I.original.currency})},{accessorKey:"effective_from",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Effective From"}),cell:({row:I})=>s.jsx("span",{className:"whitespace-nowrap",children:He(new Date(I.original.effective_from),"MMM d, yyyy")})},{accessorKey:"effective_to",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Effective To"}),cell:({row:I})=>{const q=I.original.effective_to;if(!q)return s.jsx(ze,{variant:"secondary",className:"whitespace-nowrap",children:"Active"});const ue=new Date(q)<new Date;return s.jsx("span",{className:`whitespace-nowrap ${ue?"text-muted-foreground":""}`,children:He(new Date(q),"MMM d, yyyy")})}},{accessorKey:"status",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Status"}),cell:({row:I})=>{const q=U(I.original);return s.jsx(ze,{variant:q?"default":"secondary",className:"whitespace-nowrap",children:q?"Active":"Inactive"})}},{id:"actions",header:"Actions",cell:({row:I})=>s.jsxs(Qv,{children:[s.jsx(Jv,{asChild:!0,children:s.jsx(se,{variant:"ghost",size:"icon",disabled:!X,children:s.jsx(Pie,{className:"h-4 w-4"})})}),s.jsxs(Yh,{align:"end",children:[s.jsxs(_c,{onClick:()=>R(I.original),disabled:!X,children:[s.jsx(Xie,{className:"mr-2 h-4 w-4"}),"Edit"]}),U(I.original)&&s.jsxs(_c,{onClick:()=>A(I.original),className:"text-destructive",disabled:!X,children:[s.jsx(sU,{className:"mr-2 h-4 w-4"}),"Deactivate"]})]})]})}],[X]),H=Kd({data:j||[],columns:F,state:{sorting:r,globalFilter:a},onSortingChange:n,onGlobalFilterChange:i,getCoreRowModel:Vd(),getFilteredRowModel:Cm(),getPaginationRowModel:Hd(),getSortedRowModel:Wd(),initialState:{pagination:{pageSize:10}}});return E?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx($e,{className:"h-10 w-48"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((I,q)=>s.jsx($e,{className:"h-24"},q))}),s.jsx($e,{className:"h-96"})]}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Rate Cards"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage payable rates by locale, expert tier, and country"})]}),s.jsxs(se,{onClick:()=>c(!0),disabled:!X,children:[s.jsx(pE,{className:"mr-2 h-4 w-4"}),"Add Rate"]})]}),_&&!X&&s.jsxs(pt,{variant:"destructive",children:[s.jsx(Ki,{className:"h-4 w-4"}),s.jsx(hE,{children:"Limited Access"}),s.jsxs(gt,{children:["Your current role (",_.role,") does not have permission to add, edit, or deactivate rate cards. Contact an administrator to request the 'admin' or 'manager' role."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Total Rates"}),s.jsx(nU,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ke,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.total})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Active Rates"}),s.jsx(xx,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ke,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y.active})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Locales"}),s.jsx(l1,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ke,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.locales})})]}),s.jsxs(Ee,{children:[s.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Te,{className:"text-sm font-medium",children:"Expert Tiers"}),s.jsx(Ic,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(ke,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.tiers})})]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Te,{children:"Rate Cards"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(qd,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Xe,{placeholder:"Search rates...",value:a,onChange:I=>i(I.target.value),className:"pl-8"})]})]})}),s.jsxs(ke,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:H.getHeaderGroups().map(I=>s.jsx(vt,{children:I.headers.map(q=>s.jsx(Oe,{className:"whitespace-nowrap",children:q.isPlaceholder?null:Ei(q.column.columnDef.header,q.getContext())},q.id))},I.id))}),s.jsx(Yr,{children:H.getRowModel().rows?.length?H.getRowModel().rows.map(I=>s.jsx(vt,{children:I.getVisibleCells().map(q=>s.jsx(Ne,{className:"whitespace-nowrap",children:Ei(q.column.columnDef.cell,q.getContext())},q.id))},I.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:F.length,className:"h-24 text-center",children:"No rates found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",H.getState().pagination.pageIndex*H.getState().pagination.pageSize+1," to"," ",Math.min((H.getState().pagination.pageIndex+1)*H.getState().pagination.pageSize,H.getFilteredRowModel().rows.length)," ","of ",H.getFilteredRowModel().rows.length," rates"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>H.previousPage(),disabled:!H.getCanPreviousPage(),children:[s.jsx(yx,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>H.nextPage(),disabled:!H.getCanNextPage(),children:["Next",s.jsx(Sm,{className:"h-4 w-4"})]})]})]})]})]}),s.jsx(ka,{open:o,onOpenChange:c,children:s.jsxs(ia,{className:"max-w-md",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Add New Rate"}),s.jsx(Ni,{children:"Create a new rate card for a specific locale and expert tier."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"locale",children:"Locale *"}),s.jsx(Xe,{id:"locale",placeholder:"e.g., en-US, es-MX, fr-FR",value:b.locale,onChange:I=>w({...b,locale:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"expert_tier",children:"Expert Tier *"}),s.jsxs(Ct,{value:b.expert_tier,onValueChange:I=>w({...b,expert_tier:I}),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select tier"})}),s.jsx(_t,{children:Mz.map(I=>s.jsx(De,{value:I,children:Iz[I]||I},I))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"country",children:"Country *"}),s.jsx(Xe,{id:"country",placeholder:"e.g., US, MX, PH",value:b.country,onChange:I=>w({...b,country:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"rate_per_unit",children:"Rate per Unit"}),s.jsx(Xe,{id:"rate_per_unit",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_unit,onChange:I=>w({...b,rate_per_unit:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"rate_per_hour",children:"Rate per Hour"}),s.jsx(Xe,{id:"rate_per_hour",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_hour,onChange:I=>w({...b,rate_per_hour:I.target.value})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"currency",children:"Currency *"}),s.jsxs(Ct,{value:b.currency,onValueChange:I=>w({...b,currency:I}),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select currency"})}),s.jsx(_t,{children:$z.map(I=>s.jsx(De,{value:I,children:I},I))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"effective_from",children:"Effective From *"}),s.jsx(Xe,{id:"effective_from",type:"date",value:b.effective_from,onChange:I=>w({...b,effective_from:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"effective_to",children:"Effective To"}),s.jsx(Xe,{id:"effective_to",type:"date",value:b.effective_to,onChange:I=>w({...b,effective_to:I.target.value})})]})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(se,{onClick:M,disabled:N.isPending,children:N.isPending?"Adding...":"Add Rate"})]})]})}),s.jsx(ka,{open:d,onOpenChange:f,children:s.jsxs(ia,{className:"max-w-md",children:[s.jsxs(sa,{children:[s.jsx(oa,{children:"Edit Rate"}),s.jsx(Ni,{children:"Update the rate card details."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-locale",children:"Locale *"}),s.jsx(Xe,{id:"edit-locale",placeholder:"e.g., en-US, es-MX, fr-FR",value:b.locale,onChange:I=>w({...b,locale:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-expert_tier",children:"Expert Tier *"}),s.jsxs(Ct,{value:b.expert_tier,onValueChange:I=>w({...b,expert_tier:I}),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select tier"})}),s.jsx(_t,{children:Mz.map(I=>s.jsx(De,{value:I,children:Iz[I]||I},I))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-country",children:"Country *"}),s.jsx(Xe,{id:"edit-country",placeholder:"e.g., US, MX, PH",value:b.country,onChange:I=>w({...b,country:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-rate_per_unit",children:"Rate per Unit"}),s.jsx(Xe,{id:"edit-rate_per_unit",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_unit,onChange:I=>w({...b,rate_per_unit:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-rate_per_hour",children:"Rate per Hour"}),s.jsx(Xe,{id:"edit-rate_per_hour",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_hour,onChange:I=>w({...b,rate_per_hour:I.target.value})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-currency",children:"Currency *"}),s.jsxs(Ct,{value:b.currency,onValueChange:I=>w({...b,currency:I}),children:[s.jsx(wt,{children:s.jsx(Et,{placeholder:"Select currency"})}),s.jsx(_t,{children:$z.map(I=>s.jsx(De,{value:I,children:I},I))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-effective_from",children:"Effective From *"}),s.jsx(Xe,{id:"edit-effective_from",type:"date",value:b.effective_from,onChange:I=>w({...b,effective_from:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-effective_to",children:"Effective To"}),s.jsx(Xe,{id:"edit-effective_to",type:"date",value:b.effective_to,onChange:I=>w({...b,effective_to:I.target.value})})]})]})]}),s.jsxs(Oa,{children:[s.jsx(se,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(se,{onClick:$,disabled:k.isPending,children:k.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(Jk,{open:m,onOpenChange:p,children:s.jsxs(Pb,{children:[s.jsxs(Db,{children:[s.jsx(Ib,{children:"Deactivate Rate"}),s.jsx($b,{children:"Are you sure you want to deactivate this rate card? This will set the effective end date to today. The rate will no longer be used for new calculations."})]}),s.jsxs(Mb,{children:[s.jsx(zb,{children:"Cancel"}),s.jsx(Lb,{onClick:()=>y&&O.mutate(y.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:O.isPending?"Deactivating...":"Deactivate"})]})]})})]})}var Bb="Switch",[jMe]=ca(Bb),[SMe,CMe]=jMe(Bb),j9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:f,form:m,...p}=e,[y,g]=x.useState(null),b=jt(t,N=>g(N)),w=x.useRef(!1),_=y?m||!!y.closest("form"):!0,[j,E]=Ss({prop:a,defaultProp:i??!1,onChange:f,caller:Bb});return s.jsxs(SMe,{scope:r,checked:j,disabled:c,children:[s.jsx(it.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":N9(j),"data-disabled":c?"":void 0,disabled:c,value:d,...p,ref:b,onClick:Ie(e.onClick,N=>{E(k=>!k),_&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),_&&s.jsx(E9,{control:y,bubbles:!w.current,name:n,value:d,checked:j,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});j9.displayName=Bb;var S9="SwitchThumb",C9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=CMe(S9,r);return s.jsx(it.span,{"data-state":N9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});C9.displayName=S9;var EMe="SwitchBubbleInput",E9=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),c=jt(o,i),d=kx(r),f=Ex(t);return x.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&g){const b=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(b)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});E9.displayName=EMe;function N9(e){return e?"checked":"unchecked"}var k9=j9,NMe=C9;const O9=x.forwardRef(({className:e,...t},r)=>s.jsx(k9,{className:Me("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(NMe,{className:Me("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));O9.displayName=k9.displayName;const kMe=["root","admin","manager","team_lead","worker"],OMe=e=>{if(!e)return"";try{return Gde(new Date(e),{addSuffix:!0})}catch{return e}},AMe=e=>e==="root"?"Super Admin":e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");function RMe(){const e=jr(),{isAdminOrAbove:t,isRoot:r,profile:n}=Ar(),[a,i]=x.useState(null),[o,c]=x.useState(null),{data:d,isLoading:f,error:m,refetch:p}=Je({queryKey:["users-management"],queryFn:async()=>{console.log("Fetching users from profiles table...");const{data:_,error:j}=await Se.from("profiles").select("id, email, full_name, role, suspended, updated_at").order("full_name",{ascending:!0});if(j)throw console.error("Error fetching profiles:",j),j;return console.log("Fetched users:",_),_||[]}}),y=mr({mutationFn:async({userId:_,newRole:j})=>{i(_);const{error:E}=await Se.from("profiles").update({role:j,updated_at:new Date().toISOString()}).eq("id",_);if(E)throw E},onSuccess:()=>{e.invalidateQueries({queryKey:["users-management"]}),_a.success("Role updated successfully")},onError:_=>{_a.error("Failed to update role",{description:_.message})},onSettled:()=>{i(null)}}),g=mr({mutationFn:async({userId:_,suspended:j})=>{c(_);const{error:E}=await Se.from("profiles").update({suspended:j,updated_at:new Date().toISOString()}).eq("id",_);if(E)throw E},onSuccess:(_,j)=>{e.invalidateQueries({queryKey:["users-management"]}),_a.success(j.suspended?"User suspended":"User activated")},onError:_=>{_a.error("Failed to update status",{description:_.message})},onSettled:()=>{c(null)}}),b=(_,j)=>{y.mutate({userId:_,newRole:j})},w=(_,j)=>{g.mutate({userId:_,suspended:!j})};return f?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."})]})}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"User Directory"})}),s.jsx(ke,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-12 w-full"})]})})]})]}):m?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Administer platform access, assign roles, and activate/deactivate users."})]})}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"Error Loading Users"})}),s.jsxs(ke,{children:[s.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load users: ",m.message]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This could be due to:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mb-4",children:[s.jsx("li",{children:"Missing RLS policy for profiles table"}),s.jsx("li",{children:"No data in the profiles table"}),s.jsx("li",{children:"Network connection issues"})]}),s.jsxs(se,{variant:"outline",onClick:()=>p(),children:[s.jsx(GD,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Administer platform access, assign roles, and activate/deactivate users."})]}),s.jsxs(se,{variant:"outline",onClick:()=>p(),children:[s.jsx(GD,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs(Ee,{children:[s.jsx(Re,{children:s.jsx(Te,{children:"User Directory"})}),s.jsx(ke,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Oe,{className:"whitespace-nowrap min-w-[180px]",children:"Name"}),s.jsx(Oe,{className:"whitespace-nowrap min-w-[200px]",children:"Email"}),s.jsx(Oe,{className:"whitespace-nowrap min-w-[160px]",children:"Role"}),s.jsx(Oe,{className:"whitespace-nowrap min-w-[100px]",children:"Status"}),s.jsx(Oe,{className:"whitespace-nowrap min-w-[140px]",children:"Last Updated"}),s.jsx(Oe,{className:"whitespace-nowrap min-w-[160px] text-right",children:"Action"})]})}),s.jsx(Yr,{children:d&&d.length>0?d.map(_=>s.jsxs(vt,{children:[s.jsx(Ne,{className:"font-medium whitespace-nowrap",children:_.full_name||""}),s.jsx(Ne,{className:"whitespace-nowrap",children:_.email}),s.jsx(Ne,{className:"whitespace-nowrap",children:s.jsxs(Ct,{value:_.role,onValueChange:j=>b(_.id,j),disabled:a===_.id||!t||_.id===n?.id,children:[s.jsx(wt,{className:"w-[140px]",children:s.jsx(Et,{placeholder:"Select role"})}),s.jsx(_t,{children:kMe.filter(j=>j==="root"?r:!0).map(j=>s.jsx(De,{value:j,children:AMe(j)},j))})]})}),s.jsx(Ne,{className:"whitespace-nowrap",children:s.jsx(ze,{variant:_.suspended?"destructive":"outline",children:_.suspended?"Suspended":"Active"})}),s.jsx(Ne,{className:"whitespace-nowrap",children:OMe(_.updated_at)}),s.jsx(Ne,{className:"whitespace-nowrap text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(O9,{checked:!_.suspended,onCheckedChange:()=>w(_.id,_.suspended),disabled:o===_.id||!t||_.id===n?.id}),s.jsx("span",{className:"text-xs text-muted-foreground w-[70px]",children:_.suspended?"Activate":"Deactivate"})]})})]},_.id)):s.jsx(vt,{children:s.jsx(Ne,{colSpan:6,className:"py-6 text-center text-muted-foreground",children:"No users found."})})})]})})})]})]})}function qr({children:e}){const{user:t,loading:r}=Ar();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[s.jsx($e,{className:"h-12 w-full"}),s.jsx($e,{className:"h-64 w-full"}),s.jsx($e,{className:"h-12 w-full"})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(IC,{to:"/login",replace:!0})}function TMe(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,PMe(a,...t)]}function PMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var DMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nO=DMe.reduce((e,t)=>{const r=jm(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),MMe=D6();function IMe(){return MMe.useSyncExternalStore($Me,()=>!0,()=>!1)}function $Me(){return()=>{}}var aO="Avatar",[LMe]=TMe(aO),[zMe,A9]=LMe(aO),R9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(zMe,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(nO.span,{...n,ref:t})})});R9.displayName=aO;var T9="AvatarImage",P9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=A9(T9,r),c=FMe(n,i),d=On(f=>{a(f),o.onImageLoadingStatusChange(f)});return un(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(nO.img,{...i,ref:t,src:n}):null});P9.displayName=T9;var D9="AvatarFallback",M9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=A9(D9,r),[o,c]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(nO.span,{...a,ref:t}):null});M9.displayName=D9;function Lz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function FMe(e,{referrerPolicy:t,crossOrigin:r}){const n=IMe(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,c]=x.useState(()=>Lz(i,e));return un(()=>{c(Lz(i,e))},[i,e]),un(()=>{const d=p=>()=>{c(p)};if(!i)return;const f=d("loaded"),m=d("error");return i.addEventListener("load",f),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",m)}},[i,r,t]),o}var I9=R9,$9=P9,L9=M9;const z9=x.forwardRef(({className:e,...t},r)=>s.jsx(I9,{ref:r,className:Me("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));z9.displayName=I9.displayName;const UMe=x.forwardRef(({className:e,...t},r)=>s.jsx($9,{ref:r,className:Me("aspect-square h-full w-full",e),...t}));UMe.displayName=$9.displayName;const F9=x.forwardRef(({className:e,...t},r)=>s.jsx(L9,{ref:r,className:Me("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));F9.displayName=L9.displayName;const zz=e=>e?{root:"Super Admin",admin:"Admin",manager:"Manager",team_lead:"Team Lead",worker:"Worker"}[e]||e:"User",Fz=e=>e?e==="root"?"destructive":e==="admin"?"default":"secondary":"outline";function Vr({children:e,pageTitle:t}){const{user:r,profile:n,signOut:a,isManagerOrAbove:i}=Ar(),o=ti(),c=x.useMemo(()=>[{title:"Home",items:[{title:"Dashboard",href:"/dashboard",icon:qie},{title:"Workers",href:"/workers",icon:_s,requiredRoles:["root","admin","manager","team_lead"]},{title:"Projects",href:"/projects",icon:Cl,requiredRoles:["root","admin","manager"]},{title:"Teams",href:"/teams",icon:c1,requiredRoles:["root","admin","manager"]},{title:"Departments",href:"/departments",icon:vx,requiredRoles:["root","admin"]},{title:"Stats",href:"/stats",icon:Cd,requiredRoles:["root","admin","manager","team_lead"]},{title:"My Stats",href:"/my-stats",icon:Cd,requiredRoles:["worker"]},{title:"Rate Cards",href:"/rates",icon:nU,requiredRoles:["root","admin","manager"]},{title:"User Management",href:"/users",icon:ise,requiredRoles:["root","admin"]},{title:"Messages",href:"/messages",icon:iU}]}],[]),d=x.useMemo(()=>{const g=n?.role;return c.map(b=>({...b,items:b.items.filter(w=>w.requiredRoles?g?w.requiredRoles.includes(g):!1:!0)}))},[c,n?.role]),f=x.useMemo(()=>[{title:"Add Worker",href:"/workers/create",icon:_s},{title:"Create Project",href:"/projects/create",icon:Cl},{title:"Create Team",href:"/teams/create",icon:c1},{title:"Import CSV",href:"/workers/bulk-upload",icon:WD}],[]),m=[{title:"Settings",icon:YD,onClick:()=>console.info("Settings coming soon"),comingSoon:!0},{title:"Get Help",icon:KD,onClick:()=>console.info("Help coming soon"),comingSoon:!0},{title:"Search",icon:qd,onClick:()=>console.info("Search coming soon"),comingSoon:!0}],p=g=>o.pathname===g||o.pathname.startsWith(g+"/"),y=g=>g.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2);return s.jsx("div",{className:"flex h-screen bg-background",children:s.jsxs("div",{className:"flex w-full",children:[s.jsxs("div",{className:"w-64 border-r bg-sidebar flex flex-col",children:[s.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-3",children:[s.jsx(gs,{to:"/dashboard",className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:s.jsx("span",{className:"text-lg font-bold",children:"P"})}),s.jsx(gs,{to:"/dashboard",className:"flex items-center",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:"PPH Connect"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Workforce Hub"})]})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-2",children:s.jsx("nav",{className:"space-y-1",children:d.map((g,b)=>s.jsxs("div",{className:`space-y-1 ${b===1?"mt-8":""}`,children:[s.jsx("div",{className:"px-2 py-1.5",children:s.jsx("h3",{className:"text-xs font-medium text-sidebar-foreground/60",children:g.title})}),g.items.map(w=>s.jsxs(gs,{to:w.href,className:`flex items-center gap-3 rounded-md px-2 text-sm transition-colors ${p(w.href)?"bg-sidebar-primary text-sidebar-primary-foreground font-medium py-2":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground py-1.5"}`,children:[s.jsx(w.icon,{className:"h-4 w-4"}),s.jsx("span",{children:w.title}),w.badge&&s.jsx(ze,{variant:"destructive",className:"ml-auto h-5 px-1.5 text-xs",children:w.badge})]},w.href))]},g.title))})}),s.jsx("div",{className:"px-2 py-2",children:s.jsx("div",{className:"space-y-1",children:m.map(g=>s.jsxs("button",{onClick:g.onClick,className:"flex w-full items-center gap-3 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[s.jsx(g.icon,{className:"h-4 w-4"}),s.jsx("span",{children:g.title})]},g.title))})}),s.jsx("div",{className:"border-t p-2",children:s.jsxs(Qv,{children:[s.jsx(Jv,{asChild:!0,children:s.jsxs("button",{className:"flex w-full items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-sidebar-accent",children:[s.jsx(z9,{className:"h-8 w-8",children:s.jsx(F9,{className:"bg-sidebar-primary text-sidebar-primary-foreground text-xs font-medium",children:r?.email?y(r.email):"U"})}),s.jsxs("div",{className:"flex flex-1 flex-col items-start text-left min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground truncate w-full",children:r?.email?r.email.split("@")[0]:"User"}),s.jsx("span",{className:"text-xs text-sidebar-foreground/60 truncate w-full",title:r?.email||"email@example.com",children:r?.email||"email@example.com"}),s.jsx(ze,{variant:Fz(n?.role),className:"mt-1 text-xs",children:zz(n?.role)})]}),s.jsx(xie,{className:"h-4 w-4 text-sidebar-foreground/60"})]})}),s.jsxs(Yh,{align:"end",className:"w-56",children:[s.jsx(WE,{children:s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"font-medium truncate w-full",children:r?.email?r.email.split("@")[0]:"User"}),s.jsx("span",{className:"text-xs font-normal text-muted-foreground truncate w-full",title:r?.email,children:r?.email})]})}),s.jsx(ey,{}),s.jsxs(_c,{onClick:()=>console.info("Settings coming soon"),className:"cursor-pointer",children:[s.jsx(YD,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsxs(_c,{onClick:()=>console.info("Help coming soon"),className:"cursor-pointer",children:[s.jsx(KD,{className:"mr-2 h-4 w-4"}),"Support"]}),s.jsx(ey,{}),s.jsxs(_c,{onClick:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50 cursor-pointer",children:[s.jsx(Wie,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold",children:t||"Dashboard"}),s.jsx(ze,{variant:Fz(n?.role),className:"uppercase tracking-wide text-xs",children:zz(n?.role)})]}),i&&s.jsxs(Qv,{children:[s.jsx(Jv,{asChild:!0,children:s.jsxs(se,{variant:"default",size:"sm",className:"gap-1.5",children:[s.jsx(WD,{className:"h-4 w-4"}),"Quick Create"]})}),s.jsx(Yh,{align:"end",className:"w-56",children:f.map(g=>s.jsx(_c,{asChild:!0,children:s.jsxs(gs,{to:g.href,className:"flex items-center cursor-pointer gap-2",children:[s.jsx(g.icon,{className:"h-4 w-4"}),g.title]})},g.href))})]})]}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})]})})}function BMe(){return s.jsxs(s.Fragment,{children:[s.jsx(lJ,{richColors:!0,position:"top-right"}),s.jsxs(Q7,{children:[s.jsx(xr,{path:"/login",element:s.jsx(Zae,{})}),s.jsx(xr,{path:"/dashboard",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Dashboard",children:s.jsx(gse,{})})})}),s.jsx(xr,{path:"/workers",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Workers",children:s.jsx(ape,{})})})}),s.jsx(xr,{path:"/workers/create",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Create Worker",children:s.jsx(cpe,{})})})}),s.jsx(xr,{path:"/workers/:id",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Worker Details",children:s.jsx(sTe,{})})})}),s.jsx(xr,{path:"/workers/:id/edit",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Edit Worker",children:s.jsx(hpe,{})})})}),s.jsx(xr,{path:"/projects",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Projects",children:s.jsx(oTe,{})})})}),s.jsx(xr,{path:"/projects/create",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Create Project",children:s.jsx(bTe,{})})})}),s.jsx(xr,{path:"/projects/:id",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Project Details",children:s.jsx(qTe,{})})})}),s.jsx(xr,{path:"/projects/:id/edit",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Edit Project",children:s.jsx(jTe,{})})})}),s.jsx(xr,{path:"/teams",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Teams",children:s.jsx(VTe,{})})})}),s.jsx(xr,{path:"/teams/create",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Create Team",children:s.jsx(WTe,{})})})}),s.jsx(xr,{path:"/teams/:id",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Team Details",children:s.jsx(QTe,{})})})}),s.jsx(xr,{path:"/teams/:id/edit",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Edit Team",children:s.jsx(GTe,{})})})}),s.jsx(xr,{path:"/departments",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Departments",children:s.jsx(JTe,{})})})}),s.jsx(xr,{path:"/departments/create",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Create Department",children:s.jsx(ePe,{})})})}),s.jsx(xr,{path:"/departments/:id/edit",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Edit Department",children:s.jsx(tPe,{})})})}),s.jsx(xr,{path:"/stats",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Work Stats",children:s.jsx(bMe,{})})})}),s.jsx(xr,{path:"/stats/import",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Work Stats Import",children:s.jsx(yPe,{})})})}),s.jsx(xr,{path:"/my-stats",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"My Stats",children:s.jsx(wMe,{})})})}),s.jsx(xr,{path:"/rates",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"Rate Cards",children:s.jsx(_Me,{})})})}),s.jsx(xr,{path:"/users",element:s.jsx(qr,{children:s.jsx(Vr,{pageTitle:"User Management",children:s.jsx(RMe,{})})})}),s.jsx(xr,{path:"/",element:s.jsx(IC,{to:"/dashboard",replace:!0})})]})]})}const qMe=new eZ({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});l7.createRoot(document.getElementById("root")).render(s.jsx(re.StrictMode,{children:s.jsx(tZ,{client:qMe,children:s.jsx(_Y,{children:s.jsx(MQ,{children:s.jsx(BMe,{})})})})}));
