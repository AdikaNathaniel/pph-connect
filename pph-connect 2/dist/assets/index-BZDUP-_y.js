function H4(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t7(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var a=!1;try{a=this instanceof n}catch{}return a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var r_={exports:{}},rh={};var QR;function r7(){if(QR)return rh;QR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:e,type:n,key:o,ref:a!==void 0?a:null,props:i}}return rh.Fragment=t,rh.jsx=r,rh.jsxs=r,rh}var JR;function n7(){return JR||(JR=1,r_.exports=r7()),r_.exports}var s=n7(),n_={exports:{}},bt={};var eP;function a7(){if(eP)return bt;eP=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function j(B,Q,V){this.props=B,this.context=Q,this.refs=_,this.updater=V||b}j.prototype.isReactComponent={},j.prototype.setState=function(B,Q){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Q,"setState")},j.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function N(){}N.prototype=j.prototype;function E(B,Q,V){this.props=B,this.context=Q,this.refs=_,this.updater=V||b}var k=E.prototype=new N;k.constructor=E,w(k,j.prototype),k.isPureReactComponent=!0;var A=Array.isArray;function R(){}var T={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function P(B,Q,V){var ae=V.ref;return{$$typeof:e,type:B,key:Q,ref:ae!==void 0?ae:null,props:V}}function $(B,Q){return P(B.type,Q,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===e}function L(B){var Q={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(V){return Q[V]})}var U=/\/+/g;function X(B,Q){return typeof B=="object"&&B!==null&&B.key!=null?L(""+B.key):Q.toString(36)}function Y(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(R,R):(B.status="pending",B.then(function(Q){B.status==="pending"&&(B.status="fulfilled",B.value=Q)},function(Q){B.status==="pending"&&(B.status="rejected",B.reason=Q)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function F(B,Q,V,ae,Z){var ne=typeof B;(ne==="undefined"||ne==="boolean")&&(B=null);var ee=!1;if(B===null)ee=!0;else switch(ne){case"bigint":case"string":case"number":ee=!0;break;case"object":switch(B.$$typeof){case e:case t:ee=!0;break;case m:return ee=B._init,F(ee(B._payload),Q,V,ae,Z)}}if(ee)return Z=Z(B),ee=ae===""?"."+X(B,0):ae,A(Z)?(V="",ee!=null&&(V=ee.replace(U,"$&/")+"/"),F(Z,Q,V,"",function(ge){return ge})):Z!=null&&(M(Z)&&(Z=$(Z,V+(Z.key==null||B&&B.key===Z.key?"":(""+Z.key).replace(U,"$&/")+"/")+ee)),Q.push(Z)),1;ee=0;var pe=ae===""?".":ae+":";if(A(B))for(var G=0;G<B.length;G++)ae=B[G],ne=pe+X(ae,G),ee+=F(ae,Q,V,ne,Z);else if(G=g(B),typeof G=="function")for(B=G.call(B),G=0;!(ae=B.next()).done;)ae=ae.value,ne=pe+X(ae,G++),ee+=F(ae,Q,V,ne,Z);else if(ne==="object"){if(typeof B.then=="function")return F(Y(B),Q,V,ae,Z);throw Q=String(B),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return ee}function H(B,Q,V){if(B==null)return B;var ae=[],Z=0;return F(B,ae,"","",function(ne){return Q.call(V,ne,Z++)}),ae}function I(B){if(B._status===-1){var Q=B._result;Q=Q(),Q.then(function(V){(B._status===0||B._status===-1)&&(B._status=1,B._result=V)},function(V){(B._status===0||B._status===-1)&&(B._status=2,B._result=V)}),B._status===-1&&(B._status=0,B._result=Q)}if(B._status===1)return B._result.default;throw B._result}var q=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},ue={map:H,forEach:function(B,Q,V){H(B,function(){Q.apply(this,arguments)},V)},count:function(B){var Q=0;return H(B,function(){Q++}),Q},toArray:function(B){return H(B,function(Q){return Q})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return bt.Activity=p,bt.Children=ue,bt.Component=j,bt.Fragment=r,bt.Profiler=a,bt.PureComponent=E,bt.StrictMode=n,bt.Suspense=d,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,bt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return T.H.useMemoCache(B)}},bt.cache=function(B){return function(){return B.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(B,Q,V){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ae=w({},B.props),Z=B.key;if(Q!=null)for(ne in Q.key!==void 0&&(Z=""+Q.key),Q)!O.call(Q,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&Q.ref===void 0||(ae[ne]=Q[ne]);var ne=arguments.length-2;if(ne===1)ae.children=V;else if(1<ne){for(var ee=Array(ne),pe=0;pe<ne;pe++)ee[pe]=arguments[pe+2];ae.children=ee}return P(B.type,Z,ae)},bt.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:i,_context:B},B},bt.createElement=function(B,Q,V){var ae,Z={},ne=null;if(Q!=null)for(ae in Q.key!==void 0&&(ne=""+Q.key),Q)O.call(Q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Z[ae]=Q[ae]);var ee=arguments.length-2;if(ee===1)Z.children=V;else if(1<ee){for(var pe=Array(ee),G=0;G<ee;G++)pe[G]=arguments[G+2];Z.children=pe}if(B&&B.defaultProps)for(ae in ee=B.defaultProps,ee)Z[ae]===void 0&&(Z[ae]=ee[ae]);return P(B,ne,Z)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(B){return{$$typeof:c,render:B}},bt.isValidElement=M,bt.lazy=function(B){return{$$typeof:m,_payload:{_status:-1,_result:B},_init:I}},bt.memo=function(B,Q){return{$$typeof:f,type:B,compare:Q===void 0?null:Q}},bt.startTransition=function(B){var Q=T.T,V={};T.T=V;try{var ae=B(),Z=T.S;Z!==null&&Z(V,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(R,q)}catch(ne){q(ne)}finally{Q!==null&&V.types!==null&&(Q.types=V.types),T.T=Q}},bt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},bt.use=function(B){return T.H.use(B)},bt.useActionState=function(B,Q,V){return T.H.useActionState(B,Q,V)},bt.useCallback=function(B,Q){return T.H.useCallback(B,Q)},bt.useContext=function(B){return T.H.useContext(B)},bt.useDebugValue=function(){},bt.useDeferredValue=function(B,Q){return T.H.useDeferredValue(B,Q)},bt.useEffect=function(B,Q){return T.H.useEffect(B,Q)},bt.useEffectEvent=function(B){return T.H.useEffectEvent(B)},bt.useId=function(){return T.H.useId()},bt.useImperativeHandle=function(B,Q,V){return T.H.useImperativeHandle(B,Q,V)},bt.useInsertionEffect=function(B,Q){return T.H.useInsertionEffect(B,Q)},bt.useLayoutEffect=function(B,Q){return T.H.useLayoutEffect(B,Q)},bt.useMemo=function(B,Q){return T.H.useMemo(B,Q)},bt.useOptimistic=function(B,Q){return T.H.useOptimistic(B,Q)},bt.useReducer=function(B,Q,V){return T.H.useReducer(B,Q,V)},bt.useRef=function(B){return T.H.useRef(B)},bt.useState=function(B){return T.H.useState(B)},bt.useSyncExternalStore=function(B,Q,V){return T.H.useSyncExternalStore(B,Q,V)},bt.useTransition=function(){return T.H.useTransition()},bt.version="19.2.0",bt}var tP;function $d(){return tP||(tP=1,n_.exports=a7()),n_.exports}var x=$d();const re=ti(x),ox=H4({__proto__:null,default:re},[x]);var a_={exports:{}},nh={},i_={exports:{}},s_={};var rP;function i7(){return rP||(rP=1,(function(e){function t(F,H){var I=F.length;F.push(H);e:for(;0<I;){var q=I-1>>>1,ue=F[q];if(0<a(ue,H))F[q]=H,F[I]=ue,I=q;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var H=F[0],I=F.pop();if(I!==H){F[0]=I;e:for(var q=0,ue=F.length,B=ue>>>1;q<B;){var Q=2*(q+1)-1,V=F[Q],ae=Q+1,Z=F[ae];if(0>a(V,I))ae<ue&&0>a(Z,V)?(F[q]=Z,F[ae]=I,q=ae):(F[q]=V,F[Q]=I,q=Q);else if(ae<ue&&0>a(Z,I))F[q]=Z,F[ae]=I,q=ae;else break e}}return H}function a(F,H){var I=F.sortIndex-H.sortIndex;return I!==0?I:F.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var d=[],f=[],m=1,p=null,y=3,g=!1,b=!1,w=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function k(F){for(var H=r(f);H!==null;){if(H.callback===null)n(f);else if(H.startTime<=F)n(f),H.sortIndex=H.expirationTime,t(d,H);else break;H=r(f)}}function A(F){if(w=!1,k(F),!b)if(r(d)!==null)b=!0,R||(R=!0,L());else{var H=r(f);H!==null&&Y(A,H.startTime-F)}}var R=!1,T=-1,O=5,P=-1;function $(){return _?!0:!(e.unstable_now()-P<O)}function M(){if(_=!1,R){var F=e.unstable_now();P=F;var H=!0;try{e:{b=!1,w&&(w=!1,N(T),T=-1),g=!0;var I=y;try{t:{for(k(F),p=r(d);p!==null&&!(p.expirationTime>F&&$());){var q=p.callback;if(typeof q=="function"){p.callback=null,y=p.priorityLevel;var ue=q(p.expirationTime<=F);if(F=e.unstable_now(),typeof ue=="function"){p.callback=ue,k(F),H=!0;break t}p===r(d)&&n(d),k(F)}else n(d);p=r(d)}if(p!==null)H=!0;else{var B=r(f);B!==null&&Y(A,B.startTime-F),H=!1}}break e}finally{p=null,y=I,g=!1}H=void 0}}finally{H?L():R=!1}}}var L;if(typeof E=="function")L=function(){E(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=M,L=function(){X.postMessage(null)}}else L=function(){j(M,0)};function Y(F,H){T=j(function(){F(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(F){switch(y){case 1:case 2:case 3:var H=3;break;default:H=y}var I=y;y=H;try{return F()}finally{y=I}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var I=y;y=F;try{return H()}finally{y=I}},e.unstable_scheduleCallback=function(F,H,I){var q=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,F){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=I+ue,F={id:m++,callback:H,priorityLevel:F,startTime:I,expirationTime:ue,sortIndex:-1},I>q?(F.sortIndex=I,t(f,F),r(d)===null&&F===r(f)&&(w?(N(T),T=-1):w=!0,Y(A,I-q))):(F.sortIndex=ue,t(d,F),b||g||(b=!0,R||(R=!0,L()))),F},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(F){var H=y;return function(){var I=y;y=H;try{return F.apply(this,arguments)}finally{y=I}}}})(s_)),s_}var nP;function s7(){return nP||(nP=1,i_.exports=i7()),i_.exports}var o_={exports:{}},Hn={};var aP;function o7(){if(aP)return Hn;aP=1;var e=$d();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,f,m){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:p==null?null:""+p,children:d,containerInfo:f,implementation:m}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Hn.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,m)},Hn.flushSync=function(d){var f=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=f,n.p=m,n.d.f()}},Hn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Hn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Hn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,g=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:g}):m==="script"&&n.d.X(d,{crossOrigin:p,integrity:y,fetchPriority:g,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Hn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Hn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,p=c(m,f.crossOrigin);n.d.L(d,m,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Hn.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Hn.requestFormReset=function(d){n.d.r(d)},Hn.unstable_batchedUpdates=function(d,f){return d(f)},Hn.useFormState=function(d,f,m){return o.H.useFormState(d,f,m)},Hn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hn.version="19.2.0",Hn}var iP;function W4(){if(iP)return o_.exports;iP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),o_.exports=o7(),o_.exports}var sP;function l7(){if(sP)return nh;sP=1;var e=s7(),t=$d(),r=W4();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,h=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(h=u.return),l=u.return;while(l)}return u.tag===3?h:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(n(188))}function f(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var h=l,v=u;;){var S=h.return;if(S===null)break;var C=S.alternate;if(C===null){if(v=S.return,v!==null){h=v;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===h)return d(S),l;if(C===v)return d(S),u;C=C.sibling}throw Error(n(188))}if(h.return!==v.return)h=S,v=C;else{for(var D=!1,z=S.child;z;){if(z===h){D=!0,h=S,v=C;break}if(z===v){D=!0,v=S,h=C;break}z=z.sibling}if(!D){for(z=C.child;z;){if(z===h){D=!0,h=C,v=S;break}if(z===v){D=!0,v=C,h=S;break}z=z.sibling}if(!D)throw Error(n(189))}}if(h.alternate!==v)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),E=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=M&&l[M]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function X(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case A:return"Suspense";case R:return"SuspenseList";case P:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case E:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case k:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case T:return u=l.displayName||null,u!==null?u:X(l.type)||"Memo";case O:u=l._payload,l=l._init;try{return X(l(u))}catch{}}return null}var Y=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},q=[],ue=-1;function B(l){return{current:l}}function Q(l){0>ue||(l.current=q[ue],q[ue]=null,ue--)}function V(l,u){ue++,q[ue]=l.current,l.current=u}var ae=B(null),Z=B(null),ne=B(null),ee=B(null);function pe(l,u){switch(V(ne,u),V(Z,l),V(ae,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?wR(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=wR(u),l=_R(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Q(ae),V(ae,l)}function G(){Q(ae),Q(Z),Q(ne)}function ge(l){l.memoizedState!==null&&V(ee,l);var u=ae.current,h=_R(u,l.type);u!==h&&(V(Z,l),V(ae,h))}function ye(l){Z.current===l&&(Q(ae),Q(Z)),ee.current===l&&(Q(ee),Qf._currentValue=I)}var le,Be;function Le(l){if(le===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||"",Be=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+l+Be}var et=!1;function qe(l,u){if(!l||et)return"";et=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(u){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var fe=me}Reflect.construct(l,[],we)}else{try{we.call()}catch(me){fe=me}l.call(we.prototype)}}else{try{throw Error()}catch(me){fe=me}(we=l())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=v.DetermineComponentFrameRoot(),D=C[0],z=C[1];if(D&&z){var K=D.split(`
`),ce=z.split(`
`);for(S=v=0;v<K.length&&!K[v].includes("DetermineComponentFrameRoot");)v++;for(;S<ce.length&&!ce[S].includes("DetermineComponentFrameRoot");)S++;if(v===K.length||S===ce.length)for(v=K.length-1,S=ce.length-1;1<=v&&0<=S&&K[v]!==ce[S];)S--;for(;1<=v&&0<=S;v--,S--)if(K[v]!==ce[S]){if(v!==1||S!==1)do if(v--,S--,0>S||K[v]!==ce[S]){var ve=`
`+K[v].replace(" at new "," at ");return l.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",l.displayName)),ve}while(1<=v&&0<=S);break}}}finally{et=!1,Error.prepareStackTrace=h}return(h=l?l.displayName||l.name:"")?Le(h):""}function Tt(l,u){switch(l.tag){case 26:case 27:case 5:return Le(l.type);case 16:return Le("Lazy");case 13:return l.child!==u&&u!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return qe(l.type,!1);case 11:return qe(l.type.render,!1);case 1:return qe(l.type,!0);case 31:return Le("Activity");default:return""}}function Et(l){try{var u="",h=null;do u+=Tt(l,h),h=l,l=l.return;while(l);return u}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}var St=Object.prototype.hasOwnProperty,W=e.unstable_scheduleCallback,ie=e.unstable_cancelCallback,de=e.unstable_shouldYield,Re=e.unstable_requestPaint,be=e.unstable_now,Ee=e.unstable_getCurrentPriorityLevel,Pe=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,yt=e.unstable_NormalPriority,vr=e.unstable_LowPriority,dn=e.unstable_IdlePriority,Rr=e.log,Nr=e.unstable_setDisableYieldValue,fn=null,yr=null;function Jn(l){if(typeof Rr=="function"&&Nr(l),yr&&typeof yr.setStrictMode=="function")try{yr.setStrictMode(fn,l)}catch{}}var Pr=Math.clz32?Math.clz32:zt,Wl=Math.log,xt=Math.LN2;function zt(l){return l>>>=0,l===0?32:31-(Wl(l)/xt|0)|0}var ft=256,Bt=262144,Br=4194304;function kt(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function pt(l,u,h){var v=l.pendingLanes;if(v===0)return 0;var S=0,C=l.suspendedLanes,D=l.pingedLanes;l=l.warmLanes;var z=v&134217727;return z!==0?(v=z&~C,v!==0?S=kt(v):(D&=z,D!==0?S=kt(D):h||(h=z&~l,h!==0&&(S=kt(h))))):(z=v&~C,z!==0?S=kt(z):D!==0?S=kt(D):h||(h=v&~l,h!==0&&(S=kt(h)))),S===0?0:u!==0&&u!==S&&(u&C)===0&&(C=S&-S,h=u&-u,C>=h||C===32&&(h&4194048)!==0)?u:S}function or(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function Qr(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(){var l=Br;return Br<<=1,(Br&62914560)===0&&(Br=4194304),l}function ai(l){for(var u=[],h=0;31>h;h++)u.push(l);return u}function Er(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function ha(l,u,h,v,S,C){var D=l.pendingLanes;l.pendingLanes=h,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=h,l.entangledLanes&=h,l.errorRecoveryDisabledLanes&=h,l.shellSuspendCounter=0;var z=l.entanglements,K=l.expirationTimes,ce=l.hiddenUpdates;for(h=D&~h;0<h;){var ve=31-Pr(h),we=1<<ve;z[ve]=0,K[ve]=-1;var fe=ce[ve];if(fe!==null)for(ce[ve]=null,ve=0;ve<fe.length;ve++){var me=fe[ve];me!==null&&(me.lane&=-536870913)}h&=~we}v!==0&&Kl(l,v,0),C!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=C&~(D&~u))}function Kl(l,u,h){l.pendingLanes|=u,l.suspendedLanes&=~u;var v=31-Pr(u);l.entangledLanes|=u,l.entanglements[v]=l.entanglements[v]|1073741824|h&261930}function ma(l,u){var h=l.entangledLanes|=u;for(l=l.entanglements;h;){var v=31-Pr(h),S=1<<v;S&u|l[v]&u&&(l[v]|=u),h&=~S}}function pa(l,u){var h=u&-u;return h=(h&42)!==0?1:cu(h),(h&(l.suspendedLanes|u))!==0?0:h}function cu(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Mi(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function W0(){var l=H.p;return l!==0?l:(l=window.event,l===void 0?32:HR(l.type))}function oA(l,u){var h=H.p;try{return H.p=l,u()}finally{H.p=h}}var Vo=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Vo,ga="__reactProps$"+Vo,uu="__reactContainer$"+Vo,K0="__reactEvents$"+Vo,V9="__reactListeners$"+Vo,H9="__reactHandles$"+Vo,lA="__reactResources$"+Vo,hf="__reactMarker$"+Vo;function G0(l){delete l[Pn],delete l[ga],delete l[K0],delete l[V9],delete l[H9]}function du(l){var u=l[Pn];if(u)return u;for(var h=l.parentNode;h;){if(u=h[uu]||h[Pn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(l=AR(l);l!==null;){if(h=l[Pn])return h;l=AR(l)}return u}l=h,h=l.parentNode}return null}function fu(l){if(l=l[Pn]||l[uu]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function mf(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function hu(l){var u=l[lA];return u||(u=l[lA]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function jn(l){l[hf]=!0}var cA=new Set,uA={};function Gl(l,u){mu(l,u),mu(l+"Capture",u)}function mu(l,u){for(uA[l]=u,l=0;l<u.length;l++)cA.add(u[l])}var W9=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dA={},fA={};function K9(l){return St.call(fA,l)?!0:St.call(dA,l)?!1:W9.test(l)?fA[l]=!0:(dA[l]=!0,!1)}function fp(l,u,h){if(K9(u))if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var v=u.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+h)}}function hp(l,u,h){if(h===null)l.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+h)}}function Fs(l,u,h,v){if(v===null)l.removeAttribute(h);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(h);return}l.setAttributeNS(u,h,""+v)}}function ii(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function hA(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function G9(l,u,h){var v=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var S=v.get,C=v.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(D){h=""+D,C.call(this,D)}}),Object.defineProperty(l,u,{enumerable:v.enumerable}),{getValue:function(){return h},setValue:function(D){h=""+D},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Y0(l){if(!l._valueTracker){var u=hA(l)?"checked":"value";l._valueTracker=G9(l,u,""+l[u])}}function mA(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var h=u.getValue(),v="";return l&&(v=hA(l)?l.checked?"true":"false":l.value),l=v,l!==h?(u.setValue(l),!0):!1}function mp(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var Y9=/[\n"\\]/g;function si(l){return l.replace(Y9,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Z0(l,u,h,v,S,C,D,z){l.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?l.type=D:l.removeAttribute("type"),u!=null?D==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+ii(u)):l.value!==""+ii(u)&&(l.value=""+ii(u)):D!=="submit"&&D!=="reset"||l.removeAttribute("value"),u!=null?X0(l,D,ii(u)):h!=null?X0(l,D,ii(h)):v!=null&&l.removeAttribute("value"),S==null&&C!=null&&(l.defaultChecked=!!C),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?l.name=""+ii(z):l.removeAttribute("name")}function pA(l,u,h,v,S,C,D,z){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),u!=null||h!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){Y0(l);return}h=h!=null?""+ii(h):"",u=u!=null?""+ii(u):h,z||u===l.value||(l.value=u),l.defaultValue=u}v=v??S,v=typeof v!="function"&&typeof v!="symbol"&&!!v,l.checked=z?l.checked:!!v,l.defaultChecked=!!v,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(l.name=D),Y0(l)}function X0(l,u,h){u==="number"&&mp(l.ownerDocument)===l||l.defaultValue===""+h||(l.defaultValue=""+h)}function pu(l,u,h,v){if(l=l.options,u){u={};for(var S=0;S<h.length;S++)u["$"+h[S]]=!0;for(h=0;h<l.length;h++)S=u.hasOwnProperty("$"+l[h].value),l[h].selected!==S&&(l[h].selected=S),S&&v&&(l[h].defaultSelected=!0)}else{for(h=""+ii(h),u=null,S=0;S<l.length;S++){if(l[S].value===h){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function gA(l,u,h){if(u!=null&&(u=""+ii(u),u!==l.value&&(l.value=u),h==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=h!=null?""+ii(h):""}function vA(l,u,h,v){if(u==null){if(v!=null){if(h!=null)throw Error(n(92));if(Y(v)){if(1<v.length)throw Error(n(93));v=v[0]}h=v}h==null&&(h=""),u=h}h=ii(u),l.defaultValue=h,v=l.textContent,v===h&&v!==""&&v!==null&&(l.value=v),Y0(l)}function gu(l,u){if(u){var h=l.firstChild;if(h&&h===l.lastChild&&h.nodeType===3){h.nodeValue=u;return}}l.textContent=u}var Z9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yA(l,u,h){var v=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?v?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":v?l.setProperty(u,h):typeof h!="number"||h===0||Z9.has(u)?u==="float"?l.cssFloat=h:l[u]=(""+h).trim():l[u]=h+"px"}function xA(l,u,h){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,h!=null){for(var v in h)!h.hasOwnProperty(v)||u!=null&&u.hasOwnProperty(v)||(v.indexOf("--")===0?l.setProperty(v,""):v==="float"?l.cssFloat="":l[v]="");for(var S in u)v=u[S],u.hasOwnProperty(S)&&h[S]!==v&&yA(l,S,v)}else for(var C in u)u.hasOwnProperty(C)&&yA(l,C,u[C])}function Q0(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var X9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pp(l){return Q9.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Us(){}var J0=null;function eb(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var vu=null,yu=null;function bA(l){var u=fu(l);if(u&&(l=u.stateNode)){var h=l[ga]||null;e:switch(l=u.stateNode,u.type){case"input":if(Z0(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=l;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+si(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var v=h[u];if(v!==l&&v.form===l.form){var S=v[ga]||null;if(!S)throw Error(n(90));Z0(v,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<h.length;u++)v=h[u],v.form===l.form&&mA(v)}break e;case"textarea":gA(l,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&pu(l,!!h.multiple,u,!1)}}}var tb=!1;function wA(l,u,h){if(tb)return l(u,h);tb=!0;try{var v=l(u);return v}finally{if(tb=!1,(vu!==null||yu!==null)&&(rg(),vu&&(u=vu,l=yu,yu=vu=null,bA(u),l)))for(u=0;u<l.length;u++)bA(l[u])}}function pf(l,u){var h=l.stateNode;if(h===null)return null;var v=h[ga]||null;if(v===null)return null;h=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(h&&typeof h!="function")throw Error(n(231,u,typeof h));return h}var Bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rb=!1;if(Bs)try{var gf={};Object.defineProperty(gf,"passive",{get:function(){rb=!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{rb=!1}var Ho=null,nb=null,gp=null;function _A(){if(gp)return gp;var l,u=nb,h=u.length,v,S="value"in Ho?Ho.value:Ho.textContent,C=S.length;for(l=0;l<h&&u[l]===S[l];l++);var D=h-l;for(v=1;v<=D&&u[h-v]===S[C-v];v++);return gp=S.slice(l,1<v?1-v:void 0)}function vp(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function yp(){return!0}function jA(){return!1}function va(l){function u(h,v,S,C,D){this._reactName=h,this._targetInst=S,this.type=v,this.nativeEvent=C,this.target=D,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(h=l[z],this[z]=h?h(C):C[z]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?yp:jA,this.isPropagationStopped=jA,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),u}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xp=va(Yl),vf=p({},Yl,{view:0,detail:0}),J9=va(vf),ab,ib,yf,bp=p({},vf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ob,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==yf&&(yf&&l.type==="mousemove"?(ab=l.screenX-yf.screenX,ib=l.screenY-yf.screenY):ib=ab=0,yf=l),ab)},movementY:function(l){return"movementY"in l?l.movementY:ib}}),SA=va(bp),eK=p({},bp,{dataTransfer:0}),tK=va(eK),rK=p({},vf,{relatedTarget:0}),sb=va(rK),nK=p({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),aK=va(nK),iK=p({},Yl,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),sK=va(iK),oK=p({},Yl,{data:0}),CA=va(oK),lK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dK(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=uK[l])?!!u[l]:!1}function ob(){return dK}var fK=p({},vf,{key:function(l){if(l.key){var u=lK[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=vp(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?cK[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ob,charCode:function(l){return l.type==="keypress"?vp(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?vp(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hK=va(fK),mK=p({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NA=va(mK),pK=p({},vf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ob}),gK=va(pK),vK=p({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),yK=va(vK),xK=p({},bp,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),bK=va(xK),wK=p({},Yl,{newState:0,oldState:0}),_K=va(wK),jK=[9,13,27,32],lb=Bs&&"CompositionEvent"in window,xf=null;Bs&&"documentMode"in document&&(xf=document.documentMode);var SK=Bs&&"TextEvent"in window&&!xf,EA=Bs&&(!lb||xf&&8<xf&&11>=xf),kA=" ",AA=!1;function OA(l,u){switch(l){case"keyup":return jK.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TA(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var xu=!1;function CK(l,u){switch(l){case"compositionend":return TA(u);case"keypress":return u.which!==32?null:(AA=!0,kA);case"textInput":return l=u.data,l===kA&&AA?null:l;default:return null}}function NK(l,u){if(xu)return l==="compositionend"||!lb&&OA(l,u)?(l=_A(),gp=nb=Ho=null,xu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return EA&&u.locale!=="ko"?null:u.data;default:return null}}var EK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RA(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!EK[l.type]:u==="textarea"}function PA(l,u,h,v){vu?yu?yu.push(v):yu=[v]:vu=v,u=cg(u,"onChange"),0<u.length&&(h=new xp("onChange","change",null,h,v),l.push({event:h,listeners:u}))}var bf=null,wf=null;function kK(l){pR(l,0)}function wp(l){var u=mf(l);if(mA(u))return l}function DA(l,u){if(l==="change")return u}var MA=!1;if(Bs){var cb;if(Bs){var ub="oninput"in document;if(!ub){var IA=document.createElement("div");IA.setAttribute("oninput","return;"),ub=typeof IA.oninput=="function"}cb=ub}else cb=!1;MA=cb&&(!document.documentMode||9<document.documentMode)}function $A(){bf&&(bf.detachEvent("onpropertychange",LA),wf=bf=null)}function LA(l){if(l.propertyName==="value"&&wp(wf)){var u=[];PA(u,wf,l,eb(l)),wA(kK,u)}}function AK(l,u,h){l==="focusin"?($A(),bf=u,wf=h,bf.attachEvent("onpropertychange",LA)):l==="focusout"&&$A()}function OK(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return wp(wf)}function TK(l,u){if(l==="click")return wp(u)}function RK(l,u){if(l==="input"||l==="change")return wp(u)}function PK(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Ra=typeof Object.is=="function"?Object.is:PK;function _f(l,u){if(Ra(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var h=Object.keys(l),v=Object.keys(u);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var S=h[v];if(!St.call(u,S)||!Ra(l[S],u[S]))return!1}return!0}function zA(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function FA(l,u){var h=zA(l);l=0;for(var v;h;){if(h.nodeType===3){if(v=l+h.textContent.length,l<=u&&v>=u)return{node:h,offset:u-l};l=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=zA(h)}}function UA(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?UA(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function BA(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=mp(l.document);u instanceof l.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)l=u.contentWindow;else break;u=mp(l.document)}return u}function db(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var DK=Bs&&"documentMode"in document&&11>=document.documentMode,bu=null,fb=null,jf=null,hb=!1;function qA(l,u,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;hb||bu==null||bu!==mp(v)||(v=bu,"selectionStart"in v&&db(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),jf&&_f(jf,v)||(jf=v,v=cg(fb,"onSelect"),0<v.length&&(u=new xp("onSelect","select",null,u,h),l.push({event:u,listeners:v}),u.target=bu)))}function Zl(l,u){var h={};return h[l.toLowerCase()]=u.toLowerCase(),h["Webkit"+l]="webkit"+u,h["Moz"+l]="moz"+u,h}var wu={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionrun:Zl("Transition","TransitionRun"),transitionstart:Zl("Transition","TransitionStart"),transitioncancel:Zl("Transition","TransitionCancel"),transitionend:Zl("Transition","TransitionEnd")},mb={},VA={};Bs&&(VA=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function Xl(l){if(mb[l])return mb[l];if(!wu[l])return l;var u=wu[l],h;for(h in u)if(u.hasOwnProperty(h)&&h in VA)return mb[l]=u[h];return l}var HA=Xl("animationend"),WA=Xl("animationiteration"),KA=Xl("animationstart"),MK=Xl("transitionrun"),IK=Xl("transitionstart"),$K=Xl("transitioncancel"),GA=Xl("transitionend"),YA=new Map,pb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pb.push("scrollEnd");function Ii(l,u){YA.set(l,u),Gl(u,[l])}var _p=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},oi=[],_u=0,gb=0;function jp(){for(var l=_u,u=gb=_u=0;u<l;){var h=oi[u];oi[u++]=null;var v=oi[u];oi[u++]=null;var S=oi[u];oi[u++]=null;var C=oi[u];if(oi[u++]=null,v!==null&&S!==null){var D=v.pending;D===null?S.next=S:(S.next=D.next,D.next=S),v.pending=S}C!==0&&ZA(h,S,C)}}function Sp(l,u,h,v){oi[_u++]=l,oi[_u++]=u,oi[_u++]=h,oi[_u++]=v,gb|=v,l.lanes|=v,l=l.alternate,l!==null&&(l.lanes|=v)}function vb(l,u,h,v){return Sp(l,u,h,v),Cp(l)}function Ql(l,u){return Sp(l,null,null,u),Cp(l)}function ZA(l,u,h){l.lanes|=h;var v=l.alternate;v!==null&&(v.lanes|=h);for(var S=!1,C=l.return;C!==null;)C.childLanes|=h,v=C.alternate,v!==null&&(v.childLanes|=h),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(S=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,S&&u!==null&&(S=31-Pr(h),l=C.hiddenUpdates,v=l[S],v===null?l[S]=[u]:v.push(u),u.lane=h|536870912),C):null}function Cp(l){if(50<Hf)throw Hf=0,Nw=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var ju={};function LK(l,u,h,v){this.tag=l,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(l,u,h,v){return new LK(l,u,h,v)}function yb(l){return l=l.prototype,!(!l||!l.isReactComponent)}function qs(l,u){var h=l.alternate;return h===null?(h=Pa(l.tag,u,l.key,l.mode),h.elementType=l.elementType,h.type=l.type,h.stateNode=l.stateNode,h.alternate=l,l.alternate=h):(h.pendingProps=u,h.type=l.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=l.flags&65011712,h.childLanes=l.childLanes,h.lanes=l.lanes,h.child=l.child,h.memoizedProps=l.memoizedProps,h.memoizedState=l.memoizedState,h.updateQueue=l.updateQueue,u=l.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=l.sibling,h.index=l.index,h.ref=l.ref,h.refCleanup=l.refCleanup,h}function XA(l,u){l.flags&=65011714;var h=l.alternate;return h===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=h.childLanes,l.lanes=h.lanes,l.child=h.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=h.memoizedProps,l.memoizedState=h.memoizedState,l.updateQueue=h.updateQueue,l.type=h.type,u=h.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Np(l,u,h,v,S,C){var D=0;if(v=l,typeof l=="function")yb(l)&&(D=1);else if(typeof l=="string")D=qG(l,h,ae.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case P:return l=Pa(31,h,u,S),l.elementType=P,l.lanes=C,l;case w:return Jl(h.children,S,C,u);case _:D=8,S|=24;break;case j:return l=Pa(12,h,u,S|2),l.elementType=j,l.lanes=C,l;case A:return l=Pa(13,h,u,S),l.elementType=A,l.lanes=C,l;case R:return l=Pa(19,h,u,S),l.elementType=R,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case E:D=10;break e;case N:D=9;break e;case k:D=11;break e;case T:D=14;break e;case O:D=16,v=null;break e}D=29,h=Error(n(130,l===null?"null":typeof l,"")),v=null}return u=Pa(D,h,u,S),u.elementType=l,u.type=v,u.lanes=C,u}function Jl(l,u,h,v){return l=Pa(7,l,v,u),l.lanes=h,l}function xb(l,u,h){return l=Pa(6,l,null,u),l.lanes=h,l}function QA(l){var u=Pa(18,null,null,0);return u.stateNode=l,u}function bb(l,u,h){return u=Pa(4,l.children!==null?l.children:[],l.key,u),u.lanes=h,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var JA=new WeakMap;function li(l,u){if(typeof l=="object"&&l!==null){var h=JA.get(l);return h!==void 0?h:(u={value:l,source:u,stack:Et(u)},JA.set(l,u),u)}return{value:l,source:u,stack:Et(u)}}var Su=[],Cu=0,Ep=null,Sf=0,ci=[],ui=0,Wo=null,os=1,ls="";function Vs(l,u){Su[Cu++]=Sf,Su[Cu++]=Ep,Ep=l,Sf=u}function eO(l,u,h){ci[ui++]=os,ci[ui++]=ls,ci[ui++]=Wo,Wo=l;var v=os;l=ls;var S=32-Pr(v)-1;v&=~(1<<S),h+=1;var C=32-Pr(u)+S;if(30<C){var D=S-S%5;C=(v&(1<<D)-1).toString(32),v>>=D,S-=D,os=1<<32-Pr(u)+S|h<<S|v,ls=C+l}else os=1<<C|h<<S|v,ls=l}function wb(l){l.return!==null&&(Vs(l,1),eO(l,1,0))}function _b(l){for(;l===Ep;)Ep=Su[--Cu],Su[Cu]=null,Sf=Su[--Cu],Su[Cu]=null;for(;l===Wo;)Wo=ci[--ui],ci[ui]=null,ls=ci[--ui],ci[ui]=null,os=ci[--ui],ci[ui]=null}function tO(l,u){ci[ui++]=os,ci[ui++]=ls,ci[ui++]=Wo,os=u.id,ls=u.overflow,Wo=l}var Dn=null,dr=null,Ft=!1,Ko=null,di=!1,jb=Error(n(519));function Go(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cf(li(u,l)),jb}function rO(l){var u=l.stateNode,h=l.type,v=l.memoizedProps;switch(u[Pn]=l,u[ga]=v,h){case"dialog":It("cancel",u),It("close",u);break;case"iframe":case"object":case"embed":It("load",u);break;case"video":case"audio":for(h=0;h<Kf.length;h++)It(Kf[h],u);break;case"source":It("error",u);break;case"img":case"image":case"link":It("error",u),It("load",u);break;case"details":It("toggle",u);break;case"input":It("invalid",u),pA(u,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0);break;case"select":It("invalid",u);break;case"textarea":It("invalid",u),vA(u,v.value,v.defaultValue,v.children)}h=v.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||v.suppressHydrationWarning===!0||xR(u.textContent,h)?(v.popover!=null&&(It("beforetoggle",u),It("toggle",u)),v.onScroll!=null&&It("scroll",u),v.onScrollEnd!=null&&It("scrollend",u),v.onClick!=null&&(u.onclick=Us),u=!0):u=!1,u||Go(l,!0)}function nO(l){for(Dn=l.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:Dn=Dn.return}}function Nu(l){if(l!==Dn)return!1;if(!Ft)return nO(l),Ft=!0,!1;var u=l.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=l.type,h=!(h!=="form"&&h!=="button")||Uw(l.type,l.memoizedProps)),h=!h),h&&dr&&Go(l),nO(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));dr=kR(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));dr=kR(l)}else u===27?(u=dr,ll(l.type)?(l=Ww,Ww=null,dr=l):dr=u):dr=Dn?hi(l.stateNode.nextSibling):null;return!0}function ec(){dr=Dn=null,Ft=!1}function Sb(){var l=Ko;return l!==null&&(wa===null?wa=l:wa.push.apply(wa,l),Ko=null),l}function Cf(l){Ko===null?Ko=[l]:Ko.push(l)}var Cb=B(null),tc=null,Hs=null;function Yo(l,u,h){V(Cb,u._currentValue),u._currentValue=h}function Ws(l){l._currentValue=Cb.current,Q(Cb)}function Nb(l,u,h){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===h)break;l=l.return}}function Eb(l,u,h,v){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var C=S.dependencies;if(C!==null){var D=S.child;C=C.firstContext;e:for(;C!==null;){var z=C;C=S;for(var K=0;K<u.length;K++)if(z.context===u[K]){C.lanes|=h,z=C.alternate,z!==null&&(z.lanes|=h),Nb(C.return,h,l),v||(D=null);break e}C=z.next}}else if(S.tag===18){if(D=S.return,D===null)throw Error(n(341));D.lanes|=h,C=D.alternate,C!==null&&(C.lanes|=h),Nb(D,h,l),D=null}else D=S.child;if(D!==null)D.return=S;else for(D=S;D!==null;){if(D===l){D=null;break}if(S=D.sibling,S!==null){S.return=D.return,D=S;break}D=D.return}S=D}}function Eu(l,u,h,v){l=null;for(var S=u,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var D=S.alternate;if(D===null)throw Error(n(387));if(D=D.memoizedProps,D!==null){var z=S.type;Ra(S.pendingProps.value,D.value)||(l!==null?l.push(z):l=[z])}}else if(S===ee.current){if(D=S.alternate,D===null)throw Error(n(387));D.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Qf):l=[Qf])}S=S.return}l!==null&&Eb(u,l,h,v),u.flags|=262144}function kp(l){for(l=l.firstContext;l!==null;){if(!Ra(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function rc(l){tc=l,Hs=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Mn(l){return aO(tc,l)}function Ap(l,u){return tc===null&&rc(l),aO(l,u)}function aO(l,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},Hs===null){if(l===null)throw Error(n(308));Hs=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else Hs=Hs.next=u;return h}var zK=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(h,v){l.push(v)}};this.abort=function(){u.aborted=!0,l.forEach(function(h){return h()})}},FK=e.unstable_scheduleCallback,UK=e.unstable_NormalPriority,en={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kb(){return{controller:new zK,data:new Map,refCount:0}}function Nf(l){l.refCount--,l.refCount===0&&FK(UK,function(){l.controller.abort()})}var Ef=null,Ab=0,ku=0,Au=null;function BK(l,u){if(Ef===null){var h=Ef=[];Ab=0,ku=Rw(),Au={status:"pending",value:void 0,then:function(v){h.push(v)}}}return Ab++,u.then(iO,iO),u}function iO(){if(--Ab===0&&Ef!==null){Au!==null&&(Au.status="fulfilled");var l=Ef;Ef=null,ku=0,Au=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function qK(l,u){var h=[],v={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return l.then(function(){v.status="fulfilled",v.value=u;for(var S=0;S<h.length;S++)(0,h[S])(u)},function(S){for(v.status="rejected",v.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),v}var sO=F.S;F.S=function(l,u){qT=be(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&BK(l,u),sO!==null&&sO(l,u)};var nc=B(null);function Ob(){var l=nc.current;return l!==null?l:nr.pooledCache}function Op(l,u){u===null?V(nc,nc.current):V(nc,u.pool)}function oO(){var l=Ob();return l===null?null:{parent:en._currentValue,pool:l}}var Ou=Error(n(460)),Tb=Error(n(474)),Tp=Error(n(542)),Rp={then:function(){}};function lO(l){return l=l.status,l==="fulfilled"||l==="rejected"}function cO(l,u,h){switch(h=l[h],h===void 0?l.push(u):h!==u&&(u.then(Us,Us),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,dO(l),l;default:if(typeof u.status=="string")u.then(Us,Us);else{if(l=nr,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(v){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=v}},function(v){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=v}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,dO(l),l}throw ic=u,Ou}}function ac(l){try{var u=l._init;return u(l._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(ic=h,Ou):h}}var ic=null;function uO(){if(ic===null)throw Error(n(459));var l=ic;return ic=null,l}function dO(l){if(l===Ou||l===Tp)throw Error(n(483))}var Tu=null,kf=0;function Pp(l){var u=kf;return kf+=1,Tu===null&&(Tu=[]),cO(Tu,l,u)}function Af(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Dp(l,u){throw u.$$typeof===y?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function fO(l){function u(te,J){if(l){var oe=te.deletions;oe===null?(te.deletions=[J],te.flags|=16):oe.push(J)}}function h(te,J){if(!l)return null;for(;J!==null;)u(te,J),J=J.sibling;return null}function v(te){for(var J=new Map;te!==null;)te.key!==null?J.set(te.key,te):J.set(te.index,te),te=te.sibling;return J}function S(te,J){return te=qs(te,J),te.index=0,te.sibling=null,te}function C(te,J,oe){return te.index=oe,l?(oe=te.alternate,oe!==null?(oe=oe.index,oe<J?(te.flags|=67108866,J):oe):(te.flags|=67108866,J)):(te.flags|=1048576,J)}function D(te){return l&&te.alternate===null&&(te.flags|=67108866),te}function z(te,J,oe,xe){return J===null||J.tag!==6?(J=xb(oe,te.mode,xe),J.return=te,J):(J=S(J,oe),J.return=te,J)}function K(te,J,oe,xe){var at=oe.type;return at===w?ve(te,J,oe.props.children,xe,oe.key):J!==null&&(J.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===O&&ac(at)===J.type)?(J=S(J,oe.props),Af(J,oe),J.return=te,J):(J=Np(oe.type,oe.key,oe.props,null,te.mode,xe),Af(J,oe),J.return=te,J)}function ce(te,J,oe,xe){return J===null||J.tag!==4||J.stateNode.containerInfo!==oe.containerInfo||J.stateNode.implementation!==oe.implementation?(J=bb(oe,te.mode,xe),J.return=te,J):(J=S(J,oe.children||[]),J.return=te,J)}function ve(te,J,oe,xe,at){return J===null||J.tag!==7?(J=Jl(oe,te.mode,xe,at),J.return=te,J):(J=S(J,oe),J.return=te,J)}function we(te,J,oe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=xb(""+J,te.mode,oe),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case g:return oe=Np(J.type,J.key,J.props,null,te.mode,oe),Af(oe,J),oe.return=te,oe;case b:return J=bb(J,te.mode,oe),J.return=te,J;case O:return J=ac(J),we(te,J,oe)}if(Y(J)||L(J))return J=Jl(J,te.mode,oe,null),J.return=te,J;if(typeof J.then=="function")return we(te,Pp(J),oe);if(J.$$typeof===E)return we(te,Ap(te,J),oe);Dp(te,J)}return null}function fe(te,J,oe,xe){var at=J!==null?J.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return at!==null?null:z(te,J,""+oe,xe);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:return oe.key===at?K(te,J,oe,xe):null;case b:return oe.key===at?ce(te,J,oe,xe):null;case O:return oe=ac(oe),fe(te,J,oe,xe)}if(Y(oe)||L(oe))return at!==null?null:ve(te,J,oe,xe,null);if(typeof oe.then=="function")return fe(te,J,Pp(oe),xe);if(oe.$$typeof===E)return fe(te,J,Ap(te,oe),xe);Dp(te,oe)}return null}function me(te,J,oe,xe,at){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return te=te.get(oe)||null,z(J,te,""+xe,at);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case g:return te=te.get(xe.key===null?oe:xe.key)||null,K(J,te,xe,at);case b:return te=te.get(xe.key===null?oe:xe.key)||null,ce(J,te,xe,at);case O:return xe=ac(xe),me(te,J,oe,xe,at)}if(Y(xe)||L(xe))return te=te.get(oe)||null,ve(J,te,xe,at,null);if(typeof xe.then=="function")return me(te,J,oe,Pp(xe),at);if(xe.$$typeof===E)return me(te,J,oe,Ap(J,xe),at);Dp(J,xe)}return null}function He(te,J,oe,xe){for(var at=null,qt=null,Ye=J,Ot=J=0,Lt=null;Ye!==null&&Ot<oe.length;Ot++){Ye.index>Ot?(Lt=Ye,Ye=null):Lt=Ye.sibling;var Vt=fe(te,Ye,oe[Ot],xe);if(Vt===null){Ye===null&&(Ye=Lt);break}l&&Ye&&Vt.alternate===null&&u(te,Ye),J=C(Vt,J,Ot),qt===null?at=Vt:qt.sibling=Vt,qt=Vt,Ye=Lt}if(Ot===oe.length)return h(te,Ye),Ft&&Vs(te,Ot),at;if(Ye===null){for(;Ot<oe.length;Ot++)Ye=we(te,oe[Ot],xe),Ye!==null&&(J=C(Ye,J,Ot),qt===null?at=Ye:qt.sibling=Ye,qt=Ye);return Ft&&Vs(te,Ot),at}for(Ye=v(Ye);Ot<oe.length;Ot++)Lt=me(Ye,te,Ot,oe[Ot],xe),Lt!==null&&(l&&Lt.alternate!==null&&Ye.delete(Lt.key===null?Ot:Lt.key),J=C(Lt,J,Ot),qt===null?at=Lt:qt.sibling=Lt,qt=Lt);return l&&Ye.forEach(function(hl){return u(te,hl)}),Ft&&Vs(te,Ot),at}function ct(te,J,oe,xe){if(oe==null)throw Error(n(151));for(var at=null,qt=null,Ye=J,Ot=J=0,Lt=null,Vt=oe.next();Ye!==null&&!Vt.done;Ot++,Vt=oe.next()){Ye.index>Ot?(Lt=Ye,Ye=null):Lt=Ye.sibling;var hl=fe(te,Ye,Vt.value,xe);if(hl===null){Ye===null&&(Ye=Lt);break}l&&Ye&&hl.alternate===null&&u(te,Ye),J=C(hl,J,Ot),qt===null?at=hl:qt.sibling=hl,qt=hl,Ye=Lt}if(Vt.done)return h(te,Ye),Ft&&Vs(te,Ot),at;if(Ye===null){for(;!Vt.done;Ot++,Vt=oe.next())Vt=we(te,Vt.value,xe),Vt!==null&&(J=C(Vt,J,Ot),qt===null?at=Vt:qt.sibling=Vt,qt=Vt);return Ft&&Vs(te,Ot),at}for(Ye=v(Ye);!Vt.done;Ot++,Vt=oe.next())Vt=me(Ye,te,Ot,Vt.value,xe),Vt!==null&&(l&&Vt.alternate!==null&&Ye.delete(Vt.key===null?Ot:Vt.key),J=C(Vt,J,Ot),qt===null?at=Vt:qt.sibling=Vt,qt=Vt);return l&&Ye.forEach(function(e7){return u(te,e7)}),Ft&&Vs(te,Ot),at}function er(te,J,oe,xe){if(typeof oe=="object"&&oe!==null&&oe.type===w&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case g:e:{for(var at=oe.key;J!==null;){if(J.key===at){if(at=oe.type,at===w){if(J.tag===7){h(te,J.sibling),xe=S(J,oe.props.children),xe.return=te,te=xe;break e}}else if(J.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===O&&ac(at)===J.type){h(te,J.sibling),xe=S(J,oe.props),Af(xe,oe),xe.return=te,te=xe;break e}h(te,J);break}else u(te,J);J=J.sibling}oe.type===w?(xe=Jl(oe.props.children,te.mode,xe,oe.key),xe.return=te,te=xe):(xe=Np(oe.type,oe.key,oe.props,null,te.mode,xe),Af(xe,oe),xe.return=te,te=xe)}return D(te);case b:e:{for(at=oe.key;J!==null;){if(J.key===at)if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){h(te,J.sibling),xe=S(J,oe.children||[]),xe.return=te,te=xe;break e}else{h(te,J);break}else u(te,J);J=J.sibling}xe=bb(oe,te.mode,xe),xe.return=te,te=xe}return D(te);case O:return oe=ac(oe),er(te,J,oe,xe)}if(Y(oe))return He(te,J,oe,xe);if(L(oe)){if(at=L(oe),typeof at!="function")throw Error(n(150));return oe=at.call(oe),ct(te,J,oe,xe)}if(typeof oe.then=="function")return er(te,J,Pp(oe),xe);if(oe.$$typeof===E)return er(te,J,Ap(te,oe),xe);Dp(te,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint"?(oe=""+oe,J!==null&&J.tag===6?(h(te,J.sibling),xe=S(J,oe),xe.return=te,te=xe):(h(te,J),xe=xb(oe,te.mode,xe),xe.return=te,te=xe),D(te)):h(te,J)}return function(te,J,oe,xe){try{kf=0;var at=er(te,J,oe,xe);return Tu=null,at}catch(Ye){if(Ye===Ou||Ye===Tp)throw Ye;var qt=Pa(29,Ye,null,te.mode);return qt.lanes=xe,qt.return=te,qt}finally{}}}var sc=fO(!0),hO=fO(!1),Zo=!1;function Rb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pb(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function Xo(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function Qo(l,u,h){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(Wt&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,u=Cp(l),ZA(l,null,h),u}return Sp(l,v,u,h),Cp(l)}function Of(l,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,ma(l,h)}}function Db(l,u){var h=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var S=null,C=null;if(h=h.firstBaseUpdate,h!==null){do{var D={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};C===null?S=C=D:C=C.next=D,h=h.next}while(h!==null);C===null?S=C=u:C=C.next=u}else S=C=u;h={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:v.shared,callbacks:v.callbacks},l.updateQueue=h;return}l=h.lastBaseUpdate,l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=u}var Mb=!1;function Tf(){if(Mb){var l=Au;if(l!==null)throw l}}function Rf(l,u,h,v){Mb=!1;var S=l.updateQueue;Zo=!1;var C=S.firstBaseUpdate,D=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var K=z,ce=K.next;K.next=null,D===null?C=ce:D.next=ce,D=K;var ve=l.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==D&&(z===null?ve.firstBaseUpdate=ce:z.next=ce,ve.lastBaseUpdate=K))}if(C!==null){var we=S.baseState;D=0,ve=ce=K=null,z=C;do{var fe=z.lane&-536870913,me=fe!==z.lane;if(me?($t&fe)===fe:(v&fe)===fe){fe!==0&&fe===ku&&(Mb=!0),ve!==null&&(ve=ve.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var He=l,ct=z;fe=u;var er=h;switch(ct.tag){case 1:if(He=ct.payload,typeof He=="function"){we=He.call(er,we,fe);break e}we=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=ct.payload,fe=typeof He=="function"?He.call(er,we,fe):He,fe==null)break e;we=p({},we,fe);break e;case 2:Zo=!0}}fe=z.callback,fe!==null&&(l.flags|=64,me&&(l.flags|=8192),me=S.callbacks,me===null?S.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(ce=ve=me,K=we):ve=ve.next=me,D|=fe;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;me=z,z=me.next,me.next=null,S.lastBaseUpdate=me,S.shared.pending=null}}while(!0);ve===null&&(K=we),S.baseState=K,S.firstBaseUpdate=ce,S.lastBaseUpdate=ve,C===null&&(S.shared.lanes=0),nl|=D,l.lanes=D,l.memoizedState=we}}function mO(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function pO(l,u){var h=l.callbacks;if(h!==null)for(l.callbacks=null,l=0;l<h.length;l++)mO(h[l],u)}var Ru=B(null),Mp=B(0);function gO(l,u){l=to,V(Mp,l),V(Ru,u),to=l|u.baseLanes}function Ib(){V(Mp,to),V(Ru,Ru.current)}function $b(){to=Mp.current,Q(Ru),Q(Mp)}var Da=B(null),fi=null;function Jo(l){var u=l.alternate;V(qr,qr.current&1),V(Da,l),fi===null&&(u===null||Ru.current!==null||u.memoizedState!==null)&&(fi=l)}function Lb(l){V(qr,qr.current),V(Da,l),fi===null&&(fi=l)}function vO(l){l.tag===22?(V(qr,qr.current),V(Da,l),fi===null&&(fi=l)):el()}function el(){V(qr,qr.current),V(Da,Da.current)}function Ma(l){Q(Da),fi===l&&(fi=null),Q(qr)}var qr=B(0);function Ip(l){for(var u=l;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||Vw(h)||Hw(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ks=0,At=null,Qt=null,tn=null,$p=!1,Pu=!1,oc=!1,Lp=0,Pf=0,Du=null,VK=0;function Dr(){throw Error(n(321))}function zb(l,u){if(u===null)return!1;for(var h=0;h<u.length&&h<l.length;h++)if(!Ra(l[h],u[h]))return!1;return!0}function Fb(l,u,h,v,S,C){return Ks=C,At=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,F.H=l===null||l.memoizedState===null?eT:tw,oc=!1,C=h(v,S),oc=!1,Pu&&(C=xO(u,h,v,S)),yO(l),C}function yO(l){F.H=If;var u=Qt!==null&&Qt.next!==null;if(Ks=0,tn=Qt=At=null,$p=!1,Pf=0,Du=null,u)throw Error(n(300));l===null||rn||(l=l.dependencies,l!==null&&kp(l)&&(rn=!0))}function xO(l,u,h,v){At=l;var S=0;do{if(Pu&&(Du=null),Pf=0,Pu=!1,25<=S)throw Error(n(301));if(S+=1,tn=Qt=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}F.H=tT,C=u(h,v)}while(Pu);return C}function HK(){var l=F.H,u=l.useState()[0];return u=typeof u.then=="function"?Df(u):u,l=l.useState()[0],(Qt!==null?Qt.memoizedState:null)!==l&&(At.flags|=1024),u}function Ub(){var l=Lp!==0;return Lp=0,l}function Bb(l,u,h){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~h}function qb(l){if($p){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}$p=!1}Ks=0,tn=Qt=At=null,Pu=!1,Pf=Lp=0,Du=null}function ea(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?At.memoizedState=tn=l:tn=tn.next=l,tn}function Vr(){if(Qt===null){var l=At.alternate;l=l!==null?l.memoizedState:null}else l=Qt.next;var u=tn===null?At.memoizedState:tn.next;if(u!==null)tn=u,Qt=l;else{if(l===null)throw At.alternate===null?Error(n(467)):Error(n(310));Qt=l,l={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},tn===null?At.memoizedState=tn=l:tn=tn.next=l}return tn}function zp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Df(l){var u=Pf;return Pf+=1,Du===null&&(Du=[]),l=cO(Du,l,u),u=At,(tn===null?u.memoizedState:tn.next)===null&&(u=u.alternate,F.H=u===null||u.memoizedState===null?eT:tw),l}function Fp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Df(l);if(l.$$typeof===E)return Mn(l)}throw Error(n(438,String(l)))}function Vb(l){var u=null,h=At.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var v=At.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(u={data:v.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=zp(),At.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(l),v=0;v<l;v++)h[v]=$;return u.index++,h}function Gs(l,u){return typeof u=="function"?u(l):u}function Up(l){var u=Vr();return Hb(u,Qt,l)}function Hb(l,u,h){var v=l.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var S=l.baseQueue,C=v.pending;if(C!==null){if(S!==null){var D=S.next;S.next=C.next,C.next=D}u.baseQueue=S=C,v.pending=null}if(C=l.baseState,S===null)l.memoizedState=C;else{u=S.next;var z=D=null,K=null,ce=u,ve=!1;do{var we=ce.lane&-536870913;if(we!==ce.lane?($t&we)===we:(Ks&we)===we){var fe=ce.revertLane;if(fe===0)K!==null&&(K=K.next={lane:0,revertLane:0,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),we===ku&&(ve=!0);else if((Ks&fe)===fe){ce=ce.next,fe===ku&&(ve=!0);continue}else we={lane:0,revertLane:ce.revertLane,gesture:null,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(z=K=we,D=C):K=K.next=we,At.lanes|=fe,nl|=fe;we=ce.action,oc&&h(C,we),C=ce.hasEagerState?ce.eagerState:h(C,we)}else fe={lane:we,revertLane:ce.revertLane,gesture:ce.gesture,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null},K===null?(z=K=fe,D=C):K=K.next=fe,At.lanes|=we,nl|=we;ce=ce.next}while(ce!==null&&ce!==u);if(K===null?D=C:K.next=z,!Ra(C,l.memoizedState)&&(rn=!0,ve&&(h=Au,h!==null)))throw h;l.memoizedState=C,l.baseState=D,l.baseQueue=K,v.lastRenderedState=C}return S===null&&(v.lanes=0),[l.memoizedState,v.dispatch]}function Wb(l){var u=Vr(),h=u.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=l;var v=h.dispatch,S=h.pending,C=u.memoizedState;if(S!==null){h.pending=null;var D=S=S.next;do C=l(C,D.action),D=D.next;while(D!==S);Ra(C,u.memoizedState)||(rn=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),h.lastRenderedState=C}return[C,v]}function bO(l,u,h){var v=At,S=Vr(),C=Ft;if(C){if(h===void 0)throw Error(n(407));h=h()}else h=u();var D=!Ra((Qt||S).memoizedState,h);if(D&&(S.memoizedState=h,rn=!0),S=S.queue,Yb(jO.bind(null,v,S,l),[l]),S.getSnapshot!==u||D||tn!==null&&tn.memoizedState.tag&1){if(v.flags|=2048,Mu(9,{destroy:void 0},_O.bind(null,v,S,h,u),null),nr===null)throw Error(n(349));C||(Ks&127)!==0||wO(v,u,h)}return h}function wO(l,u,h){l.flags|=16384,l={getSnapshot:u,value:h},u=At.updateQueue,u===null?(u=zp(),At.updateQueue=u,u.stores=[l]):(h=u.stores,h===null?u.stores=[l]:h.push(l))}function _O(l,u,h,v){u.value=h,u.getSnapshot=v,SO(u)&&CO(l)}function jO(l,u,h){return h(function(){SO(u)&&CO(l)})}function SO(l){var u=l.getSnapshot;l=l.value;try{var h=u();return!Ra(l,h)}catch{return!0}}function CO(l){var u=Ql(l,2);u!==null&&_a(u,l,2)}function Kb(l){var u=ea();if(typeof l=="function"){var h=l;if(l=h(),oc){Jn(!0);try{h()}finally{Jn(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:l},u}function NO(l,u,h,v){return l.baseState=h,Hb(l,Qt,typeof v=="function"?v:Gs)}function WK(l,u,h,v,S){if(Vp(l))throw Error(n(485));if(l=u.action,l!==null){var C={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){C.listeners.push(D)}};F.T!==null?h(!0):C.isTransition=!1,v(C),h=u.pending,h===null?(C.next=u.pending=C,EO(u,C)):(C.next=h.next,u.pending=h.next=C)}}function EO(l,u){var h=u.action,v=u.payload,S=l.state;if(u.isTransition){var C=F.T,D={};F.T=D;try{var z=h(S,v),K=F.S;K!==null&&K(D,z),kO(l,u,z)}catch(ce){Gb(l,u,ce)}finally{C!==null&&D.types!==null&&(C.types=D.types),F.T=C}}else try{C=h(S,v),kO(l,u,C)}catch(ce){Gb(l,u,ce)}}function kO(l,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(v){AO(l,u,v)},function(v){return Gb(l,u,v)}):AO(l,u,h)}function AO(l,u,h){u.status="fulfilled",u.value=h,OO(u),l.state=h,u=l.pending,u!==null&&(h=u.next,h===u?l.pending=null:(h=h.next,u.next=h,EO(l,h)))}function Gb(l,u,h){var v=l.pending;if(l.pending=null,v!==null){v=v.next;do u.status="rejected",u.reason=h,OO(u),u=u.next;while(u!==v)}l.action=null}function OO(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function TO(l,u){return u}function RO(l,u){if(Ft){var h=nr.formState;if(h!==null){e:{var v=At;if(Ft){if(dr){t:{for(var S=dr,C=di;S.nodeType!==8;){if(!C){S=null;break t}if(S=hi(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){dr=hi(S.nextSibling),v=S.data==="F!";break e}}Go(v)}v=!1}v&&(u=h[0])}}return h=ea(),h.memoizedState=h.baseState=u,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:TO,lastRenderedState:u},h.queue=v,h=XO.bind(null,At,v),v.dispatch=h,v=Kb(!1),C=ew.bind(null,At,!1,v.queue),v=ea(),S={state:u,dispatch:null,action:l,pending:null},v.queue=S,h=WK.bind(null,At,S,C,h),S.dispatch=h,v.memoizedState=l,[u,h,!1]}function PO(l){var u=Vr();return DO(u,Qt,l)}function DO(l,u,h){if(u=Hb(l,u,TO)[0],l=Up(Gs)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var v=Df(u)}catch(D){throw D===Ou?Tp:D}else v=u;u=Vr();var S=u.queue,C=S.dispatch;return h!==u.memoizedState&&(At.flags|=2048,Mu(9,{destroy:void 0},KK.bind(null,S,h),null)),[v,C,l]}function KK(l,u){l.action=u}function MO(l){var u=Vr(),h=Qt;if(h!==null)return DO(u,h,l);Vr(),u=u.memoizedState,h=Vr();var v=h.queue.dispatch;return h.memoizedState=l,[u,v,!1]}function Mu(l,u,h,v){return l={tag:l,create:h,deps:v,inst:u,next:null},u=At.updateQueue,u===null&&(u=zp(),At.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=l.next=l:(v=h.next,h.next=l,l.next=v,u.lastEffect=l),l}function IO(){return Vr().memoizedState}function Bp(l,u,h,v){var S=ea();At.flags|=l,S.memoizedState=Mu(1|u,{destroy:void 0},h,v===void 0?null:v)}function qp(l,u,h,v){var S=Vr();v=v===void 0?null:v;var C=S.memoizedState.inst;Qt!==null&&v!==null&&zb(v,Qt.memoizedState.deps)?S.memoizedState=Mu(u,C,h,v):(At.flags|=l,S.memoizedState=Mu(1|u,C,h,v))}function $O(l,u){Bp(8390656,8,l,u)}function Yb(l,u){qp(2048,8,l,u)}function GK(l){At.flags|=4;var u=At.updateQueue;if(u===null)u=zp(),At.updateQueue=u,u.events=[l];else{var h=u.events;h===null?u.events=[l]:h.push(l)}}function LO(l){var u=Vr().memoizedState;return GK({ref:u,nextImpl:l}),function(){if((Wt&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function zO(l,u){return qp(4,2,l,u)}function FO(l,u){return qp(4,4,l,u)}function UO(l,u){if(typeof u=="function"){l=l();var h=u(l);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function BO(l,u,h){h=h!=null?h.concat([l]):null,qp(4,4,UO.bind(null,u,l),h)}function Zb(){}function qO(l,u){var h=Vr();u=u===void 0?null:u;var v=h.memoizedState;return u!==null&&zb(u,v[1])?v[0]:(h.memoizedState=[l,u],l)}function VO(l,u){var h=Vr();u=u===void 0?null:u;var v=h.memoizedState;if(u!==null&&zb(u,v[1]))return v[0];if(v=l(),oc){Jn(!0);try{l()}finally{Jn(!1)}}return h.memoizedState=[v,u],v}function Xb(l,u,h){return h===void 0||(Ks&1073741824)!==0&&($t&261930)===0?l.memoizedState=u:(l.memoizedState=h,l=HT(),At.lanes|=l,nl|=l,h)}function HO(l,u,h,v){return Ra(h,u)?h:Ru.current!==null?(l=Xb(l,h,v),Ra(l,u)||(rn=!0),l):(Ks&42)===0||(Ks&1073741824)!==0&&($t&261930)===0?(rn=!0,l.memoizedState=h):(l=HT(),At.lanes|=l,nl|=l,u)}function WO(l,u,h,v,S){var C=H.p;H.p=C!==0&&8>C?C:8;var D=F.T,z={};F.T=z,ew(l,!1,u,h);try{var K=S(),ce=F.S;if(ce!==null&&ce(z,K),K!==null&&typeof K=="object"&&typeof K.then=="function"){var ve=qK(K,v);Mf(l,u,ve,La(l))}else Mf(l,u,v,La(l))}catch(we){Mf(l,u,{then:function(){},status:"rejected",reason:we},La())}finally{H.p=C,D!==null&&z.types!==null&&(D.types=z.types),F.T=D}}function YK(){}function Qb(l,u,h,v){if(l.tag!==5)throw Error(n(476));var S=KO(l).queue;WO(l,S,u,I,h===null?YK:function(){return GO(l),h(v)})}function KO(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:I},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:h},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function GO(l){var u=KO(l);u.next===null&&(u=l.alternate.memoizedState),Mf(l,u.next.queue,{},La())}function Jb(){return Mn(Qf)}function YO(){return Vr().memoizedState}function ZO(){return Vr().memoizedState}function ZK(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var h=La();l=Xo(h);var v=Qo(u,l,h);v!==null&&(_a(v,u,h),Of(v,u,h)),u={cache:kb()},l.payload=u;return}u=u.return}}function XK(l,u,h){var v=La();h={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Vp(l)?QO(u,h):(h=vb(l,u,h,v),h!==null&&(_a(h,l,v),JO(h,u,v)))}function XO(l,u,h){var v=La();Mf(l,u,h,v)}function Mf(l,u,h,v){var S={lane:v,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Vp(l))QO(u,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var D=u.lastRenderedState,z=C(D,h);if(S.hasEagerState=!0,S.eagerState=z,Ra(z,D))return Sp(l,u,S,0),nr===null&&jp(),!1}catch{}finally{}if(h=vb(l,u,S,v),h!==null)return _a(h,l,v),JO(h,u,v),!0}return!1}function ew(l,u,h,v){if(v={lane:2,revertLane:Rw(),gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Vp(l)){if(u)throw Error(n(479))}else u=vb(l,h,v,2),u!==null&&_a(u,l,2)}function Vp(l){var u=l.alternate;return l===At||u!==null&&u===At}function QO(l,u){Pu=$p=!0;var h=l.pending;h===null?u.next=u:(u.next=h.next,h.next=u),l.pending=u}function JO(l,u,h){if((h&4194048)!==0){var v=u.lanes;v&=l.pendingLanes,h|=v,u.lanes=h,ma(l,h)}}var If={readContext:Mn,use:Fp,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useInsertionEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useSyncExternalStore:Dr,useId:Dr,useHostTransitionStatus:Dr,useFormState:Dr,useActionState:Dr,useOptimistic:Dr,useMemoCache:Dr,useCacheRefresh:Dr};If.useEffectEvent=Dr;var eT={readContext:Mn,use:Fp,useCallback:function(l,u){return ea().memoizedState=[l,u===void 0?null:u],l},useContext:Mn,useEffect:$O,useImperativeHandle:function(l,u,h){h=h!=null?h.concat([l]):null,Bp(4194308,4,UO.bind(null,u,l),h)},useLayoutEffect:function(l,u){return Bp(4194308,4,l,u)},useInsertionEffect:function(l,u){Bp(4,2,l,u)},useMemo:function(l,u){var h=ea();u=u===void 0?null:u;var v=l();if(oc){Jn(!0);try{l()}finally{Jn(!1)}}return h.memoizedState=[v,u],v},useReducer:function(l,u,h){var v=ea();if(h!==void 0){var S=h(u);if(oc){Jn(!0);try{h(u)}finally{Jn(!1)}}}else S=u;return v.memoizedState=v.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},v.queue=l,l=l.dispatch=XK.bind(null,At,l),[v.memoizedState,l]},useRef:function(l){var u=ea();return l={current:l},u.memoizedState=l},useState:function(l){l=Kb(l);var u=l.queue,h=XO.bind(null,At,u);return u.dispatch=h,[l.memoizedState,h]},useDebugValue:Zb,useDeferredValue:function(l,u){var h=ea();return Xb(h,l,u)},useTransition:function(){var l=Kb(!1);return l=WO.bind(null,At,l.queue,!0,!1),ea().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,h){var v=At,S=ea();if(Ft){if(h===void 0)throw Error(n(407));h=h()}else{if(h=u(),nr===null)throw Error(n(349));($t&127)!==0||wO(v,u,h)}S.memoizedState=h;var C={value:h,getSnapshot:u};return S.queue=C,$O(jO.bind(null,v,C,l),[l]),v.flags|=2048,Mu(9,{destroy:void 0},_O.bind(null,v,C,h,u),null),h},useId:function(){var l=ea(),u=nr.identifierPrefix;if(Ft){var h=ls,v=os;h=(v&~(1<<32-Pr(v)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Lp++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=VK++,u="_"+u+"r_"+h.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Jb,useFormState:RO,useActionState:RO,useOptimistic:function(l){var u=ea();u.memoizedState=u.baseState=l;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=ew.bind(null,At,!0,h),h.dispatch=u,[l,u]},useMemoCache:Vb,useCacheRefresh:function(){return ea().memoizedState=ZK.bind(null,At)},useEffectEvent:function(l){var u=ea(),h={impl:l};return u.memoizedState=h,function(){if((Wt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},tw={readContext:Mn,use:Fp,useCallback:qO,useContext:Mn,useEffect:Yb,useImperativeHandle:BO,useInsertionEffect:zO,useLayoutEffect:FO,useMemo:VO,useReducer:Up,useRef:IO,useState:function(){return Up(Gs)},useDebugValue:Zb,useDeferredValue:function(l,u){var h=Vr();return HO(h,Qt.memoizedState,l,u)},useTransition:function(){var l=Up(Gs)[0],u=Vr().memoizedState;return[typeof l=="boolean"?l:Df(l),u]},useSyncExternalStore:bO,useId:YO,useHostTransitionStatus:Jb,useFormState:PO,useActionState:PO,useOptimistic:function(l,u){var h=Vr();return NO(h,Qt,l,u)},useMemoCache:Vb,useCacheRefresh:ZO};tw.useEffectEvent=LO;var tT={readContext:Mn,use:Fp,useCallback:qO,useContext:Mn,useEffect:Yb,useImperativeHandle:BO,useInsertionEffect:zO,useLayoutEffect:FO,useMemo:VO,useReducer:Wb,useRef:IO,useState:function(){return Wb(Gs)},useDebugValue:Zb,useDeferredValue:function(l,u){var h=Vr();return Qt===null?Xb(h,l,u):HO(h,Qt.memoizedState,l,u)},useTransition:function(){var l=Wb(Gs)[0],u=Vr().memoizedState;return[typeof l=="boolean"?l:Df(l),u]},useSyncExternalStore:bO,useId:YO,useHostTransitionStatus:Jb,useFormState:MO,useActionState:MO,useOptimistic:function(l,u){var h=Vr();return Qt!==null?NO(h,Qt,l,u):(h.baseState=l,[l,h.queue.dispatch])},useMemoCache:Vb,useCacheRefresh:ZO};tT.useEffectEvent=LO;function rw(l,u,h,v){u=l.memoizedState,h=h(v,u),h=h==null?u:p({},u,h),l.memoizedState=h,l.lanes===0&&(l.updateQueue.baseState=h)}var nw={enqueueSetState:function(l,u,h){l=l._reactInternals;var v=La(),S=Xo(v);S.payload=u,h!=null&&(S.callback=h),u=Qo(l,S,v),u!==null&&(_a(u,l,v),Of(u,l,v))},enqueueReplaceState:function(l,u,h){l=l._reactInternals;var v=La(),S=Xo(v);S.tag=1,S.payload=u,h!=null&&(S.callback=h),u=Qo(l,S,v),u!==null&&(_a(u,l,v),Of(u,l,v))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var h=La(),v=Xo(h);v.tag=2,u!=null&&(v.callback=u),u=Qo(l,v,h),u!==null&&(_a(u,l,h),Of(u,l,h))}};function rT(l,u,h,v,S,C,D){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,C,D):u.prototype&&u.prototype.isPureReactComponent?!_f(h,v)||!_f(S,C):!0}function nT(l,u,h,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,v),u.state!==l&&nw.enqueueReplaceState(u,u.state,null)}function lc(l,u){var h=u;if("ref"in u){h={};for(var v in u)v!=="ref"&&(h[v]=u[v])}if(l=l.defaultProps){h===u&&(h=p({},h));for(var S in l)h[S]===void 0&&(h[S]=l[S])}return h}function aT(l){_p(l)}function iT(l){console.error(l)}function sT(l){_p(l)}function Hp(l,u){try{var h=l.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(v){setTimeout(function(){throw v})}}function oT(l,u,h){try{var v=l.onCaughtError;v(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function aw(l,u,h){return h=Xo(h),h.tag=3,h.payload={element:null},h.callback=function(){Hp(l,u)},h}function lT(l){return l=Xo(l),l.tag=3,l}function cT(l,u,h,v){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var C=v.value;l.payload=function(){return S(C)},l.callback=function(){oT(u,h,v)}}var D=h.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(l.callback=function(){oT(u,h,v),typeof S!="function"&&(al===null?al=new Set([this]):al.add(this));var z=v.stack;this.componentDidCatch(v.value,{componentStack:z!==null?z:""})})}function QK(l,u,h,v,S){if(h.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(u=h.alternate,u!==null&&Eu(u,h,S,!0),h=Da.current,h!==null){switch(h.tag){case 31:case 13:return fi===null?ng():h.alternate===null&&Mr===0&&(Mr=3),h.flags&=-257,h.flags|=65536,h.lanes=S,v===Rp?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([v]):u.add(v),Aw(l,v,S)),!1;case 22:return h.flags|=65536,v===Rp?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([v])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([v]):h.add(v)),Aw(l,v,S)),!1}throw Error(n(435,h.tag))}return Aw(l,v,S),ng(),!1}if(Ft)return u=Da.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,v!==jb&&(l=Error(n(422),{cause:v}),Cf(li(l,h)))):(v!==jb&&(u=Error(n(423),{cause:v}),Cf(li(u,h))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,v=li(v,h),S=aw(l.stateNode,v,S),Db(l,S),Mr!==4&&(Mr=2)),!1;var C=Error(n(520),{cause:v});if(C=li(C,h),Vf===null?Vf=[C]:Vf.push(C),Mr!==4&&(Mr=2),u===null)return!0;v=li(v,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,l=S&-S,h.lanes|=l,l=aw(h.stateNode,v,l),Db(h,l),!1;case 1:if(u=h.type,C=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(al===null||!al.has(C))))return h.flags|=65536,S&=-S,h.lanes|=S,S=lT(S),cT(S,l,h,v),Db(h,S),!1}h=h.return}while(h!==null);return!1}var iw=Error(n(461)),rn=!1;function In(l,u,h,v){u.child=l===null?hO(u,null,h,v):sc(u,l.child,h,v)}function uT(l,u,h,v,S){h=h.render;var C=u.ref;if("ref"in v){var D={};for(var z in v)z!=="ref"&&(D[z]=v[z])}else D=v;return rc(u),v=Fb(l,u,h,D,C,S),z=Ub(),l!==null&&!rn?(Bb(l,u,S),Ys(l,u,S)):(Ft&&z&&wb(u),u.flags|=1,In(l,u,v,S),u.child)}function dT(l,u,h,v,S){if(l===null){var C=h.type;return typeof C=="function"&&!yb(C)&&C.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=C,fT(l,u,C,v,S)):(l=Np(h.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,!hw(l,S)){var D=C.memoizedProps;if(h=h.compare,h=h!==null?h:_f,h(D,v)&&l.ref===u.ref)return Ys(l,u,S)}return u.flags|=1,l=qs(C,v),l.ref=u.ref,l.return=u,u.child=l}function fT(l,u,h,v,S){if(l!==null){var C=l.memoizedProps;if(_f(C,v)&&l.ref===u.ref)if(rn=!1,u.pendingProps=v=C,hw(l,S))(l.flags&131072)!==0&&(rn=!0);else return u.lanes=l.lanes,Ys(l,u,S)}return sw(l,u,h,v,S)}function hT(l,u,h,v){var S=v.children,C=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|h:h,l!==null){for(v=u.child=l.child,S=0;v!==null;)S=S|v.lanes|v.childLanes,v=v.sibling;v=S&~C}else v=0,u.child=null;return mT(l,u,C,h,v)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Op(u,C!==null?C.cachePool:null),C!==null?gO(u,C):Ib(),vO(u);else return v=u.lanes=536870912,mT(l,u,C!==null?C.baseLanes|h:h,h,v)}else C!==null?(Op(u,C.cachePool),gO(u,C),el(),u.memoizedState=null):(l!==null&&Op(u,null),Ib(),el());return In(l,u,S,h),u.child}function $f(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function mT(l,u,h,v,S){var C=Ob();return C=C===null?null:{parent:en._currentValue,pool:C},u.memoizedState={baseLanes:h,cachePool:C},l!==null&&Op(u,null),Ib(),vO(u),l!==null&&Eu(l,u,v,!0),u.childLanes=S,null}function Wp(l,u){return u=Gp({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function pT(l,u,h){return sc(u,l.child,null,h),l=Wp(u,u.pendingProps),l.flags|=2,Ma(u),u.memoizedState=null,l}function JK(l,u,h){var v=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(Ft){if(v.mode==="hidden")return l=Wp(u,v),u.lanes=536870912,$f(null,l);if(Lb(u),(l=dr)?(l=ER(l,di),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Wo!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},h=QA(l),h.return=u,u.child=h,Dn=u,dr=null)):l=null,l===null)throw Go(u);return u.lanes=536870912,null}return Wp(u,v)}var C=l.memoizedState;if(C!==null){var D=C.dehydrated;if(Lb(u),S)if(u.flags&256)u.flags&=-257,u=pT(l,u,h);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(rn||Eu(l,u,h,!1),S=(h&l.childLanes)!==0,rn||S){if(v=nr,v!==null&&(D=pa(v,h),D!==0&&D!==C.retryLane))throw C.retryLane=D,Ql(l,D),_a(v,l,D),iw;ng(),u=pT(l,u,h)}else l=C.treeContext,dr=hi(D.nextSibling),Dn=u,Ft=!0,Ko=null,di=!1,l!==null&&tO(u,l),u=Wp(u,v),u.flags|=4096;return u}return l=qs(l.child,{mode:v.mode,children:v.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Kp(l,u){var h=u.ref;if(h===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(l===null||l.ref!==h)&&(u.flags|=4194816)}}function sw(l,u,h,v,S){return rc(u),h=Fb(l,u,h,v,void 0,S),v=Ub(),l!==null&&!rn?(Bb(l,u,S),Ys(l,u,S)):(Ft&&v&&wb(u),u.flags|=1,In(l,u,h,S),u.child)}function gT(l,u,h,v,S,C){return rc(u),u.updateQueue=null,h=xO(u,v,h,S),yO(l),v=Ub(),l!==null&&!rn?(Bb(l,u,C),Ys(l,u,C)):(Ft&&v&&wb(u),u.flags|=1,In(l,u,h,C),u.child)}function vT(l,u,h,v,S){if(rc(u),u.stateNode===null){var C=ju,D=h.contextType;typeof D=="object"&&D!==null&&(C=Mn(D)),C=new h(v,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=nw,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=v,C.state=u.memoizedState,C.refs={},Rb(u),D=h.contextType,C.context=typeof D=="object"&&D!==null?Mn(D):ju,C.state=u.memoizedState,D=h.getDerivedStateFromProps,typeof D=="function"&&(rw(u,h,D,v),C.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(D=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),D!==C.state&&nw.enqueueReplaceState(C,C.state,null),Rf(u,v,C,S),Tf(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!0}else if(l===null){C=u.stateNode;var z=u.memoizedProps,K=lc(h,z);C.props=K;var ce=C.context,ve=h.contextType;D=ju,typeof ve=="object"&&ve!==null&&(D=Mn(ve));var we=h.getDerivedStateFromProps;ve=typeof we=="function"||typeof C.getSnapshotBeforeUpdate=="function",z=u.pendingProps!==z,ve||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(z||ce!==D)&&nT(u,C,v,D),Zo=!1;var fe=u.memoizedState;C.state=fe,Rf(u,v,C,S),Tf(),ce=u.memoizedState,z||fe!==ce||Zo?(typeof we=="function"&&(rw(u,h,we,v),ce=u.memoizedState),(K=Zo||rT(u,h,K,v,fe,ce,D))?(ve||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=ce),C.props=v,C.state=ce,C.context=D,v=K):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{C=u.stateNode,Pb(l,u),D=u.memoizedProps,ve=lc(h,D),C.props=ve,we=u.pendingProps,fe=C.context,ce=h.contextType,K=ju,typeof ce=="object"&&ce!==null&&(K=Mn(ce)),z=h.getDerivedStateFromProps,(ce=typeof z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(D!==we||fe!==K)&&nT(u,C,v,K),Zo=!1,fe=u.memoizedState,C.state=fe,Rf(u,v,C,S),Tf();var me=u.memoizedState;D!==we||fe!==me||Zo||l!==null&&l.dependencies!==null&&kp(l.dependencies)?(typeof z=="function"&&(rw(u,h,z,v),me=u.memoizedState),(ve=Zo||rT(u,h,ve,v,fe,me,K)||l!==null&&l.dependencies!==null&&kp(l.dependencies))?(ce||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(v,me,K),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(v,me,K)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=me),C.props=v,C.state=me,C.context=K,v=ve):(typeof C.componentDidUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||D===l.memoizedProps&&fe===l.memoizedState||(u.flags|=1024),v=!1)}return C=v,Kp(l,u),v=(u.flags&128)!==0,C||v?(C=u.stateNode,h=v&&typeof h.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,l!==null&&v?(u.child=sc(u,l.child,null,S),u.child=sc(u,null,h,S)):In(l,u,h,S),u.memoizedState=C.state,l=u.child):l=Ys(l,u,S),l}function yT(l,u,h,v){return ec(),u.flags|=256,In(l,u,h,v),u.child}var ow={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lw(l){return{baseLanes:l,cachePool:oO()}}function cw(l,u,h){return l=l!==null?l.childLanes&~h:0,u&&(l|=$a),l}function xT(l,u,h){var v=u.pendingProps,S=!1,C=(u.flags&128)!==0,D;if((D=C)||(D=l!==null&&l.memoizedState===null?!1:(qr.current&2)!==0),D&&(S=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,l===null){if(Ft){if(S?Jo(u):el(),(l=dr)?(l=ER(l,di),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Wo!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},h=QA(l),h.return=u,u.child=h,Dn=u,dr=null)):l=null,l===null)throw Go(u);return Hw(l)?u.lanes=32:u.lanes=536870912,null}var z=v.children;return v=v.fallback,S?(el(),S=u.mode,z=Gp({mode:"hidden",children:z},S),v=Jl(v,S,h,null),z.return=u,v.return=u,z.sibling=v,u.child=z,v=u.child,v.memoizedState=lw(h),v.childLanes=cw(l,D,h),u.memoizedState=ow,$f(null,v)):(Jo(u),uw(u,z))}var K=l.memoizedState;if(K!==null&&(z=K.dehydrated,z!==null)){if(C)u.flags&256?(Jo(u),u.flags&=-257,u=dw(l,u,h)):u.memoizedState!==null?(el(),u.child=l.child,u.flags|=128,u=null):(el(),z=v.fallback,S=u.mode,v=Gp({mode:"visible",children:v.children},S),z=Jl(z,S,h,null),z.flags|=2,v.return=u,z.return=u,v.sibling=z,u.child=v,sc(u,l.child,null,h),v=u.child,v.memoizedState=lw(h),v.childLanes=cw(l,D,h),u.memoizedState=ow,u=$f(null,v));else if(Jo(u),Hw(z)){if(D=z.nextSibling&&z.nextSibling.dataset,D)var ce=D.dgst;D=ce,v=Error(n(419)),v.stack="",v.digest=D,Cf({value:v,source:null,stack:null}),u=dw(l,u,h)}else if(rn||Eu(l,u,h,!1),D=(h&l.childLanes)!==0,rn||D){if(D=nr,D!==null&&(v=pa(D,h),v!==0&&v!==K.retryLane))throw K.retryLane=v,Ql(l,v),_a(D,l,v),iw;Vw(z)||ng(),u=dw(l,u,h)}else Vw(z)?(u.flags|=192,u.child=l.child,u=null):(l=K.treeContext,dr=hi(z.nextSibling),Dn=u,Ft=!0,Ko=null,di=!1,l!==null&&tO(u,l),u=uw(u,v.children),u.flags|=4096);return u}return S?(el(),z=v.fallback,S=u.mode,K=l.child,ce=K.sibling,v=qs(K,{mode:"hidden",children:v.children}),v.subtreeFlags=K.subtreeFlags&65011712,ce!==null?z=qs(ce,z):(z=Jl(z,S,h,null),z.flags|=2),z.return=u,v.return=u,v.sibling=z,u.child=v,$f(null,v),v=u.child,z=l.child.memoizedState,z===null?z=lw(h):(S=z.cachePool,S!==null?(K=en._currentValue,S=S.parent!==K?{parent:K,pool:K}:S):S=oO(),z={baseLanes:z.baseLanes|h,cachePool:S}),v.memoizedState=z,v.childLanes=cw(l,D,h),u.memoizedState=ow,$f(l.child,v)):(Jo(u),h=l.child,l=h.sibling,h=qs(h,{mode:"visible",children:v.children}),h.return=u,h.sibling=null,l!==null&&(D=u.deletions,D===null?(u.deletions=[l],u.flags|=16):D.push(l)),u.child=h,u.memoizedState=null,h)}function uw(l,u){return u=Gp({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Gp(l,u){return l=Pa(22,l,null,u),l.lanes=0,l}function dw(l,u,h){return sc(u,l.child,null,h),l=uw(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function bT(l,u,h){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Nb(l.return,u,h)}function fw(l,u,h,v,S,C){var D=l.memoizedState;D===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:S,treeForkCount:C}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=v,D.tail=h,D.tailMode=S,D.treeForkCount=C)}function wT(l,u,h){var v=u.pendingProps,S=v.revealOrder,C=v.tail;v=v.children;var D=qr.current,z=(D&2)!==0;if(z?(D=D&1|2,u.flags|=128):D&=1,V(qr,D),In(l,u,v,h),v=Ft?Sf:0,!z&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&bT(l,h,u);else if(l.tag===19)bT(l,h,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(h=u.child,S=null;h!==null;)l=h.alternate,l!==null&&Ip(l)===null&&(S=h),h=h.sibling;h=S,h===null?(S=u.child,u.child=null):(S=h.sibling,h.sibling=null),fw(u,!1,S,h,C,v);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Ip(l)===null){u.child=S;break}l=S.sibling,S.sibling=h,h=S,S=l}fw(u,!0,h,null,C,v);break;case"together":fw(u,!1,null,null,void 0,v);break;default:u.memoizedState=null}return u.child}function Ys(l,u,h){if(l!==null&&(u.dependencies=l.dependencies),nl|=u.lanes,(h&u.childLanes)===0)if(l!==null){if(Eu(l,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,h=qs(l,l.pendingProps),u.child=h,h.return=u;l.sibling!==null;)l=l.sibling,h=h.sibling=qs(l,l.pendingProps),h.return=u;h.sibling=null}return u.child}function hw(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&kp(l)))}function eG(l,u,h){switch(u.tag){case 3:pe(u,u.stateNode.containerInfo),Yo(u,en,l.memoizedState.cache),ec();break;case 27:case 5:ge(u);break;case 4:pe(u,u.stateNode.containerInfo);break;case 10:Yo(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Lb(u),null;break;case 13:var v=u.memoizedState;if(v!==null)return v.dehydrated!==null?(Jo(u),u.flags|=128,null):(h&u.child.childLanes)!==0?xT(l,u,h):(Jo(u),l=Ys(l,u,h),l!==null?l.sibling:null);Jo(u);break;case 19:var S=(l.flags&128)!==0;if(v=(h&u.childLanes)!==0,v||(Eu(l,u,h,!1),v=(h&u.childLanes)!==0),S){if(v)return wT(l,u,h);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),V(qr,qr.current),v)break;return null;case 22:return u.lanes=0,hT(l,u,h,u.pendingProps);case 24:Yo(u,en,l.memoizedState.cache)}return Ys(l,u,h)}function _T(l,u,h){if(l!==null)if(l.memoizedProps!==u.pendingProps)rn=!0;else{if(!hw(l,h)&&(u.flags&128)===0)return rn=!1,eG(l,u,h);rn=(l.flags&131072)!==0}else rn=!1,Ft&&(u.flags&1048576)!==0&&eO(u,Sf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var v=u.pendingProps;if(l=ac(u.elementType),u.type=l,typeof l=="function")yb(l)?(v=lc(l,v),u.tag=1,u=vT(null,u,l,v,h)):(u.tag=0,u=sw(null,u,l,v,h));else{if(l!=null){var S=l.$$typeof;if(S===k){u.tag=11,u=uT(null,u,l,v,h);break e}else if(S===T){u.tag=14,u=dT(null,u,l,v,h);break e}}throw u=X(l)||l,Error(n(306,u,""))}}return u;case 0:return sw(l,u,u.type,u.pendingProps,h);case 1:return v=u.type,S=lc(v,u.pendingProps),vT(l,u,v,S,h);case 3:e:{if(pe(u,u.stateNode.containerInfo),l===null)throw Error(n(387));v=u.pendingProps;var C=u.memoizedState;S=C.element,Pb(l,u),Rf(u,v,null,h);var D=u.memoizedState;if(v=D.cache,Yo(u,en,v),v!==C.cache&&Eb(u,[en],h,!0),Tf(),v=D.element,C.isDehydrated)if(C={element:v,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=yT(l,u,v,h);break e}else if(v!==S){S=li(Error(n(424)),u),Cf(S),u=yT(l,u,v,h);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(dr=hi(l.firstChild),Dn=u,Ft=!0,Ko=null,di=!0,h=hO(u,null,v,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ec(),v===S){u=Ys(l,u,h);break e}In(l,u,v,h)}u=u.child}return u;case 26:return Kp(l,u),l===null?(h=PR(u.type,null,u.pendingProps,null))?u.memoizedState=h:Ft||(h=u.type,l=u.pendingProps,v=ug(ne.current).createElement(h),v[Pn]=u,v[ga]=l,$n(v,h,l),jn(v),u.stateNode=v):u.memoizedState=PR(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return ge(u),l===null&&Ft&&(v=u.stateNode=OR(u.type,u.pendingProps,ne.current),Dn=u,di=!0,S=dr,ll(u.type)?(Ww=S,dr=hi(v.firstChild)):dr=S),In(l,u,u.pendingProps.children,h),Kp(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&Ft&&((S=v=dr)&&(v=OG(v,u.type,u.pendingProps,di),v!==null?(u.stateNode=v,Dn=u,dr=hi(v.firstChild),di=!1,S=!0):S=!1),S||Go(u)),ge(u),S=u.type,C=u.pendingProps,D=l!==null?l.memoizedProps:null,v=C.children,Uw(S,C)?v=null:D!==null&&Uw(S,D)&&(u.flags|=32),u.memoizedState!==null&&(S=Fb(l,u,HK,null,null,h),Qf._currentValue=S),Kp(l,u),In(l,u,v,h),u.child;case 6:return l===null&&Ft&&((l=h=dr)&&(h=TG(h,u.pendingProps,di),h!==null?(u.stateNode=h,Dn=u,dr=null,l=!0):l=!1),l||Go(u)),null;case 13:return xT(l,u,h);case 4:return pe(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=sc(u,null,v,h):In(l,u,v,h),u.child;case 11:return uT(l,u,u.type,u.pendingProps,h);case 7:return In(l,u,u.pendingProps,h),u.child;case 8:return In(l,u,u.pendingProps.children,h),u.child;case 12:return In(l,u,u.pendingProps.children,h),u.child;case 10:return v=u.pendingProps,Yo(u,u.type,v.value),In(l,u,v.children,h),u.child;case 9:return S=u.type._context,v=u.pendingProps.children,rc(u),S=Mn(S),v=v(S),u.flags|=1,In(l,u,v,h),u.child;case 14:return dT(l,u,u.type,u.pendingProps,h);case 15:return fT(l,u,u.type,u.pendingProps,h);case 19:return wT(l,u,h);case 31:return JK(l,u,h);case 22:return hT(l,u,h,u.pendingProps);case 24:return rc(u),v=Mn(en),l===null?(S=Ob(),S===null&&(S=nr,C=kb(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=h),S=C),u.memoizedState={parent:v,cache:S},Rb(u),Yo(u,en,S)):((l.lanes&h)!==0&&(Pb(l,u),Rf(u,null,null,h),Tf()),S=l.memoizedState,C=u.memoizedState,S.parent!==v?(S={parent:v,cache:v},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Yo(u,en,v)):(v=C.cache,Yo(u,en,v),v!==S.cache&&Eb(u,[en],h,!0))),In(l,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Zs(l){l.flags|=4}function mw(l,u,h,v,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(YT())l.flags|=8192;else throw ic=Rp,Tb}else l.flags&=-16777217}function jT(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!LR(u))if(YT())l.flags|=8192;else throw ic=Rp,Tb}function Yp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Jr():536870912,l.lanes|=u,zu|=u)}function Lf(l,u){if(!Ft)switch(l.tailMode){case"hidden":u=l.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?l.tail=null:h.sibling=null;break;case"collapsed":h=l.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function fr(l){var u=l.alternate!==null&&l.alternate.child===l.child,h=0,v=0;if(u)for(var S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags&65011712,v|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)h|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=h,u}function tG(l,u,h){var v=u.pendingProps;switch(_b(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(u),null;case 1:return fr(u),null;case 3:return h=u.stateNode,v=null,l!==null&&(v=l.memoizedState.cache),u.memoizedState.cache!==v&&(u.flags|=2048),Ws(en),G(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(l===null||l.child===null)&&(Nu(u)?Zs(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Sb())),fr(u),null;case 26:var S=u.type,C=u.memoizedState;return l===null?(Zs(u),C!==null?(fr(u),jT(u,C)):(fr(u),mw(u,S,null,v,h))):C?C!==l.memoizedState?(Zs(u),fr(u),jT(u,C)):(fr(u),u.flags&=-16777217):(l=l.memoizedProps,l!==v&&Zs(u),fr(u),mw(u,S,l,v,h)),null;case 27:if(ye(u),h=ne.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Zs(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return fr(u),null}l=ae.current,Nu(u)?rO(u):(l=OR(S,v,h),u.stateNode=l,Zs(u))}return fr(u),null;case 5:if(ye(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==v&&Zs(u);else{if(!v){if(u.stateNode===null)throw Error(n(166));return fr(u),null}if(C=ae.current,Nu(u))rO(u);else{var D=ug(ne.current);switch(C){case 1:C=D.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=D.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=D.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=D.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof v.is=="string"?D.createElement("select",{is:v.is}):D.createElement("select"),v.multiple?C.multiple=!0:v.size&&(C.size=v.size);break;default:C=typeof v.is=="string"?D.createElement(S,{is:v.is}):D.createElement(S)}}C[Pn]=u,C[ga]=v;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)C.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=C;e:switch($n(C,S,v),S){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}v&&Zs(u)}}return fr(u),mw(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,h),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==v&&Zs(u);else{if(typeof v!="string"&&u.stateNode===null)throw Error(n(166));if(l=ne.current,Nu(u)){if(l=u.stateNode,h=u.memoizedProps,v=null,S=Dn,S!==null)switch(S.tag){case 27:case 5:v=S.memoizedProps}l[Pn]=u,l=!!(l.nodeValue===h||v!==null&&v.suppressHydrationWarning===!0||xR(l.nodeValue,h)),l||Go(u,!0)}else l=ug(l).createTextNode(v),l[Pn]=u,u.stateNode=l}return fr(u),null;case 31:if(h=u.memoizedState,l===null||l.memoizedState!==null){if(v=Nu(u),h!==null){if(l===null){if(!v)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[Pn]=u}else ec(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fr(u),l=!1}else h=Sb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=h),l=!0;if(!l)return u.flags&256?(Ma(u),u):(Ma(u),null);if((u.flags&128)!==0)throw Error(n(558))}return fr(u),null;case 13:if(v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=Nu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!S)throw Error(n(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Pn]=u}else ec(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fr(u),S=!1}else S=Sb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(Ma(u),u):(Ma(u),null)}return Ma(u),(u.flags&128)!==0?(u.lanes=h,u):(h=v!==null,l=l!==null&&l.memoizedState!==null,h&&(v=u.child,S=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(S=v.alternate.memoizedState.cachePool.pool),C=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(C=v.memoizedState.cachePool.pool),C!==S&&(v.flags|=2048)),h!==l&&h&&(u.child.flags|=8192),Yp(u,u.updateQueue),fr(u),null);case 4:return G(),l===null&&Iw(u.stateNode.containerInfo),fr(u),null;case 10:return Ws(u.type),fr(u),null;case 19:if(Q(qr),v=u.memoizedState,v===null)return fr(u),null;if(S=(u.flags&128)!==0,C=v.rendering,C===null)if(S)Lf(v,!1);else{if(Mr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(C=Ip(l),C!==null){for(u.flags|=128,Lf(v,!1),l=C.updateQueue,u.updateQueue=l,Yp(u,l),u.subtreeFlags=0,l=h,h=u.child;h!==null;)XA(h,l),h=h.sibling;return V(qr,qr.current&1|2),Ft&&Vs(u,v.treeForkCount),u.child}l=l.sibling}v.tail!==null&&be()>eg&&(u.flags|=128,S=!0,Lf(v,!1),u.lanes=4194304)}else{if(!S)if(l=Ip(C),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,Yp(u,l),Lf(v,!0),v.tail===null&&v.tailMode==="hidden"&&!C.alternate&&!Ft)return fr(u),null}else 2*be()-v.renderingStartTime>eg&&h!==536870912&&(u.flags|=128,S=!0,Lf(v,!1),u.lanes=4194304);v.isBackwards?(C.sibling=u.child,u.child=C):(l=v.last,l!==null?l.sibling=C:u.child=C,v.last=C)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=be(),l.sibling=null,h=qr.current,V(qr,S?h&1|2:h&1),Ft&&Vs(u,v.treeForkCount),l):(fr(u),null);case 22:case 23:return Ma(u),$b(),v=u.memoizedState!==null,l!==null?l.memoizedState!==null!==v&&(u.flags|=8192):v&&(u.flags|=8192),v?(h&536870912)!==0&&(u.flags&128)===0&&(fr(u),u.subtreeFlags&6&&(u.flags|=8192)):fr(u),h=u.updateQueue,h!==null&&Yp(u,h.retryQueue),h=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==h&&(u.flags|=2048),l!==null&&Q(nc),null;case 24:return h=null,l!==null&&(h=l.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),Ws(en),fr(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function rG(l,u){switch(_b(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Ws(en),G(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return ye(u),null;case 31:if(u.memoizedState!==null){if(Ma(u),u.alternate===null)throw Error(n(340));ec()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(Ma(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));ec()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Q(qr),null;case 4:return G(),null;case 10:return Ws(u.type),null;case 22:case 23:return Ma(u),$b(),l!==null&&Q(nc),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return Ws(en),null;case 25:return null;default:return null}}function ST(l,u){switch(_b(u),u.tag){case 3:Ws(en),G();break;case 26:case 27:case 5:ye(u);break;case 4:G();break;case 31:u.memoizedState!==null&&Ma(u);break;case 13:Ma(u);break;case 19:Q(qr);break;case 10:Ws(u.type);break;case 22:case 23:Ma(u),$b(),l!==null&&Q(nc);break;case 24:Ws(en)}}function zf(l,u){try{var h=u.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var S=v.next;h=S;do{if((h.tag&l)===l){v=void 0;var C=h.create,D=h.inst;v=C(),D.destroy=v}h=h.next}while(h!==S)}}catch(z){Yt(u,u.return,z)}}function tl(l,u,h){try{var v=u.updateQueue,S=v!==null?v.lastEffect:null;if(S!==null){var C=S.next;v=C;do{if((v.tag&l)===l){var D=v.inst,z=D.destroy;if(z!==void 0){D.destroy=void 0,S=u;var K=h,ce=z;try{ce()}catch(ve){Yt(S,K,ve)}}}v=v.next}while(v!==C)}}catch(ve){Yt(u,u.return,ve)}}function CT(l){var u=l.updateQueue;if(u!==null){var h=l.stateNode;try{pO(u,h)}catch(v){Yt(l,l.return,v)}}}function NT(l,u,h){h.props=lc(l.type,l.memoizedProps),h.state=l.memoizedState;try{h.componentWillUnmount()}catch(v){Yt(l,u,v)}}function Ff(l,u){try{var h=l.ref;if(h!==null){switch(l.tag){case 26:case 27:case 5:var v=l.stateNode;break;case 30:v=l.stateNode;break;default:v=l.stateNode}typeof h=="function"?l.refCleanup=h(v):h.current=v}}catch(S){Yt(l,u,S)}}function cs(l,u){var h=l.ref,v=l.refCleanup;if(h!==null)if(typeof v=="function")try{v()}catch(S){Yt(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Yt(l,u,S)}else h.current=null}function ET(l){var u=l.type,h=l.memoizedProps,v=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&v.focus();break e;case"img":h.src?v.src=h.src:h.srcSet&&(v.srcset=h.srcSet)}}catch(S){Yt(l,l.return,S)}}function pw(l,u,h){try{var v=l.stateNode;SG(v,l.type,h,u),v[ga]=u}catch(S){Yt(l,l.return,S)}}function kT(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ll(l.type)||l.tag===4}function gw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||kT(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ll(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function vw(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(l,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(l),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Us));else if(v!==4&&(v===27&&ll(l.type)&&(h=l.stateNode,u=null),l=l.child,l!==null))for(vw(l,u,h),l=l.sibling;l!==null;)vw(l,u,h),l=l.sibling}function Zp(l,u,h){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?h.insertBefore(l,u):h.appendChild(l);else if(v!==4&&(v===27&&ll(l.type)&&(h=l.stateNode),l=l.child,l!==null))for(Zp(l,u,h),l=l.sibling;l!==null;)Zp(l,u,h),l=l.sibling}function AT(l){var u=l.stateNode,h=l.memoizedProps;try{for(var v=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);$n(u,v,h),u[Pn]=l,u[ga]=h}catch(C){Yt(l,l.return,C)}}var Xs=!1,nn=!1,yw=!1,OT=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function nG(l,u){if(l=l.containerInfo,zw=vg,l=BA(l),db(l)){if("selectionStart"in l)var h={start:l.selectionStart,end:l.selectionEnd};else e:{h=(h=l.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var S=v.anchorOffset,C=v.focusNode;v=v.focusOffset;try{h.nodeType,C.nodeType}catch{h=null;break e}var D=0,z=-1,K=-1,ce=0,ve=0,we=l,fe=null;t:for(;;){for(var me;we!==h||S!==0&&we.nodeType!==3||(z=D+S),we!==C||v!==0&&we.nodeType!==3||(K=D+v),we.nodeType===3&&(D+=we.nodeValue.length),(me=we.firstChild)!==null;)fe=we,we=me;for(;;){if(we===l)break t;if(fe===h&&++ce===S&&(z=D),fe===C&&++ve===v&&(K=D),(me=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=me}h=z===-1||K===-1?null:{start:z,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(Fw={focusedElem:l,selectionRange:h},vg=!1,Sn=u;Sn!==null;)if(u=Sn,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Sn=l;else for(;Sn!==null;){switch(u=Sn,C=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(h=0;h<l.length;h++)S=l[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,h=u,S=C.memoizedProps,C=C.memoizedState,v=h.stateNode;try{var He=lc(h.type,S);l=v.getSnapshotBeforeUpdate(He,C),v.__reactInternalSnapshotBeforeUpdate=l}catch(ct){Yt(h,h.return,ct)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,h=l.nodeType,h===9)qw(l);else if(h===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":qw(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Sn=l;break}Sn=u.return}}function TT(l,u,h){var v=h.flags;switch(h.tag){case 0:case 11:case 15:Js(l,h),v&4&&zf(5,h);break;case 1:if(Js(l,h),v&4)if(l=h.stateNode,u===null)try{l.componentDidMount()}catch(D){Yt(h,h.return,D)}else{var S=lc(h.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(D){Yt(h,h.return,D)}}v&64&&CT(h),v&512&&Ff(h,h.return);break;case 3:if(Js(l,h),v&64&&(l=h.updateQueue,l!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{pO(l,u)}catch(D){Yt(h,h.return,D)}}break;case 27:u===null&&v&4&&AT(h);case 26:case 5:Js(l,h),u===null&&v&4&&ET(h),v&512&&Ff(h,h.return);break;case 12:Js(l,h);break;case 31:Js(l,h),v&4&&DT(l,h);break;case 13:Js(l,h),v&4&&MT(l,h),v&64&&(l=h.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(h=fG.bind(null,h),RG(l,h))));break;case 22:if(v=h.memoizedState!==null||Xs,!v){u=u!==null&&u.memoizedState!==null||nn,S=Xs;var C=nn;Xs=v,(nn=u)&&!C?eo(l,h,(h.subtreeFlags&8772)!==0):Js(l,h),Xs=S,nn=C}break;case 30:break;default:Js(l,h)}}function RT(l){var u=l.alternate;u!==null&&(l.alternate=null,RT(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&G0(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var xr=null,ya=!1;function Qs(l,u,h){for(h=h.child;h!==null;)PT(l,u,h),h=h.sibling}function PT(l,u,h){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(fn,h)}catch{}switch(h.tag){case 26:nn||cs(h,u),Qs(l,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:nn||cs(h,u);var v=xr,S=ya;ll(h.type)&&(xr=h.stateNode,ya=!1),Qs(l,u,h),Yf(h.stateNode),xr=v,ya=S;break;case 5:nn||cs(h,u);case 6:if(v=xr,S=ya,xr=null,Qs(l,u,h),xr=v,ya=S,xr!==null)if(ya)try{(xr.nodeType===9?xr.body:xr.nodeName==="HTML"?xr.ownerDocument.body:xr).removeChild(h.stateNode)}catch(C){Yt(h,u,C)}else try{xr.removeChild(h.stateNode)}catch(C){Yt(h,u,C)}break;case 18:xr!==null&&(ya?(l=xr,CR(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,h.stateNode),Ku(l)):CR(xr,h.stateNode));break;case 4:v=xr,S=ya,xr=h.stateNode.containerInfo,ya=!0,Qs(l,u,h),xr=v,ya=S;break;case 0:case 11:case 14:case 15:tl(2,h,u),nn||tl(4,h,u),Qs(l,u,h);break;case 1:nn||(cs(h,u),v=h.stateNode,typeof v.componentWillUnmount=="function"&&NT(h,u,v)),Qs(l,u,h);break;case 21:Qs(l,u,h);break;case 22:nn=(v=nn)||h.memoizedState!==null,Qs(l,u,h),nn=v;break;default:Qs(l,u,h)}}function DT(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Ku(l)}catch(h){Yt(u,u.return,h)}}}function MT(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Ku(l)}catch(h){Yt(u,u.return,h)}}function aG(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new OT),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new OT),u;default:throw Error(n(435,l.tag))}}function Xp(l,u){var h=aG(l);u.forEach(function(v){if(!h.has(v)){h.add(v);var S=hG.bind(null,l,v);v.then(S,S)}})}function xa(l,u){var h=u.deletions;if(h!==null)for(var v=0;v<h.length;v++){var S=h[v],C=l,D=u,z=D;e:for(;z!==null;){switch(z.tag){case 27:if(ll(z.type)){xr=z.stateNode,ya=!1;break e}break;case 5:xr=z.stateNode,ya=!1;break e;case 3:case 4:xr=z.stateNode.containerInfo,ya=!0;break e}z=z.return}if(xr===null)throw Error(n(160));PT(C,D,S),xr=null,ya=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)IT(u,l),u=u.sibling}var $i=null;function IT(l,u){var h=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:xa(u,l),ba(l),v&4&&(tl(3,l,l.return),zf(3,l),tl(5,l,l.return));break;case 1:xa(u,l),ba(l),v&512&&(nn||h===null||cs(h,h.return)),v&64&&Xs&&(l=l.updateQueue,l!==null&&(v=l.callbacks,v!==null&&(h=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=h===null?v:h.concat(v))));break;case 26:var S=$i;if(xa(u,l),ba(l),v&512&&(nn||h===null||cs(h,h.return)),v&4){var C=h!==null?h.memoizedState:null;if(v=l.memoizedState,h===null)if(v===null)if(l.stateNode===null){e:{v=l.type,h=l.memoizedProps,S=S.ownerDocument||S;t:switch(v){case"title":C=S.getElementsByTagName("title")[0],(!C||C[hf]||C[Pn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(v),S.head.insertBefore(C,S.querySelector("head > title"))),$n(C,v,h),C[Pn]=l,jn(C),v=C;break e;case"link":var D=IR("link","href",S).get(v+(h.href||""));if(D){for(var z=0;z<D.length;z++)if(C=D[z],C.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&C.getAttribute("rel")===(h.rel==null?null:h.rel)&&C.getAttribute("title")===(h.title==null?null:h.title)&&C.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){D.splice(z,1);break t}}C=S.createElement(v),$n(C,v,h),S.head.appendChild(C);break;case"meta":if(D=IR("meta","content",S).get(v+(h.content||""))){for(z=0;z<D.length;z++)if(C=D[z],C.getAttribute("content")===(h.content==null?null:""+h.content)&&C.getAttribute("name")===(h.name==null?null:h.name)&&C.getAttribute("property")===(h.property==null?null:h.property)&&C.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&C.getAttribute("charset")===(h.charSet==null?null:h.charSet)){D.splice(z,1);break t}}C=S.createElement(v),$n(C,v,h),S.head.appendChild(C);break;default:throw Error(n(468,v))}C[Pn]=l,jn(C),v=C}l.stateNode=v}else $R(S,l.type,l.stateNode);else l.stateNode=MR(S,v,l.memoizedProps);else C!==v?(C===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):C.count--,v===null?$R(S,l.type,l.stateNode):MR(S,v,l.memoizedProps)):v===null&&l.stateNode!==null&&pw(l,l.memoizedProps,h.memoizedProps)}break;case 27:xa(u,l),ba(l),v&512&&(nn||h===null||cs(h,h.return)),h!==null&&v&4&&pw(l,l.memoizedProps,h.memoizedProps);break;case 5:if(xa(u,l),ba(l),v&512&&(nn||h===null||cs(h,h.return)),l.flags&32){S=l.stateNode;try{gu(S,"")}catch(He){Yt(l,l.return,He)}}v&4&&l.stateNode!=null&&(S=l.memoizedProps,pw(l,S,h!==null?h.memoizedProps:S)),v&1024&&(yw=!0);break;case 6:if(xa(u,l),ba(l),v&4){if(l.stateNode===null)throw Error(n(162));v=l.memoizedProps,h=l.stateNode;try{h.nodeValue=v}catch(He){Yt(l,l.return,He)}}break;case 3:if(hg=null,S=$i,$i=dg(u.containerInfo),xa(u,l),$i=S,ba(l),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Ku(u.containerInfo)}catch(He){Yt(l,l.return,He)}yw&&(yw=!1,$T(l));break;case 4:v=$i,$i=dg(l.stateNode.containerInfo),xa(u,l),ba(l),$i=v;break;case 12:xa(u,l),ba(l);break;case 31:xa(u,l),ba(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Xp(l,v)));break;case 13:xa(u,l),ba(l),l.child.flags&8192&&l.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Jp=be()),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Xp(l,v)));break;case 22:S=l.memoizedState!==null;var K=h!==null&&h.memoizedState!==null,ce=Xs,ve=nn;if(Xs=ce||S,nn=ve||K,xa(u,l),nn=ve,Xs=ce,ba(l),v&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(h===null||K||Xs||nn||cc(l)),h=null,u=l;;){if(u.tag===5||u.tag===26){if(h===null){K=h=u;try{if(C=K.stateNode,S)D=C.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{z=K.stateNode;var we=K.memoizedProps.style,fe=we!=null&&we.hasOwnProperty("display")?we.display:null;z.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(He){Yt(K,K.return,He)}}}else if(u.tag===6){if(h===null){K=u;try{K.stateNode.nodeValue=S?"":K.memoizedProps}catch(He){Yt(K,K.return,He)}}}else if(u.tag===18){if(h===null){K=u;try{var me=K.stateNode;S?NR(me,!0):NR(K.stateNode,!1)}catch(He){Yt(K,K.return,He)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}v&4&&(v=l.updateQueue,v!==null&&(h=v.retryQueue,h!==null&&(v.retryQueue=null,Xp(l,h))));break;case 19:xa(u,l),ba(l),v&4&&(v=l.updateQueue,v!==null&&(l.updateQueue=null,Xp(l,v)));break;case 30:break;case 21:break;default:xa(u,l),ba(l)}}function ba(l){var u=l.flags;if(u&2){try{for(var h,v=l.return;v!==null;){if(kT(v)){h=v;break}v=v.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,C=gw(l);Zp(l,C,S);break;case 5:var D=h.stateNode;h.flags&32&&(gu(D,""),h.flags&=-33);var z=gw(l);Zp(l,z,D);break;case 3:case 4:var K=h.stateNode.containerInfo,ce=gw(l);vw(l,ce,K);break;default:throw Error(n(161))}}catch(ve){Yt(l,l.return,ve)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function $T(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;$T(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Js(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)TT(l,u.alternate,u),u=u.sibling}function cc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:tl(4,u,u.return),cc(u);break;case 1:cs(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&NT(u,u.return,h),cc(u);break;case 27:Yf(u.stateNode);case 26:case 5:cs(u,u.return),cc(u);break;case 22:u.memoizedState===null&&cc(u);break;case 30:cc(u);break;default:cc(u)}l=l.sibling}}function eo(l,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var v=u.alternate,S=l,C=u,D=C.flags;switch(C.tag){case 0:case 11:case 15:eo(S,C,h),zf(4,C);break;case 1:if(eo(S,C,h),v=C,S=v.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(ce){Yt(v,v.return,ce)}if(v=C,S=v.updateQueue,S!==null){var z=v.stateNode;try{var K=S.shared.hiddenCallbacks;if(K!==null)for(S.shared.hiddenCallbacks=null,S=0;S<K.length;S++)mO(K[S],z)}catch(ce){Yt(v,v.return,ce)}}h&&D&64&&CT(C),Ff(C,C.return);break;case 27:AT(C);case 26:case 5:eo(S,C,h),h&&v===null&&D&4&&ET(C),Ff(C,C.return);break;case 12:eo(S,C,h);break;case 31:eo(S,C,h),h&&D&4&&DT(S,C);break;case 13:eo(S,C,h),h&&D&4&&MT(S,C);break;case 22:C.memoizedState===null&&eo(S,C,h),Ff(C,C.return);break;case 30:break;default:eo(S,C,h)}u=u.sibling}}function xw(l,u){var h=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==h&&(l!=null&&l.refCount++,h!=null&&Nf(h))}function bw(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Nf(l))}function Li(l,u,h,v){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)LT(l,u,h,v),u=u.sibling}function LT(l,u,h,v){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Li(l,u,h,v),S&2048&&zf(9,u);break;case 1:Li(l,u,h,v);break;case 3:Li(l,u,h,v),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Nf(l)));break;case 12:if(S&2048){Li(l,u,h,v),l=u.stateNode;try{var C=u.memoizedProps,D=C.id,z=C.onPostCommit;typeof z=="function"&&z(D,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(K){Yt(u,u.return,K)}}else Li(l,u,h,v);break;case 31:Li(l,u,h,v);break;case 13:Li(l,u,h,v);break;case 23:break;case 22:C=u.stateNode,D=u.alternate,u.memoizedState!==null?C._visibility&2?Li(l,u,h,v):Uf(l,u):C._visibility&2?Li(l,u,h,v):(C._visibility|=2,Iu(l,u,h,v,(u.subtreeFlags&10256)!==0||!1)),S&2048&&xw(D,u);break;case 24:Li(l,u,h,v),S&2048&&bw(u.alternate,u);break;default:Li(l,u,h,v)}}function Iu(l,u,h,v,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=l,D=u,z=h,K=v,ce=D.flags;switch(D.tag){case 0:case 11:case 15:Iu(C,D,z,K,S),zf(8,D);break;case 23:break;case 22:var ve=D.stateNode;D.memoizedState!==null?ve._visibility&2?Iu(C,D,z,K,S):Uf(C,D):(ve._visibility|=2,Iu(C,D,z,K,S)),S&&ce&2048&&xw(D.alternate,D);break;case 24:Iu(C,D,z,K,S),S&&ce&2048&&bw(D.alternate,D);break;default:Iu(C,D,z,K,S)}u=u.sibling}}function Uf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=l,v=u,S=v.flags;switch(v.tag){case 22:Uf(h,v),S&2048&&xw(v.alternate,v);break;case 24:Uf(h,v),S&2048&&bw(v.alternate,v);break;default:Uf(h,v)}u=u.sibling}}var Bf=8192;function $u(l,u,h){if(l.subtreeFlags&Bf)for(l=l.child;l!==null;)zT(l,u,h),l=l.sibling}function zT(l,u,h){switch(l.tag){case 26:$u(l,u,h),l.flags&Bf&&l.memoizedState!==null&&VG(h,$i,l.memoizedState,l.memoizedProps);break;case 5:$u(l,u,h);break;case 3:case 4:var v=$i;$i=dg(l.stateNode.containerInfo),$u(l,u,h),$i=v;break;case 22:l.memoizedState===null&&(v=l.alternate,v!==null&&v.memoizedState!==null?(v=Bf,Bf=16777216,$u(l,u,h),Bf=v):$u(l,u,h));break;default:$u(l,u,h)}}function FT(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function qf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Sn=v,BT(v,l)}FT(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)UT(l),l=l.sibling}function UT(l){switch(l.tag){case 0:case 11:case 15:qf(l),l.flags&2048&&tl(9,l,l.return);break;case 3:qf(l);break;case 12:qf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Qp(l)):qf(l);break;default:qf(l)}}function Qp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var v=u[h];Sn=v,BT(v,l)}FT(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:tl(8,u,u.return),Qp(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,Qp(u));break;default:Qp(u)}l=l.sibling}}function BT(l,u){for(;Sn!==null;){var h=Sn;switch(h.tag){case 0:case 11:case 15:tl(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var v=h.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Nf(h.memoizedState.cache)}if(v=h.child,v!==null)v.return=h,Sn=v;else e:for(h=l;Sn!==null;){v=Sn;var S=v.sibling,C=v.return;if(RT(v),v===h){Sn=null;break e}if(S!==null){S.return=C,Sn=S;break e}Sn=C}}}var iG={getCacheForType:function(l){var u=Mn(en),h=u.data.get(l);return h===void 0&&(h=l(),u.data.set(l,h)),h},cacheSignal:function(){return Mn(en).controller.signal}},sG=typeof WeakMap=="function"?WeakMap:Map,Wt=0,nr=null,Mt=null,$t=0,Gt=0,Ia=null,rl=!1,Lu=!1,ww=!1,to=0,Mr=0,nl=0,uc=0,_w=0,$a=0,zu=0,Vf=null,wa=null,jw=!1,Jp=0,qT=0,eg=1/0,tg=null,al=null,hn=0,il=null,Fu=null,ro=0,Sw=0,Cw=null,VT=null,Hf=0,Nw=null;function La(){return(Wt&2)!==0&&$t!==0?$t&-$t:F.T!==null?Rw():W0()}function HT(){if($a===0)if(($t&536870912)===0||Ft){var l=Bt;Bt<<=1,(Bt&3932160)===0&&(Bt=262144),$a=l}else $a=536870912;return l=Da.current,l!==null&&(l.flags|=32),$a}function _a(l,u,h){(l===nr&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)&&(Uu(l,0),sl(l,$t,$a,!1)),Er(l,h),((Wt&2)===0||l!==nr)&&(l===nr&&((Wt&2)===0&&(uc|=h),Mr===4&&sl(l,$t,$a,!1)),us(l))}function WT(l,u,h){if((Wt&6)!==0)throw Error(n(327));var v=!h&&(u&127)===0&&(u&l.expiredLanes)===0||or(l,u),S=v?cG(l,u):kw(l,u,!0),C=v;do{if(S===0){Lu&&!v&&sl(l,u,0,!1);break}else{if(h=l.current.alternate,C&&!oG(h)){S=kw(l,u,!1),C=!1;continue}if(S===2){if(C=u,l.errorRecoveryDisabledLanes&C)var D=0;else D=l.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var z=l;S=Vf;var K=z.current.memoizedState.isDehydrated;if(K&&(Uu(z,D).flags|=256),D=kw(z,D,!1),D!==2){if(ww&&!K){z.errorRecoveryDisabledLanes|=C,uc|=C,S=4;break e}C=wa,wa=S,C!==null&&(wa===null?wa=C:wa.push.apply(wa,C))}S=D}if(C=!1,S!==2)continue}}if(S===1){Uu(l,0),sl(l,u,0,!0);break}e:{switch(v=l,C=S,C){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:sl(v,u,$a,!rl);break e;case 2:wa=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(S=Jp+300-be(),10<S)){if(sl(v,u,$a,!rl),pt(v,0,!0)!==0)break e;ro=u,v.timeoutHandle=jR(KT.bind(null,v,h,wa,tg,jw,u,$a,uc,zu,rl,C,"Throttled",-0,0),S);break e}KT(v,h,wa,tg,jw,u,$a,uc,zu,rl,C,null,-0,0)}}break}while(!0);us(l)}function KT(l,u,h,v,S,C,D,z,K,ce,ve,we,fe,me){if(l.timeoutHandle=-1,we=u.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Us},zT(u,C,we);var He=(C&62914560)===C?Jp-be():(C&4194048)===C?qT-be():0;if(He=HG(we,He),He!==null){ro=C,l.cancelPendingCommit=He(tR.bind(null,l,u,C,h,v,S,D,z,K,ve,we,null,fe,me)),sl(l,C,D,!ce);return}}tR(l,u,C,h,v,S,D,z,K)}function oG(l){for(var u=l;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var v=0;v<h.length;v++){var S=h[v],C=S.getSnapshot;S=S.value;try{if(!Ra(C(),S))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function sl(l,u,h,v){u&=~_w,u&=~uc,l.suspendedLanes|=u,l.pingedLanes&=~u,v&&(l.warmLanes|=u),v=l.expirationTimes;for(var S=u;0<S;){var C=31-Pr(S),D=1<<C;v[C]=-1,S&=~D}h!==0&&Kl(l,h,u)}function rg(){return(Wt&6)===0?(Wf(0),!1):!0}function Ew(){if(Mt!==null){if(Gt===0)var l=Mt.return;else l=Mt,Hs=tc=null,qb(l),Tu=null,kf=0,l=Mt;for(;l!==null;)ST(l.alternate,l),l=l.return;Mt=null}}function Uu(l,u){var h=l.timeoutHandle;h!==-1&&(l.timeoutHandle=-1,EG(h)),h=l.cancelPendingCommit,h!==null&&(l.cancelPendingCommit=null,h()),ro=0,Ew(),nr=l,Mt=h=qs(l.current,null),$t=u,Gt=0,Ia=null,rl=!1,Lu=or(l,u),ww=!1,zu=$a=_w=uc=nl=Mr=0,wa=Vf=null,jw=!1,(u&8)!==0&&(u|=u&32);var v=l.entangledLanes;if(v!==0)for(l=l.entanglements,v&=u;0<v;){var S=31-Pr(v),C=1<<S;u|=l[S],v&=~C}return to=u,jp(),h}function GT(l,u){At=null,F.H=If,u===Ou||u===Tp?(u=uO(),Gt=3):u===Tb?(u=uO(),Gt=4):Gt=u===iw?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ia=u,Mt===null&&(Mr=1,Hp(l,li(u,l.current)))}function YT(){var l=Da.current;return l===null?!0:($t&4194048)===$t?fi===null:($t&62914560)===$t||($t&536870912)!==0?l===fi:!1}function ZT(){var l=F.H;return F.H=If,l===null?If:l}function XT(){var l=F.A;return F.A=iG,l}function ng(){Mr=4,rl||($t&4194048)!==$t&&Da.current!==null||(Lu=!0),(nl&134217727)===0&&(uc&134217727)===0||nr===null||sl(nr,$t,$a,!1)}function kw(l,u,h){var v=Wt;Wt|=2;var S=ZT(),C=XT();(nr!==l||$t!==u)&&(tg=null,Uu(l,u)),u=!1;var D=Mr;e:do try{if(Gt!==0&&Mt!==null){var z=Mt,K=Ia;switch(Gt){case 8:Ew(),D=6;break e;case 3:case 2:case 9:case 6:Da.current===null&&(u=!0);var ce=Gt;if(Gt=0,Ia=null,Bu(l,z,K,ce),h&&Lu){D=0;break e}break;default:ce=Gt,Gt=0,Ia=null,Bu(l,z,K,ce)}}lG(),D=Mr;break}catch(ve){GT(l,ve)}while(!0);return u&&l.shellSuspendCounter++,Hs=tc=null,Wt=v,F.H=S,F.A=C,Mt===null&&(nr=null,$t=0,jp()),D}function lG(){for(;Mt!==null;)QT(Mt)}function cG(l,u){var h=Wt;Wt|=2;var v=ZT(),S=XT();nr!==l||$t!==u?(tg=null,eg=be()+500,Uu(l,u)):Lu=or(l,u);e:do try{if(Gt!==0&&Mt!==null){u=Mt;var C=Ia;t:switch(Gt){case 1:Gt=0,Ia=null,Bu(l,u,C,1);break;case 2:case 9:if(lO(C)){Gt=0,Ia=null,JT(u);break}u=function(){Gt!==2&&Gt!==9||nr!==l||(Gt=7),us(l)},C.then(u,u);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:lO(C)?(Gt=0,Ia=null,JT(u)):(Gt=0,Ia=null,Bu(l,u,C,7));break;case 5:var D=null;switch(Mt.tag){case 26:D=Mt.memoizedState;case 5:case 27:var z=Mt;if(D?LR(D):z.stateNode.complete){Gt=0,Ia=null;var K=z.sibling;if(K!==null)Mt=K;else{var ce=z.return;ce!==null?(Mt=ce,ag(ce)):Mt=null}break t}}Gt=0,Ia=null,Bu(l,u,C,5);break;case 6:Gt=0,Ia=null,Bu(l,u,C,6);break;case 8:Ew(),Mr=6;break e;default:throw Error(n(462))}}uG();break}catch(ve){GT(l,ve)}while(!0);return Hs=tc=null,F.H=v,F.A=S,Wt=h,Mt!==null?0:(nr=null,$t=0,jp(),Mr)}function uG(){for(;Mt!==null&&!de();)QT(Mt)}function QT(l){var u=_T(l.alternate,l,to);l.memoizedProps=l.pendingProps,u===null?ag(l):Mt=u}function JT(l){var u=l,h=u.alternate;switch(u.tag){case 15:case 0:u=gT(h,u,u.pendingProps,u.type,void 0,$t);break;case 11:u=gT(h,u,u.pendingProps,u.type.render,u.ref,$t);break;case 5:qb(u);default:ST(h,u),u=Mt=XA(u,to),u=_T(h,u,to)}l.memoizedProps=l.pendingProps,u===null?ag(l):Mt=u}function Bu(l,u,h,v){Hs=tc=null,qb(u),Tu=null,kf=0;var S=u.return;try{if(QK(l,S,u,h,$t)){Mr=1,Hp(l,li(h,l.current)),Mt=null;return}}catch(C){if(S!==null)throw Mt=S,C;Mr=1,Hp(l,li(h,l.current)),Mt=null;return}u.flags&32768?(Ft||v===1?l=!0:Lu||($t&536870912)!==0?l=!1:(rl=l=!0,(v===2||v===9||v===3||v===6)&&(v=Da.current,v!==null&&v.tag===13&&(v.flags|=16384))),eR(u,l)):ag(u)}function ag(l){var u=l;do{if((u.flags&32768)!==0){eR(u,rl);return}l=u.return;var h=tG(u.alternate,u,to);if(h!==null){Mt=h;return}if(u=u.sibling,u!==null){Mt=u;return}Mt=u=l}while(u!==null);Mr===0&&(Mr=5)}function eR(l,u){do{var h=rG(l.alternate,l);if(h!==null){h.flags&=32767,Mt=h;return}if(h=l.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(l=l.sibling,l!==null)){Mt=l;return}Mt=l=h}while(l!==null);Mr=6,Mt=null}function tR(l,u,h,v,S,C,D,z,K){l.cancelPendingCommit=null;do ig();while(hn!==0);if((Wt&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(C=u.lanes|u.childLanes,C|=gb,ha(l,h,C,D,z,K),l===nr&&(Mt=nr=null,$t=0),Fu=u,il=l,ro=h,Sw=C,Cw=S,VT=v,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,mG(yt,function(){return sR(),null})):(l.callbackNode=null,l.callbackPriority=0),v=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||v){v=F.T,F.T=null,S=H.p,H.p=2,D=Wt,Wt|=4;try{nG(l,u,h)}finally{Wt=D,H.p=S,F.T=v}}hn=1,rR(),nR(),aR()}}function rR(){if(hn===1){hn=0;var l=il,u=Fu,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=F.T,F.T=null;var v=H.p;H.p=2;var S=Wt;Wt|=4;try{IT(u,l);var C=Fw,D=BA(l.containerInfo),z=C.focusedElem,K=C.selectionRange;if(D!==z&&z&&z.ownerDocument&&UA(z.ownerDocument.documentElement,z)){if(K!==null&&db(z)){var ce=K.start,ve=K.end;if(ve===void 0&&(ve=ce),"selectionStart"in z)z.selectionStart=ce,z.selectionEnd=Math.min(ve,z.value.length);else{var we=z.ownerDocument||document,fe=we&&we.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),He=z.textContent.length,ct=Math.min(K.start,He),er=K.end===void 0?ct:Math.min(K.end,He);!me.extend&&ct>er&&(D=er,er=ct,ct=D);var te=FA(z,ct),J=FA(z,er);if(te&&J&&(me.rangeCount!==1||me.anchorNode!==te.node||me.anchorOffset!==te.offset||me.focusNode!==J.node||me.focusOffset!==J.offset)){var oe=we.createRange();oe.setStart(te.node,te.offset),me.removeAllRanges(),ct>er?(me.addRange(oe),me.extend(J.node,J.offset)):(oe.setEnd(J.node,J.offset),me.addRange(oe))}}}}for(we=[],me=z;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<we.length;z++){var xe=we[z];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}vg=!!zw,Fw=zw=null}finally{Wt=S,H.p=v,F.T=h}}l.current=u,hn=2}}function nR(){if(hn===2){hn=0;var l=il,u=Fu,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=F.T,F.T=null;var v=H.p;H.p=2;var S=Wt;Wt|=4;try{TT(l,u.alternate,u)}finally{Wt=S,H.p=v,F.T=h}}hn=3}}function aR(){if(hn===4||hn===3){hn=0,Re();var l=il,u=Fu,h=ro,v=VT;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?hn=5:(hn=0,Fu=il=null,iR(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(al=null),Mi(h),u=u.stateNode,yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(fn,u,void 0,(u.current.flags&128)===128)}catch{}if(v!==null){u=F.T,S=H.p,H.p=2,F.T=null;try{for(var C=l.onRecoverableError,D=0;D<v.length;D++){var z=v[D];C(z.value,{componentStack:z.stack})}}finally{F.T=u,H.p=S}}(ro&3)!==0&&ig(),us(l),S=l.pendingLanes,(h&261930)!==0&&(S&42)!==0?l===Nw?Hf++:(Hf=0,Nw=l):Hf=0,Wf(0)}}function iR(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Nf(u)))}function ig(){return rR(),nR(),aR(),sR()}function sR(){if(hn!==5)return!1;var l=il,u=Sw;Sw=0;var h=Mi(ro),v=F.T,S=H.p;try{H.p=32>h?32:h,F.T=null,h=Cw,Cw=null;var C=il,D=ro;if(hn=0,Fu=il=null,ro=0,(Wt&6)!==0)throw Error(n(331));var z=Wt;if(Wt|=4,UT(C.current),LT(C,C.current,D,h),Wt=z,Wf(0,!1),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(fn,C)}catch{}return!0}finally{H.p=S,F.T=v,iR(l,u)}}function oR(l,u,h){u=li(h,u),u=aw(l.stateNode,u,2),l=Qo(l,u,2),l!==null&&(Er(l,2),us(l))}function Yt(l,u,h){if(l.tag===3)oR(l,l,h);else for(;u!==null;){if(u.tag===3){oR(u,l,h);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(al===null||!al.has(v))){l=li(h,l),h=lT(2),v=Qo(u,h,2),v!==null&&(cT(h,v,u,l),Er(v,2),us(v));break}}u=u.return}}function Aw(l,u,h){var v=l.pingCache;if(v===null){v=l.pingCache=new sG;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(h)||(ww=!0,S.add(h),l=dG.bind(null,l,u,h),u.then(l,l))}function dG(l,u,h){var v=l.pingCache;v!==null&&v.delete(u),l.pingedLanes|=l.suspendedLanes&h,l.warmLanes&=~h,nr===l&&($t&h)===h&&(Mr===4||Mr===3&&($t&62914560)===$t&&300>be()-Jp?(Wt&2)===0&&Uu(l,0):_w|=h,zu===$t&&(zu=0)),us(l)}function lR(l,u){u===0&&(u=Jr()),l=Ql(l,u),l!==null&&(Er(l,u),us(l))}function fG(l){var u=l.memoizedState,h=0;u!==null&&(h=u.retryLane),lR(l,h)}function hG(l,u){var h=0;switch(l.tag){case 31:case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(h=S.retryLane);break;case 19:v=l.stateNode;break;case 22:v=l.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(u),lR(l,h)}function mG(l,u){return W(l,u)}var sg=null,qu=null,Ow=!1,og=!1,Tw=!1,ol=0;function us(l){l!==qu&&l.next===null&&(qu===null?sg=qu=l:qu=qu.next=l),og=!0,Ow||(Ow=!0,gG())}function Wf(l,u){if(!Tw&&og){Tw=!0;do for(var h=!1,v=sg;v!==null;){if(l!==0){var S=v.pendingLanes;if(S===0)var C=0;else{var D=v.suspendedLanes,z=v.pingedLanes;C=(1<<31-Pr(42|l)+1)-1,C&=S&~(D&~z),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(h=!0,fR(v,C))}else C=$t,C=pt(v,v===nr?C:0,v.cancelPendingCommit!==null||v.timeoutHandle!==-1),(C&3)===0||or(v,C)||(h=!0,fR(v,C));v=v.next}while(h);Tw=!1}}function pG(){cR()}function cR(){og=Ow=!1;var l=0;ol!==0&&NG()&&(l=ol);for(var u=be(),h=null,v=sg;v!==null;){var S=v.next,C=uR(v,u);C===0?(v.next=null,h===null?sg=S:h.next=S,S===null&&(qu=h)):(h=v,(l!==0||(C&3)!==0)&&(og=!0)),v=S}hn!==0&&hn!==5||Wf(l),ol!==0&&(ol=0)}function uR(l,u){for(var h=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var D=31-Pr(C),z=1<<D,K=S[D];K===-1?((z&h)===0||(z&v)!==0)&&(S[D]=Qr(z,u)):K<=u&&(l.expiredLanes|=z),C&=~z}if(u=nr,h=$t,h=pt(l,l===u?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v=l.callbackNode,h===0||l===u&&(Gt===2||Gt===9)||l.cancelPendingCommit!==null)return v!==null&&v!==null&&ie(v),l.callbackNode=null,l.callbackPriority=0;if((h&3)===0||or(l,h)){if(u=h&-h,u===l.callbackPriority)return u;switch(v!==null&&ie(v),Mi(h)){case 2:case 8:h=lt;break;case 32:h=yt;break;case 268435456:h=dn;break;default:h=yt}return v=dR.bind(null,l),h=W(h,v),l.callbackPriority=u,l.callbackNode=h,u}return v!==null&&v!==null&&ie(v),l.callbackPriority=2,l.callbackNode=null,2}function dR(l,u){if(hn!==0&&hn!==5)return l.callbackNode=null,l.callbackPriority=0,null;var h=l.callbackNode;if(ig()&&l.callbackNode!==h)return null;var v=$t;return v=pt(l,l===nr?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),v===0?null:(WT(l,v,u),uR(l,be()),l.callbackNode!=null&&l.callbackNode===h?dR.bind(null,l):null)}function fR(l,u){if(ig())return null;WT(l,u,!0)}function gG(){kG(function(){(Wt&6)!==0?W(Pe,pG):cR()})}function Rw(){if(ol===0){var l=ku;l===0&&(l=ft,ft<<=1,(ft&261888)===0&&(ft=256)),ol=l}return ol}function hR(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:pp(""+l)}function mR(l,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,l.id&&h.setAttribute("form",l.id),u.parentNode.insertBefore(h,u),l=new FormData(l),h.parentNode.removeChild(h),l}function vG(l,u,h,v,S){if(u==="submit"&&h&&h.stateNode===S){var C=hR((S[ga]||null).action),D=v.submitter;D&&(u=(u=D[ga]||null)?hR(u.formAction):D.getAttribute("formAction"),u!==null&&(C=u,D=null));var z=new xp("action","action",null,v,S);l.push({event:z,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(ol!==0){var K=D?mR(S,D):new FormData(S);Qb(h,{pending:!0,data:K,method:S.method,action:C},null,K)}}else typeof C=="function"&&(z.preventDefault(),K=D?mR(S,D):new FormData(S),Qb(h,{pending:!0,data:K,method:S.method,action:C},C,K))},currentTarget:S}]})}}for(var Pw=0;Pw<pb.length;Pw++){var Dw=pb[Pw],yG=Dw.toLowerCase(),xG=Dw[0].toUpperCase()+Dw.slice(1);Ii(yG,"on"+xG)}Ii(HA,"onAnimationEnd"),Ii(WA,"onAnimationIteration"),Ii(KA,"onAnimationStart"),Ii("dblclick","onDoubleClick"),Ii("focusin","onFocus"),Ii("focusout","onBlur"),Ii(MK,"onTransitionRun"),Ii(IK,"onTransitionStart"),Ii($K,"onTransitionCancel"),Ii(GA,"onTransitionEnd"),mu("onMouseEnter",["mouseout","mouseover"]),mu("onMouseLeave",["mouseout","mouseover"]),mu("onPointerEnter",["pointerout","pointerover"]),mu("onPointerLeave",["pointerout","pointerover"]),Gl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gl("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kf));function pR(l,u){u=(u&4)!==0;for(var h=0;h<l.length;h++){var v=l[h],S=v.event;v=v.listeners;e:{var C=void 0;if(u)for(var D=v.length-1;0<=D;D--){var z=v[D],K=z.instance,ce=z.currentTarget;if(z=z.listener,K!==C&&S.isPropagationStopped())break e;C=z,S.currentTarget=ce;try{C(S)}catch(ve){_p(ve)}S.currentTarget=null,C=K}else for(D=0;D<v.length;D++){if(z=v[D],K=z.instance,ce=z.currentTarget,z=z.listener,K!==C&&S.isPropagationStopped())break e;C=z,S.currentTarget=ce;try{C(S)}catch(ve){_p(ve)}S.currentTarget=null,C=K}}}}function It(l,u){var h=u[K0];h===void 0&&(h=u[K0]=new Set);var v=l+"__bubble";h.has(v)||(gR(u,l,2,!1),h.add(v))}function Mw(l,u,h){var v=0;u&&(v|=4),gR(h,l,v,u)}var lg="_reactListening"+Math.random().toString(36).slice(2);function Iw(l){if(!l[lg]){l[lg]=!0,cA.forEach(function(h){h!=="selectionchange"&&(bG.has(h)||Mw(h,!1,l),Mw(h,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[lg]||(u[lg]=!0,Mw("selectionchange",!1,u))}}function gR(l,u,h,v){switch(HR(u)){case 2:var S=GG;break;case 8:S=YG;break;default:S=Xw}h=S.bind(null,u,h,l),S=void 0,!rb||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(u,h,{capture:!0,passive:S}):l.addEventListener(u,h,!0):S!==void 0?l.addEventListener(u,h,{passive:S}):l.addEventListener(u,h,!1)}function $w(l,u,h,v,S){var C=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var D=v.tag;if(D===3||D===4){var z=v.stateNode.containerInfo;if(z===S)break;if(D===4)for(D=v.return;D!==null;){var K=D.tag;if((K===3||K===4)&&D.stateNode.containerInfo===S)return;D=D.return}for(;z!==null;){if(D=du(z),D===null)return;if(K=D.tag,K===5||K===6||K===26||K===27){v=C=D;continue e}z=z.parentNode}}v=v.return}wA(function(){var ce=C,ve=eb(h),we=[];e:{var fe=YA.get(l);if(fe!==void 0){var me=xp,He=l;switch(l){case"keypress":if(vp(h)===0)break e;case"keydown":case"keyup":me=hK;break;case"focusin":He="focus",me=sb;break;case"focusout":He="blur",me=sb;break;case"beforeblur":case"afterblur":me=sb;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=SA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=tK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=gK;break;case HA:case WA:case KA:me=aK;break;case GA:me=yK;break;case"scroll":case"scrollend":me=J9;break;case"wheel":me=bK;break;case"copy":case"cut":case"paste":me=sK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=NA;break;case"toggle":case"beforetoggle":me=_K}var ct=(u&4)!==0,er=!ct&&(l==="scroll"||l==="scrollend"),te=ct?fe!==null?fe+"Capture":null:fe;ct=[];for(var J=ce,oe;J!==null;){var xe=J;if(oe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||oe===null||te===null||(xe=pf(J,te),xe!=null&&ct.push(Gf(J,xe,oe))),er)break;J=J.return}0<ct.length&&(fe=new me(fe,He,null,h,ve),we.push({event:fe,listeners:ct}))}}if((u&7)===0){e:{if(fe=l==="mouseover"||l==="pointerover",me=l==="mouseout"||l==="pointerout",fe&&h!==J0&&(He=h.relatedTarget||h.fromElement)&&(du(He)||He[uu]))break e;if((me||fe)&&(fe=ve.window===ve?ve:(fe=ve.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(He=h.relatedTarget||h.toElement,me=ce,He=He?du(He):null,He!==null&&(er=i(He),ct=He.tag,He!==er||ct!==5&&ct!==27&&ct!==6)&&(He=null)):(me=null,He=ce),me!==He)){if(ct=SA,xe="onMouseLeave",te="onMouseEnter",J="mouse",(l==="pointerout"||l==="pointerover")&&(ct=NA,xe="onPointerLeave",te="onPointerEnter",J="pointer"),er=me==null?fe:mf(me),oe=He==null?fe:mf(He),fe=new ct(xe,J+"leave",me,h,ve),fe.target=er,fe.relatedTarget=oe,xe=null,du(ve)===ce&&(ct=new ct(te,J+"enter",He,h,ve),ct.target=oe,ct.relatedTarget=er,xe=ct),er=xe,me&&He)t:{for(ct=wG,te=me,J=He,oe=0,xe=te;xe;xe=ct(xe))oe++;xe=0;for(var at=J;at;at=ct(at))xe++;for(;0<oe-xe;)te=ct(te),oe--;for(;0<xe-oe;)J=ct(J),xe--;for(;oe--;){if(te===J||J!==null&&te===J.alternate){ct=te;break t}te=ct(te),J=ct(J)}ct=null}else ct=null;me!==null&&vR(we,fe,me,ct,!1),He!==null&&er!==null&&vR(we,er,He,ct,!0)}}e:{if(fe=ce?mf(ce):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var qt=DA;else if(RA(fe))if(MA)qt=RK;else{qt=OK;var Ye=AK}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ce&&Q0(ce.elementType)&&(qt=DA):qt=TK;if(qt&&(qt=qt(l,ce))){PA(we,qt,h,ve);break e}Ye&&Ye(l,fe,ce),l==="focusout"&&ce&&fe.type==="number"&&ce.memoizedProps.value!=null&&X0(fe,"number",fe.value)}switch(Ye=ce?mf(ce):window,l){case"focusin":(RA(Ye)||Ye.contentEditable==="true")&&(bu=Ye,fb=ce,jf=null);break;case"focusout":jf=fb=bu=null;break;case"mousedown":hb=!0;break;case"contextmenu":case"mouseup":case"dragend":hb=!1,qA(we,h,ve);break;case"selectionchange":if(DK)break;case"keydown":case"keyup":qA(we,h,ve)}var Ot;if(lb)e:{switch(l){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else xu?OA(l,h)&&(Lt="onCompositionEnd"):l==="keydown"&&h.keyCode===229&&(Lt="onCompositionStart");Lt&&(EA&&h.locale!=="ko"&&(xu||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&xu&&(Ot=_A()):(Ho=ve,nb="value"in Ho?Ho.value:Ho.textContent,xu=!0)),Ye=cg(ce,Lt),0<Ye.length&&(Lt=new CA(Lt,l,null,h,ve),we.push({event:Lt,listeners:Ye}),Ot?Lt.data=Ot:(Ot=TA(h),Ot!==null&&(Lt.data=Ot)))),(Ot=SK?CK(l,h):NK(l,h))&&(Lt=cg(ce,"onBeforeInput"),0<Lt.length&&(Ye=new CA("onBeforeInput","beforeinput",null,h,ve),we.push({event:Ye,listeners:Lt}),Ye.data=Ot)),vG(we,l,ce,h,ve)}pR(we,u)})}function Gf(l,u,h){return{instance:l,listener:u,currentTarget:h}}function cg(l,u){for(var h=u+"Capture",v=[];l!==null;){var S=l,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=pf(l,h),S!=null&&v.unshift(Gf(l,S,C)),S=pf(l,u),S!=null&&v.push(Gf(l,S,C))),l.tag===3)return v;l=l.return}return[]}function wG(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function vR(l,u,h,v,S){for(var C=u._reactName,D=[];h!==null&&h!==v;){var z=h,K=z.alternate,ce=z.stateNode;if(z=z.tag,K!==null&&K===v)break;z!==5&&z!==26&&z!==27||ce===null||(K=ce,S?(ce=pf(h,C),ce!=null&&D.unshift(Gf(h,ce,K))):S||(ce=pf(h,C),ce!=null&&D.push(Gf(h,ce,K)))),h=h.return}D.length!==0&&l.push({event:u,listeners:D})}var _G=/\r\n?/g,jG=/\u0000|\uFFFD/g;function yR(l){return(typeof l=="string"?l:""+l).replace(_G,`
`).replace(jG,"")}function xR(l,u){return u=yR(u),yR(l)===u}function Jt(l,u,h,v,S,C){switch(h){case"children":typeof v=="string"?u==="body"||u==="textarea"&&v===""||gu(l,v):(typeof v=="number"||typeof v=="bigint")&&u!=="body"&&gu(l,""+v);break;case"className":hp(l,"class",v);break;case"tabIndex":hp(l,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":hp(l,h,v);break;case"style":xA(l,v,C);break;case"data":if(u!=="object"){hp(l,"data",v);break}case"src":case"href":if(v===""&&(u!=="a"||h!=="href")){l.removeAttribute(h);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=pp(""+v),l.setAttribute(h,v);break;case"action":case"formAction":if(typeof v=="function"){l.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(h==="formAction"?(u!=="input"&&Jt(l,u,"name",S.name,S,null),Jt(l,u,"formEncType",S.formEncType,S,null),Jt(l,u,"formMethod",S.formMethod,S,null),Jt(l,u,"formTarget",S.formTarget,S,null)):(Jt(l,u,"encType",S.encType,S,null),Jt(l,u,"method",S.method,S,null),Jt(l,u,"target",S.target,S,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){l.removeAttribute(h);break}v=pp(""+v),l.setAttribute(h,v);break;case"onClick":v!=null&&(l.onclick=Us);break;case"onScroll":v!=null&&It("scroll",l);break;case"onScrollEnd":v!=null&&It("scrollend",l);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"multiple":l.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":l.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){l.removeAttribute("xlink:href");break}h=pp(""+v),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""+v):l.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,""):l.removeAttribute(h);break;case"capture":case"download":v===!0?l.setAttribute(h,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?l.setAttribute(h,v):l.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?l.setAttribute(h,v):l.removeAttribute(h);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?l.removeAttribute(h):l.setAttribute(h,v);break;case"popover":It("beforetoggle",l),It("toggle",l),fp(l,"popover",v);break;case"xlinkActuate":Fs(l,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Fs(l,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Fs(l,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Fs(l,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Fs(l,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Fs(l,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Fs(l,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Fs(l,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Fs(l,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":fp(l,"is",v);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=X9.get(h)||h,fp(l,h,v))}}function Lw(l,u,h,v,S,C){switch(h){case"style":xA(l,v,C);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(h=v.__html,h!=null){if(S.children!=null)throw Error(n(60));l.innerHTML=h}}break;case"children":typeof v=="string"?gu(l,v):(typeof v=="number"||typeof v=="bigint")&&gu(l,""+v);break;case"onScroll":v!=null&&It("scroll",l);break;case"onScrollEnd":v!=null&&It("scrollend",l);break;case"onClick":v!=null&&(l.onclick=Us);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uA.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),u=h.slice(2,S?h.length-7:void 0),C=l[ga]||null,C=C!=null?C[h]:null,typeof C=="function"&&l.removeEventListener(u,C,S),typeof v=="function")){typeof C!="function"&&C!==null&&(h in l?l[h]=null:l.hasAttribute(h)&&l.removeAttribute(h)),l.addEventListener(u,v,S);break e}h in l?l[h]=v:v===!0?l.setAttribute(h,""):fp(l,h,v)}}}function $n(l,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",l),It("load",l);var v=!1,S=!1,C;for(C in h)if(h.hasOwnProperty(C)){var D=h[C];if(D!=null)switch(C){case"src":v=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Jt(l,u,C,D,h,null)}}S&&Jt(l,u,"srcSet",h.srcSet,h,null),v&&Jt(l,u,"src",h.src,h,null);return;case"input":It("invalid",l);var z=C=D=S=null,K=null,ce=null;for(v in h)if(h.hasOwnProperty(v)){var ve=h[v];if(ve!=null)switch(v){case"name":S=ve;break;case"type":D=ve;break;case"checked":K=ve;break;case"defaultChecked":ce=ve;break;case"value":C=ve;break;case"defaultValue":z=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,u));break;default:Jt(l,u,v,ve,h,null)}}pA(l,C,z,K,ce,D,S,!1);return;case"select":It("invalid",l),v=D=C=null;for(S in h)if(h.hasOwnProperty(S)&&(z=h[S],z!=null))switch(S){case"value":C=z;break;case"defaultValue":D=z;break;case"multiple":v=z;default:Jt(l,u,S,z,h,null)}u=C,h=D,l.multiple=!!v,u!=null?pu(l,!!v,u,!1):h!=null&&pu(l,!!v,h,!0);return;case"textarea":It("invalid",l),C=S=v=null;for(D in h)if(h.hasOwnProperty(D)&&(z=h[D],z!=null))switch(D){case"value":v=z;break;case"defaultValue":S=z;break;case"children":C=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(n(91));break;default:Jt(l,u,D,z,h,null)}vA(l,v,S,C);return;case"option":for(K in h)if(h.hasOwnProperty(K)&&(v=h[K],v!=null))switch(K){case"selected":l.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Jt(l,u,K,v,h,null)}return;case"dialog":It("beforetoggle",l),It("toggle",l),It("cancel",l),It("close",l);break;case"iframe":case"object":It("load",l);break;case"video":case"audio":for(v=0;v<Kf.length;v++)It(Kf[v],l);break;case"image":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"embed":case"source":case"link":It("error",l),It("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ce in h)if(h.hasOwnProperty(ce)&&(v=h[ce],v!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Jt(l,u,ce,v,h,null)}return;default:if(Q0(u)){for(ve in h)h.hasOwnProperty(ve)&&(v=h[ve],v!==void 0&&Lw(l,u,ve,v,h,void 0));return}}for(z in h)h.hasOwnProperty(z)&&(v=h[z],v!=null&&Jt(l,u,z,v,h,null))}function SG(l,u,h,v){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,D=null,z=null,K=null,ce=null,ve=null;for(me in h){var we=h[me];if(h.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":K=we;default:v.hasOwnProperty(me)||Jt(l,u,me,null,v,we)}}for(var fe in v){var me=v[fe];if(we=h[fe],v.hasOwnProperty(fe)&&(me!=null||we!=null))switch(fe){case"type":C=me;break;case"name":S=me;break;case"checked":ce=me;break;case"defaultChecked":ve=me;break;case"value":D=me;break;case"defaultValue":z=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,u));break;default:me!==we&&Jt(l,u,fe,me,v,we)}}Z0(l,D,z,K,ce,ve,C,S);return;case"select":me=D=z=fe=null;for(C in h)if(K=h[C],h.hasOwnProperty(C)&&K!=null)switch(C){case"value":break;case"multiple":me=K;default:v.hasOwnProperty(C)||Jt(l,u,C,null,v,K)}for(S in v)if(C=v[S],K=h[S],v.hasOwnProperty(S)&&(C!=null||K!=null))switch(S){case"value":fe=C;break;case"defaultValue":z=C;break;case"multiple":D=C;default:C!==K&&Jt(l,u,S,C,v,K)}u=z,h=D,v=me,fe!=null?pu(l,!!h,fe,!1):!!v!=!!h&&(u!=null?pu(l,!!h,u,!0):pu(l,!!h,h?[]:"",!1));return;case"textarea":me=fe=null;for(z in h)if(S=h[z],h.hasOwnProperty(z)&&S!=null&&!v.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Jt(l,u,z,null,v,S)}for(D in v)if(S=v[D],C=h[D],v.hasOwnProperty(D)&&(S!=null||C!=null))switch(D){case"value":fe=S;break;case"defaultValue":me=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==C&&Jt(l,u,D,S,v,C)}gA(l,fe,me);return;case"option":for(var He in h)if(fe=h[He],h.hasOwnProperty(He)&&fe!=null&&!v.hasOwnProperty(He))switch(He){case"selected":l.selected=!1;break;default:Jt(l,u,He,null,v,fe)}for(K in v)if(fe=v[K],me=h[K],v.hasOwnProperty(K)&&fe!==me&&(fe!=null||me!=null))switch(K){case"selected":l.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Jt(l,u,K,fe,v,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in h)fe=h[ct],h.hasOwnProperty(ct)&&fe!=null&&!v.hasOwnProperty(ct)&&Jt(l,u,ct,null,v,fe);for(ce in v)if(fe=v[ce],me=h[ce],v.hasOwnProperty(ce)&&fe!==me&&(fe!=null||me!=null))switch(ce){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(n(137,u));break;default:Jt(l,u,ce,fe,v,me)}return;default:if(Q0(u)){for(var er in h)fe=h[er],h.hasOwnProperty(er)&&fe!==void 0&&!v.hasOwnProperty(er)&&Lw(l,u,er,void 0,v,fe);for(ve in v)fe=v[ve],me=h[ve],!v.hasOwnProperty(ve)||fe===me||fe===void 0&&me===void 0||Lw(l,u,ve,fe,v,me);return}}for(var te in h)fe=h[te],h.hasOwnProperty(te)&&fe!=null&&!v.hasOwnProperty(te)&&Jt(l,u,te,null,v,fe);for(we in v)fe=v[we],me=h[we],!v.hasOwnProperty(we)||fe===me||fe==null&&me==null||Jt(l,u,we,fe,v,me)}function bR(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CG(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,h=performance.getEntriesByType("resource"),v=0;v<h.length;v++){var S=h[v],C=S.transferSize,D=S.initiatorType,z=S.duration;if(C&&z&&bR(D)){for(D=0,z=S.responseEnd,v+=1;v<h.length;v++){var K=h[v],ce=K.startTime;if(ce>z)break;var ve=K.transferSize,we=K.initiatorType;ve&&bR(we)&&(K=K.responseEnd,D+=ve*(K<z?1:(z-ce)/(K-ce)))}if(--v,u+=8*(C+D)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var zw=null,Fw=null;function ug(l){return l.nodeType===9?l:l.ownerDocument}function wR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _R(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Uw(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Bw=null;function NG(){var l=window.event;return l&&l.type==="popstate"?l===Bw?!1:(Bw=l,!0):(Bw=null,!1)}var jR=typeof setTimeout=="function"?setTimeout:void 0,EG=typeof clearTimeout=="function"?clearTimeout:void 0,SR=typeof Promise=="function"?Promise:void 0,kG=typeof queueMicrotask=="function"?queueMicrotask:typeof SR<"u"?function(l){return SR.resolve(null).then(l).catch(AG)}:jR;function AG(l){setTimeout(function(){throw l})}function ll(l){return l==="head"}function CR(l,u){var h=u,v=0;do{var S=h.nextSibling;if(l.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(v===0){l.removeChild(S),Ku(u);return}v--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")v++;else if(h==="html")Yf(l.ownerDocument.documentElement);else if(h==="head"){h=l.ownerDocument.head,Yf(h);for(var C=h.firstChild;C;){var D=C.nextSibling,z=C.nodeName;C[hf]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=D}}else h==="body"&&Yf(l.ownerDocument.body);h=S}while(h);Ku(u)}function NR(l,u){var h=l;l=0;do{var v=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),v&&v.nodeType===8)if(h=v.data,h==="/$"){if(l===0)break;l--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||l++;h=v}while(h)}function qw(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":qw(h),G0(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}l.removeChild(h)}}function OG(l,u,h,v){for(;l.nodeType===1;){var S=h;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!v&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(v){if(!l[hf])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=hi(l.nextSibling),l===null)break}return null}function TG(l,u,h){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!h||(l=hi(l.nextSibling),l===null))return null;return l}function ER(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=hi(l.nextSibling),l===null))return null;return l}function Vw(l){return l.data==="$?"||l.data==="$~"}function Hw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function RG(l,u){var h=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||h.readyState!=="loading")u();else{var v=function(){u(),h.removeEventListener("DOMContentLoaded",v)};h.addEventListener("DOMContentLoaded",v),l._reactRetry=v}}function hi(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var Ww=null;function kR(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="/$"||h==="/&"){if(u===0)return hi(l.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}l=l.nextSibling}return null}function AR(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var h=l.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return l;u--}else h!=="/$"&&h!=="/&"||u++}l=l.previousSibling}return null}function OR(l,u,h){switch(u=ug(h),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function Yf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);G0(l)}var mi=new Map,TR=new Set;function dg(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var no=H.d;H.d={f:PG,r:DG,D:MG,C:IG,L:$G,m:LG,X:FG,S:zG,M:UG};function PG(){var l=no.f(),u=rg();return l||u}function DG(l){var u=fu(l);u!==null&&u.tag===5&&u.type==="form"?GO(u):no.r(l)}var Vu=typeof document>"u"?null:document;function RR(l,u,h){var v=Vu;if(v&&typeof u=="string"&&u){var S=si(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),TR.has(S)||(TR.add(S),l={rel:l,crossOrigin:h,href:u},v.querySelector(S)===null&&(u=v.createElement("link"),$n(u,"link",l),jn(u),v.head.appendChild(u)))}}function MG(l){no.D(l),RR("dns-prefetch",l,null)}function IG(l,u){no.C(l,u),RR("preconnect",l,u)}function $G(l,u,h){no.L(l,u,h);var v=Vu;if(v&&l&&u){var S='link[rel="preload"][as="'+si(u)+'"]';u==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+si(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+si(h.imageSizes)+'"]')):S+='[href="'+si(l)+'"]';var C=S;switch(u){case"style":C=Hu(l);break;case"script":C=Wu(l)}mi.has(C)||(l=p({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:l,as:u},h),mi.set(C,l),v.querySelector(S)!==null||u==="style"&&v.querySelector(Zf(C))||u==="script"&&v.querySelector(Xf(C))||(u=v.createElement("link"),$n(u,"link",l),jn(u),v.head.appendChild(u)))}}function LG(l,u){no.m(l,u);var h=Vu;if(h&&l){var v=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+si(v)+'"][href="'+si(l)+'"]',C=S;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Wu(l)}if(!mi.has(C)&&(l=p({rel:"modulepreload",href:l},u),mi.set(C,l),h.querySelector(S)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Xf(C)))return}v=h.createElement("link"),$n(v,"link",l),jn(v),h.head.appendChild(v)}}}function zG(l,u,h){no.S(l,u,h);var v=Vu;if(v&&l){var S=hu(v).hoistableStyles,C=Hu(l);u=u||"default";var D=S.get(C);if(!D){var z={loading:0,preload:null};if(D=v.querySelector(Zf(C)))z.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},h),(h=mi.get(C))&&Kw(l,h);var K=D=v.createElement("link");jn(K),$n(K,"link",l),K._p=new Promise(function(ce,ve){K.onload=ce,K.onerror=ve}),K.addEventListener("load",function(){z.loading|=1}),K.addEventListener("error",function(){z.loading|=2}),z.loading|=4,fg(D,u,v)}D={type:"stylesheet",instance:D,count:1,state:z},S.set(C,D)}}}function FG(l,u){no.X(l,u);var h=Vu;if(h&&l){var v=hu(h).hoistableScripts,S=Wu(l),C=v.get(S);C||(C=h.querySelector(Xf(S)),C||(l=p({src:l,async:!0},u),(u=mi.get(S))&&Gw(l,u),C=h.createElement("script"),jn(C),$n(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function UG(l,u){no.M(l,u);var h=Vu;if(h&&l){var v=hu(h).hoistableScripts,S=Wu(l),C=v.get(S);C||(C=h.querySelector(Xf(S)),C||(l=p({src:l,async:!0,type:"module"},u),(u=mi.get(S))&&Gw(l,u),C=h.createElement("script"),jn(C),$n(C,"link",l),h.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},v.set(S,C))}}function PR(l,u,h,v){var S=(S=ne.current)?dg(S):null;if(!S)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Hu(h.href),h=hu(S).hoistableStyles,v=h.get(u),v||(v={type:"style",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){l=Hu(h.href);var C=hu(S).hoistableStyles,D=C.get(l);if(D||(S=S.ownerDocument||S,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,D),(C=S.querySelector(Zf(l)))&&!C._p&&(D.instance=C,D.state.loading=5),mi.has(l)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},mi.set(l,h),C||BG(S,l,h,D.state))),u&&v===null)throw Error(n(528,""));return D}if(u&&v!==null)throw Error(n(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Wu(h),h=hu(S).hoistableScripts,v=h.get(u),v||(v={type:"script",instance:null,count:0,state:null},h.set(u,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function Hu(l){return'href="'+si(l)+'"'}function Zf(l){return'link[rel="stylesheet"]['+l+"]"}function DR(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function BG(l,u,h,v){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?v.loading=1:(u=l.createElement("link"),v.preload=u,u.addEventListener("load",function(){return v.loading|=1}),u.addEventListener("error",function(){return v.loading|=2}),$n(u,"link",h),jn(u),l.head.appendChild(u))}function Wu(l){return'[src="'+si(l)+'"]'}function Xf(l){return"script[async]"+l}function MR(l,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var v=l.querySelector('style[data-href~="'+si(h.href)+'"]');if(v)return u.instance=v,jn(v),v;var S=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return v=(l.ownerDocument||l).createElement("style"),jn(v),$n(v,"style",S),fg(v,h.precedence,l),u.instance=v;case"stylesheet":S=Hu(h.href);var C=l.querySelector(Zf(S));if(C)return u.state.loading|=4,u.instance=C,jn(C),C;v=DR(h),(S=mi.get(S))&&Kw(v,S),C=(l.ownerDocument||l).createElement("link"),jn(C);var D=C;return D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),$n(C,"link",v),u.state.loading|=4,fg(C,h.precedence,l),u.instance=C;case"script":return C=Wu(h.src),(S=l.querySelector(Xf(C)))?(u.instance=S,jn(S),S):(v=h,(S=mi.get(C))&&(v=p({},h),Gw(v,S)),l=l.ownerDocument||l,S=l.createElement("script"),jn(S),$n(S,"link",v),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(v=u.instance,u.state.loading|=4,fg(v,h.precedence,l));return u.instance}function fg(l,u,h){for(var v=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=v.length?v[v.length-1]:null,C=S,D=0;D<v.length;D++){var z=v[D];if(z.dataset.precedence===u)C=z;else if(C!==S)break}C?C.parentNode.insertBefore(l,C.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(l,u.firstChild))}function Kw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Gw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var hg=null;function IR(l,u,h){if(hg===null){var v=new Map,S=hg=new Map;S.set(h,v)}else S=hg,v=S.get(h),v||(v=new Map,S.set(h,v));if(v.has(l))return v;for(v.set(l,null),h=h.getElementsByTagName(l),S=0;S<h.length;S++){var C=h[S];if(!(C[hf]||C[Pn]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var D=C.getAttribute(u)||"";D=l+D;var z=v.get(D);z?z.push(C):v.set(D,[C])}}return v}function $R(l,u,h){l=l.ownerDocument||l,l.head.insertBefore(h,u==="title"?l.querySelector("head > title"):null)}function qG(l,u,h){if(h===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function LR(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function VG(l,u,h,v){if(h.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=Hu(v.href),C=u.querySelector(Zf(S));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=mg.bind(l),u.then(l,l)),h.state.loading|=4,h.instance=C,jn(C);return}C=u.ownerDocument||u,v=DR(v),(S=mi.get(S))&&Kw(v,S),C=C.createElement("link"),jn(C);var D=C;D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),$n(C,"link",v),h.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(l.count++,h=mg.bind(l),u.addEventListener("load",h),u.addEventListener("error",h))}}var Yw=0;function HG(l,u){return l.stylesheets&&l.count===0&&gg(l,l.stylesheets),0<l.count||0<l.imgCount?function(h){var v=setTimeout(function(){if(l.stylesheets&&gg(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+u);0<l.imgBytes&&Yw===0&&(Yw=62500*CG());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&gg(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>Yw?50:800)+u);return l.unsuspend=h,function(){l.unsuspend=null,clearTimeout(v),clearTimeout(S)}}:null}function mg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var pg=null;function gg(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,pg=new Map,u.forEach(WG,l),pg=null,mg.call(l))}function WG(l,u){if(!(u.state.loading&4)){var h=pg.get(l);if(h)var v=h.get(null);else{h=new Map,pg.set(l,h);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var D=S[C];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(h.set(D.dataset.precedence,D),v=D)}v&&h.set(null,v)}S=u.instance,D=S.getAttribute("data-precedence"),C=h.get(D)||v,C===v&&h.set(null,S),h.set(D,S),this.count++,v=mg.bind(this),S.addEventListener("load",v),S.addEventListener("error",v),C?C.parentNode.insertBefore(S,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Qf={$$typeof:E,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function KG(l,u,h,v,S,C,D,z,K){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=v,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function zR(l,u,h,v,S,C,D,z,K,ce,ve,we){return l=new KG(l,u,h,D,K,ce,ve,we,z),u=1,C===!0&&(u|=24),C=Pa(3,null,null,u),l.current=C,C.stateNode=l,u=kb(),u.refCount++,l.pooledCache=u,u.refCount++,C.memoizedState={element:v,isDehydrated:h,cache:u},Rb(C),l}function FR(l){return l?(l=ju,l):ju}function UR(l,u,h,v,S,C){S=FR(S),v.context===null?v.context=S:v.pendingContext=S,v=Xo(u),v.payload={element:h},C=C===void 0?null:C,C!==null&&(v.callback=C),h=Qo(l,v,u),h!==null&&(_a(h,l,u),Of(h,l,u))}function BR(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var h=l.retryLane;l.retryLane=h!==0&&h<u?h:u}}function Zw(l,u){BR(l,u),(l=l.alternate)&&BR(l,u)}function qR(l){if(l.tag===13||l.tag===31){var u=Ql(l,67108864);u!==null&&_a(u,l,67108864),Zw(l,67108864)}}function VR(l){if(l.tag===13||l.tag===31){var u=La();u=cu(u);var h=Ql(l,u);h!==null&&_a(h,l,u),Zw(l,u)}}var vg=!0;function GG(l,u,h,v){var S=F.T;F.T=null;var C=H.p;try{H.p=2,Xw(l,u,h,v)}finally{H.p=C,F.T=S}}function YG(l,u,h,v){var S=F.T;F.T=null;var C=H.p;try{H.p=8,Xw(l,u,h,v)}finally{H.p=C,F.T=S}}function Xw(l,u,h,v){if(vg){var S=Qw(v);if(S===null)$w(l,u,v,yg,h),WR(l,v);else if(XG(S,l,u,h,v))v.stopPropagation();else if(WR(l,v),u&4&&-1<ZG.indexOf(l)){for(;S!==null;){var C=fu(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var D=kt(C.pendingLanes);if(D!==0){var z=C;for(z.pendingLanes|=2,z.entangledLanes|=2;D;){var K=1<<31-Pr(D);z.entanglements[1]|=K,D&=~K}us(C),(Wt&6)===0&&(eg=be()+500,Wf(0))}}break;case 31:case 13:z=Ql(C,2),z!==null&&_a(z,C,2),rg(),Zw(C,2)}if(C=Qw(v),C===null&&$w(l,u,v,yg,h),C===S)break;S=C}S!==null&&v.stopPropagation()}else $w(l,u,v,null,h)}}function Qw(l){return l=eb(l),Jw(l)}var yg=null;function Jw(l){if(yg=null,l=du(l),l!==null){var u=i(l);if(u===null)l=null;else{var h=u.tag;if(h===13){if(l=o(u),l!==null)return l;l=null}else if(h===31){if(l=c(u),l!==null)return l;l=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return yg=l,null}function HR(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ee()){case Pe:return 2;case lt:return 8;case yt:case vr:return 32;case dn:return 268435456;default:return 32}default:return 32}}var e_=!1,cl=null,ul=null,dl=null,Jf=new Map,eh=new Map,fl=[],ZG="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function WR(l,u){switch(l){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":ul=null;break;case"mouseover":case"mouseout":dl=null;break;case"pointerover":case"pointerout":Jf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(u.pointerId)}}function th(l,u,h,v,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:h,eventSystemFlags:v,nativeEvent:C,targetContainers:[S]},u!==null&&(u=fu(u),u!==null&&qR(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function XG(l,u,h,v,S){switch(u){case"focusin":return cl=th(cl,l,u,h,v,S),!0;case"dragenter":return ul=th(ul,l,u,h,v,S),!0;case"mouseover":return dl=th(dl,l,u,h,v,S),!0;case"pointerover":var C=S.pointerId;return Jf.set(C,th(Jf.get(C)||null,l,u,h,v,S)),!0;case"gotpointercapture":return C=S.pointerId,eh.set(C,th(eh.get(C)||null,l,u,h,v,S)),!0}return!1}function KR(l){var u=du(l.target);if(u!==null){var h=i(u);if(h!==null){if(u=h.tag,u===13){if(u=o(h),u!==null){l.blockedOn=u,oA(l.priority,function(){VR(h)});return}}else if(u===31){if(u=c(h),u!==null){l.blockedOn=u,oA(l.priority,function(){VR(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){l.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}l.blockedOn=null}function xg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var h=Qw(l.nativeEvent);if(h===null){h=l.nativeEvent;var v=new h.constructor(h.type,h);J0=v,h.target.dispatchEvent(v),J0=null}else return u=fu(h),u!==null&&qR(u),l.blockedOn=h,!1;u.shift()}return!0}function GR(l,u,h){xg(l)&&h.delete(u)}function QG(){e_=!1,cl!==null&&xg(cl)&&(cl=null),ul!==null&&xg(ul)&&(ul=null),dl!==null&&xg(dl)&&(dl=null),Jf.forEach(GR),eh.forEach(GR)}function bg(l,u){l.blockedOn===u&&(l.blockedOn=null,e_||(e_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QG)))}var wg=null;function YR(l){wg!==l&&(wg=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){wg===l&&(wg=null);for(var u=0;u<l.length;u+=3){var h=l[u],v=l[u+1],S=l[u+2];if(typeof v!="function"){if(Jw(v||h)===null)continue;break}var C=fu(h);C!==null&&(l.splice(u,3),u-=3,Qb(C,{pending:!0,data:S,method:h.method,action:v},v,S))}}))}function Ku(l){function u(K){return bg(K,l)}cl!==null&&bg(cl,l),ul!==null&&bg(ul,l),dl!==null&&bg(dl,l),Jf.forEach(u),eh.forEach(u);for(var h=0;h<fl.length;h++){var v=fl[h];v.blockedOn===l&&(v.blockedOn=null)}for(;0<fl.length&&(h=fl[0],h.blockedOn===null);)KR(h),h.blockedOn===null&&fl.shift();if(h=(l.ownerDocument||l).$$reactFormReplay,h!=null)for(v=0;v<h.length;v+=3){var S=h[v],C=h[v+1],D=S[ga]||null;if(typeof C=="function")D||YR(h);else if(D){var z=null;if(C&&C.hasAttribute("formAction")){if(S=C,D=C[ga]||null)z=D.formAction;else if(Jw(S)!==null)continue}else z=D.action;typeof z=="function"?h[v+1]=z:(h.splice(v,3),v-=3),YR(h)}}}function ZR(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(D){return S=D})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),v||setTimeout(h,20)}function h(){if(!v&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var v=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){v=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function t_(l){this._internalRoot=l}_g.prototype.render=t_.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var h=u.current,v=La();UR(h,v,l,u,null,null)},_g.prototype.unmount=t_.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;UR(l.current,2,null,l,null,null),rg(),u[uu]=null}};function _g(l){this._internalRoot=l}_g.prototype.unstable_scheduleHydration=function(l){if(l){var u=W0();l={blockedOn:null,target:l,priority:u};for(var h=0;h<fl.length&&u!==0&&u<fl[h].priority;h++);fl.splice(h,0,l),h===0&&KR(l)}};var XR=t.version;if(XR!=="19.2.0")throw Error(n(527,XR,"19.2.0"));H.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=f(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var JG={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jg.isDisabled&&jg.supportsFiber)try{fn=jg.inject(JG),yr=jg}catch{}}return nh.createRoot=function(l,u){if(!a(l))throw Error(n(299));var h=!1,v="",S=aT,C=iT,D=sT;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=zR(l,1,!1,null,null,h,v,null,S,C,D,ZR),l[uu]=u.current,Iw(l),new t_(u)},nh.hydrateRoot=function(l,u,h){if(!a(l))throw Error(n(299));var v=!1,S="",C=aT,D=iT,z=sT,K=null;return h!=null&&(h.unstable_strictMode===!0&&(v=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(C=h.onUncaughtError),h.onCaughtError!==void 0&&(D=h.onCaughtError),h.onRecoverableError!==void 0&&(z=h.onRecoverableError),h.formState!==void 0&&(K=h.formState)),u=zR(l,1,!0,u,h??null,v,S,K,C,D,z,ZR),u.context=FR(null),h=u.current,v=La(),v=cu(v),S=Xo(v),S.callback=null,Qo(h,S,v),h=v,u.current.lanes=h,Er(u,h),us(u),l[uu]=u.current,Iw(l),new _g(u)},nh.version="19.2.0",nh}var oP;function c7(){if(oP)return a_.exports;oP=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),a_.exports=l7(),a_.exports}var u7=c7();const d7=ti(u7);var lP="popstate";function f7(e={}){function t(n,a){let{pathname:i,search:o,hash:c}=n.location;return PS("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:$h(a)}return m7(t,r,null,e)}function _r(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ni(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function h7(){return Math.random().toString(36).substring(2,10)}function cP(e,t){return{usr:e.state,key:e.key,idx:t}}function PS(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ld(t):t,state:r,key:t&&t.key||n||h7()}}function $h({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ld(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function m7(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",d=null,f=m();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function m(){return(o.state||{idx:null}).idx}function p(){c="POP";let _=m(),j=_==null?null:_-f;f=_,d&&d({action:c,location:w.location,delta:j})}function y(_,j){c="PUSH";let N=PS(w.location,_,j);f=m()+1;let E=cP(N,f),k=w.createHref(N);try{o.pushState(E,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(k)}i&&d&&d({action:c,location:w.location,delta:1})}function g(_,j){c="REPLACE";let N=PS(w.location,_,j);f=m();let E=cP(N,f),k=w.createHref(N);o.replaceState(E,"",k),i&&d&&d({action:c,location:w.location,delta:0})}function b(_){return p7(_)}let w={get action(){return c},get location(){return e(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(lP,p),d=_,()=>{a.removeEventListener(lP,p),d=null}},createHref(_){return t(a,_)},createURL:b,encodeLocation(_){let j=b(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:y,replace:g,go(_){return o.go(_)}};return w}function p7(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),_r(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:$h(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function K4(e,t,r="/"){return g7(e,t,r,!1)}function g7(e,t,r,n){let a=typeof t=="string"?Ld(t):t,i=wo(a.pathname||"/",r);if(i==null)return null;let o=G4(e);v7(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let f=k7(i);c=N7(o[d],f,n)}return c}function G4(e,t=[],r=[],n="",a=!1){let i=(o,c,d=a,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;_r(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let p=vo([n,m.relativePath]),y=r.concat(m);o.children&&o.children.length>0&&(_r(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),G4(o.children,t,y,p,d)),!(o.path==null&&!o.index)&&t.push({path:p,score:S7(p,o.index),routesMeta:y})};return e.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of Y4(o.path))i(o,c,!0,d)}),t}function Y4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=Y4(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function v7(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:C7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var y7=/^:[\w-]+$/,x7=3,b7=2,w7=1,_7=10,j7=-2,uP=e=>e==="*";function S7(e,t){let r=e.split("/"),n=r.length;return r.some(uP)&&(n+=j7),t&&(n+=b7),r.filter(a=>!uP(a)).reduce((a,i)=>a+(y7.test(i)?x7:i===""?w7:_7),n)}function C7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function N7(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],f=c===n.length-1,m=i==="/"?t:t.slice(i.length)||"/",p=Tv({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),y=d.route;if(!p&&f&&r&&!n[n.length-1].route.index&&(p=Tv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:vo([i,p.pathname]),pathnameBase:R7(vo([i,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(i=vo([i,p.pathnameBase]))}return o}function Tv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=E7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((f,{paramName:m,isOptional:p},y)=>{if(m==="*"){let b=c[y]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[y];return p&&!g?f[m]=void 0:f[m]=(g||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:o,pattern:e}}function E7(e,t=!1,r=!0){Ni(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function k7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ni(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function wo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function A7(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ld(e):e;return{pathname:r?r.startsWith("/")?r:O7(r,t):t,search:P7(n),hash:D7(a)}}function O7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function l_(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function T7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function DC(e){let t=T7(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function MC(e,t,r,n=!1){let a;typeof e=="string"?a=Ld(e):(a={...e},_r(!a.pathname||!a.pathname.includes("?"),l_("?","pathname","search",a)),_r(!a.pathname||!a.pathname.includes("#"),l_("#","pathname","hash",a)),_r(!a.search||!a.search.includes("#"),l_("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),p-=1;a.pathname=y.join("/")}c=p>=0?t[p]:"/"}let d=A7(a,c),f=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var vo=e=>e.join("/").replace(/\/\/+/g,"/"),R7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),P7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z4=["POST","PUT","PATCH","DELETE"];new Set(Z4);var I7=["GET",...Z4];new Set(I7);var zd=x.createContext(null);zd.displayName="DataRouter";var lx=x.createContext(null);lx.displayName="DataRouterState";x.createContext(!1);var X4=x.createContext({isTransitioning:!1});X4.displayName="ViewTransition";var $7=x.createContext(new Map);$7.displayName="Fetchers";var L7=x.createContext(null);L7.displayName="Await";var ns=x.createContext(null);ns.displayName="Navigation";var _m=x.createContext(null);_m.displayName="Location";var as=x.createContext({outlet:null,matches:[],isDataRoute:!1});as.displayName="Route";var IC=x.createContext(null);IC.displayName="RouteError";function z7(e,{relative:t}={}){_r(Fd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(ns),{hash:a,pathname:i,search:o}=jm(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:vo([r,i])),n.createHref({pathname:c,search:o,hash:a})}function Fd(){return x.useContext(_m)!=null}function ri(){return _r(Fd(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_m).location}var Q4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J4(e){x.useContext(ns).static||x.useLayoutEffect(e)}function Or(){let{isDataRoute:e}=x.useContext(as);return e?Q7():F7()}function F7(){_r(Fd(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(zd),{basename:t,navigator:r}=x.useContext(ns),{matches:n}=x.useContext(as),{pathname:a}=ri(),i=JSON.stringify(DC(n)),o=x.useRef(!1);return J4(()=>{o.current=!0}),x.useCallback((d,f={})=>{if(Ni(o.current,Q4),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=MC(d,JSON.parse(i),a,f.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:vo([t,m.pathname])),(f.replace?r.replace:r.push)(m,f.state,f)},[t,r,i,a,e])}x.createContext(null);function eu(){let{matches:e}=x.useContext(as),t=e[e.length-1];return t?t.params:{}}function jm(e,{relative:t}={}){let{matches:r}=x.useContext(as),{pathname:n}=ri(),a=JSON.stringify(DC(r));return x.useMemo(()=>MC(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function U7(e,t){return ez(e,t)}function ez(e,t,r,n,a){_r(Fd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(ns),{matches:o}=x.useContext(as),c=o[o.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",p=c&&c.route;{let N=p&&p.path||"";tz(f,!p||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=ri(),g;if(t){let N=typeof t=="string"?Ld(t):t;_r(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),g=N}else g=y;let b=g.pathname||"/",w=b;if(m!=="/"){let N=m.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=K4(e,{pathname:w});Ni(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ni(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=W7(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:vo([m,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:vo([m,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,r,n,a);return t&&j?x.createElement(_m.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function B7(){let e=X7(),t=M7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,o)}var q7=x.createElement(B7,null),V7=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?x.createElement(as.Provider,{value:this.props.routeContext},x.createElement(IC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H7({routeContext:e,match:t,children:r}){let n=x.useContext(zd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(as.Provider,{value:e},r)}function W7(e,t=[],r=null,n=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r?.errors;if(o!=null){let f=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);_r(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let c=!1,d=-1;if(r)for(let f=0;f<i.length;f++){let m=i[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:p,errors:y}=r,g=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||g){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,m,p)=>{let y,g=!1,b=null,w=null;r&&(y=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||q7,c&&(d<0&&p===0?(tz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):d===p&&(g=!0,w=m.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,p+1)),j=()=>{let N;return y?N=b:g?N=w:m.route.Component?N=x.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=f,x.createElement(H7,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:r!=null},children:N})};return r&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?x.createElement(V7,{location:r.location,revalidation:r.revalidation,component:b,error:y,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):j()},null)}function $C(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K7(e){let t=x.useContext(zd);return _r(t,$C(e)),t}function G7(e){let t=x.useContext(lx);return _r(t,$C(e)),t}function Y7(e){let t=x.useContext(as);return _r(t,$C(e)),t}function LC(e){let t=Y7(e),r=t.matches[t.matches.length-1];return _r(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Z7(){return LC("useRouteId")}function X7(){let e=x.useContext(IC),t=G7("useRouteError"),r=LC("useRouteError");return e!==void 0?e:t.errors?.[r]}function Q7(){let{router:e}=K7("useNavigate"),t=LC("useNavigate"),r=x.useRef(!1);return J4(()=>{r.current=!0}),x.useCallback(async(a,i={})=>{Ni(r.current,Q4),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var dP={};function tz(e,t,r){!t&&!dP[e]&&(dP[e]=!0,Ni(!1,r))}x.memo(J7);function J7({routes:e,future:t,state:r,unstable_onError:n}){return ez(e,void 0,r,n,t)}function zC({to:e,replace:t,state:r,relative:n}){_r(Fd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=x.useContext(ns);Ni(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(as),{pathname:o}=ri(),c=Or(),d=MC(e,DC(i),o,n==="path"),f=JSON.stringify(d);return x.useEffect(()=>{c(JSON.parse(f),{replace:t,state:r,relative:n})},[c,f,n,t,r]),null}function hr(e){_r(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eY({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){_r(!Fd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=x.useMemo(()=>({basename:o,navigator:a,static:i,future:{}}),[o,a,i]);typeof r=="string"&&(r=Ld(r));let{pathname:d="/",search:f="",hash:m="",state:p=null,key:y="default"}=r,g=x.useMemo(()=>{let b=wo(d,o);return b==null?null:{location:{pathname:b,search:f,hash:m,state:p,key:y},navigationType:n}},[o,d,f,m,p,y,n]);return Ni(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:x.createElement(ns.Provider,{value:c},x.createElement(_m.Provider,{children:t,value:g}))}function tY({children:e,location:t}){return U7(DS(e),t)}function DS(e,t=[]){let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,DS(n.props.children,i));return}_r(n.type===hr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_r(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=DS(n.props.children,i)),r.push(o)}),r}var gv="get",vv="application/x-www-form-urlencoded";function cx(e){return e!=null&&typeof e.tagName=="string"}function rY(e){return cx(e)&&e.tagName.toLowerCase()==="button"}function nY(e){return cx(e)&&e.tagName.toLowerCase()==="form"}function aY(e){return cx(e)&&e.tagName.toLowerCase()==="input"}function iY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sY(e,t){return e.button===0&&(!t||t==="_self")&&!iY(e)}function MS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function oY(e,t){let r=MS(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}var Sg=null;function lY(){if(Sg===null)try{new FormData(document.createElement("form"),0),Sg=!1}catch{Sg=!0}return Sg}var cY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function c_(e){return e!=null&&!cY.has(e)?(Ni(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${vv}"`),null):e}function uY(e,t){let r,n,a,i,o;if(nY(e)){let c=e.getAttribute("action");n=c?wo(c,t):null,r=e.getAttribute("method")||gv,a=c_(e.getAttribute("enctype"))||vv,i=new FormData(e)}else if(rY(e)||aY(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?wo(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||gv,a=c_(e.getAttribute("formenctype"))||c_(c.getAttribute("enctype"))||vv,i=new FormData(c,e),!lY()){let{name:f,type:m,value:p}=e;if(m==="image"){let y=f?`${f}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else f&&i.append(f,p)}}else{if(cx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=gv,n=null,a=vv,o=e}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function FC(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dY(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&wo(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function fY(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function mY(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let o=await fY(i,r);return o.links?o.links():[]}return[]}));return yY(n.flat(1).filter(hY).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function fP(e,t,r,n,a,i){let o=(d,f)=>r[f]?d.route.id!==r[f].route.id:!0,c=(d,f)=>r[f].pathname!==d.pathname||r[f].route.path?.endsWith("*")&&r[f].params["*"]!==d.params["*"];return i==="assets"?t.filter((d,f)=>o(d,f)||c(d,f)):i==="data"?t.filter((d,f)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function pY(e,t,{includeHydrateFallback:r}={}){return gY(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function gY(e){return[...new Set(e)]}function vY(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function yY(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(vY(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function rz(){let e=x.useContext(zd);return FC(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xY(){let e=x.useContext(lx);return FC(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var UC=x.createContext(void 0);UC.displayName="FrameworkContext";function nz(){let e=x.useContext(UC);return FC(e,"You must render this element inside a <HydratedRouter> element"),e}function bY(e,t){let r=x.useContext(UC),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:p}=t,y=x.useRef(null);x.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=j=>{j.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return y.current&&_.observe(y.current),()=>{_.disconnect()}}},[e]),x.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let g=()=>{a(!0)},b=()=>{a(!1),o(!1)};return r?e!=="intent"?[i,y,{}]:[i,y,{onFocus:ah(c,g),onBlur:ah(d,b),onMouseEnter:ah(f,g),onMouseLeave:ah(m,b),onTouchStart:ah(p,g)}]:[!1,y,{}]}function ah(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function wY({page:e,...t}){let{router:r}=rz(),n=x.useMemo(()=>K4(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?x.createElement(jY,{page:e,matches:n,...t}):null}function _Y(e){let{manifest:t,routeModules:r}=nz(),[n,a]=x.useState([]);return x.useEffect(()=>{let i=!1;return mY(e,t,r).then(o=>{i||a(o)}),()=>{i=!0}},[e,t,r]),n}function jY({page:e,matches:t,...r}){let n=ri(),{manifest:a,routeModules:i}=nz(),{basename:o}=rz(),{loaderData:c,matches:d}=xY(),f=x.useMemo(()=>fP(e,t,d,a,n,"data"),[e,t,d,a,n]),m=x.useMemo(()=>fP(e,t,d,a,n,"assets"),[e,t,d,a,n]),p=x.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let b=new Set,w=!1;if(t.forEach(j=>{let N=a.routes[j.route.id];!N||!N.hasLoader||(!f.some(E=>E.route.id===j.route.id)&&j.route.id in c&&i[j.route.id]?.shouldRevalidate||N.hasClientLoader?w=!0:b.add(j.route.id))}),b.size===0)return[];let _=dY(e,o,"data");return w&&b.size>0&&_.searchParams.set("_routes",t.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[o,c,n,a,f,t,e,i]),y=x.useMemo(()=>pY(m,a),[m,a]),g=_Y(m);return x.createElement(x.Fragment,null,p.map(b=>x.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...r})),y.map(b=>x.createElement("link",{key:b,rel:"modulepreload",href:b,...r})),g.map(({key:b,link:w})=>x.createElement("link",{key:b,nonce:r.nonce,...w})))}function SY(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var az=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{az&&(window.__reactRouterVersion="7.9.5")}catch{}function CY({basename:e,children:t,window:r}){let n=x.useRef();n.current==null&&(n.current=f7({window:r,v5Compat:!0}));let a=n.current,[i,o]=x.useState({action:a.action,location:a.location}),c=x.useCallback(d=>{x.startTransition(()=>o(d))},[o]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.createElement(eY,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var iz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wa=x.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:f,preventScrollReset:m,viewTransition:p,...y},g){let{basename:b}=x.useContext(ns),w=typeof f=="string"&&iz.test(f),_,j=!1;if(typeof f=="string"&&w&&(_=f,az))try{let P=new URL(window.location.href),$=f.startsWith("//")?new URL(P.protocol+f):new URL(f),M=wo($.pathname,b);$.origin===P.origin&&M!=null?f=M+$.search+$.hash:j=!0}catch{Ni(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=z7(f,{relative:a}),[E,k,A]=bY(n,y),R=AY(f,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:p});function T(P){t&&t(P),P.defaultPrevented||R(P)}let O=x.createElement("a",{...y,...A,href:_||N,onClick:j||i?t:T,ref:SY(g,k),target:d,"data-discover":!w&&r==="render"?"true":void 0});return E&&!w?x.createElement(x.Fragment,null,O,x.createElement(wY,{page:N})):O});Wa.displayName="Link";var NY=x.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...f},m){let p=jm(o,{relative:f.relative}),y=ri(),g=x.useContext(lx),{navigator:b,basename:w}=x.useContext(ns),_=g!=null&&DY(p)&&c===!0,j=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,N=y.pathname,E=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(N=N.toLowerCase(),E=E?E.toLowerCase():null,j=j.toLowerCase()),E&&w&&(E=wo(E,w)||E);const k=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let A=N===j||!a&&N.startsWith(j)&&N.charAt(k)==="/",R=E!=null&&(E===j||!a&&E.startsWith(j)&&E.charAt(j.length)==="/"),T={isActive:A,isPending:R,isTransitioning:_},O=A?t:void 0,P;typeof n=="function"?P=n(T):P=[n,A?"active":null,R?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let $=typeof i=="function"?i(T):i;return x.createElement(Wa,{...f,"aria-current":O,className:P,ref:m,style:$,to:o,viewTransition:c},typeof d=="function"?d(T):d)});NY.displayName="NavLink";var EY=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:o=gv,action:c,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:p,...y},g)=>{let b=RY(),w=PY(c,{relative:f}),_=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&iz.test(c),N=E=>{if(d&&d(E),E.defaultPrevented)return;E.preventDefault();let k=E.nativeEvent.submitter,A=k?.getAttribute("formmethod")||o;b(k||E.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:a,state:i,relative:f,preventScrollReset:m,viewTransition:p})};return x.createElement("form",{ref:g,method:_,action:w,onSubmit:n?d:N,...y,"data-discover":!j&&e==="render"?"true":void 0})});EY.displayName="Form";function kY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sz(e){let t=x.useContext(zd);return _r(t,kY(e)),t}function AY(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o}={}){let c=Or(),d=ri(),f=jm(e,{relative:i});return x.useCallback(m=>{if(sY(m,t)){m.preventDefault();let p=r!==void 0?r:$h(d)===$h(f);c(e,{replace:p,state:n,preventScrollReset:a,relative:i,viewTransition:o})}},[d,c,f,r,n,t,e,a,i,o])}function BC(e){Ni(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(MS(e)),r=x.useRef(!1),n=ri(),a=x.useMemo(()=>oY(n.search,r.current?null:t.current),[n.search]),i=Or(),o=x.useCallback((c,d)=>{const f=MS(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,i("?"+f,d)},[i,a]);return[a,o]}var OY=0,TY=()=>`__${String(++OY)}__`;function RY(){let{router:e}=sz("useSubmit"),{basename:t}=x.useContext(ns),r=Z7();return x.useCallback(async(n,a={})=>{let{action:i,method:o,encType:c,formData:d,body:f}=uY(n,t);if(a.navigate===!1){let m=a.fetcherKey||TY();await e.fetch(m,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function PY(e,{relative:t}={}){let{basename:r}=x.useContext(ns),n=x.useContext(as);_r(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...jm(e||".",{relative:t})},o=ri();if(e==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let m=c.toString();i.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:vo([r,i.pathname])),$h(i)}function DY(e,{relative:t}={}){let r=x.useContext(X4);_r(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=sz("useViewTransitionState"),a=jm(e,{relative:t});if(!r.isTransitioning)return!1;let i=wo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=wo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Tv(a.pathname,o)!=null||Tv(a.pathname,i)!=null}var tu=W4();const oz=ti(tu);var Ud=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},MY={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},IY=class{#e=MY;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},_c=new IY;function $Y(e){setTimeout(e,0)}var Mc=typeof window>"u"||"Deno"in globalThis;function ra(){}function LY(e,t){return typeof e=="function"?e(t):e}function IS(e){return typeof e=="number"&&e>=0&&e!==1/0}function lz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Cl(e,t){return typeof e=="function"?e(t):e}function yi(e,t){return typeof e=="function"?e(t):e}function hP(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:c}=e;if(o){if(n){if(t.queryHash!==qC(o,t.options))return!1}else if(!Lh(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||a&&a!==t.state.fetchStatus||i&&!i(t))}function mP(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ic(t.options.mutationKey)!==Ic(i))return!1}else if(!Lh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function qC(e,t){return(t?.queryKeyHashFn||Ic)(e)}function Ic(e){return JSON.stringify(e,(t,r)=>$S(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Lh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Lh(e[r],t[r])):!1}var zY=Object.prototype.hasOwnProperty;function cz(e,t){if(e===t)return e;const r=pP(e)&&pP(t);if(!r&&!($S(e)&&$S(t)))return t;const a=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),o=i.length,c=r?new Array(o):{};let d=0;for(let f=0;f<o;f++){const m=r?f:i[f],p=e[m],y=t[m];if(p===y){c[m]=p,(r?f<a:zY.call(e,m))&&d++;continue}if(p===null||y===null||typeof p!="object"||typeof y!="object"){c[m]=y;continue}const g=cz(p,y);c[m]=g,g===p&&d++}return a===o&&d===a?e:c}function Rv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function pP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function $S(e){if(!gP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!gP(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function gP(e){return Object.prototype.toString.call(e)==="[object Object]"}function FY(e){return new Promise(t=>{_c.setTimeout(t,e)})}function LS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?cz(e,t):t}function UY(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function BY(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var VC=Symbol();function uz(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===VC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function dz(e,t){return typeof e=="function"?e(...t):!!e}var qY=class extends Ud{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Mc&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},HC=new qY;function zS(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var VY=$Y;function HY(){let e=[],t=0,r=c=>{c()},n=c=>{c()},a=VY;const i=c=>{t?e.push(c):a(()=>{r(c)})},o=()=>{const c=e;e=[],c.length&&a(()=>{n(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||o()}return d},batchCalls:c=>(...d)=>{i(()=>{c(...d)})},schedule:i,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{a=c}}}var vn=HY(),WY=class extends Ud{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Mc&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Pv=new WY;function KY(e){return Math.min(1e3*2**e,3e4)}function fz(e){return(e??"online")==="online"?Pv.isOnline():!0}var FS=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function hz(e){let t=!1,r=0,n;const a=zS(),i=()=>a.status!=="pending",o=w=>{if(!i()){const _=new FS(w);y(_),e.onCancel?.(_)}},c=()=>{t=!0},d=()=>{t=!1},f=()=>HC.isFocused()&&(e.networkMode==="always"||Pv.isOnline())&&e.canRun(),m=()=>fz(e.networkMode)&&e.canRun(),p=w=>{i()||(n?.(),a.resolve(w))},y=w=>{i()||(n?.(),a.reject(w))},g=()=>new Promise(w=>{n=_=>{(i()||f())&&w(_)},e.onPause?.()}).then(()=>{n=void 0,i()||e.onContinue?.()}),b=()=>{if(i())return;let w;const _=r===0?e.initialPromise:void 0;try{w=_??e.fn()}catch(j){w=Promise.reject(j)}Promise.resolve(w).then(p).catch(j=>{if(i())return;const N=e.retry??(Mc?0:3),E=e.retryDelay??KY,k=typeof E=="function"?E(r,j):E,A=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,j);if(t||!A){y(j);return}r++,e.onFail?.(r,j),FY(k).then(()=>f()?void 0:g()).then(()=>{t?y(j):b()})})};return{promise:a,status:()=>a.status,cancel:o,continue:()=>(n?.(),a),cancelRetry:c,continueRetry:d,canStart:m,start:()=>(m()?b():g().then(b),a)}}var mz=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),IS(this.gcTime)&&(this.#e=_c.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Mc?1/0:300*1e3))}clearGcTimeout(){this.#e&&(_c.clearTimeout(this.#e),this.#e=void 0)}},GY=class extends mz{#e;#t;#r;#a;#n;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#r=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=yP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=yP(this.options);t.data!==void 0&&(this.setState(vP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=LS(this.state.data,e,this.options);return this.#i({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>yi(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Cl(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!lz(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#o?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},a=()=>{const c=uz(this.options,t),f=(()=>{const m={client:this.#a,queryKey:this.queryKey,meta:this.meta};return n(m),m})();return this.#o=!1,this.options.persister?this.options.persister(c,f,this):c(f)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:a};return n(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#i({type:"fetch",meta:o.fetchOptions?.meta}),this.#n=hz({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof FS&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(c,d)=>{this.#i({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof FS){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#i({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#i(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...pz(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,...vP(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?n:void 0,n;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),vn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function pz(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:fz(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function yP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var YY=class extends Ud{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=zS(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#a=void 0;#n;#s;#o;#i;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),xP(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return US(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return US(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof yi(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),t._defaulted&&!Rv(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const n=this.hasListeners();n&&bP(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#t!==r||yi(this.options.enabled,this.#t)!==yi(t.enabled,this.#t)||Cl(this.options.staleTime,this.#t)!==Cl(t.staleTime,this.#t))&&this.#g();const a=this.#v();n&&(this.#t!==r||yi(this.options.enabled,this.#t)!==yi(t.enabled,this.#t)||a!==this.#l)&&this.#y(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return XY(this,r)&&(this.#a=r,this.#s=this.options,this.#n=this.#t.state),r}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,n))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#_();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(ra)),t}#g(){this.#b();const e=Cl(this.options.staleTime,this.#t);if(Mc||this.#a.isStale||!IS(e))return;const r=lz(this.#a.dataUpdatedAt,e)+1;this.#c=_c.setTimeout(()=>{this.#a.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Mc||yi(this.options.enabled,this.#t)===!1||!IS(this.#l)||this.#l===0)&&(this.#u=_c.setInterval(()=>{(this.options.refetchIntervalInBackground||HC.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(_c.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(_c.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#t,n=this.options,a=this.#a,i=this.#n,o=this.#s,d=e!==r?e.state:this.#r,{state:f}=e;let m={...f},p=!1,y;if(t._optimisticResults){const O=this.hasListeners(),P=!O&&xP(e,t),$=O&&bP(e,r,t,n);(P||$)&&(m={...m,...pz(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:w}=m;y=m.data;let _=!1;if(t.placeholderData!==void 0&&y===void 0&&w==="pending"){let O;a?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(O=a.data,_=!0):O=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,O!==void 0&&(w="success",y=LS(a?.data,O,t),p=!0)}if(t.select&&y!==void 0&&!_)if(a&&y===i?.data&&t.select===this.#p)y=this.#f;else try{this.#p=t.select,y=t.select(y),y=LS(a?.data,y,t),this.#f=y,this.#i=null}catch(O){this.#i=O}this.#i&&(g=this.#i,y=this.#f,b=Date.now(),w="error");const j=m.fetchStatus==="fetching",N=w==="pending",E=w==="error",k=N&&j,A=y!==void 0,T={status:w,fetchStatus:m.fetchStatus,isPending:N,isSuccess:w==="success",isError:E,isInitialLoading:k,isLoading:k,data:y,dataUpdatedAt:m.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:E&&!A,isPaused:m.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:E&&A,isStale:WC(e,t),refetch:this.refetch,promise:this.#o,isEnabled:yi(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=M=>{T.status==="error"?M.reject(T.error):T.data!==void 0&&M.resolve(T.data)},P=()=>{const M=this.#o=T.promise=zS();O(M)},$=this.#o;switch($.status){case"pending":e.queryHash===r.queryHash&&O($);break;case"fulfilled":(T.status==="error"||T.data!==$.value)&&P();break;case"rejected":(T.status!=="error"||T.error!==$.reason)&&P();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#s=this.options,this.#n.data!==void 0&&(this.#h=this.#t),Rv(t,e))return;this.#a=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,a=typeof n=="function"?n():n;if(a==="all"||!a&&!this.#m.size)return!0;const i=new Set(a??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(o=>{const c=o;return this.#a[c]!==e[c]&&i.has(c)})};this.#j({listeners:r()})}#_(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){vn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ZY(e,t){return yi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function xP(e,t){return ZY(e,t)||e.state.data!==void 0&&US(e,t,t.refetchOnMount)}function US(e,t,r){if(yi(t.enabled,e)!==!1&&Cl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&WC(e,t)}return!1}function bP(e,t,r,n){return(e!==t||yi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&WC(e,r)}function WC(e,t){return yi(t.enabled,e)!==!1&&e.isStaleByTime(Cl(t.staleTime,e))}function XY(e,t){return!Rv(e.getCurrentResult(),t)}function wP(e){return{onFetch:(t,r)=>{const n=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const f=async()=>{let m=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},y=uz(t.options,t.fetchOptions),g=async(b,w,_)=>{if(m)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const R={client:t.client,queryKey:t.queryKey,pageParam:w,direction:_?"backward":"forward",meta:t.options.meta};return p(R),R})(),E=await y(N),{maxPages:k}=t.options,A=_?BY:UY;return{pages:A(b.pages,E,k),pageParams:A(b.pageParams,w,k)}};if(a&&i.length){const b=a==="backward",w=b?QY:_P,_={pages:i,pageParams:o},j=w(n,_);c=await g(_,j,b)}else{const b=e??i.length;do{const w=d===0?o[0]??n.initialPageParam:_P(n,c);if(d>0&&w==null)break;c=await g(c,w),d++}while(d<b)}return c};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=f}}}function _P(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function QY(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var JY=class extends mz{#e;#t;#r;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#r=e.mutationCache,this.#t=[],this.state=e.state||gz(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=hz({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const n=this.state.status==="pending",a=!this.#a.canStart();try{if(n)t();else{this.#n({type:"pending",variables:e,isPaused:a}),await this.#r.config.onMutate?.(e,this,r);const o=await this.options.onMutate?.(e,r);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:a})}const i=await this.#a.start();return await this.#r.config.onSuccess?.(i,e,this.state.context,this,r),await this.options.onSuccess?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(i,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(i,null,e,this.state.context,r),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#r.config.onError?.(i,e,this.state.context,this,r),await this.options.onError?.(i,e,this.state.context,r),await this.#r.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,i,e,this.state.context,r),i}finally{this.#n({type:"error",error:i})}}finally{this.#r.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),vn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#r.notify({mutation:this,type:"updated",action:e})})}};function gz(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var eZ=class extends Ud{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(e,t,r){const n=new JY({client:e,mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#e.add(e);const t=Cg(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Cg(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Cg(e);if(typeof t=="string"){const n=this.#t.get(t)?.find(a=>a.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=Cg(e);return typeof t=="string"?this.#t.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){vn.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>mP(t,r))}findAll(e={}){return this.getAll().filter(t=>mP(e,t))}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return vn.batch(()=>Promise.all(e.map(t=>t.continue().catch(ra))))}};function Cg(e){return e.options.scope?.id}var tZ=class extends Ud{#e;#t=void 0;#r;#a;constructor(t,r){super(),this.#e=t,this.setOptions(r),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#e.defaultMutationOptions(t),Rv(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ic(r.mutationKey)!==Ic(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#n(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#s()}mutate(t,r){return this.#a=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#n(){const t=this.#r?.state??gz();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){vn.batch(()=>{if(this.#a&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context,a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,r,n,a),this.#a.onSettled?.(t.data,null,r,n,a)):t?.type==="error"&&(this.#a.onError?.(t.error,r,n,a),this.#a.onSettled?.(void 0,t.error,r,n,a))}this.listeners.forEach(r=>{r(this.#t)})})}},rZ=class extends Ud{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const n=t.queryKey,a=t.queryHash??qC(n,t);let i=this.get(a);return i||(i=new GY({client:e,queryKey:n,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){vn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>hP(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>hP(e,r)):t}notify(e){vn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){vn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){vn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},nZ=class{#e;#t;#r;#a;#n;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new rZ,this.#t=e.mutationCache||new eZ,this.#r=e.defaultOptions||{},this.#a=new Map,this.#n=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=HC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Pv.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Cl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(n.queryHash)?.state.data,o=LY(t,i);if(o!==void 0)return this.#e.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return vn.batch(()=>this.#e.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;vn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return vn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=vn.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(ra).catch(ra)}invalidateQueries(e,t={}){return vn.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=vn.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(ra)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ra)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Cl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ra).catch(ra)}fetchInfiniteQuery(e){return e.behavior=wP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ra).catch(ra)}ensureInfiniteQueryData(e){return e.behavior=wP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Pv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#a.set(Ic(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],r={};return t.forEach(n=>{Lh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#n.set(Ic(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{Lh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=qC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===VC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},vz=x.createContext(void 0),jr=e=>{const t=x.useContext(vz);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},aZ=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(vz.Provider,{value:e,children:t})),yz=x.createContext(!1),iZ=()=>x.useContext(yz);yz.Provider;function sZ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oZ=x.createContext(sZ()),lZ=()=>x.useContext(oZ),cZ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},uZ=e=>{x.useEffect(()=>{e.clearReset()},[e])},dZ=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||dz(r,[e.error,n])),fZ=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},hZ=(e,t)=>e.isLoading&&e.isFetching&&!t,mZ=(e,t)=>e?.suspense&&t.isPending,jP=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function pZ(e,t,r){const n=iZ(),a=lZ(),i=jr(),o=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",fZ(o),cZ(o,a),uZ(a);const c=!i.getQueryCache().get(o.queryHash),[d]=x.useState(()=>new t(i,o)),f=d.getOptimisticResult(o),m=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(p=>{const y=m?d.subscribe(vn.batchCalls(p)):ra;return d.updateResult(),y},[d,m]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),x.useEffect(()=>{d.setOptions(o)},[o,d]),mZ(o,f))throw jP(o,d,a);if(dZ({result:f,errorResetBoundary:a,throwOnError:o.throwOnError,query:i.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(o,f),o.experimental_prefetchInRender&&!Mc&&hZ(f,n)&&(c?jP(o,d,a):i.getQueryCache().get(o.queryHash)?.promise)?.catch(ra).finally(()=>{d.updateResult()}),o.notifyOnChangeProps?f:d.trackResult(f)}function Je(e,t){return pZ(e,YY)}function pr(e,t){const r=jr(),[n]=x.useState(()=>new tZ(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const a=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(vn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,c)=>{n.mutate(o,c).catch(ra)},[n]);if(a.error&&dz(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}var BS=function(e,t){return BS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},BS(e,t)};function xz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");BS(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var bi=function(){return bi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},bi.apply(this,arguments)};function Ml(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function bz(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function wz(e,t){return function(r,n){t(r,n,e)}}function _z(e,t,r,n,a,i){function o(j){if(j!==void 0&&typeof j!="function")throw new TypeError("Function expected");return j}for(var c=n.kind,d=c==="getter"?"get":c==="setter"?"set":"value",f=!t&&e?n.static?e:e.prototype:null,m=t||(f?Object.getOwnPropertyDescriptor(f,n.name):{}),p,y=!1,g=r.length-1;g>=0;g--){var b={};for(var w in n)b[w]=w==="access"?{}:n[w];for(var w in n.access)b.access[w]=n.access[w];b.addInitializer=function(j){if(y)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(j||null))};var _=(0,r[g])(c==="accessor"?{get:m.get,set:m.set}:m[d],b);if(c==="accessor"){if(_===void 0)continue;if(_===null||typeof _!="object")throw new TypeError("Object expected");(p=o(_.get))&&(m.get=p),(p=o(_.set))&&(m.set=p),(p=o(_.init))&&a.unshift(p)}else(p=o(_))&&(c==="field"?a.unshift(p):m[d]=p)}f&&Object.defineProperty(f,n.name,m),y=!0}function jz(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function Sz(e){return typeof e=="symbol"?e:"".concat(e)}function Cz(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function Nz(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Xe(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function c(m){try{f(n.next(m))}catch(p){o(p)}}function d(m){try{f(n.throw(m))}catch(p){o(p)}}function f(m){m.done?i(m.value):a(m.value).then(c,d)}f((n=n.apply(e,t||[])).next())})}function Ez(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=c(0),o.throw=c(1),o.return=c(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(f){return function(m){return d([f,m])}}function d(f){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(r=0)),r;)try{if(n=1,a&&(i=f[0]&2?a.return:f[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,f[1])).done)return i;switch(a=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,a=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){r.label=f[1];break}if(f[0]===6&&r.label<i[1]){r.label=i[1],i=f;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(f);break}i[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(m){f=[6,m],a=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var ux=Object.create?(function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]});function kz(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&ux(t,e,r)}function Dv(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function KC(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Az(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(KC(arguments[t]));return e}function Oz(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,c=i.length;o<c;o++,a++)n[a]=i[o];return n}function GC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function Cd(e){return this instanceof Cd?(this.v=e,this):new Cd(e)}function Tz(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(g){return function(b){return Promise.resolve(b).then(g,p)}}function c(g,b){n[g]&&(a[g]=function(w){return new Promise(function(_,j){i.push([g,w,_,j])>1||d(g,w)})},b&&(a[g]=b(a[g])))}function d(g,b){try{f(n[g](b))}catch(w){y(i[0][3],w)}}function f(g){g.value instanceof Cd?Promise.resolve(g.value.v).then(m,p):y(i[0][2],g)}function m(g){d("next",g)}function p(g){d("throw",g)}function y(g,b){g(b),i.shift(),i.length&&d(i[0][0],i[0][1])}}function Rz(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:Cd(e[a](o)),done:!1}:i?i(o):o}:i}}function Pz(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Dv=="function"?Dv(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(c,d){o=e[i](o),a(c,d,o.done,o.value)})}}function a(i,o,c,d){Promise.resolve(d).then(function(f){i({value:f,done:c})},o)}}function Dz(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var gZ=Object.create?(function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}):function(e,t){e.default=t},qS=function(e){return qS=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},qS(e)};function Mz(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=qS(e),n=0;n<r.length;n++)r[n]!=="default"&&ux(t,e,r[n]);return gZ(t,e),t}function Iz(e){return e&&e.__esModule?e:{default:e}}function $z(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Lz(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function zz(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Fz(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var vZ=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function Uz(e){function t(i){e.error=e.hasError?new vZ(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function Bz(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const yZ={__extends:xz,__assign:bi,__rest:Ml,__decorate:bz,__param:wz,__esDecorate:_z,__runInitializers:jz,__propKey:Sz,__setFunctionName:Cz,__metadata:Nz,__awaiter:Xe,__generator:Ez,__createBinding:ux,__exportStar:kz,__values:Dv,__read:KC,__spread:Az,__spreadArrays:Oz,__spreadArray:GC,__await:Cd,__asyncGenerator:Tz,__asyncDelegator:Rz,__asyncValues:Pz,__makeTemplateObject:Dz,__importStar:Mz,__importDefault:Iz,__classPrivateFieldGet:$z,__classPrivateFieldSet:Lz,__classPrivateFieldIn:zz,__addDisposableResource:Fz,__disposeResources:Uz,__rewriteRelativeImportExtension:Bz},xZ=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Fz,get __assign(){return bi},__asyncDelegator:Rz,__asyncGenerator:Tz,__asyncValues:Pz,__await:Cd,__awaiter:Xe,__classPrivateFieldGet:$z,__classPrivateFieldIn:zz,__classPrivateFieldSet:Lz,__createBinding:ux,__decorate:bz,__disposeResources:Uz,__esDecorate:_z,__exportStar:kz,__extends:xz,__generator:Ez,__importDefault:Iz,__importStar:Mz,__makeTemplateObject:Dz,__metadata:Nz,__param:wz,__propKey:Sz,__read:KC,__rest:Ml,__rewriteRelativeImportExtension:Bz,__runInitializers:jz,__setFunctionName:Cz,__spread:Az,__spreadArray:GC,__spreadArrays:Oz,__values:Dv,default:yZ},Symbol.toStringTag,{value:"Module"})),bZ=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class YC extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class wZ extends YC{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class SP extends YC{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class CP extends YC{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var VS;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(VS||(VS={}));class _Z{constructor(t,{headers:r={},customFetch:n,region:a=VS.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=bZ(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Xe(this,arguments,void 0,function*(r,n={}){var a;let i,o;try{const{headers:c,method:d,body:f,signal:m,timeout:p}=n;let y={},{region:g}=n;g||(g=this.region);const b=new URL(`${this.url}/${r}`);g&&g!=="any"&&(y["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let w;f&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=f):typeof f=="string"?(y["Content-Type"]="text/plain",w=f):typeof FormData<"u"&&f instanceof FormData?w=f:(y["Content-Type"]="application/json",w=JSON.stringify(f)):w=f;let _=m;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),m?(_=o.signal,m.addEventListener("abort",()=>o.abort())):_=o.signal);const j=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:w,signal:_}).catch(A=>{throw new wZ(A)}),N=j.headers.get("x-relay-error");if(N&&N==="true")throw new SP(j);if(!j.ok)throw new CP(j);let E=((a=j.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return E==="application/json"?k=yield j.json():E==="application/octet-stream"||E==="application/pdf"?k=yield j.blob():E==="text/event-stream"?k=j:E==="multipart/form-data"?k=yield j.formData():k=yield j.text(),{data:k,error:null,response:j}}catch(c){return{data:null,error:c,response:c instanceof CP||c instanceof SP?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var Wn={};const Bd=t7(xZ);var Ng={},Eg={},kg={},Ag={},Og={},Tg={},NP;function qz(){if(NP)return Tg;NP=1,Object.defineProperty(Tg,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Tg.default=e,Tg}var EP;function Vz(){if(EP)return Og;EP=1,Object.defineProperty(Og,"__esModule",{value:!0});const t=Bd.__importDefault(qz());class r{constructor(a){var i,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(i=a.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,i){return this.headers=new Headers(this.headers),this.headers.set(a,i),this}then(a,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var f,m,p,y;let g=null,b=null,w=null,_=d.status,j=d.statusText;if(d.ok){if(this.method!=="HEAD"){const A=await d.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((f=this.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?b=A:b=JSON.parse(A))}const E=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(p=d.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");E&&k&&k.length>1&&(w=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,w=null,_=406,j="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const E=await d.text();try{g=JSON.parse(E),Array.isArray(g)&&d.status===404&&(b=[],g=null,_=200,j="OK")}catch{d.status===404&&E===""?(_=204,j="No Content"):g={message:E}}if(g&&this.isMaybeSingle&&(!((y=g?.details)===null||y===void 0)&&y.includes("0 rows"))&&(g=null,_=200,j="OK"),g&&this.shouldThrowOnError)throw new t.default(g)}return{error:g,data:b,count:w,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(d=>{var f,m,p;return{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:`${(m=d?.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(p=d?.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,i)}returns(){return this}overrideTypes(){return this}}return Og.default=r,Og}var kP;function Hz(){if(kP)return Ag;kP=1,Object.defineProperty(Ag,"__esModule",{value:!0});const t=Bd.__importDefault(Vz());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:c,referencedTable:d=c}={}){const f=d?`${d}.order`:"order",m=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${m?`${m},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:c=o}={}){const d=typeof c>"u"?"offset":`${c}.offset`,f=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(d,`${a}`),this.url.searchParams.set(f,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:c=!1,wal:d=!1,format:f="text"}={}){var m;const p=[a?"analyze":null,i?"verbose":null,o?"settings":null,c?"buffers":null,d?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${y}"; options=${p};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Ag.default=r,Ag}var AP;function ZC(){if(AP)return kg;AP=1,Object.defineProperty(kg,"__esModule",{value:!0});const t=Bd.__importDefault(Hz()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const c=Array.from(new Set(o)).map(d=>typeof d=="string"&&r.test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${c})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:c,type:d}={}){let f="";d==="plain"?f="pl":d==="phrase"?f="ph":d==="websearch"&&(f="w");const m=c===void 0?"":`(${c})`;return this.url.searchParams.append(i,`${f}fts${m}.${o}`),this}match(i){return Object.entries(i).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(i,o,c){return this.url.searchParams.append(i,`not.${o}.${c}`),this}or(i,{foreignTable:o,referencedTable:c=o}={}){const d=c?`${c}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,o,c){return this.url.searchParams.append(i,`${o}.${c}`),this}}return kg.default=n,kg}var OP;function Wz(){if(OP)return Eg;OP=1,Object.defineProperty(Eg,"__esModule",{value:!0});const t=Bd.__importDefault(ZC());class r{constructor(a,{headers:i={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=c}select(a,i){const{head:o=!1,count:c}=i??{},d=o?"HEAD":"GET";let f=!1;const m=(a??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join("");return this.url.searchParams.set("select",m),c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var c;const d="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(f.length>0){const m=[...new Set(f)].map(p=>`"${p}"`);this.url.searchParams.set("columns",m.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:c,defaultToNull:d=!0}={}){var f;const m="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const p=a.reduce((y,g)=>y.concat(Object.keys(g)),[]);if(p.length>0){const y=[...new Set(p)].map(g=>`"${g}"`);this.url.searchParams.set("columns",y.join(","))}}return new t.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(a,{count:i}={}){var o;const c="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Eg.default=r,Eg}var TP;function jZ(){if(TP)return Ng;TP=1,Object.defineProperty(Ng,"__esModule",{value:!0});const e=Bd,t=e.__importDefault(Wz()),r=e.__importDefault(ZC());class n{constructor(i,{headers:o={},schema:c,fetch:d}={}){this.url=i,this.headers=new Headers(o),this.schemaName=c,this.fetch=d}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:c=!1,get:d=!1,count:f}={}){var m;let p;const y=new URL(`${this.url}/rpc/${i}`);let g;c||d?(p=c?"HEAD":"GET",Object.entries(o).filter(([w,_])=>_!==void 0).map(([w,_])=>[w,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([w,_])=>{y.searchParams.append(w,_)})):(p="POST",g=o);const b=new Headers(this.headers);return f&&b.set("Prefer",`count=${f}`),new r.default({method:p,url:y,headers:b,schema:this.schemaName,body:g,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}}return Ng.default=n,Ng}var RP;function SZ(){if(RP)return Wn;RP=1,Object.defineProperty(Wn,"__esModule",{value:!0}),Wn.PostgrestError=Wn.PostgrestBuilder=Wn.PostgrestTransformBuilder=Wn.PostgrestFilterBuilder=Wn.PostgrestQueryBuilder=Wn.PostgrestClient=void 0;const e=Bd,t=e.__importDefault(jZ());Wn.PostgrestClient=t.default;const r=e.__importDefault(Wz());Wn.PostgrestQueryBuilder=r.default;const n=e.__importDefault(ZC());Wn.PostgrestFilterBuilder=n.default;const a=e.__importDefault(Hz());Wn.PostgrestTransformBuilder=a.default;const i=e.__importDefault(Vz());Wn.PostgrestBuilder=i.default;const o=e.__importDefault(qz());return Wn.PostgrestError=o.default,Wn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:i.default,PostgrestError:o.default},Wn}var Kz=SZ();const Gz=ti(Kz),CZ=H4({__proto__:null,default:Gz},[Kz]),{PostgrestClient:NZ,PostgrestQueryBuilder:l2e,PostgrestFilterBuilder:c2e,PostgrestTransformBuilder:u2e,PostgrestBuilder:d2e,PostgrestError:f2e}=Gz||CZ;class EZ{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const kZ="2.81.1",AZ=`realtime-js/${kZ}`,Yz="1.0.0",OZ="2.0.0",PP=Yz,HS=1e4,TZ=1e3,RZ=100;var xc;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xc||(xc={}));var pn;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pn||(pn={}));var xi;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(xi||(xi={}));var WS;(function(e){e.websocket="websocket"})(WS||(WS={}));var bc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bc||(bc={}));class PZ{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,r){if(this._isArrayBuffer(t.payload))return r(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodePush(t){const{join_ref:r,ref:n,event:a,topic:i,payload:o}=t,c=this.META_LENGTH+r.length+n.length+i.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+c);let f=new DataView(d),m=0;f.setUint8(m++,this.KINDS.push),f.setUint8(m++,r.length),f.setUint8(m++,n.length),f.setUint8(m++,i.length),f.setUint8(m++,a.length),Array.from(r,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(n,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(i,y=>f.setUint8(m++,y.charCodeAt(0))),Array.from(a,y=>f.setUint8(m++,y.charCodeAt(0)));var p=new Uint8Array(d.byteLength+o.byteLength);return p.set(new Uint8Array(d),0),p.set(new Uint8Array(o),d.byteLength),p.buffer}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,d=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),f=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+f);let p=new DataView(m),y=0;p.setUint8(y++,this.KINDS.userBroadcastPush),p.setUint8(y++,a.length),p.setUint8(y++,i.length),p.setUint8(y++,o.length),p.setUint8(y++,c.length),p.setUint8(y++,this.BINARY_ENCODING),Array.from(a,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(i,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(o,b=>p.setUint8(y++,b.charCodeAt(0))),Array.from(c,b=>p.setUint8(y++,b.charCodeAt(0)));var g=new Uint8Array(m.byteLength+d.byteLength);return g.set(new Uint8Array(m),0),g.set(new Uint8Array(d),m.byteLength),g.buffer}_encodeJsonUserBroadcastPush(t){var r,n;const{join_ref:a,ref:i,topic:o}=t,c=t.payload.event,d=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},m=new TextEncoder().encode(JSON.stringify(d)).buffer,p=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+i.length+o.length+c.length,y=new ArrayBuffer(this.HEADER_LENGTH+p);let g=new DataView(y),b=0;g.setUint8(b++,this.KINDS.userBroadcastPush),g.setUint8(b++,a.length),g.setUint8(b++,i.length),g.setUint8(b++,o.length),g.setUint8(b++,c.length),g.setUint8(b++,this.JSON_ENCODING),Array.from(a,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(i,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(o,_=>g.setUint8(b++,_.charCodeAt(0))),Array.from(c,_=>g.setUint8(b++,_.charCodeAt(0)));var w=new Uint8Array(y.byteLength+m.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(m),y.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,o,c,d]=n;return r({join_ref:a,ref:i,topic:o,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(t,r,a);case this.KINDS.reply:return this._decodeReply(t,r,a);case this.KINDS.broadcast:return this._decodeBroadcast(t,r,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodePush(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+i));c=c+i;const m=n.decode(t.slice(c,c+o));c=c+o;const p=JSON.parse(n.decode(t.slice(c,t.byteLength)));return{join_ref:d,ref:null,topic:f,event:m,payload:p}}_decodeReply(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+this.META_LENGTH;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+i));d=d+i;const p=n.decode(t.slice(d,d+o));d=d+o;const y=n.decode(t.slice(d,d+c));d=d+c;const g=JSON.parse(n.decode(t.slice(d,t.byteLength))),b={status:y,response:g};return{join_ref:f,ref:m,topic:p,event:xi.reply,payload:b}}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const c=n.decode(t.slice(o,o+a));o=o+a;const d=n.decode(t.slice(o,o+i));o=o+i;const f=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:c,event:d,payload:f}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const f=n.decode(t.slice(d,d+a));d=d+a;const m=n.decode(t.slice(d,d+i));d=d+i;const p=n.decode(t.slice(d,d+o));d=d+o;const y=t.slice(d,t.byteLength),g=c===this.JSON_ENCODING?JSON.parse(n.decode(y)):y,b={type:this.BROADCAST,event:m,payload:g};return o>0&&(b.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Zz{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lr;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lr||(lr={}));const DP=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=DZ(o,e,t,a),i),{}):{}},DZ=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a?.type,o=r[e];return i&&!n.includes(i)?Xz(i,o):KS(o)},Xz=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return LZ(t,r)}switch(e){case lr.bool:return MZ(t);case lr.float4:case lr.float8:case lr.int2:case lr.int4:case lr.int8:case lr.numeric:case lr.oid:return IZ(t);case lr.json:case lr.jsonb:return $Z(t);case lr.timestamp:return zZ(t);case lr.abstime:case lr.date:case lr.daterange:case lr.int4range:case lr.int8range:case lr.money:case lr.reltime:case lr.text:case lr.time:case lr.timestamptz:case lr.timetz:case lr.tsrange:case lr.tstzrange:return KS(t);default:return KS(t)}},KS=e=>e,MZ=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IZ=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},$Z=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},LZ=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(c=>Xz(t,c))}return e},zZ=e=>typeof e=="string"?e.replace(" ","T"):e,Qz=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class u_{constructor(t,r,n={},a=HS){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var MP;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(MP||(MP={}));class Nh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Nh.syncState(this.state,a,i,o),this.pendingDiffs.forEach(d=>{this.state=Nh.syncDiff(this.state,d,i,o)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Nh.syncDiff(this.state,a,i,o),c())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),c={},d={};return this.map(i,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const p=i[f];if(p){const y=m.map(_=>_.presence_ref),g=p.map(_=>_.presence_ref),b=m.filter(_=>g.indexOf(_.presence_ref)<0),w=p.filter(_=>y.indexOf(_.presence_ref)<0);b.length>0&&(c[f]=b),w.length>0&&(d[f]=w)}else c[f]=m}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var f;const m=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),m.length>0){const p=t[c].map(g=>g.presence_ref),y=m.filter(g=>p.indexOf(g.presence_ref)<0);t[c].unshift(...y)}n(c,m,d)}),this.map(o,(c,d)=>{let f=t[c];if(!f)return;const m=d.map(p=>p.presence_ref);f=f.filter(p=>m.indexOf(p.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var IP;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(IP||(IP={}));var Eh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Eh||(Eh={}));var so;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(so||(so={}));class XC{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u_(this,xi.join,this.params,this.timeout),this.rejoinTimer=new Zz(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(xi.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Nh(this),this.broadcastEndpointURL=Qz(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pn.closed){const{config:{broadcast:o,presence:c,private:d}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Eh.PRESENCE]&&this.bindings[Eh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},y={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:m}),postgres_changes:f,private:d};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(g=>t?.(so.CHANNEL_ERROR,g)),this._onClose(()=>t?.(so.CLOSED)),this.updateJoinPayload(Object.assign({config:y},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket.setAuth(),g===void 0){t?.(so.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(b=w?.length)!==null&&b!==void 0?b:0,j=[];for(let N=0;N<_;N++){const E=w[N],{filter:{event:k,schema:A,table:R,filter:T}}=E,O=g&&g[N];if(O&&O.event===k&&O.schema===A&&O.table===R&&O.filter===T)j.push(Object.assign(Object.assign({},E),{id:O.id}));else{this.unsubscribe(),this.state=pn.errored,t?.(so.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(so.SUBSCRIBED);return}}).receive("error",g=>{this.state=pn.errored,t?.(so.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t?.(so.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pn.joined&&t===Eh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const f=await c.json();d=f.error||f.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,c,d;const f=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),f.receive("ok",()=>i("ok")),f.receive("error",()=>i("error")),f.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pn.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(xi.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new u_(this,xi.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pn.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new u_(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>RZ){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:m}=xi;if(n&&[c,d,f,m].indexOf(o)>=0&&n!==this._joinRef())return;let y=this._onMessage(o,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var b,w,_;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(w=g.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(g=>g.callback(y,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,w,_,j,N,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const k=g.id,A=(b=g.filter)===null||b===void 0?void 0:b.event;return k&&((w=r.ids)===null||w===void 0?void 0:w.includes(k))&&(A==="*"||A?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(N=(j=g?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return k==="*"||k===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:w,table:_,commit_timestamp:j,type:N,errors:E}=b;y=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:E}),this._getPayloadRecords(b))}g.callback(y,n)})}_isClosed(){return this.state===pn.closed}_isJoined(){return this.state===pn.joined}_isJoining(){return this.state===pn.joining}_isLeaving(){return this.state===pn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&XC.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(xi.close,{},t)}_onError(t){this._on(xi.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=DP(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=DP(t.columns,t.old_record)),r}}const d_=()=>{},Rg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FZ=[1e3,2e3,5e3,1e4],UZ=1e4,BZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qZ{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=HS,this.transport=null,this.heartbeatIntervalMs=Rg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d_,this.ref=0,this.reconnectTimer=null,this.vsn=PP,this.logger=d_,this.conn=null,this.sendBuffer=[],this.serializer=new PZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${WS.websocket}`,this.httpEndpoint=Qz(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=EZ.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xc.connecting:return bc.Connecting;case xc.open:return bc.Open;case xc.closing:return bc.Closing;default:return bc.Closed}}isConnected(){return this.connectionState()===bc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new XC(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(TZ,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Rg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(f){this.log("error","error in heartbeat callback",f)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,c=o?`(${o})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===xc.open||this.conn.readyState===xc.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(xi.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([BZ],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:AZ};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(xi.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Zz(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,c,d,f,m,p,y,g;switch(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:HS,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:Rg.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=t?.heartbeatCallback)!==null&&c!==void 0?c:d_,this.vsn=(d=t?.vsn)!==null&&d!==void 0?d:PP,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=t?.reconnectAfterMs)!==null&&f!==void 0?f:(b=>FZ[b-1]||UZ),this.vsn){case Yz:this.encode=(m=t?.encode)!==null&&m!==void 0?m:((b,w)=>w(JSON.stringify(b))),this.decode=(p=t?.decode)!==null&&p!==void 0?p:((b,w)=>w(JSON.parse(b)));break;case OZ:this.encode=(y=t?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class QC extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class VZ extends QC{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class GS extends QC{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const JC=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),HZ=()=>Response,YS=e=>{if(Array.isArray(e))return e.map(r=>YS(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=YS(n)}),t},WZ=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},f_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},KZ=(e,t,r)=>Xe(void 0,void 0,void 0,function*(){const n=yield HZ();e instanceof n&&!r?.noResolveJson?e.json().then(a=>{const i=e.status||500,o=a?.statusCode||i+"";t(new VZ(f_(a),i,o))}).catch(a=>{t(new GS(f_(a),a))}):t(new GS(f_(e),e))}),GZ=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!n?a:(WZ(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Sm(e,t,r,n,a,i){return Xe(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,GZ(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n?.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>KZ(d,c,n))})})}function zh(e,t,r,n){return Xe(this,void 0,void 0,function*(){return Sm(e,"GET",t,r,n)})}function Bi(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return Sm(e,"POST",t,n,a,r)})}function ZS(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return Sm(e,"PUT",t,n,a,r)})}function YZ(e,t,r,n){return Xe(this,void 0,void 0,function*(){return Sm(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function eN(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return Sm(e,"DELETE",t,n,a,r)})}class ZZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}var Jz;class XZ{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Jz]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZZ(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Xe(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kr(t))return{data:null,error:t};throw t}})}}Jz=Symbol.toStringTag;const QZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$P={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class JZ{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=JC(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$P),a);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),d&&i.append("metadata",this.encodeMetadata(d)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),d&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(d))):(i=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,d&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const f=this._removeEmptyFolders(r),m=this._getFinalPath(f),p=yield(t=="PUT"?ZS:Bi)(this.fetch,`${this.url}/object/${m}`,i,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kr(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",r);try{let d;const f=Object.assign({upsert:$P.upsert},a),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&n instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",n)):typeof FormData<"u"&&n instanceof FormData?(d=n,d.append("cacheControl",f.cacheControl)):(d=n,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const p=yield ZS(this.fetch,c.toString(),d,{headers:m});return{data:{path:i,fullPath:p.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(kr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,r){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const i=yield Bi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),c=o.searchParams.get("token");if(!c)throw new QC("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:c},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}update(t,r,n){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}copy(t,r,n){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield Bi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return Xe(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Bi(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return Xe(this,void 0,void 0,function*(){try{const a=yield Bi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(r?.transform||{}),o=i?`?${i}`:"",c=this._getFinalPath(t),d=()=>zh(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new XZ(d,this.shouldThrowOnError)}info(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield zh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:YS(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}exists(t){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield YZ(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n)&&n instanceof GS){const a=n.originalError;if([400,404].includes(a?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r?.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const c=typeof r?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(r?.transform||{});d!==""&&a.push(d);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${f}`)}}}remove(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}list(t,r,n){return Xe(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},QZ),r),{prefix:t||""});return{data:yield Bi(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}listV2(t,r){return Xe(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Bi(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const eF="2.81.1",tF={"X-Client-Info":`storage-js/${eF}`};class eX{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tF),r),this.fetch=JC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield zh(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}createBucket(t){return Xe(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kr(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield ZS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kr(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class tX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tF),r),this.fetch=JC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}listBuckets(t){return Xe(this,void 0,void 0,function*(){try{const r=new URLSearchParams;t?.limit!==void 0&&r.set("limit",t.limit.toString()),t?.offset!==void 0&&r.set("offset",t.offset.toString()),t?.sortColumn&&r.set("sortColumn",t.sortColumn),t?.sortOrder&&r.set("sortOrder",t.sortOrder),t?.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield zh(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield eN(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kr(r))return{data:null,error:r};throw r}})}}const tN={"X-Client-Info":`storage-js/${eF}`,"Content-Type":"application/json"};class rF extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ba(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class h_ extends rF{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class rX extends rF{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var LP;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(LP||(LP={}));const rN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nX=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},zP=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),aX=(e,t,r)=>Xe(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!r?.noResolveJson){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const c=o?.statusCode||o?.code||a+"";t(new h_(zP(o),a,c))}).catch(()=>{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new h_(c,a,o))});else{const o=a+"",c=i.statusText||`HTTP ${a} error`;t(new h_(c,a,o))}}else t(new rX(zP(e),e))}),iX=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return n?(nX(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function sX(e,t,r,n,a,i){return Xe(this,void 0,void 0,function*(){return new Promise((o,c)=>{e(r,iX(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n?.noResolveJson)return d;const f=d.headers.get("content-type");return!f||!f.includes("application/json")?{}:d.json()}).then(d=>o(d)).catch(d=>aX(d,c,n))})})}function qa(e,t,r,n,a){return Xe(this,void 0,void 0,function*(){return sX(e,"POST",t,n,a,r)})}class oX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tN),r),this.fetch=rN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}})}listIndexes(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Xe(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ba(n))return{data:null,error:n};throw n}})}}class lX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tN),r),this.fetch=rN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield qa(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}listVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield qa(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}queryVectors(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Xe(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield qa(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}}class cX{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},tN),r),this.fetch=rN(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}getBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:yield qa(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}listBuckets(){return Xe(this,arguments,void 0,function*(t={}){try{return{data:yield qa(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xe(this,void 0,void 0,function*(){try{return{data:(yield qa(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ba(r))return{data:null,error:r};throw r}})}}class uX extends cX{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new dX(this.url,this.headers,t,this.fetch)}}class dX extends oX{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Xe(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Xe(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Xe(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Xe(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new fX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class fX extends lX{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Xe(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Xe(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Xe(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Xe(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Xe(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class hX extends eX{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new JZ(this.url,this.headers,t,this.fetch)}get vectors(){return new uX(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tX(this.url+"/iceberg",this.headers,this.fetch)}}const mX="2.81.1";let bh="";typeof Deno<"u"?bh="deno":typeof document<"u"?bh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bh="react-native":bh="node";const pX={"X-Client-Info":`supabase-js-${bh}/${mX}`},gX={headers:pX},vX={schema:"public"},yX={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xX={},bX=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wX=()=>Headers,_X=(e,t,r)=>{const n=bX(r),a=wX();return async(i,o)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let f=new a(o?.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),n(i,Object.assign(Object.assign({},o),{headers:f}))}};function jX(e){return e.endsWith("/")?e:e+"/"}function SX(e,t){var r,n;const{db:a,auth:i,realtime:o,global:c}=e,{db:d,auth:f,realtime:m,global:p}=t,y={db:Object.assign(Object.assign({},d),a),auth:Object.assign(Object.assign({},f),i),realtime:Object.assign(Object.assign({},m),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),c),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=c?.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?y.accessToken=e.accessToken:delete y.accessToken,y}function CX(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(jX(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nF="2.81.1",ld=30*1e3,XS=3,m_=XS*ld,NX="http://localhost:9999",EX="supabase.auth.token",kX={"X-Client-Info":`gotrue-js/${nF}`},QS="X-Supabase-Api-Version",aF={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OX=600*1e3;class Fh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function nt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class TX extends Fh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RX(e){return nt(e)&&e.name==="AuthApiError"}class wc extends Fh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Il extends Fh{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class zi extends Il{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PX(e){return nt(e)&&e.name==="AuthSessionMissingError"}class Gu extends Il{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pg extends Il{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Dg extends Il{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DX(e){return nt(e)&&e.name==="AuthImplicitGrantRedirectError"}class FP extends Il{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JS extends Il{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function p_(e){return nt(e)&&e.name==="AuthRetryableFetchError"}class UP extends Il{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class e1 extends Il{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Mv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),BP=` 	
\r=`.split(""),MX=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<BP.length;t+=1)e[BP[t].charCodeAt(0)]=-2;for(let t=0;t<Mv.length;t+=1)e[Mv[t].charCodeAt(0)]=t;return e})();function qP(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Mv[n]),t.queuedBits-=6}}function iF(e,t,r){const n=MX[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function VP(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{LX(o,n,r)};for(let o=0;o<e.length;o+=1)iF(e.charCodeAt(o),a,i);return t.join("")}function IX(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function $X(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}IX(n,t)}}function LX(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)iF(e.charCodeAt(a),r,n);return new Uint8Array(t)}function zX(e){const t=[];return $X(e,r=>t.push(r)),new Uint8Array(t)}function jc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>qP(a,r,n)),qP(null,r,n),t.join("")}function FX(e){return Math.round(Date.now()/1e3)+e}function UX(){return Symbol("auth-callback")}const Ln=()=>typeof window<"u"&&typeof document<"u",dc={tested:!1,writable:!1},sF=()=>{if(!Ln())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dc.tested)return dc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dc.tested=!0,dc.writable=!0}catch{dc.tested=!0,dc.writable=!1}return dc.writable};function BX(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const oF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qX=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cd=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},fc=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ml=async(e,t)=>{await e.removeItem(t)};class dx{constructor(){this.promise=new dx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}dx.promiseConstructor=Promise;function g_(e){const t=e.split(".");if(t.length!==3)throw new e1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AX.test(t[n]))throw new e1("JWT not in base64url format");return{header:JSON.parse(VP(t[0])),payload:JSON.parse(VP(t[1])),signature:gd(t[2]),raw:{header:t[0],payload:t[1]}}}async function VX(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HX(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function WX(e){return("0"+e.toString(16)).substr(-2)}function KX(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,WX).join("")}async function GX(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function YX(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GX(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Yu(e,t,r=!1){const n=KX();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await cd(e,`${t}-code-verifier`,a);const i=await YX(n);return[i,n===i?"plain":"s256"]}const ZX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XX(e){const t=e.headers.get(QS);if(!t||!t.match(ZX))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QX(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JX(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Zu(e){if(!eQ.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function v_(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tQ(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function HP(e){return JSON.parse(JSON.stringify(e))}const mc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rQ=[502,503,504];async function WP(e){var t;if(!qX(e))throw new JS(mc(e),0);if(rQ.includes(e.status))throw new JS(mc(e),e.status);let r;try{r=await e.json()}catch(i){throw new wc(mc(i),i)}let n;const a=XX(e);if(a&&a.getTime()>=aF["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new UP(mc(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new zi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new UP(mc(r),e.status,r.weak_password.reasons);throw new TX(mc(r),e.status||500,n)}const nQ=(e,t,r,n)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function gt(e,t,r,n){var a;const i=Object.assign({},n?.headers);i[QS]||(i[QS]=aF["2024-01-01"].name),n?.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n?.query)!==null&&a!==void 0?a:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await aQ(e,t,r+c,{headers:i,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(d):{data:Object.assign({},d),error:null}}async function aQ(e,t,r,n,a,i){const o=nQ(t,n,a,i);let c;try{c=await e(r,Object.assign({},o))}catch(d){throw console.error(d),new JS(mc(d),0)}if(c.ok||await WP(c),n?.noResolveJson)return c;try{return await c.json()}catch(d){await WP(d)}}function Fi(e){var t;let r=null;oQ(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FX(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function KP(e){const t=Fi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iQ(e){return{data:e,error:null}}function sQ(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=Ml(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},o);return{data:{properties:c,user:d},error:null}}function GP(e){return e}function oQ(e){return e.access_token&&e.refresh_token&&e.expires_in}const y_=["global","local","others"];class lQ{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=oF(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=y_[0]){if(y_.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y_.join(", ")}`);try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bl})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ml(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n?.newEmail,delete a.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:sQ,redirectTo:r?.redirectTo})}catch(r){if(nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bl})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:GP});if(m.error)throw m.error;const p=await m.json(),y=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(nt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Zu(t);try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bl})}catch(r){if(nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Zu(t);try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bl})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Zu(t);try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bl})}catch(n){if(nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Zu(t.userId);try{const{data:r,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Zu(t.userId),Zu(t.id);try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,c,d;try{const f={nextPage:null,lastPage:0,total:0},m=await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:GP});if(m.error)throw m.error;const p=await m.json(),y=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(d=(c=m.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);f[`${_}Page`]=w}),f.total=parseInt(y)),{data:Object.assign(Object.assign({},p),f),error:null}}catch(f){if(nt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await gt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await gt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(nt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(nt(r))return{data:null,error:r};throw r}}}function YP(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xu={debug:!!(globalThis&&sF()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lF extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cQ extends lF{}async function uQ(e,t,r){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Xu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cQ(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xu.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function dQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cF(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function fQ(e){return parseInt(e,16)}function hQ(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function mQ(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:c,requestId:d,resources:f,scheme:m,uri:p,version:y}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=cF(e.address),b=m?`${m}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${b} wants you to sign in with your Ethereum account:
${g}

${w}`;let j=`URI: ${p}
Version: ${y}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(j+=`
Expiration Time: ${a.toISOString()}`),c&&(j+=`
Not Before: ${c.toISOString()}`),d&&(j+=`
Request ID: ${d}`),f){let N=`
Resources:`;for(const E of f){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);N+=`
- ${E}`}j+=N}return`${_}
${j}`}class sn extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Iv extends sn{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function pQ({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new sn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new sn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new sn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new sn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new sn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new sn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(uF(o)){if(i.rp.id!==o)return new sn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new sn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function gQ({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new sn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new sn({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(uF(n)){if(r.rpId!==n)return new sn({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new sn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new sn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new sn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class vQ{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const yQ=new vQ;function xQ(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Ml(e,["challenge","user","excludeCredentials"]),i=gd(t).buffer,o=Object.assign(Object.assign({},r),{id:gd(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const f=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},f),{id:gd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return c}function bQ(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ml(e,["challenge","allowCredentials"]),a=gd(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const c=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},c),{id:gd(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function wQ(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jc(new Uint8Array(e.response.attestationObject)),clientDataJSON:jc(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _Q(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jc(new Uint8Array(a.authenticatorData)),clientDataJSON:jc(new Uint8Array(a.clientDataJSON)),signature:jc(new Uint8Array(a.signature)),userHandle:a.userHandle?jc(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uF(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ZP(){var e,t;return!!(Ln()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function jQ(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:pQ({error:t,options:e})}}}async function SQ(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Iv("Browser returned unexpected credential type",t)}:{data:null,error:new Iv("Empty credential response",t)}}catch(t){return{data:null,error:gQ({error:t,options:e})}}}const CQ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},NQ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function $v(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const c=n[i];t(c)?n[i]=$v(c,o):n[i]=$v(o)}else n[i]=o}return n}function EQ(e,t){return $v(CQ,e,t||{})}function kQ(e,t){return $v(NQ,e,t||{})}class AQ{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:c};const d=a??yQ.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=EQ(o.webauthn.credential_options.publicKey,i?.create),{data:m,error:p}=await jQ({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const f=kQ(o.webauthn.credential_options.publicKey,i?.request),{data:m,error:p}=await SQ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Fh("rpId is required for WebAuthn authentication")};try{if(!ZP())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:c};const{webauthn:d}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new Fh("rpId is required for WebAuthn registration")};try{if(!ZP())return{data:null,error:new wc("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===t&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m?.id}):void 0),{data:null,error:c};const{data:d,error:f}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:o.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:f}}catch(o){return nt(o)?{data:null,error:o}:{data:null,error:new wc("Unexpected error in register",o)}}}}dQ();const OQ={url:NX,storageKey:EX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function XP(e,t,r){return await r()}const Qu={};class Uh{get jwks(){var t,r;return(r=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Qu[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Qu[this.storageKey]=Object.assign(Object.assign({},Qu[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},OQ),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Uh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Ln()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lQ({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=oF(i.fetch),this.lock=i.lock||XP,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:Ln()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=uQ:this.lock=XP,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new AQ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:sF()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=YP(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=YP(this.memoryStorage)),Ln()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nF}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Ln()&&(r=BX(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Ln()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),DX(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return nt(r)?this._returnResult({error:r}):this._returnResult({error:new wc("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Fi}),{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:m,password:p,options:y}=t;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await Yu(this.storage,this.storageKey)),i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:m,password:p,data:(r=y?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:g,code_challenge_method:b},xform:Fi})}else if("phone"in t){const{phone:m,password:p,options:y}=t;i=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(n=y?.data)!==null&&n!==void 0?n:{},channel:(a=y?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:Fi})}else throw new Pg("You must provide either an email or phone number and a password");const{data:o,error:c}=i;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(i){if(nt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:c}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:KP})}else if("phone"in t){const{phone:i,password:o,options:c}=t;r=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:KP})}else throw new Pg("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new Gu;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,c,d,f,m,p,y;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:w,wallet:_,statement:j,options:N}=t;let E;if(Ln())if(typeof _=="object")E=_;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")E=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=_}const k=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),A=await E.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=cF(A[0]);let T=(n=N?.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const P=await E.request({method:"eth_chainId"});T=fQ(P)}const O={domain:k.host,address:R,statement:j,uri:k.href,version:"1",chainId:T,nonce:(a=N?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=N?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=N?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(f=N?.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.resources};g=mQ(O),b=await E.request({method:"personal_sign",params:[hQ(g),R]})}try{const{data:w,error:_}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Fi});if(_)throw _;if(!w||!w.session||!w.user){const j=new Gu;return this._returnResult({data:{user:null,session:null},error:j})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(nt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,a,i,o,c,d,f,m,p,y,g;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:_,wallet:j,statement:N,options:E}=t;let k;if(Ln())if(typeof j=="object")k=j;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))k=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=j}const A=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const R=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),N?{statement:N}:null));let T;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")T=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)T=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${A.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(n=E?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=E?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((o=E?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((c=E?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((d=E?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((p=(m=E?.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...E.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const R=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:_,error:j}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:jc(w)},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Fi});if(j)throw j;if(!_||!_.session||!_.user){const N=new Gu;return this._returnResult({data:{user:null,session:null},error:N})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:j})}catch(_){if(nt(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await fc(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fi});if(await ml(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const c=new Gu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(nt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,c=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Fi}),{data:d,error:f}=c;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!d||!d.session||!d.user){const m=new Gu;return this._returnResult({data:{user:null,session:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:f})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:c,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Yu(this.storage,this.storageKey));const{error:p}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(n=d?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in t){const{phone:c,options:d}=t,{data:f,error:m}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(o=d?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Pg("You must provide either an email or phone number.")}catch(c){if(nt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:c}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Fi});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:f,session:d},error:null})}catch(a){if(nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,o;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Yu(this.storage,this.storageKey));const f=await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:iQ});return!((i=f.data)===null||i===void 0)&&i.url&&Ln()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(c){if(nt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new zi;const{error:a}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(nt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:c}=await gt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new Pg("You must provide either an email or phone number and a type")}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await fc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<m_:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await fc(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=v_()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=tQ(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bl}):await this._useSession(async r=>{var n,a,i;const{data:o,error:c}=r;if(c)throw c;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zi}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:bl})})}catch(r){if(nt(r))return PX(r)&&(await this._removeSession(),await ml(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new zi;const o=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await Yu(this.storage,this.storageKey));const{data:f,error:m}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:o.access_token,xform:bl});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(nt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zi;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=g_(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(nt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:c}=r;if(c)throw c;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new zi;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Ln())throw new Dg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Dg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new FP("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Dg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new FP("No code detected.");const{data:N,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:c,expires_at:d,token_type:f}=t;if(!i||!c||!o||!f)throw new Dg("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(c);let y=m+p;d&&(y=parseInt(d));const g=y-m;g*1e3<=ld&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);const b=y-p;m-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,m):m-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,m);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const j={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:y,refresh_token:o,token_type:f,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(n){if(nt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await fc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:c}=await this.admin.signOut(o,t);if(c&&!(RX(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await ml(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=UX(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Yu(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(nt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,c,d,f,m;const{data:p,error:y}=i;if(y)throw y;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",g,{headers:this.headers,jwt:(m=(f=p.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return Ln()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),this._returnResult({data:{provider:t.provider,url:n?.url},error:null})}catch(n){if(nt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:c,token:d,access_token:f,nonce:m}=t,p=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i?.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:f,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Fi}),{data:y,error:g}=p;return g?this._returnResult({data:{user:null,session:null},error:g}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Gu}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:g}))}catch(a){if(nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HX(async a=>(a>0&&await VX(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fi})),(a,i)=>{const o=200*Math.pow(2,a);return i&&p_(i)&&Date.now()+o-n<ld})}catch(n){if(this._debug(r,"error",n),nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ln()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await fc(this.storage,this.storageKey);if(a&&this.userStorage){let o=await fc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await cd(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o?.user)!==null&&t!==void 0?t:v_()}else if(a&&!a.user&&!a.user){const o=await fc(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await ml(this.storage,this.storageKey+"-user"),await cd(this.storage,this.storageKey,a)):a.user=v_()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<m_;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${m_}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),p_(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(a.access_token);!c&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new zi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new dx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new zi;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),nt(i)){const o={data:null,error:i};return p_(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(o),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cd(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=HP(a);await cd(this.storage,this.storageKey,i)}else{const a=HP(r);await cd(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ml(this.storage,this.storageKey),await ml(this.storage,this.storageKey+"-code-verifier"),await ml(this.storage,this.storageKey+"-user"),this.userStorage&&await ml(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ln()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ld);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/ld);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ld}ms, refresh threshold is ${XS} ticks`),a<=XS&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lF)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ln()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Yu(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(n?.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n?.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:f}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d?.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?wQ(t.webauthn.credential_response):_Q(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:xQ(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:bQ(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r?.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=g_(n.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(m=>m.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const f=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await gt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new zi})})}catch(r){if(nt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zi});const o=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new zi});const o=await gt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Ln()&&!r?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+OX>a)return n;const{data:i,error:o}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});n=g.session.access_token}const{header:a,payload:i,signature:o,raw:{header:c,payload:d}}=g_(n);r?.allowExpired||QX(i.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!f){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:a,signature:o},error:null}}const m=JX(a.alg),p=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,zX(`${c}.${d}`)))throw new e1("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(nt(n))return this._returnResult({data:null,error:n});throw n}}}Uh.nextInstanceID={};const TQ=Uh;class RQ extends TQ{constructor(t){super(t)}}class PQ{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const c=CX(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:vX,realtime:xX,auth:Object.assign(Object.assign({},yX),{storageKey:d}),global:gX},m=SX(n??{},f);this.storageKey=(a=m.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=m.global.headers)!==null&&i!==void 0?i:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(p,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=m.auth)!==null&&o!==void 0?o:{},this.headers,m.global.fetch),this.fetch=_X(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new NZ(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new hX(this.storageUrl.href,this.headers,this.fetch,n?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new _Z(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:c,lock:d,debug:f,throwOnError:m},p,y){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new RQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:c,lock:d,debug:f,throwOnError:m,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new qZ(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const DQ=(e,t,r)=>new PQ(e,t,r);function MQ(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}MQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IQ="https://uctkrfjkzpfvbalqaitp.supabase.co",$Q="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVjdGtyZmprenBmdmJhbHFhaXRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4MDM5NzUsImV4cCI6MjA4MzM3OTk3NX0.u8WLMk9gpn07aVYOeHO-nXaZYGMJIBcNu6FZ5jqs02w",je=DQ(IQ,$Q,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),dF=x.createContext(void 0);function LQ({children:e}){const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(null),[c,d]=x.useState(!0),f=x.useCallback(async R=>{try{const{data:T,error:O}=await je.from("profiles").select("id, email, full_name, role, department_id, suspended").eq("id",R).single();if(O){console.error("Error fetching profile:",O),o(null);return}o(T)}catch(T){console.error("Error fetching profile:",T),o(null)}},[]),m=x.useCallback(async()=>{t?.id&&await f(t.id)},[t?.id,f]);x.useEffect(()=>{je.auth.getSession().then(({data:{session:T}})=>{a(T),r(T?.user??null),T?.user&&f(T.user.id),d(!1)});const{data:{subscription:R}}=je.auth.onAuthStateChange((T,O)=>{a(O),r(O?.user??null),O?.user?f(O.user.id):o(null),d(!1)});return()=>R.unsubscribe()},[f]);const p=async(R,T)=>{const{error:O}=await je.auth.signInWithPassword({email:R,password:T});return{error:O}},y=async()=>{await je.auth.signOut(),o(null)},g=i?.role==="root",b=i?.role==="admin",w=i?.role==="manager",_=i?.role==="team_lead",j=i?.role==="worker",N=g||b,E=N||w,A={user:t,session:n,profile:i,loading:c,signIn:p,signOut:y,refreshProfile:m,isRoot:g,isAdmin:b,isManager:w,isTeamLead:_,isWorker:j,isAdminOrAbove:N,isManagerOrAbove:E,isTeamLeadOrAbove:E||_};return s.jsx(dF.Provider,{value:A,children:e})}function Sr(){const e=x.useContext(dF);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function zQ(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const FQ=e=>{switch(e){case"success":return qQ;case"info":return HQ;case"warning":return VQ;case"error":return WQ;default:return null}},UQ=Array(12).fill(0),BQ=({visible:e,className:t})=>re.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},re.createElement("div",{className:"sonner-spinner"},UQ.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),qQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),VQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),HQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KQ=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),GQ=()=>{const[e,t]=re.useState(document.hidden);return re.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let t1=1;class YQ{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...a}=t,i=typeof t?.id=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:t1++,o=this.toasts.find(d=>d.id===i),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:n}),{...d,...t,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let i=n!==void 0,o;const c=a.then(async f=>{if(o=["resolve",f],re.isValidElement(f))i=!1,this.create({id:n,type:"default",message:f});else if(XQ(f)&&!f.ok){i=!1;const p=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,y=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:y,...b})}else if(f instanceof Error){i=!1;const p=typeof r.error=="function"?await r.error(f):r.error,y=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:y,...b})}else if(r.success!==void 0){i=!1;const p=typeof r.success=="function"?await r.success(f):r.success,y=typeof r.description=="function"?await r.description(f):r.description,b=typeof p=="object"&&!re.isValidElement(p)?p:{message:p};this.create({id:n,type:"success",description:y,...b})}}).catch(async f=>{if(o=["reject",f],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(f):r.error,p=typeof r.description=="function"?await r.description(f):r.description,g=typeof m=="object"&&!re.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:p,...g})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((f,m)=>c.then(()=>o[0]==="reject"?m(o[1]):f(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(t,r)=>{const n=r?.id||t1++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Sa=new YQ,ZQ=(e,t)=>{const r=t?.id||t1++;return Sa.addToast({title:e,...t,id:r}),r},XQ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",QQ=ZQ,JQ=()=>Sa.toasts,eJ=()=>Sa.getActiveToasts(),ja=Object.assign(QQ,{success:Sa.success,info:Sa.info,warning:Sa.warning,error:Sa.error,custom:Sa.custom,message:Sa.message,promise:Sa.promise,dismiss:Sa.dismiss,loading:Sa.loading},{getHistory:JQ,getToasts:eJ});zQ("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Mg(e){return e.label!==void 0}const tJ=3,rJ="24px",nJ="16px",QP=4e3,aJ=356,iJ=14,sJ=45,oJ=200;function ds(...e){return e.filter(Boolean).join(" ")}function lJ(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const cJ=e=>{var t,r,n,a,i,o,c,d,f;const{invert:m,toast:p,unstyled:y,interacting:g,setHeights:b,visibleToasts:w,heights:_,index:j,toasts:N,expanded:E,removeToast:k,defaultRichColors:A,closeButton:R,style:T,cancelButtonStyle:O,actionButtonStyle:P,className:$="",descriptionClassName:M="",duration:L,position:U,gap:X,expandByDefault:Y,classNames:F,icons:H,closeButtonAriaLabel:I="Close toast"}=e,[q,ue]=re.useState(null),[B,Q]=re.useState(null),[V,ae]=re.useState(!1),[Z,ne]=re.useState(!1),[ee,pe]=re.useState(!1),[G,ge]=re.useState(!1),[ye,le]=re.useState(!1),[Be,Le]=re.useState(0),[et,qe]=re.useState(0),Tt=re.useRef(p.duration||L||QP),Et=re.useRef(null),St=re.useRef(null),W=j===0,ie=j+1<=w,de=p.type,Re=p.dismissible!==!1,be=p.className||"",Ee=p.descriptionClassName||"",Pe=re.useMemo(()=>_.findIndex(pt=>pt.toastId===p.id)||0,[_,p.id]),lt=re.useMemo(()=>{var pt;return(pt=p.closeButton)!=null?pt:R},[p.closeButton,R]),yt=re.useMemo(()=>p.duration||L||QP,[p.duration,L]),vr=re.useRef(0),dn=re.useRef(0),Rr=re.useRef(0),Nr=re.useRef(null),[fn,yr]=U.split("-"),Jn=re.useMemo(()=>_.reduce((pt,or,Qr)=>Qr>=Pe?pt:pt+or.height,0),[_,Pe]),Pr=GQ(),Wl=p.invert||m,xt=de==="loading";dn.current=re.useMemo(()=>Pe*X+Jn,[Pe,Jn]),re.useEffect(()=>{Tt.current=yt},[yt]),re.useEffect(()=>{ae(!0)},[]),re.useEffect(()=>{const pt=St.current;if(pt){const or=pt.getBoundingClientRect().height;return qe(or),b(Qr=>[{toastId:p.id,height:or,position:p.position},...Qr]),()=>b(Qr=>Qr.filter(Jr=>Jr.toastId!==p.id))}},[b,p.id]),re.useLayoutEffect(()=>{if(!V)return;const pt=St.current,or=pt.style.height;pt.style.height="auto";const Qr=pt.getBoundingClientRect().height;pt.style.height=or,qe(Qr),b(Jr=>Jr.find(Er=>Er.toastId===p.id)?Jr.map(Er=>Er.toastId===p.id?{...Er,height:Qr}:Er):[{toastId:p.id,height:Qr,position:p.position},...Jr])},[V,p.title,p.description,b,p.id,p.jsx,p.action,p.cancel]);const zt=re.useCallback(()=>{ne(!0),Le(dn.current),b(pt=>pt.filter(or=>or.toastId!==p.id)),setTimeout(()=>{k(p)},oJ)},[p,k,b,dn]);re.useEffect(()=>{if(p.promise&&de==="loading"||p.duration===1/0||p.type==="loading")return;let pt;return E||g||Pr?(()=>{if(Rr.current<vr.current){const Jr=new Date().getTime()-vr.current;Tt.current=Tt.current-Jr}Rr.current=new Date().getTime()})():(()=>{Tt.current!==1/0&&(vr.current=new Date().getTime(),pt=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),zt()},Tt.current))})(),()=>clearTimeout(pt)},[E,g,p,de,Pr,zt]),re.useEffect(()=>{p.delete&&(zt(),p.onDismiss==null||p.onDismiss.call(p,p))},[zt,p.delete]);function ft(){var pt;if(H?.loading){var or;return re.createElement("div",{className:ds(F?.loader,p==null||(or=p.classNames)==null?void 0:or.loader,"sonner-loader"),"data-visible":de==="loading"},H.loading)}return re.createElement(BQ,{className:ds(F?.loader,p==null||(pt=p.classNames)==null?void 0:pt.loader),visible:de==="loading"})}const Bt=p.icon||H?.[de]||FQ(de);var Br,kt;return re.createElement("li",{tabIndex:0,ref:St,className:ds($,be,F?.toast,p==null||(t=p.classNames)==null?void 0:t.toast,F?.default,F?.[de],p==null||(r=p.classNames)==null?void 0:r[de]),"data-sonner-toast":"","data-rich-colors":(Br=p.richColors)!=null?Br:A,"data-styled":!(p.jsx||p.unstyled||y),"data-mounted":V,"data-promise":!!p.promise,"data-swiped":ye,"data-removed":Z,"data-visible":ie,"data-y-position":fn,"data-x-position":yr,"data-index":j,"data-front":W,"data-swiping":ee,"data-dismissible":Re,"data-type":de,"data-invert":Wl,"data-swipe-out":G,"data-swipe-direction":B,"data-expanded":!!(E||Y&&V),"data-testid":p.testId,style:{"--index":j,"--toasts-before":j,"--z-index":N.length-j,"--offset":`${Z?Be:dn.current}px`,"--initial-height":Y?"auto":`${et}px`,...T,...p.style},onDragEnd:()=>{pe(!1),ue(null),Nr.current=null},onPointerDown:pt=>{pt.button!==2&&(xt||!Re||(Et.current=new Date,Le(dn.current),pt.target.setPointerCapture(pt.pointerId),pt.target.tagName!=="BUTTON"&&(pe(!0),Nr.current={x:pt.clientX,y:pt.clientY})))},onPointerUp:()=>{var pt,or,Qr;if(G||!Re)return;Nr.current=null;const Jr=Number(((pt=St.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((or=St.current)==null?void 0:or.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Er=new Date().getTime()-((Qr=Et.current)==null?void 0:Qr.getTime()),ha=q==="x"?Jr:ai,Kl=Math.abs(ha)/Er;if(Math.abs(ha)>=sJ||Kl>.11){Le(dn.current),p.onDismiss==null||p.onDismiss.call(p,p),Q(q==="x"?Jr>0?"right":"left":ai>0?"down":"up"),zt(),ge(!0);return}else{var ma,pa;(ma=St.current)==null||ma.style.setProperty("--swipe-amount-x","0px"),(pa=St.current)==null||pa.style.setProperty("--swipe-amount-y","0px")}le(!1),pe(!1),ue(null)},onPointerMove:pt=>{var or,Qr,Jr;if(!Nr.current||!Re||((or=window.getSelection())==null?void 0:or.toString().length)>0)return;const Er=pt.clientY-Nr.current.y,ha=pt.clientX-Nr.current.x;var Kl;const ma=(Kl=e.swipeDirections)!=null?Kl:lJ(U);!q&&(Math.abs(ha)>1||Math.abs(Er)>1)&&ue(Math.abs(ha)>Math.abs(Er)?"x":"y");let pa={x:0,y:0};const cu=Mi=>1/(1.5+Math.abs(Mi)/20);if(q==="y"){if(ma.includes("top")||ma.includes("bottom"))if(ma.includes("top")&&Er<0||ma.includes("bottom")&&Er>0)pa.y=Er;else{const Mi=Er*cu(Er);pa.y=Math.abs(Mi)<Math.abs(Er)?Mi:Er}}else if(q==="x"&&(ma.includes("left")||ma.includes("right")))if(ma.includes("left")&&ha<0||ma.includes("right")&&ha>0)pa.x=ha;else{const Mi=ha*cu(ha);pa.x=Math.abs(Mi)<Math.abs(ha)?Mi:ha}(Math.abs(pa.x)>0||Math.abs(pa.y)>0)&&le(!0),(Qr=St.current)==null||Qr.style.setProperty("--swipe-amount-x",`${pa.x}px`),(Jr=St.current)==null||Jr.style.setProperty("--swipe-amount-y",`${pa.y}px`)}},lt&&!p.jsx&&de!=="loading"?re.createElement("button",{"aria-label":I,"data-disabled":xt,"data-close-button":!0,onClick:xt||!Re?()=>{}:()=>{zt(),p.onDismiss==null||p.onDismiss.call(p,p)},className:ds(F?.closeButton,p==null||(n=p.classNames)==null?void 0:n.closeButton)},(kt=H?.close)!=null?kt:KQ):null,(de||p.icon||p.promise)&&p.icon!==null&&(H?.[de]!==null||p.icon)?re.createElement("div",{"data-icon":"",className:ds(F?.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||ft():null,p.type!=="loading"?Bt:null):null,re.createElement("div",{"data-content":"",className:ds(F?.content,p==null||(i=p.classNames)==null?void 0:i.content)},re.createElement("div",{"data-title":"",className:ds(F?.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?re.createElement("div",{"data-description":"",className:ds(M,Ee,F?.description,p==null||(c=p.classNames)==null?void 0:c.description)},typeof p.description=="function"?p.description():p.description):null),re.isValidElement(p.cancel)?p.cancel:p.cancel&&Mg(p.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||O,onClick:pt=>{Mg(p.cancel)&&Re&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,pt),zt())},className:ds(F?.cancelButton,p==null||(d=p.classNames)==null?void 0:d.cancelButton)},p.cancel.label):null,re.isValidElement(p.action)?p.action:p.action&&Mg(p.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||P,onClick:pt=>{Mg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,pt),!pt.defaultPrevented&&zt())},className:ds(F?.actionButton,p==null||(f=p.classNames)==null?void 0:f.actionButton)},p.action.label):null)};function JP(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function uJ(e,t){const r={};return[e,t].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?nJ:rJ;function d(f){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${o}-${f}`]=c:r[`${o}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):d(c)}),r}const dJ=re.forwardRef(function(t,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:f,offset:m,mobileOffset:p,theme:y="light",richColors:g,duration:b,style:w,visibleToasts:_=tJ,toastOptions:j,dir:N=JP(),gap:E=iJ,icons:k,containerAriaLabel:A="Notifications"}=t,[R,T]=re.useState([]),O=re.useMemo(()=>n?R.filter(V=>V.toasterId===n):R.filter(V=>!V.toasterId),[R,n]),P=re.useMemo(()=>Array.from(new Set([i].concat(O.filter(V=>V.position).map(V=>V.position)))),[O,i]),[$,M]=re.useState([]),[L,U]=re.useState(!1),[X,Y]=re.useState(!1),[F,H]=re.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=re.useRef(null),q=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ue=re.useRef(null),B=re.useRef(!1),Q=re.useCallback(V=>{T(ae=>{var Z;return(Z=ae.find(ne=>ne.id===V.id))!=null&&Z.delete||Sa.dismiss(V.id),ae.filter(({id:ne})=>ne!==V.id)})},[]);return re.useEffect(()=>Sa.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{T(ae=>ae.map(Z=>Z.id===V.id?{...Z,delete:!0}:Z))});return}setTimeout(()=>{oz.flushSync(()=>{T(ae=>{const Z=ae.findIndex(ne=>ne.id===V.id);return Z!==-1?[...ae.slice(0,Z),{...ae[Z],...V},...ae.slice(Z+1)]:[V,...ae]})})})}),[R]),re.useEffect(()=>{if(y!=="system"){H(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:ae})=>{H(ae?"dark":"light")})}catch{V.addListener(({matches:Z})=>{try{H(Z?"dark":"light")}catch(ne){console.error(ne)}})}},[y]),re.useEffect(()=>{R.length<=1&&U(!1)},[R]),re.useEffect(()=>{const V=ae=>{var Z;if(o.every(pe=>ae[pe]||ae.code===pe)){var ee;U(!0),(ee=I.current)==null||ee.focus()}ae.code==="Escape"&&(document.activeElement===I.current||(Z=I.current)!=null&&Z.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[o]),re.useEffect(()=>{if(I.current)return()=>{ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null,B.current=!1)}},[I.current]),re.createElement("section",{ref:r,"aria-label":`${A} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((V,ae)=>{var Z;const[ne,ee]=V.split("-");return O.length?re.createElement("ol",{key:V,dir:N==="auto"?JP():N,tabIndex:-1,ref:I,className:f,"data-sonner-toaster":!0,"data-sonner-theme":F,"data-y-position":ne,"data-x-position":ee,style:{"--front-toast-height":`${((Z=$[0])==null?void 0:Z.height)||0}px`,"--width":`${aJ}px`,"--gap":`${E}px`,...w,...uJ(m,p)},onBlur:pe=>{B.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(B.current=!1,ue.current&&(ue.current.focus({preventScroll:!0}),ue.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||B.current||(B.current=!0,ue.current=pe.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{X||U(!1)},onDragEnd:()=>U(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},O.filter(pe=>!pe.position&&ae===0||pe.position===V).map((pe,G)=>{var ge,ye;return re.createElement(cJ,{key:pe.id,icons:k,index:G,toast:pe,defaultRichColors:g,duration:(ge=j?.duration)!=null?ge:b,className:j?.className,descriptionClassName:j?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(ye=j?.closeButton)!=null?ye:d,interacting:X,position:V,style:j?.style,unstyled:j?.unstyled,classNames:j?.classNames,cancelButtonStyle:j?.cancelButtonStyle,actionButtonStyle:j?.actionButtonStyle,closeButtonAriaLabel:j?.closeButtonAriaLabel,removeToast:Q,toasts:O.filter(le=>le.position==pe.position),heights:$.filter(le=>le.position==pe.position),setHeights:M,expandByDefault:c,gap:E,expanded:L,swipeDirections:t.swipeDirections})})):null}))});var Cm=e=>e.type==="checkbox",Sc=e=>e instanceof Date,Ca=e=>e==null;const fF=e=>typeof e=="object";var ln=e=>!Ca(e)&&!Array.isArray(e)&&fF(e)&&!Sc(e),fJ=e=>ln(e)&&e.target?Cm(e.target)?e.target.checked:e.target.value:e,hJ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,mJ=(e,t)=>e.has(hJ(t)),pJ=e=>{const t=e.constructor&&e.constructor.prototype;return ln(t)&&t.hasOwnProperty("isPrototypeOf")},nN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Cn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(nN&&(e instanceof Blob||n))&&(r||ln(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!pJ(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Cn(e[a]));else return e;return t}var fx=e=>/^\w*$/.test(e),Wr=e=>e===void 0,aN=e=>Array.isArray(e)?e.filter(Boolean):[],iN=e=>aN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ge=(e,t,r)=>{if(!t||!ln(e))return r;const n=(fx(t)?[t]:iN(t)).reduce((a,i)=>Ca(a)?a:a[i],e);return Wr(n)||n===e?Wr(e[t])?r:e[t]:n},ms=e=>typeof e=="boolean",ar=(e,t,r)=>{let n=-1;const a=fx(t)?[t]:iN(t),i=a.length,o=i-1;for(;++n<i;){const c=a[n];let d=r;if(n!==o){const f=e[c];d=ln(f)||Array.isArray(f)?f:isNaN(+a[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;e[c]=d,e=e[c]}};const eD={BLUR:"blur",FOCUS_OUT:"focusout"},qi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gJ=re.createContext(null);gJ.displayName="HookFormContext";var vJ=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==qi.all&&(t._proxyFormState[o]=!n||qi.all),e[o]}});return a};const yJ=typeof window<"u"?re.useLayoutEffect:re.useEffect;var Va=e=>typeof e=="string",xJ=(e,t,r,n,a)=>Va(e)?(n&&t.watch.add(e),Ge(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Ge(r,i))):(n&&(t.watchAll=!0),r),r1=e=>Ca(e)||!fF(e);function wl(e,t,r=new WeakSet){if(r1(e)||r1(t))return e===t;if(Sc(e)&&Sc(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const c=t[i];if(Sc(o)&&Sc(c)||ln(o)&&ln(c)||Array.isArray(o)&&Array.isArray(c)?!wl(o,c,r):o!==c)return!1}}return!0}var sN=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},kh=e=>Array.isArray(e)?e:[e],tD=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function hF(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&ln(a)&&i){const o=hF(a,i);ln(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var ta=e=>ln(e)&&!Object.keys(e).length,oN=e=>e.type==="file",Vi=e=>typeof e=="function",Lv=e=>{if(!nN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mF=e=>e.type==="select-multiple",lN=e=>e.type==="radio",bJ=e=>lN(e)||Cm(e),x_=e=>Lv(e)&&e.isConnected;function wJ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Wr(e)?n++:e[t[n++]];return e}function _J(e){for(const t in e)if(e.hasOwnProperty(t)&&!Wr(e[t]))return!1;return!0}function an(e,t){const r=Array.isArray(t)?t:fx(t)?[t]:iN(t),n=r.length===1?e:wJ(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(ln(n)&&ta(n)||Array.isArray(n)&&_J(n))&&an(e,r.slice(0,-1)),e}var jJ=e=>{for(const t in e)if(Vi(e[t]))return!0;return!1};function pF(e){return Array.isArray(e)||ln(e)&&!jJ(e)}function n1(e,t={}){for(const r in e)pF(e[r])?(t[r]=Array.isArray(e[r])?[]:{},n1(e[r],t[r])):Wr(e[r])||(t[r]=!0);return t}function ud(e,t,r){r||(r=n1(t));for(const n in e)pF(e[n])?Wr(t)||r1(r[n])?r[n]=n1(e[n],Array.isArray(e[n])?[]:{}):ud(e[n],Ca(t)?{}:t[n],r[n]):r[n]=!wl(e[n],t[n]);return r}const rD={value:!1,isValid:!1},nD={value:!0,isValid:!0};var gF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Wr(e[0].attributes.value)?Wr(e[0].value)||e[0].value===""?nD:{value:e[0].value,isValid:!0}:nD:rD}return rD},vF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Wr(e)?e:t?e===""?NaN:e&&+e:r&&Va(e)?new Date(e):n?n(e):e;const aD={isValid:!1,value:null};var yF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,aD):aD;function iD(e){const t=e.ref;return oN(t)?t.files:lN(t)?yF(e.refs).value:mF(t)?[...t.selectedOptions].map(({value:r})=>r):Cm(t)?gF(e.refs).value:vF(Wr(t.value)?e.ref.value:t.value,e)}var SJ=(e,t,r,n)=>{const a={};for(const i of e){const o=Ge(t,i);o&&ar(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},zv=e=>e instanceof RegExp,ih=e=>Wr(e)?e:zv(e)?e.source:ln(e)?zv(e.value)?e.value.source:e.value:e,sD=e=>({isOnSubmit:!e||e===qi.onSubmit,isOnBlur:e===qi.onBlur,isOnChange:e===qi.onChange,isOnAll:e===qi.all,isOnTouch:e===qi.onTouched});const oD="AsyncFunction";var CJ=e=>!!e&&!!e.validate&&!!(Vi(e.validate)&&e.validate.constructor.name===oD||ln(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===oD)),NJ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),lD=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ah=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=Ge(e,a);if(i){const{_f:o,...c}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ah(c,t))break}else if(ln(c)&&Ah(c,t))break}}};function cD(e,t,r){const n=Ge(e,r);if(n||fx(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=Ge(t,i),c=Ge(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(c&&c.type)return{name:i,error:c};if(c&&c.root&&c.root.type)return{name:`${i}.root`,error:c.root};a.pop()}return{name:r}}var EJ=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return ta(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||qi.all))},kJ=(e,t,r)=>!e||!t||e===t||kh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),AJ=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,OJ=(e,t)=>!aN(Ge(e,t)).length&&an(e,t),TJ=(e,t,r)=>{const n=kh(Ge(e,r));return ar(n,"root",t[r]),ar(e,r,n),e};function uD(e,t,r="validate"){if(Va(e)||Array.isArray(e)&&e.every(Va)||ms(e)&&!e)return{type:r,message:Va(e)?e:"",ref:t}}var Ju=e=>ln(e)&&!zv(e)?e:{value:e,message:""},dD=async(e,t,r,n,a,i)=>{const{ref:o,refs:c,required:d,maxLength:f,minLength:m,min:p,max:y,pattern:g,validate:b,name:w,valueAsNumber:_,mount:j}=e._f,N=Ge(r,w);if(!j||t.has(w))return{};const E=c?c[0]:o,k=L=>{a&&E.reportValidity&&(E.setCustomValidity(ms(L)?"":L||""),E.reportValidity())},A={},R=lN(o),T=Cm(o),O=R||T,P=(_||oN(o))&&Wr(o.value)&&Wr(N)||Lv(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,$=sN.bind(null,w,n,A),M=(L,U,X,Y=ao.maxLength,F=ao.minLength)=>{const H=L?U:X;A[w]={type:L?Y:F,message:H,ref:o,...$(L?Y:F,H)}};if(i?!Array.isArray(N)||!N.length:d&&(!O&&(P||Ca(N))||ms(N)&&!N||T&&!gF(c).isValid||R&&!yF(c).isValid)){const{value:L,message:U}=Va(d)?{value:!!d,message:d}:Ju(d);if(L&&(A[w]={type:ao.required,message:U,ref:E,...$(ao.required,U)},!n))return k(U),A}if(!P&&(!Ca(p)||!Ca(y))){let L,U;const X=Ju(y),Y=Ju(p);if(!Ca(N)&&!isNaN(N)){const F=o.valueAsNumber||N&&+N;Ca(X.value)||(L=F>X.value),Ca(Y.value)||(U=F<Y.value)}else{const F=o.valueAsDate||new Date(N),H=ue=>new Date(new Date().toDateString()+" "+ue),I=o.type=="time",q=o.type=="week";Va(X.value)&&N&&(L=I?H(N)>H(X.value):q?N>X.value:F>new Date(X.value)),Va(Y.value)&&N&&(U=I?H(N)<H(Y.value):q?N<Y.value:F<new Date(Y.value))}if((L||U)&&(M(!!L,X.message,Y.message,ao.max,ao.min),!n))return k(A[w].message),A}if((f||m)&&!P&&(Va(N)||i&&Array.isArray(N))){const L=Ju(f),U=Ju(m),X=!Ca(L.value)&&N.length>+L.value,Y=!Ca(U.value)&&N.length<+U.value;if((X||Y)&&(M(X,L.message,U.message),!n))return k(A[w].message),A}if(g&&!P&&Va(N)){const{value:L,message:U}=Ju(g);if(zv(L)&&!N.match(L)&&(A[w]={type:ao.pattern,message:U,ref:o,...$(ao.pattern,U)},!n))return k(U),A}if(b){if(Vi(b)){const L=await b(N,r),U=uD(L,E);if(U&&(A[w]={...U,...$(ao.validate,U.message)},!n))return k(U.message),A}else if(ln(b)){let L={};for(const U in b){if(!ta(L)&&!n)break;const X=uD(await b[U](N,r),E,U);X&&(L={...X,...$(U,X.message)},k(X.message),n&&(A[w]=L))}if(!ta(L)&&(A[w]={ref:E,...L},!n))return A}}return k(!0),A};const RJ={mode:qi.onSubmit,reValidateMode:qi.onChange,shouldFocusError:!0};function PJ(e={}){let t={...RJ,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=ln(t.defaultValues)||ln(t.values)?Cn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Cn(a),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const y={array:tD(),state:tD()},g=t.criteriaMode===qi.all,b=W=>ie=>{clearTimeout(f),f=setTimeout(W,ie)},w=async W=>{if(!t.disabled&&(m.isValid||p.isValid||W)){const ie=t.resolver?ta((await T()).errors):await P(n,!0);ie!==r.isValid&&y.state.next({isValid:ie})}},_=(W,ie)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((W||Array.from(c.mount)).forEach(de=>{de&&(ie?ar(r.validatingFields,de,ie):an(r.validatingFields,de))}),y.state.next({validatingFields:r.validatingFields,isValidating:!ta(r.validatingFields)}))},j=(W,ie=[],de,Re,be=!0,Ee=!0)=>{if(Re&&de&&!t.disabled){if(o.action=!0,Ee&&Array.isArray(Ge(n,W))){const Pe=de(Ge(n,W),Re.argA,Re.argB);be&&ar(n,W,Pe)}if(Ee&&Array.isArray(Ge(r.errors,W))){const Pe=de(Ge(r.errors,W),Re.argA,Re.argB);be&&ar(r.errors,W,Pe),OJ(r.errors,W)}if((m.touchedFields||p.touchedFields)&&Ee&&Array.isArray(Ge(r.touchedFields,W))){const Pe=de(Ge(r.touchedFields,W),Re.argA,Re.argB);be&&ar(r.touchedFields,W,Pe)}(m.dirtyFields||p.dirtyFields)&&(r.dirtyFields=ud(a,i)),y.state.next({name:W,isDirty:M(W,ie),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ar(i,W,ie)},N=(W,ie)=>{ar(r.errors,W,ie),y.state.next({errors:r.errors})},E=W=>{r.errors=W,y.state.next({errors:r.errors,isValid:!1})},k=(W,ie,de,Re)=>{const be=Ge(n,W);if(be){const Ee=Ge(i,W,Wr(de)?Ge(a,W):de);Wr(Ee)||Re&&Re.defaultChecked||ie?ar(i,W,ie?Ee:iD(be._f)):X(W,Ee),o.mount&&w()}},A=(W,ie,de,Re,be)=>{let Ee=!1,Pe=!1;const lt={name:W};if(!t.disabled){if(!de||Re){(m.isDirty||p.isDirty)&&(Pe=r.isDirty,r.isDirty=lt.isDirty=M(),Ee=Pe!==lt.isDirty);const yt=wl(Ge(a,W),ie);Pe=!!Ge(r.dirtyFields,W),yt?an(r.dirtyFields,W):ar(r.dirtyFields,W,!0),lt.dirtyFields=r.dirtyFields,Ee=Ee||(m.dirtyFields||p.dirtyFields)&&Pe!==!yt}if(de){const yt=Ge(r.touchedFields,W);yt||(ar(r.touchedFields,W,de),lt.touchedFields=r.touchedFields,Ee=Ee||(m.touchedFields||p.touchedFields)&&yt!==de)}Ee&&be&&y.state.next(lt)}return Ee?lt:{}},R=(W,ie,de,Re)=>{const be=Ge(r.errors,W),Ee=(m.isValid||p.isValid)&&ms(ie)&&r.isValid!==ie;if(t.delayError&&de?(d=b(()=>N(W,de)),d(t.delayError)):(clearTimeout(f),d=null,de?ar(r.errors,W,de):an(r.errors,W)),(de?!wl(be,de):be)||!ta(Re)||Ee){const Pe={...Re,...Ee&&ms(ie)?{isValid:ie}:{},errors:r.errors,name:W};r={...r,...Pe},y.state.next(Pe)}},T=async W=>{_(W,!0);const ie=await t.resolver(i,t.context,SJ(W||c.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(W),ie},O=async W=>{const{errors:ie}=await T(W);if(W)for(const de of W){const Re=Ge(ie,de);Re?ar(r.errors,de,Re):an(r.errors,de)}else r.errors=ie;return ie},P=async(W,ie,de={valid:!0})=>{for(const Re in W){const be=W[Re];if(be){const{_f:Ee,...Pe}=be;if(Ee){const lt=c.array.has(Ee.name),yt=be._f&&CJ(be._f);yt&&m.validatingFields&&_([Ee.name],!0);const vr=await dD(be,c.disabled,i,g,t.shouldUseNativeValidation&&!ie,lt);if(yt&&m.validatingFields&&_([Ee.name]),vr[Ee.name]&&(de.valid=!1,ie))break;!ie&&(Ge(vr,Ee.name)?lt?TJ(r.errors,vr,Ee.name):ar(r.errors,Ee.name,vr[Ee.name]):an(r.errors,Ee.name))}!ta(Pe)&&await P(Pe,ie,de)}}return de.valid},$=()=>{for(const W of c.unMount){const ie=Ge(n,W);ie&&(ie._f.refs?ie._f.refs.every(de=>!x_(de)):!x_(ie._f.ref))&&ee(W)}c.unMount=new Set},M=(W,ie)=>!t.disabled&&(W&&ie&&ar(i,W,ie),!wl(ue(),a)),L=(W,ie,de)=>xJ(W,c,{...o.mount?i:Wr(ie)?a:Va(W)?{[W]:ie}:ie},de,ie),U=W=>aN(Ge(o.mount?i:a,W,t.shouldUnregister?Ge(a,W,[]):[])),X=(W,ie,de={})=>{const Re=Ge(n,W);let be=ie;if(Re){const Ee=Re._f;Ee&&(!Ee.disabled&&ar(i,W,vF(ie,Ee)),be=Lv(Ee.ref)&&Ca(ie)?"":ie,mF(Ee.ref)?[...Ee.ref.options].forEach(Pe=>Pe.selected=be.includes(Pe.value)):Ee.refs?Cm(Ee.ref)?Ee.refs.forEach(Pe=>{(!Pe.defaultChecked||!Pe.disabled)&&(Array.isArray(be)?Pe.checked=!!be.find(lt=>lt===Pe.value):Pe.checked=be===Pe.value||!!be)}):Ee.refs.forEach(Pe=>Pe.checked=Pe.value===be):oN(Ee.ref)?Ee.ref.value="":(Ee.ref.value=be,Ee.ref.type||y.state.next({name:W,values:Cn(i)})))}(de.shouldDirty||de.shouldTouch)&&A(W,be,de.shouldTouch,de.shouldDirty,!0),de.shouldValidate&&q(W)},Y=(W,ie,de)=>{for(const Re in ie){if(!ie.hasOwnProperty(Re))return;const be=ie[Re],Ee=W+"."+Re,Pe=Ge(n,Ee);(c.array.has(W)||ln(be)||Pe&&!Pe._f)&&!Sc(be)?Y(Ee,be,de):X(Ee,be,de)}},F=(W,ie,de={})=>{const Re=Ge(n,W),be=c.array.has(W),Ee=Cn(ie);ar(i,W,Ee),be?(y.array.next({name:W,values:Cn(i)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&de.shouldDirty&&y.state.next({name:W,dirtyFields:ud(a,i),isDirty:M(W,Ee)})):Re&&!Re._f&&!Ca(Ee)?Y(W,Ee,de):X(W,Ee,de),lD(W,c)&&y.state.next({...r,name:W}),y.state.next({name:o.mount?W:void 0,values:Cn(i)})},H=async W=>{o.mount=!0;const ie=W.target;let de=ie.name,Re=!0;const be=Ge(n,de),Ee=yt=>{Re=Number.isNaN(yt)||Sc(yt)&&isNaN(yt.getTime())||wl(yt,Ge(i,de,yt))},Pe=sD(t.mode),lt=sD(t.reValidateMode);if(be){let yt,vr;const dn=ie.type?iD(be._f):fJ(W),Rr=W.type===eD.BLUR||W.type===eD.FOCUS_OUT,Nr=!NJ(be._f)&&!t.resolver&&!Ge(r.errors,de)&&!be._f.deps||AJ(Rr,Ge(r.touchedFields,de),r.isSubmitted,lt,Pe),fn=lD(de,c,Rr);ar(i,de,dn),Rr?(!ie||!ie.readOnly)&&(be._f.onBlur&&be._f.onBlur(W),d&&d(0)):be._f.onChange&&be._f.onChange(W);const yr=A(de,dn,Rr),Jn=!ta(yr)||fn;if(!Rr&&y.state.next({name:de,type:W.type,values:Cn(i)}),Nr)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?Rr&&w():Rr||w()),Jn&&y.state.next({name:de,...fn?{}:yr});if(!Rr&&fn&&y.state.next({...r}),t.resolver){const{errors:Pr}=await T([de]);if(Ee(dn),Re){const Wl=cD(r.errors,n,de),xt=cD(Pr,n,Wl.name||de);yt=xt.error,de=xt.name,vr=ta(Pr)}}else _([de],!0),yt=(await dD(be,c.disabled,i,g,t.shouldUseNativeValidation))[de],_([de]),Ee(dn),Re&&(yt?vr=!1:(m.isValid||p.isValid)&&(vr=await P(n,!0)));Re&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&q(be._f.deps),R(de,vr,yt,yr))}},I=(W,ie)=>{if(Ge(r.errors,ie)&&W.focus)return W.focus(),1},q=async(W,ie={})=>{let de,Re;const be=kh(W);if(t.resolver){const Ee=await O(Wr(W)?W:be);de=ta(Ee),Re=W?!be.some(Pe=>Ge(Ee,Pe)):de}else W?(Re=(await Promise.all(be.map(async Ee=>{const Pe=Ge(n,Ee);return await P(Pe&&Pe._f?{[Ee]:Pe}:Pe)}))).every(Boolean),!(!Re&&!r.isValid)&&w()):Re=de=await P(n);return y.state.next({...!Va(W)||(m.isValid||p.isValid)&&de!==r.isValid?{}:{name:W},...t.resolver||!W?{isValid:de}:{},errors:r.errors}),ie.shouldFocus&&!Re&&Ah(n,I,W?be:c.mount),Re},ue=(W,ie)=>{let de={...o.mount?i:a};return ie&&(de=hF(ie.dirtyFields?r.dirtyFields:r.touchedFields,de)),Wr(W)?de:Va(W)?Ge(de,W):W.map(Re=>Ge(de,Re))},B=(W,ie)=>({invalid:!!Ge((ie||r).errors,W),isDirty:!!Ge((ie||r).dirtyFields,W),error:Ge((ie||r).errors,W),isValidating:!!Ge(r.validatingFields,W),isTouched:!!Ge((ie||r).touchedFields,W)}),Q=W=>{W&&kh(W).forEach(ie=>an(r.errors,ie)),y.state.next({errors:W?r.errors:{}})},V=(W,ie,de)=>{const Re=(Ge(n,W,{_f:{}})._f||{}).ref,be=Ge(r.errors,W)||{},{ref:Ee,message:Pe,type:lt,...yt}=be;ar(r.errors,W,{...yt,...ie,ref:Re}),y.state.next({name:W,errors:r.errors,isValid:!1}),de&&de.shouldFocus&&Re&&Re.focus&&Re.focus()},ae=(W,ie)=>Vi(W)?y.state.subscribe({next:de=>"values"in de&&W(L(void 0,ie),de)}):L(W,ie,!0),Z=W=>y.state.subscribe({next:ie=>{kJ(W.name,ie.name,W.exact)&&EJ(ie,W.formState||m,Tt,W.reRenderRoot)&&W.callback({values:{...i},...r,...ie,defaultValues:a})}}).unsubscribe,ne=W=>(o.mount=!0,p={...p,...W.formState},Z({...W,formState:p})),ee=(W,ie={})=>{for(const de of W?kh(W):c.mount)c.mount.delete(de),c.array.delete(de),ie.keepValue||(an(n,de),an(i,de)),!ie.keepError&&an(r.errors,de),!ie.keepDirty&&an(r.dirtyFields,de),!ie.keepTouched&&an(r.touchedFields,de),!ie.keepIsValidating&&an(r.validatingFields,de),!t.shouldUnregister&&!ie.keepDefaultValue&&an(a,de);y.state.next({values:Cn(i)}),y.state.next({...r,...ie.keepDirty?{isDirty:M()}:{}}),!ie.keepIsValid&&w()},pe=({disabled:W,name:ie})=>{(ms(W)&&o.mount||W||c.disabled.has(ie))&&(W?c.disabled.add(ie):c.disabled.delete(ie))},G=(W,ie={})=>{let de=Ge(n,W);const Re=ms(ie.disabled)||ms(t.disabled);return ar(n,W,{...de||{},_f:{...de&&de._f?de._f:{ref:{name:W}},name:W,mount:!0,...ie}}),c.mount.add(W),de?pe({disabled:ms(ie.disabled)?ie.disabled:t.disabled,name:W}):k(W,!0,ie.value),{...Re?{disabled:ie.disabled||t.disabled}:{},...t.progressive?{required:!!ie.required,min:ih(ie.min),max:ih(ie.max),minLength:ih(ie.minLength),maxLength:ih(ie.maxLength),pattern:ih(ie.pattern)}:{},name:W,onChange:H,onBlur:H,ref:be=>{if(be){G(W,ie),de=Ge(n,W);const Ee=Wr(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Pe=bJ(Ee),lt=de._f.refs||[];if(Pe?lt.find(yt=>yt===Ee):Ee===de._f.ref)return;ar(n,W,{_f:{...de._f,...Pe?{refs:[...lt.filter(x_),Ee,...Array.isArray(Ge(a,W))?[{}]:[]],ref:{type:Ee.type,name:W}}:{ref:Ee}}}),k(W,!1,void 0,Ee)}else de=Ge(n,W,{}),de._f&&(de._f.mount=!1),(t.shouldUnregister||ie.shouldUnregister)&&!(mJ(c.array,W)&&o.action)&&c.unMount.add(W)}}},ge=()=>t.shouldFocusError&&Ah(n,I,c.mount),ye=W=>{ms(W)&&(y.state.next({disabled:W}),Ah(n,(ie,de)=>{const Re=Ge(n,de);Re&&(ie.disabled=Re._f.disabled||W,Array.isArray(Re._f.refs)&&Re._f.refs.forEach(be=>{be.disabled=Re._f.disabled||W}))},0,!1))},le=(W,ie)=>async de=>{let Re;de&&(de.preventDefault&&de.preventDefault(),de.persist&&de.persist());let be=Cn(i);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Ee,values:Pe}=await T();r.errors=Ee,be=Cn(Pe)}else await P(n);if(c.disabled.size)for(const Ee of c.disabled)an(be,Ee);if(an(r.errors,"root"),ta(r.errors)){y.state.next({errors:{}});try{await W(be,de)}catch(Ee){Re=Ee}}else ie&&await ie({...r.errors},de),ge(),setTimeout(ge);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ta(r.errors)&&!Re,submitCount:r.submitCount+1,errors:r.errors}),Re)throw Re},Be=(W,ie={})=>{Ge(n,W)&&(Wr(ie.defaultValue)?F(W,Cn(Ge(a,W))):(F(W,ie.defaultValue),ar(a,W,Cn(ie.defaultValue))),ie.keepTouched||an(r.touchedFields,W),ie.keepDirty||(an(r.dirtyFields,W),r.isDirty=ie.defaultValue?M(W,Cn(Ge(a,W))):M()),ie.keepError||(an(r.errors,W),m.isValid&&w()),y.state.next({...r}))},Le=(W,ie={})=>{const de=W?Cn(W):a,Re=Cn(de),be=ta(W),Ee=be?a:Re;if(ie.keepDefaultValues||(a=de),!ie.keepValues){if(ie.keepDirtyValues){const Pe=new Set([...c.mount,...Object.keys(ud(a,i))]);for(const lt of Array.from(Pe))Ge(r.dirtyFields,lt)?ar(Ee,lt,Ge(i,lt)):F(lt,Ge(Ee,lt))}else{if(nN&&Wr(W))for(const Pe of c.mount){const lt=Ge(n,Pe);if(lt&&lt._f){const yt=Array.isArray(lt._f.refs)?lt._f.refs[0]:lt._f.ref;if(Lv(yt)){const vr=yt.closest("form");if(vr){vr.reset();break}}}}if(ie.keepFieldsRef)for(const Pe of c.mount)F(Pe,Ge(Ee,Pe));else n={}}i=t.shouldUnregister?ie.keepDefaultValues?Cn(a):{}:Cn(Ee),y.array.next({values:{...Ee}}),y.state.next({values:{...Ee}})}c={mount:ie.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!ie.keepIsValid||!!ie.keepDirtyValues||!t.shouldUnregister&&!ta(Ee),o.watch=!!t.shouldUnregister,y.state.next({submitCount:ie.keepSubmitCount?r.submitCount:0,isDirty:be?!1:ie.keepDirty?r.isDirty:!!(ie.keepDefaultValues&&!wl(W,a)),isSubmitted:ie.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:ie.keepDirtyValues?ie.keepDefaultValues&&i?ud(a,i):r.dirtyFields:ie.keepDefaultValues&&W?ud(a,W):ie.keepDirty?r.dirtyFields:{},touchedFields:ie.keepTouched?r.touchedFields:{},errors:ie.keepErrors?r.errors:{},isSubmitSuccessful:ie.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},et=(W,ie)=>Le(Vi(W)?W(i):W,ie),qe=(W,ie={})=>{const de=Ge(n,W),Re=de&&de._f;if(Re){const be=Re.refs?Re.refs[0]:Re.ref;be.focus&&(be.focus(),ie.shouldSelect&&Vi(be.select)&&be.select())}},Tt=W=>{r={...r,...W}},St={control:{register:G,unregister:ee,getFieldState:B,handleSubmit:le,setError:V,_subscribe:Z,_runSchema:T,_focusError:ge,_getWatch:L,_getDirty:M,_setValid:w,_setFieldArray:j,_setDisabledField:pe,_setErrors:E,_getFieldArray:U,_reset:Le,_resetDefaultValues:()=>Vi(t.defaultValues)&&t.defaultValues().then(W=>{et(W,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:ye,_subjects:y,_proxyFormState:m,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(W){o=W},get _defaultValues(){return a},get _names(){return c},set _names(W){c=W},get _formState(){return r},get _options(){return t},set _options(W){t={...t,...W}}},subscribe:ne,trigger:q,register:G,handleSubmit:le,watch:ae,setValue:F,getValues:ue,reset:et,resetField:Be,clearErrors:Q,unregister:ee,setError:V,setFocus:qe,getFieldState:B};return{...St,formControl:St}}function Do(e={}){const t=re.useRef(void 0),r=re.useRef(void 0),[n,a]=re.useState({isDirty:!1,isValidating:!1,isLoading:Vi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Vi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Vi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...c}=PJ(e);t.current={...c,formState:n}}const i=t.current.control;return i._options=e,yJ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(c=>({...c,isReady:!0})),i._formState.isReady=!0,o},[i]),re.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),re.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),re.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),re.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),re.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),re.useEffect(()=>{e.values&&!wl(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[i,e.values]),re.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=vJ(n,i),t.current}const fD=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Ge(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},a1=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?fD(n.ref,r,e):n&&n.refs&&n.refs.forEach(a=>fD(a,r,e))}},hD=(e,t)=>{t.shouldUseNativeValidation&&a1(e,t);const r={};for(const n in e){const a=Ge(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(DJ(t.names||Object.keys(e),n)){const o=Object.assign({},Ge(r,n));ar(o,"root",i),ar(r,n,o)}else ar(r,n,i)}return r},DJ=(e,t)=>{const r=mD(t);return e.some(n=>mD(n).match(`^${r}\\.\\d+`))};function mD(e){return e.replace(/\]|\[/g,"")}const pD=Object.freeze({status:"aborted"});function Se(e,t,r){function n(c,d){var f;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(f=c._zod).traits??(f.traits=new Set),c._zod.traits.add(e),t(c,d);for(const m in o.prototype)m in c||Object.defineProperty(c,m,{value:o.prototype[m].bind(c)});c._zod.constr=o,c._zod.def=d}const a=r?.Parent??Object;class i extends a{}Object.defineProperty(i,"name",{value:e});function o(c){var d;const f=r?.Parent?new i:this;n(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const m of f._zod.deferred)m();return f}return Object.defineProperty(o,"init",{value:n}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>r?.Parent&&c instanceof r.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(o,"name",{value:e}),o}class vd extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class xF extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const bF={};function $c(e){return bF}function MJ(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function i1(e,t){return typeof t=="bigint"?t.toString():t}function cN(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function uN(e){return e==null}function dN(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function IJ(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const d=n.match(/\d?e-(\d?)/);d?.[1]&&(a=Number.parseInt(d[1]))}const i=r>a?r:a,o=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return o%c/10**i}const gD=Symbol("evaluating");function ur(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==gD)return n===void 0&&(n=gD,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function ru(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function nu(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function vD(e){return JSON.stringify(e)}const wF="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Fv(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const $J=cN(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Bh(e){if(Fv(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Fv(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function _F(e){return Bh(e)?{...e}:Array.isArray(e)?[...e]:e}const LJ=new Set(["string","number","symbol"]);function Nd(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $l(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r?.parent)&&(n._zod.parent=e),n}function it(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function zJ(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const FJ={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function UJ(e,t){const r=e._zod.def,n=nu(e._zod.def,{get shape(){const a={};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(a[i]=r.shape[i])}return ru(this,"shape",a),a},checks:[]});return $l(e,n)}function BJ(e,t){const r=e._zod.def,n=nu(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete a[i]}return ru(this,"shape",a),a},checks:[]});return $l(e,n)}function qJ(e,t){if(!Bh(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=nu(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return ru(this,"shape",i),i},checks:[]});return $l(e,a)}function VJ(e,t){if(!Bh(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return ru(this,"shape",n),n},checks:e._zod.def.checks};return $l(e,r)}function HJ(e,t){const r=nu(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return ru(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return $l(e,r)}function WJ(e,t,r){const n=nu(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=e?new e({type:"optional",innerType:a[o]}):a[o])}else for(const o in a)i[o]=e?new e({type:"optional",innerType:a[o]}):a[o];return ru(this,"shape",i),i},checks:[]});return $l(t,n)}function KJ(e,t,r){const n=nu(t._zod.def,{get shape(){const a=t._zod.def.shape,i={...a};if(r)for(const o in r){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);r[o]&&(i[o]=new e({type:"nonoptional",innerType:a[o]}))}else for(const o in a)i[o]=new e({type:"nonoptional",innerType:a[o]});return ru(this,"shape",i),i},checks:[]});return $l(t,n)}function fd(e,t=0){if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function jF(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Ig(e){return typeof e=="string"?e:e?.message}function Lc(e,t,r){const n={...e,path:e.path??[]};if(!e.message){const a=Ig(e.inst?._zod.def?.error?.(e))??Ig(t?.error?.(e))??Ig(r.customError?.(e))??Ig(r.localeError?.(e))??"Invalid input";n.message=a}return delete n.inst,delete n.continue,t?.reportInput||delete n.input,n}function fN(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function qh(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const SF=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,i1,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},hN=Se("$ZodError",SF),hx=Se("$ZodError",SF,{Parent:Error});function GJ(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function YJ(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const i of a.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(o=>n({issues:o}));else if(i.code==="invalid_key")n({issues:i.issues});else if(i.code==="invalid_element")n({issues:i.issues});else if(i.path.length===0)r._errors.push(t(i));else{let o=r,c=0;for(;c<i.path.length;){const d=i.path[c];c===i.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(i))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return n(e),r}const mx=e=>(t,r,n,a)=>{const i=n?Object.assign(n,{async:!1}):{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new vd;if(o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>Lc(d,i,$c())));throw wF(c,a?.callee),c}return o.value},ZJ=mx(hx),px=e=>async(t,r,n,a)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(a?.Err??e)(o.issues.map(d=>Lc(d,i,$c())));throw wF(c,a?.callee),c}return o.value},XJ=px(hx),gx=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},i=t._zod.run({value:r,issues:[]},a);if(i instanceof Promise)throw new vd;return i.issues.length?{success:!1,error:new(e??hN)(i.issues.map(o=>Lc(o,a,$c())))}:{success:!0,data:i.value}},QJ=gx(hx),vx=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},a);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(o=>Lc(o,a,$c())))}:{success:!0,data:i.value}},JJ=vx(hx),eee=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return mx(e)(t,r,a)},tee=e=>(t,r,n)=>mx(e)(t,r,n),ree=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return px(e)(t,r,a)},nee=e=>async(t,r,n)=>px(e)(t,r,n),aee=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return gx(e)(t,r,a)},iee=e=>(t,r,n)=>gx(e)(t,r,n),see=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return vx(e)(t,r,a)},oee=e=>async(t,r,n)=>vx(e)(t,r,n),lee=/^[cC][^\s-]{8,}$/,cee=/^[0-9a-z]+$/,uee=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dee=/^[0-9a-vA-V]{20}$/,fee=/^[A-Za-z0-9]{27}$/,hee=/^[a-zA-Z0-9_-]{21}$/,mee=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,pee=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,yD=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,gee=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,vee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function yee(){return new RegExp(vee,"u")}const xee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,wee=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,_ee=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jee=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,CF=/^[A-Za-z0-9_-]*$/,See=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Cee=/^\+(?:[0-9]){6,14}[0-9]$/,NF="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Nee=new RegExp(`^${NF}$`);function EF(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Eee(e){return new RegExp(`^${EF(e)}$`)}function kee(e){const t=EF({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${NF}T(?:${n})$`)}const Aee=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Oee=/^-?\d+$/,Tee=/^-?\d+(?:\.\d+)?/,Ree=/^(?:true|false)$/i,Pee=/^[^A-Z]*$/,Dee=/^[^a-z]*$/,Oa=Se("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),kF={number:"number",bigint:"bigint",object:"date"},AF=Se("$ZodCheckLessThan",(e,t)=>{Oa.init(e,t);const r=kF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),OF=Se("$ZodCheckGreaterThan",(e,t)=>{Oa.init(e,t);const r=kF[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,i=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Mee=Se("$ZodCheckMultipleOf",(e,t)=>{Oa.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):IJ(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),Iee=Se("$ZodCheckNumberFormat",(e,t)=>{Oa.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),n=r?"int":"number",[a,i]=FJ[t.format];e._zod.onattach.push(o=>{const c=o._zod.bag;c.format=t.format,c.minimum=a,c.maximum=i,r&&(c.pattern=Oee)}),e._zod.check=o=>{const c=o.value;if(r){if(!Number.isInteger(c)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:c,inst:e});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}c<a&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),c>i&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:i,inst:e})}}),$ee=Se("$ZodCheckMaxLength",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!uN(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const o=fN(a);n.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),Lee=Se("$ZodCheckMinLength",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!uN(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const o=fN(a);n.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),zee=Se("$ZodCheckLengthEquals",(e,t)=>{var r;Oa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!uN(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,i=a.length;if(i===t.length)return;const o=fN(a),c=i>t.length;n.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),yx=Se("$ZodCheckStringFormat",(e,t)=>{var r,n;Oa.init(e,t),e._zod.onattach.push(a=>{const i=a._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),Fee=Se("$ZodCheckRegex",(e,t)=>{yx.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Uee=Se("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Pee),yx.init(e,t)}),Bee=Se("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Dee),yx.init(e,t)}),qee=Se("$ZodCheckIncludes",(e,t)=>{Oa.init(e,t);const r=Nd(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const i=a._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),Vee=Se("$ZodCheckStartsWith",(e,t)=>{Oa.init(e,t);const r=new RegExp(`^${Nd(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),Hee=Se("$ZodCheckEndsWith",(e,t)=>{Oa.init(e,t);const r=new RegExp(`.*${Nd(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),Wee=Se("$ZodCheckOverwrite",(e,t)=>{Oa.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class Kee{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(o=>o),a=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(a)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const t=Function,r=this?.args,a=[...(this?.content??[""]).map(i=>`  ${i}`)];return new t(...r,a.join(`
`))}}const Gee={major:4,minor:1,patch:12},Ur=Se("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Gee;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const a of n)for(const i of a._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const a=(o,c,d)=>{let f=fd(o),m;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(f)continue;const y=o.issues.length,g=p._zod.check(o);if(g instanceof Promise&&d?.async===!1)throw new vd;if(m||g instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await g,o.issues.length!==y&&(f||(f=fd(o,y)))});else{if(o.issues.length===y)continue;f||(f=fd(o,y))}}return m?m.then(()=>o):o},i=(o,c,d)=>{if(fd(o))return o.aborted=!0,o;const f=a(c,n,d);if(f instanceof Promise){if(d.async===!1)throw new vd;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(o,c)=>{if(c.skipChecks)return e._zod.parse(o,c);if(c.direction==="backward"){const f=e._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return f instanceof Promise?f.then(m=>i(m,o,c)):i(f,o,c)}const d=e._zod.parse(o,c);if(d instanceof Promise){if(c.async===!1)throw new vd;return d.then(f=>a(f,n,c))}return a(d,n,c)}}e["~standard"]={validate:a=>{try{const i=QJ(e,a);return i.success?{value:i.data}:{issues:i.error?.issues}}catch{return JJ(e,a).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),mN=Se("$ZodString",(e,t)=>{Ur.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??Aee(e._zod.bag),e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Cr=Se("$ZodStringFormat",(e,t)=>{yx.init(e,t),mN.init(e,t)}),Yee=Se("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=pee),Cr.init(e,t)}),Zee=Se("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=yD(n))}else t.pattern??(t.pattern=yD());Cr.init(e,t)}),Xee=Se("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=gee),Cr.init(e,t)}),Qee=Se("$ZodURL",(e,t)=>{Cr.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:See.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),Jee=Se("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=yee()),Cr.init(e,t)}),ete=Se("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=hee),Cr.init(e,t)}),tte=Se("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=lee),Cr.init(e,t)}),rte=Se("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=cee),Cr.init(e,t)}),nte=Se("$ZodULID",(e,t)=>{t.pattern??(t.pattern=uee),Cr.init(e,t)}),ate=Se("$ZodXID",(e,t)=>{t.pattern??(t.pattern=dee),Cr.init(e,t)}),ite=Se("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=fee),Cr.init(e,t)}),ste=Se("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kee(t)),Cr.init(e,t)}),ote=Se("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Nee),Cr.init(e,t)}),lte=Se("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Eee(t)),Cr.init(e,t)}),cte=Se("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=mee),Cr.init(e,t)}),ute=Se("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=xee),Cr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),dte=Se("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=bee),Cr.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),fte=Se("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=wee),Cr.init(e,t)}),hte=Se("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=_ee),Cr.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,i]=n;if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function TF(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const mte=Se("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=jee),Cr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{TF(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function pte(e){if(!CF.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return TF(r)}const gte=Se("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=CF),Cr.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{pte(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),vte=Se("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Cee),Cr.init(e,t)});function yte(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&a?.typ!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const xte=Se("$ZodJWT",(e,t)=>{Cr.init(e,t),e._zod.check=r=>{yte(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),RF=Se("$ZodNumber",(e,t)=>{Ur.init(e,t),e._zod.pattern=e._zod.bag.pattern??Tee,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const i=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...i?{received:i}:{}}),r}}),bte=Se("$ZodNumber",(e,t)=>{Iee.init(e,t),RF.init(e,t)}),wte=Se("$ZodBoolean",(e,t)=>{Ur.init(e,t),e._zod.pattern=Ree,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=!!r.value}catch{}const a=r.value;return typeof a=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),_te=Se("$ZodUnknown",(e,t)=>{Ur.init(e,t),e._zod.parse=r=>r}),jte=Se("$ZodNever",(e,t)=>{Ur.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function xD(e,t,r){e.issues.length&&t.issues.push(...jF(r,e.issues)),t.value[r]=e.value}const Ste=Se("$ZodArray",(e,t)=>{Ur.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const i=[];for(let o=0;o<a.length;o++){const c=a[o],d=t.element._zod.run({value:c,issues:[]},n);d instanceof Promise?i.push(d.then(f=>xD(f,r,o))):xD(d,r,o)}return i.length?Promise.all(i).then(()=>r):r}});function Uv(e,t,r,n){e.issues.length&&t.issues.push(...jF(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function PF(e){const t=Object.keys(e.shape);for(const n of t)if(!e.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=zJ(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function DF(e,t,r,n,a,i){const o=[],c=a.keySet,d=a.catchall._zod,f=d.def.type;for(const m of Object.keys(t)){if(c.has(m))continue;if(f==="never"){o.push(m);continue}const p=d.run({value:t[m],issues:[]},n);p instanceof Promise?e.push(p.then(y=>Uv(y,r,m,t))):Uv(p,r,m,t)}return o.length&&r.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:i}),e.length?Promise.all(e).then(()=>r):r}const Cte=Se("$ZodObject",(e,t)=>{if(Ur.init(e,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...c};return Object.defineProperty(t,"shape",{value:d}),d}})}const n=cN(()=>PF(t));ur(e._zod,"propValues",()=>{const c=t.shape,d={};for(const f in c){const m=c[f]._zod;if(m.values){d[f]??(d[f]=new Set);for(const p of m.values)d[f].add(p)}}return d});const a=Fv,i=t.catchall;let o;e._zod.parse=(c,d)=>{o??(o=n.value);const f=c.value;if(!a(f))return c.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),c;c.value={};const m=[],p=o.shape;for(const y of o.keys){const b=p[y]._zod.run({value:f[y],issues:[]},d);b instanceof Promise?m.push(b.then(w=>Uv(w,c,y,f))):Uv(b,c,y,f)}return i?DF(m,f,c,d,n.value,e):m.length?Promise.all(m).then(()=>c):c}}),Nte=Se("$ZodObjectJIT",(e,t)=>{Cte.init(e,t);const r=e._zod.parse,n=cN(()=>PF(t)),a=y=>{const g=new Kee(["shape","payload","ctx"]),b=n.value,w=E=>{const k=vD(E);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};g.write("const input = payload.value;");const _=Object.create(null);let j=0;for(const E of b.keys)_[E]=`key_${j++}`;g.write("const newResult = {};");for(const E of b.keys){const k=_[E],A=vD(E);g.write(`const ${k} = ${w(E)};`),g.write(`
        if (${k}.issues.length) {
          payload.issues = payload.issues.concat(${k}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${A}, ...iss.path] : [${A}]
          })));
        }
        
        
        if (${k}.value === undefined) {
          if (${A} in input) {
            newResult[${A}] = undefined;
          }
        } else {
          newResult[${A}] = ${k}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const N=g.compile();return(E,k)=>N(y,E,k)};let i;const o=Fv,c=!bF.jitless,f=c&&$J.value,m=t.catchall;let p;e._zod.parse=(y,g)=>{p??(p=n.value);const b=y.value;return o(b)?c&&f&&g?.async===!1&&g.jitless!==!0?(i||(i=a(t.shape)),y=i(y,g),m?DF([],b,y,g,p,e):y):r(y,g):(y.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),y)}});function bD(e,t,r,n){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const a=e.filter(i=>!fd(i));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(i=>i.issues.map(o=>Lc(o,n,$c())))}),t)}const Ete=Se("$ZodUnion",(e,t)=>{Ur.init(e,t),ur(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),ur(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),ur(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),ur(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${a.map(i=>dN(i.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,i)=>{if(r)return n(a,i);let o=!1;const c=[];for(const d of t.options){const f=d._zod.run({value:a.value,issues:[]},i);if(f instanceof Promise)c.push(f),o=!0;else{if(f.issues.length===0)return f;c.push(f)}}return o?Promise.all(c).then(d=>bD(d,a,e,i)):bD(c,a,e,i)}}),kte=Se("$ZodIntersection",(e,t)=>{Ur.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,i=t.left._zod.run({value:a,issues:[]},n),o=t.right._zod.run({value:a,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([d,f])=>wD(r,d,f)):wD(r,i,o)}});function s1(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Bh(e)&&Bh(t)){const r=Object.keys(t),n=Object.keys(e).filter(i=>r.indexOf(i)!==-1),a={...e,...t};for(const i of n){const o=s1(e[i],t[i]);if(!o.valid)return{valid:!1,mergeErrorPath:[i,...o.mergeErrorPath]};a[i]=o.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],i=t[n],o=s1(a,i);if(!o.valid)return{valid:!1,mergeErrorPath:[n,...o.mergeErrorPath]};r.push(o.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function wD(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),fd(e))return e;const n=s1(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Ate=Se("$ZodEnum",(e,t)=>{Ur.init(e,t);const r=MJ(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>LJ.has(typeof a)).map(a=>typeof a=="string"?Nd(a):a.toString()).join("|")})$`),e._zod.parse=(a,i)=>{const o=a.value;return n.has(o)||a.issues.push({code:"invalid_value",values:r,input:o,inst:e}),a}}),Ote=Se("$ZodLiteral",(e,t)=>{if(Ur.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(r=>typeof r=="string"?Nd(r):r?Nd(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,n)=>{const a=r.value;return e._zod.values.has(a)||r.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),r}}),Tte=Se("$ZodTransform",(e,t)=>{Ur.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xF(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(o=>(r.value=o,r));if(a instanceof Promise)throw new vd;return r.value=a,r}});function _D(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Rte=Se("$ZodOptional",(e,t)=>{Ur.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ur(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ur(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${dN(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>_D(i,r.value)):_D(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Pte=Se("$ZodNullable",(e,t)=>{Ur.init(e,t),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),ur(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${dN(r.source)}|null)$`):void 0}),ur(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Dte=Se("$ZodDefault",(e,t)=>{Ur.init(e,t),e._zod.optin="optional",ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>jD(i,t)):jD(a,t)}});function jD(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Mte=Se("$ZodPrefault",(e,t)=>{Ur.init(e,t),e._zod.optin="optional",ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Ite=Se("$ZodNonOptional",(e,t)=>{Ur.init(e,t),ur(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>SD(i,e)):SD(a,e)}});function SD(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const $te=Se("$ZodCatch",(e,t)=>{Ur.init(e,t),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),ur(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(i=>(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Lc(o,n,$c()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(i=>Lc(i,n,$c()))},input:r.value}),r.issues=[]),r)}}),Lte=Se("$ZodPipe",(e,t)=>{Ur.init(e,t),ur(e._zod,"values",()=>t.in._zod.values),ur(e._zod,"optin",()=>t.in._zod.optin),ur(e._zod,"optout",()=>t.out._zod.optout),ur(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const i=t.out._zod.run(r,n);return i instanceof Promise?i.then(o=>$g(o,t.in,n)):$g(i,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(i=>$g(i,t.out,n)):$g(a,t.out,n)}});function $g(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const zte=Se("$ZodReadonly",(e,t)=>{Ur.init(e,t),ur(e._zod,"propValues",()=>t.innerType._zod.propValues),ur(e._zod,"values",()=>t.innerType._zod.values),ur(e._zod,"optin",()=>t.innerType._zod.optin),ur(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(CD):CD(a)}});function CD(e){return e.value=Object.freeze(e.value),e}const Fte=Se("$ZodCustom",(e,t)=>{Oa.init(e,t),Ur.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(i=>ND(i,r,n,e));ND(a,r,n,e)}});function ND(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(qh(a))}}class Ute{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Bte(){return new Ute}const Lg=Bte();function qte(e,t){return new e({type:"string",...it(t)})}function Vte(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...it(t)})}function ED(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...it(t)})}function Hte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...it(t)})}function Wte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...it(t)})}function Kte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...it(t)})}function Gte(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...it(t)})}function Yte(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...it(t)})}function Zte(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...it(t)})}function Xte(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...it(t)})}function Qte(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...it(t)})}function Jte(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...it(t)})}function ere(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...it(t)})}function tre(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...it(t)})}function rre(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...it(t)})}function nre(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...it(t)})}function are(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...it(t)})}function ire(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...it(t)})}function sre(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...it(t)})}function ore(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...it(t)})}function lre(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...it(t)})}function cre(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...it(t)})}function ure(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...it(t)})}function dre(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...it(t)})}function fre(e,t){return new e({type:"string",format:"date",check:"string_format",...it(t)})}function hre(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...it(t)})}function mre(e,t){return new e({type:"string",format:"duration",check:"string_format",...it(t)})}function pre(e,t){return new e({type:"number",coerce:!0,checks:[],...it(t)})}function gre(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...it(t)})}function vre(e,t){return new e({type:"boolean",...it(t)})}function yre(e){return new e({type:"unknown"})}function xre(e,t){return new e({type:"never",...it(t)})}function kD(e,t){return new AF({check:"less_than",...it(t),value:e,inclusive:!1})}function b_(e,t){return new AF({check:"less_than",...it(t),value:e,inclusive:!0})}function AD(e,t){return new OF({check:"greater_than",...it(t),value:e,inclusive:!1})}function w_(e,t){return new OF({check:"greater_than",...it(t),value:e,inclusive:!0})}function OD(e,t){return new Mee({check:"multiple_of",...it(t),value:e})}function MF(e,t){return new $ee({check:"max_length",...it(t),maximum:e})}function Bv(e,t){return new Lee({check:"min_length",...it(t),minimum:e})}function IF(e,t){return new zee({check:"length_equals",...it(t),length:e})}function bre(e,t){return new Fee({check:"string_format",format:"regex",...it(t),pattern:e})}function wre(e){return new Uee({check:"string_format",format:"lowercase",...it(e)})}function _re(e){return new Bee({check:"string_format",format:"uppercase",...it(e)})}function jre(e,t){return new qee({check:"string_format",format:"includes",...it(t),includes:e})}function Sre(e,t){return new Vee({check:"string_format",format:"starts_with",...it(t),prefix:e})}function Cre(e,t){return new Hee({check:"string_format",format:"ends_with",...it(t),suffix:e})}function Nm(e){return new Wee({check:"overwrite",tx:e})}function Nre(e){return Nm(t=>t.normalize(e))}function Ere(){return Nm(e=>e.trim())}function kre(){return Nm(e=>e.toLowerCase())}function Are(){return Nm(e=>e.toUpperCase())}function Ore(e,t,r){return new e({type:"array",element:t,...it(r)})}function Tre(e,t,r){return new e({type:"custom",check:"custom",fn:t,...it(r)})}function Rre(e){const t=Pre(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(qh(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(qh(a))}},e(r.value,r)));return t}function Pre(e,t){const r=new Oa({check:"custom",...it(t)});return r._zod.check=e,r}function TD(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function Dre(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,f=d&&d[n.code];r[o]=sN(o,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function Mre(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if(n.code==="invalid_union"&&n.errors.length>0){var c=n.errors[0][0];r[o]={message:c.message,type:c.code}}else r[o]={message:i,type:a};if(n.code==="invalid_union"&&n.errors.forEach(function(m){return m.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,f=d&&d[n.code];r[o]=sN(o,t,r,a,f?[].concat(f,n.message):n.message)}e.shift()}return r}function Mo(e,t,r){if(r===void 0&&(r={}),(function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def})(e))return function(n,a,i){try{return Promise.resolve(TD(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(o){return i.shouldUseNativeValidation&&a1({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:hD(Dre(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};if((function(n){return"_zod"in n&&typeof n._zod=="object"})(e))return function(n,a,i){try{return Promise.resolve(TD(function(){return Promise.resolve((r.mode==="sync"?ZJ:XJ)(e,n,t)).then(function(o){return i.shouldUseNativeValidation&&a1({},i),{errors:{},values:r.raw?Object.assign({},n):o}})},function(o){if((function(c){return c instanceof hN})(o))return{values:{},errors:hD(Mre(o.issues,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}const Ire=Se("ZodISODateTime",(e,t)=>{ste.init(e,t),Tr.init(e,t)});function $re(e){return dre(Ire,e)}const Lre=Se("ZodISODate",(e,t)=>{ote.init(e,t),Tr.init(e,t)});function zre(e){return fre(Lre,e)}const Fre=Se("ZodISOTime",(e,t)=>{lte.init(e,t),Tr.init(e,t)});function Ure(e){return hre(Fre,e)}const Bre=Se("ZodISODuration",(e,t)=>{cte.init(e,t),Tr.init(e,t)});function qre(e){return mre(Bre,e)}const Vre=(e,t)=>{hN.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>YJ(e,r)},flatten:{value:r=>GJ(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,i1,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,i1,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ri=Se("ZodError",Vre,{Parent:Error}),Hre=mx(Ri),Wre=px(Ri),Kre=gx(Ri),Gre=vx(Ri),Yre=eee(Ri),Zre=tee(Ri),Xre=ree(Ri),Qre=nee(Ri),Jre=aee(Ri),ene=iee(Ri),tne=see(Ri),rne=oee(Ri),Zr=Se("ZodType",(e,t)=>(Ur.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(nu(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>$l(e,r,n),e.brand=()=>e,e.register=((r,n)=>(r.add(e,n),e)),e.parse=(r,n)=>Hre(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>Kre(e,r,n),e.parseAsync=async(r,n)=>Wre(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Gre(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Yre(e,r,n),e.decode=(r,n)=>Zre(e,r,n),e.encodeAsync=async(r,n)=>Xre(e,r,n),e.decodeAsync=async(r,n)=>Qre(e,r,n),e.safeEncode=(r,n)=>Jre(e,r,n),e.safeDecode=(r,n)=>ene(e,r,n),e.safeEncodeAsync=async(r,n)=>tne(e,r,n),e.safeDecodeAsync=async(r,n)=>rne(e,r,n),e.refine=(r,n)=>e.check(Gne(r,n)),e.superRefine=r=>e.check(Yne(r)),e.overwrite=r=>e.check(Nm(r)),e.optional=()=>MD(e),e.nullable=()=>ID(e),e.nullish=()=>MD(ID(e)),e.nonoptional=r=>Une(e,r),e.array=()=>zF(e),e.or=r=>One([e,r]),e.and=r=>Rne(e,r),e.transform=r=>$D(e,Mne(r)),e.default=r=>Lne(e,r),e.prefault=r=>Fne(e,r),e.catch=r=>qne(e,r),e.pipe=r=>$D(e,r),e.readonly=()=>Wne(e),e.describe=r=>{const n=e.clone();return Lg.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){return Lg.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Lg.get(e);const n=e.clone();return Lg.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),$F=Se("_ZodString",(e,t)=>{mN.init(e,t),Zr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(bre(...n)),e.includes=(...n)=>e.check(jre(...n)),e.startsWith=(...n)=>e.check(Sre(...n)),e.endsWith=(...n)=>e.check(Cre(...n)),e.min=(...n)=>e.check(Bv(...n)),e.max=(...n)=>e.check(MF(...n)),e.length=(...n)=>e.check(IF(...n)),e.nonempty=(...n)=>e.check(Bv(1,...n)),e.lowercase=n=>e.check(wre(n)),e.uppercase=n=>e.check(_re(n)),e.trim=()=>e.check(Ere()),e.normalize=(...n)=>e.check(Nre(...n)),e.toLowerCase=()=>e.check(kre()),e.toUpperCase=()=>e.check(Are())}),nne=Se("ZodString",(e,t)=>{mN.init(e,t),$F.init(e,t),e.email=r=>e.check(Vte(ane,r)),e.url=r=>e.check(Yte(ine,r)),e.jwt=r=>e.check(ure(bne,r)),e.emoji=r=>e.check(Zte(sne,r)),e.guid=r=>e.check(ED(RD,r)),e.uuid=r=>e.check(Hte(zg,r)),e.uuidv4=r=>e.check(Wte(zg,r)),e.uuidv6=r=>e.check(Kte(zg,r)),e.uuidv7=r=>e.check(Gte(zg,r)),e.nanoid=r=>e.check(Xte(one,r)),e.guid=r=>e.check(ED(RD,r)),e.cuid=r=>e.check(Qte(lne,r)),e.cuid2=r=>e.check(Jte(cne,r)),e.ulid=r=>e.check(ere(une,r)),e.base64=r=>e.check(ore(vne,r)),e.base64url=r=>e.check(lre(yne,r)),e.xid=r=>e.check(tre(dne,r)),e.ksuid=r=>e.check(rre(fne,r)),e.ipv4=r=>e.check(nre(hne,r)),e.ipv6=r=>e.check(are(mne,r)),e.cidrv4=r=>e.check(ire(pne,r)),e.cidrv6=r=>e.check(sre(gne,r)),e.e164=r=>e.check(cre(xne,r)),e.datetime=r=>e.check($re(r)),e.date=r=>e.check(zre(r)),e.time=r=>e.check(Ure(r)),e.duration=r=>e.check(qre(r))});function Rt(e){return qte(nne,e)}const Tr=Se("ZodStringFormat",(e,t)=>{Cr.init(e,t),$F.init(e,t)}),ane=Se("ZodEmail",(e,t)=>{Xee.init(e,t),Tr.init(e,t)}),RD=Se("ZodGUID",(e,t)=>{Yee.init(e,t),Tr.init(e,t)}),zg=Se("ZodUUID",(e,t)=>{Zee.init(e,t),Tr.init(e,t)}),ine=Se("ZodURL",(e,t)=>{Qee.init(e,t),Tr.init(e,t)}),sne=Se("ZodEmoji",(e,t)=>{Jee.init(e,t),Tr.init(e,t)}),one=Se("ZodNanoID",(e,t)=>{ete.init(e,t),Tr.init(e,t)}),lne=Se("ZodCUID",(e,t)=>{tte.init(e,t),Tr.init(e,t)}),cne=Se("ZodCUID2",(e,t)=>{rte.init(e,t),Tr.init(e,t)}),une=Se("ZodULID",(e,t)=>{nte.init(e,t),Tr.init(e,t)}),dne=Se("ZodXID",(e,t)=>{ate.init(e,t),Tr.init(e,t)}),fne=Se("ZodKSUID",(e,t)=>{ite.init(e,t),Tr.init(e,t)}),hne=Se("ZodIPv4",(e,t)=>{ute.init(e,t),Tr.init(e,t)}),mne=Se("ZodIPv6",(e,t)=>{dte.init(e,t),Tr.init(e,t)}),pne=Se("ZodCIDRv4",(e,t)=>{fte.init(e,t),Tr.init(e,t)}),gne=Se("ZodCIDRv6",(e,t)=>{hte.init(e,t),Tr.init(e,t)}),vne=Se("ZodBase64",(e,t)=>{mte.init(e,t),Tr.init(e,t)}),yne=Se("ZodBase64URL",(e,t)=>{gte.init(e,t),Tr.init(e,t)}),xne=Se("ZodE164",(e,t)=>{vte.init(e,t),Tr.init(e,t)}),bne=Se("ZodJWT",(e,t)=>{xte.init(e,t),Tr.init(e,t)}),LF=Se("ZodNumber",(e,t)=>{RF.init(e,t),Zr.init(e,t),e.gt=(n,a)=>e.check(AD(n,a)),e.gte=(n,a)=>e.check(w_(n,a)),e.min=(n,a)=>e.check(w_(n,a)),e.lt=(n,a)=>e.check(kD(n,a)),e.lte=(n,a)=>e.check(b_(n,a)),e.max=(n,a)=>e.check(b_(n,a)),e.int=n=>e.check(PD(n)),e.safe=n=>e.check(PD(n)),e.positive=n=>e.check(AD(0,n)),e.nonnegative=n=>e.check(w_(0,n)),e.negative=n=>e.check(kD(0,n)),e.nonpositive=n=>e.check(b_(0,n)),e.multipleOf=(n,a)=>e.check(OD(n,a)),e.step=(n,a)=>e.check(OD(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null}),wne=Se("ZodNumberFormat",(e,t)=>{bte.init(e,t),LF.init(e,t)});function PD(e){return gre(wne,e)}const _ne=Se("ZodBoolean",(e,t)=>{wte.init(e,t),Zr.init(e,t)});function jne(e){return vre(_ne,e)}const Sne=Se("ZodUnknown",(e,t)=>{_te.init(e,t),Zr.init(e,t)});function DD(){return yre(Sne)}const Cne=Se("ZodNever",(e,t)=>{jte.init(e,t),Zr.init(e,t)});function Nne(e){return xre(Cne,e)}const Ene=Se("ZodArray",(e,t)=>{Ste.init(e,t),Zr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Bv(r,n)),e.nonempty=r=>e.check(Bv(1,r)),e.max=(r,n)=>e.check(MF(r,n)),e.length=(r,n)=>e.check(IF(r,n)),e.unwrap=()=>e.element});function zF(e,t){return Ore(Ene,e,t)}const kne=Se("ZodObject",(e,t)=>{Nte.init(e,t),Zr.init(e,t),ur(e,"shape",()=>t.shape),e.keyof=()=>Vh(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:DD()}),e.loose=()=>e.clone({...e._zod.def,catchall:DD()}),e.strict=()=>e.clone({...e._zod.def,catchall:Nne()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>qJ(e,r),e.safeExtend=r=>VJ(e,r),e.merge=r=>HJ(e,r),e.pick=r=>UJ(e,r),e.omit=r=>BJ(e,r),e.partial=(...r)=>WJ(FF,e,r[0]),e.required=(...r)=>KJ(UF,e,r[0])});function au(e,t){const r={type:"object",shape:e??{},...it(t)};return new kne(r)}const Ane=Se("ZodUnion",(e,t)=>{Ete.init(e,t),Zr.init(e,t),e.options=t.options});function One(e,t){return new Ane({type:"union",options:e,...it(t)})}const Tne=Se("ZodIntersection",(e,t)=>{kte.init(e,t),Zr.init(e,t)});function Rne(e,t){return new Tne({type:"intersection",left:e,right:t})}const o1=Se("ZodEnum",(e,t)=>{Ate.init(e,t),Zr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const i={};for(const o of n)if(r.has(o))i[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new o1({...t,checks:[],...it(a),entries:i})},e.exclude=(n,a)=>{const i={...t.entries};for(const o of n)if(r.has(o))delete i[o];else throw new Error(`Key ${o} not found in enum`);return new o1({...t,checks:[],...it(a),entries:i})}});function Vh(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new o1({type:"enum",entries:r,...it(t)})}const Pne=Se("ZodLiteral",(e,t)=>{Ote.init(e,t),Zr.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function gs(e,t){return new Pne({type:"literal",values:Array.isArray(e)?e:[e],...it(t)})}const Dne=Se("ZodTransform",(e,t)=>{Tte.init(e,t),Zr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new xF(e.constructor.name);r.addIssue=i=>{if(typeof i=="string")r.issues.push(qh(i,r.value,t));else{const o=i;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=e),r.issues.push(qh(o))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(i=>(r.value=i,r)):(r.value=a,r)}});function Mne(e){return new Dne({type:"transform",transform:e})}const FF=Se("ZodOptional",(e,t)=>{Rte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function MD(e){return new FF({type:"optional",innerType:e})}const Ine=Se("ZodNullable",(e,t)=>{Pte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ID(e){return new Ine({type:"nullable",innerType:e})}const $ne=Se("ZodDefault",(e,t)=>{Dte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function Lne(e,t){return new $ne({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():_F(t)}})}const zne=Se("ZodPrefault",(e,t)=>{Mte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Fne(e,t){return new zne({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():_F(t)}})}const UF=Se("ZodNonOptional",(e,t)=>{Ite.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Une(e,t){return new UF({type:"nonoptional",innerType:e,...it(t)})}const Bne=Se("ZodCatch",(e,t)=>{$te.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function qne(e,t){return new Bne({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Vne=Se("ZodPipe",(e,t)=>{Lte.init(e,t),Zr.init(e,t),e.in=t.in,e.out=t.out});function $D(e,t){return new Vne({type:"pipe",in:e,out:t})}const Hne=Se("ZodReadonly",(e,t)=>{zte.init(e,t),Zr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Wne(e){return new Hne({type:"readonly",innerType:e})}const Kne=Se("ZodCustom",(e,t)=>{Fte.init(e,t),Zr.init(e,t)});function Gne(e,t={}){return Tre(Kne,e,t)}function Yne(e){return Rre(e)}const LD={custom:"custom"};function yd(e){return pre(LF,e)}function zD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Rs(...e){return t=>{let r=!1;const n=e.map(a=>{const i=zD(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():zD(e[a],null)}}}}function jt(...e){return x.useCallback(Rs(...e),e)}var Zne=Symbol.for("react.lazy"),qv=ox[" use ".trim().toString()];function Xne(e){return typeof e=="object"&&e!==null&&"then"in e}function BF(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Zne&&"_payload"in e&&Xne(e._payload)}function Em(e){const t=Jne(e),r=x.forwardRef((n,a)=>{let{children:i,...o}=n;BF(i)&&typeof qv=="function"&&(i=qv(i._payload));const c=x.Children.toArray(i),d=c.find(tae);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var Qne=Em("Slot");function Jne(e){const t=x.forwardRef((r,n)=>{let{children:a,...i}=r;if(BF(a)&&typeof qv=="function"&&(a=qv(a._payload)),x.isValidElement(a)){const o=nae(a),c=rae(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eae=Symbol("radix.slottable");function tae(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eae}function rae(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function nae(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qF(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=qF(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=qF(e))&&(n&&(n+=" "),n+=t);return n}const FD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,UD=Kt,xx=(e,t)=>r=>{var n;if(t?.variants==null)return UD(e,r?.class,r?.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(f=>{const m=r?.[f],p=i?.[f];if(m===null)return null;const y=FD(m)||FD(p);return a[f][y]}),c=r&&Object.entries(r).reduce((f,m)=>{let[p,y]=m;return y===void 0||(f[p]=y),f},{}),d=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,m)=>{let{class:p,className:y,...g}=m;return Object.entries(g).every(b=>{let[w,_]=b;return Array.isArray(_)?_.includes({...i,...c}[w]):{...i,...c}[w]===_})?[...f,p,y]:f},[]);return UD(e,o,d,r?.class,r?.className)},aae=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},iae=(e,t)=>({classGroupId:e,validator:t}),VF=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Vv="-",BD=[],sae="arbitrary..",oae=e=>{const t=cae(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return lae(o);const c=o.split(Vv),d=c[0]===""&&c.length>1?1:0;return HF(c,d,t)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],f=r[o];return d?f?aae(f,d):d:f||BD}return r[o]||BD}}},HF=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const a=e[t],i=r.nextPart.get(a);if(i){const f=HF(e,t+1,i);if(f)return f}const o=r.validators;if(o===null)return;const c=t===0?e.join(Vv):e.slice(t).join(Vv),d=o.length;for(let f=0;f<d;f++){const m=o[f];if(m.validator(c))return m.classGroupId}},lae=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?sae+n:void 0})(),cae=e=>{const{theme:t,classGroups:r}=e;return uae(r,t)},uae=(e,t)=>{const r=VF();for(const n in e){const a=e[n];pN(a,r,n,t)}return r},pN=(e,t,r,n)=>{const a=e.length;for(let i=0;i<a;i++){const o=e[i];dae(o,t,r,n)}},dae=(e,t,r,n)=>{if(typeof e=="string"){fae(e,t,r);return}if(typeof e=="function"){hae(e,t,r,n);return}mae(e,t,r,n)},fae=(e,t,r)=>{const n=e===""?t:WF(t,e);n.classGroupId=r},hae=(e,t,r,n)=>{if(pae(e)){pN(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(iae(r,e))},mae=(e,t,r,n)=>{const a=Object.entries(e),i=a.length;for(let o=0;o<i;o++){const[c,d]=a[o];pN(d,WF(t,c),r,n)}},WF=(e,t)=>{let r=e;const n=t.split(Vv),a=n.length;for(let i=0;i<a;i++){const o=n[i];let c=r.nextPart.get(o);c||(c=VF(),r.nextPart.set(o,c)),r=c}return r},pae=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,gae=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},l1="!",qD=":",vae=[],VD=(e,t,r,n,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),yae=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let o=0,c=0,d=0,f;const m=a.length;for(let w=0;w<m;w++){const _=a[w];if(o===0&&c===0){if(_===qD){i.push(a.slice(d,w)),d=w+1;continue}if(_==="/"){f=w;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const p=i.length===0?a:a.slice(d);let y=p,g=!1;p.endsWith(l1)?(y=p.slice(0,-1),g=!0):p.startsWith(l1)&&(y=p.slice(1),g=!0);const b=f&&f>d?f-d:void 0;return VD(i,g,y,b)};if(t){const a=t+qD,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):VD(vae,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},xae=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",d=t.has(o);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},bae=e=>({cache:gae(e.cacheSize),parseClassName:yae(e),sortModifiers:xae(e),...oae(e)}),wae=/\s+/,_ae=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,o=[],c=e.trim().split(wae);let d="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{isExternal:p,modifiers:y,hasImportantModifier:g,baseClassName:b,maybePostfixModifierPosition:w}=r(m);if(p){d=m+(d.length>0?" "+d:d);continue}let _=!!w,j=n(_?b.substring(0,w):b);if(!j){if(!_){d=m+(d.length>0?" "+d:d);continue}if(j=n(b),!j){d=m+(d.length>0?" "+d:d);continue}_=!1}const N=y.length===0?"":y.length===1?y[0]:i(y).join(":"),E=g?N+l1:N,k=E+j;if(o.indexOf(k)>-1)continue;o.push(k);const A=a(j,_);for(let R=0;R<A.length;++R){const T=A[R];o.push(E+T)}d=m+(d.length>0?" "+d:d)}return d},jae=(...e)=>{let t=0,r,n,a="";for(;t<e.length;)(r=e[t++])&&(n=KF(r))&&(a&&(a+=" "),a+=n);return a},KF=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=KF(e[n]))&&(r&&(r+=" "),r+=t);return r},Sae=(e,...t)=>{let r,n,a,i;const o=d=>{const f=t.reduce((m,p)=>p(m),e());return r=bae(f),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const f=n(d);if(f)return f;const m=_ae(d,r);return a(d,m),m};return i=o,(...d)=>i(jae(...d))},Cae=[],mn=e=>{const t=r=>r[e]||Cae;return t.isThemeGetter=!0,t},GF=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YF=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Nae=/^\d+\/\d+$/,Eae=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kae=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Aae=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Oae=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tae=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ed=e=>Nae.test(e),Pt=e=>!!e&&!Number.isNaN(Number(e)),pl=e=>!!e&&Number.isInteger(Number(e)),__=e=>e.endsWith("%")&&Pt(e.slice(0,-1)),io=e=>Eae.test(e),Rae=()=>!0,Pae=e=>kae.test(e)&&!Aae.test(e),ZF=()=>!1,Dae=e=>Oae.test(e),Mae=e=>Tae.test(e),Iae=e=>!We(e)&&!Ke(e),$ae=e=>qd(e,JF,ZF),We=e=>GF.test(e),hc=e=>qd(e,eU,Pae),j_=e=>qd(e,Bae,Pt),HD=e=>qd(e,XF,ZF),Lae=e=>qd(e,QF,Mae),Fg=e=>qd(e,tU,Dae),Ke=e=>YF.test(e),sh=e=>Vd(e,eU),zae=e=>Vd(e,qae),WD=e=>Vd(e,XF),Fae=e=>Vd(e,JF),Uae=e=>Vd(e,QF),Ug=e=>Vd(e,tU,!0),qd=(e,t,r)=>{const n=GF.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Vd=(e,t,r=!1)=>{const n=YF.exec(e);return n?n[1]?t(n[1]):r:!1},XF=e=>e==="position"||e==="percentage",QF=e=>e==="image"||e==="url",JF=e=>e==="length"||e==="size"||e==="bg-size",eU=e=>e==="length",Bae=e=>e==="number",qae=e=>e==="family-name",tU=e=>e==="shadow",Vae=()=>{const e=mn("color"),t=mn("font"),r=mn("text"),n=mn("font-weight"),a=mn("tracking"),i=mn("leading"),o=mn("breakpoint"),c=mn("container"),d=mn("spacing"),f=mn("radius"),m=mn("shadow"),p=mn("inset-shadow"),y=mn("text-shadow"),g=mn("drop-shadow"),b=mn("blur"),w=mn("perspective"),_=mn("aspect"),j=mn("ease"),N=mn("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...k(),Ke,We],R=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],O=()=>[Ke,We,d],P=()=>[ed,"full","auto",...O()],$=()=>[pl,"none","subgrid",Ke,We],M=()=>["auto",{span:["full",pl,Ke,We]},pl,Ke,We],L=()=>[pl,"auto",Ke,We],U=()=>["auto","min","max","fr",Ke,We],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],F=()=>["auto",...O()],H=()=>[ed,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],I=()=>[e,Ke,We],q=()=>[...k(),WD,HD,{position:[Ke,We]}],ue=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",Fae,$ae,{size:[Ke,We]}],Q=()=>[__,sh,hc],V=()=>["","none","full",f,Ke,We],ae=()=>["",Pt,sh,hc],Z=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>[Pt,__,WD,HD],pe=()=>["","none",b,Ke,We],G=()=>["none",Pt,Ke,We],ge=()=>["none",Pt,Ke,We],ye=()=>[Pt,Ke,We],le=()=>[ed,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[io],breakpoint:[io],color:[Rae],container:[io],"drop-shadow":[io],ease:["in","out","in-out"],font:[Iae],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[io],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[io],shadow:[io],spacing:["px",Pt],text:[io],"text-shadow":[io],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ed,We,Ke,_]}],container:["container"],columns:[{columns:[Pt,We,Ke,c]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[pl,"auto",Ke,We]}],basis:[{basis:[ed,"full","auto",c,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Pt,ed,"auto","initial","none",We]}],grow:[{grow:["",Pt,Ke,We]}],shrink:[{shrink:["",Pt,Ke,We]}],order:[{order:[pl,"first","last","none",Ke,We]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:F()}],mx:[{mx:F()}],my:[{my:F()}],ms:[{ms:F()}],me:[{me:F()}],mt:[{mt:F()}],mr:[{mr:F()}],mb:[{mb:F()}],ml:[{ml:F()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:H()}],w:[{w:[c,"screen",...H()]}],"min-w":[{"min-w":[c,"screen","none",...H()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...H()]}],h:[{h:["screen","lh",...H()]}],"min-h":[{"min-h":["screen","lh","none",...H()]}],"max-h":[{"max-h":["screen","lh",...H()]}],"font-size":[{text:["base",r,sh,hc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ke,j_]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",__,We]}],"font-family":[{font:[zae,We,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Ke,We]}],"line-clamp":[{"line-clamp":[Pt,"none",Ke,j_]}],leading:[{leading:[i,...O()]}],"list-image":[{"list-image":["none",Ke,We]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ke,We]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:[Pt,"from-font","auto",Ke,hc]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Pt,"auto",Ke,We]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke,We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke,We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:ue()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pl,Ke,We],radial:["",Ke,We],conic:[pl,Ke,We]},Uae,Lae]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Z(),"hidden","none"]}],"divide-style":[{divide:[...Z(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...Z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Pt,Ke,We]}],"outline-w":[{outline:["",Pt,sh,hc]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",m,Ug,Fg]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",p,Ug,Fg]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Pt,hc]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",y,Ug,Fg]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Pt,Ke,We]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ee()}],"mask-image-linear-to-pos":[{"mask-linear-to":ee()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":ee()}],"mask-image-t-to-pos":[{"mask-t-to":ee()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":ee()}],"mask-image-r-to-pos":[{"mask-r-to":ee()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":ee()}],"mask-image-b-to-pos":[{"mask-b-to":ee()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":ee()}],"mask-image-l-to-pos":[{"mask-l-to":ee()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":ee()}],"mask-image-x-to-pos":[{"mask-x-to":ee()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":ee()}],"mask-image-y-to-pos":[{"mask-y-to":ee()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[Ke,We]}],"mask-image-radial-from-pos":[{"mask-radial-from":ee()}],"mask-image-radial-to-pos":[{"mask-radial-to":ee()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ee()}],"mask-image-conic-to-pos":[{"mask-conic-to":ee()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:ue()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ke,We]}],filter:[{filter:["","none",Ke,We]}],blur:[{blur:pe()}],brightness:[{brightness:[Pt,Ke,We]}],contrast:[{contrast:[Pt,Ke,We]}],"drop-shadow":[{"drop-shadow":["","none",g,Ug,Fg]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Pt,Ke,We]}],"hue-rotate":[{"hue-rotate":[Pt,Ke,We]}],invert:[{invert:["",Pt,Ke,We]}],saturate:[{saturate:[Pt,Ke,We]}],sepia:[{sepia:["",Pt,Ke,We]}],"backdrop-filter":[{"backdrop-filter":["","none",Ke,We]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Pt,Ke,We]}],"backdrop-contrast":[{"backdrop-contrast":[Pt,Ke,We]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Pt,Ke,We]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Pt,Ke,We]}],"backdrop-invert":[{"backdrop-invert":["",Pt,Ke,We]}],"backdrop-opacity":[{"backdrop-opacity":[Pt,Ke,We]}],"backdrop-saturate":[{"backdrop-saturate":[Pt,Ke,We]}],"backdrop-sepia":[{"backdrop-sepia":["",Pt,Ke,We]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ke,We]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Pt,"initial",Ke,We]}],ease:[{ease:["linear","initial",j,Ke,We]}],delay:[{delay:[Pt,Ke,We]}],animate:[{animate:["none",N,Ke,We]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ke,We]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:G()}],"rotate-x":[{"rotate-x":G()}],"rotate-y":[{"rotate-y":G()}],"rotate-z":[{"rotate-z":G()}],scale:[{scale:ge()}],"scale-x":[{"scale-x":ge()}],"scale-y":[{"scale-y":ge()}],"scale-z":[{"scale-z":ge()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Ke,We,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke,We]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke,We]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Pt,sh,hc,j_]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Hae=Sae(Vae);function Ie(...e){return Hae(Kt(e))}const xd=xx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),se=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?Qne:"button";return s.jsx(o,{className:Ie(xd({variant:t,size:r,className:e})),ref:i,...a})});se.displayName="Button";const Qe=x.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:Ie("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Qe.displayName="Input";var Wae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Kae=Wae.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Gae="Label",rU=x.forwardRef((e,t)=>s.jsx(Kae.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));rU.displayName=Gae;var nU=rU;const Yae=xx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=x.forwardRef(({className:e,...t},r)=>s.jsx(nU,{ref:r,className:Ie(Yae(),e),...t}));_e.displayName=nU.displayName;const Ce=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ce.displayName="Card";const ke=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("flex flex-col space-y-1.5 p-6",e),...t}));ke.displayName="CardHeader";const Ae=x.forwardRef(({className:e,...t},r)=>s.jsx("h3",{ref:r,className:Ie("text-2xl font-semibold leading-none tracking-tight",e),...t}));Ae.displayName="CardTitle";const ot=x.forwardRef(({className:e,...t},r)=>s.jsx("p",{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));ot.displayName="CardDescription";const Ne=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("p-6 pt-0",e),...t}));Ne.displayName="CardContent";const Zae=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("flex items-center p-6 pt-0",e),...t}));Zae.displayName="CardFooter";const Xae=xx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ht=x.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Ie(Xae({variant:t}),e),...r}));ht.displayName="Alert";const bx=x.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:Ie("mb-1 font-medium leading-none tracking-tight",e),...t}));bx.displayName="AlertTitle";const mt=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:Ie("text-sm [&_p]:leading-relaxed",e),...t}));mt.displayName="AlertDescription";const Qae=au({email:Rt().email("Invalid email address"),password:Rt().min(6,"Password must be at least 6 characters")});function Jae(){const[e,t]=x.useState(null),[r,n]=x.useState(!1),{signIn:a}=Sr(),i=Or(),{register:o,handleSubmit:c,formState:{errors:d}}=Do({resolver:Mo(Qae)}),f=async m=>{n(!0),t(null);const{error:p}=await a(m.email,m.password);p?(t(p.message),n(!1)):i("/dashboard")};return s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-muted px-4",children:s.jsxs(Ce,{className:"w-full max-w-md shadow-lg",children:[s.jsxs(ke,{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:s.jsx("span",{className:"text-2xl font-bold",children:"P"})})}),s.jsx(Ae,{className:"text-2xl font-bold text-center",children:"Sign In to PPH Connect"}),s.jsx(ot,{className:"text-center",children:"Access your workforce management platform with your email and password"})]}),s.jsxs(Ne,{children:[s.jsxs("form",{onSubmit:c(f),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email",children:"Email"}),s.jsx(Qe,{id:"email",type:"email",placeholder:"admin@example.com",...o("email"),"aria-invalid":!!d.email}),d.email&&s.jsx("p",{className:"text-sm text-destructive",children:d.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"password",children:"Password"}),s.jsx(Qe,{id:"password",type:"password",placeholder:"",...o("password"),"aria-invalid":!!d.password}),d.password&&s.jsx("p",{className:"text-sm text-destructive",children:d.password.message})]}),e&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:e})}),s.jsx(se,{type:"submit",className:"w-full",disabled:r,children:r?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:"Admin & Manager access only"})})]})]})})}const eie=xx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ze({className:e,variant:t,...r}){return s.jsx("div",{className:Ie(eie({variant:t}),e),...r})}function De({className:e,...t}){return s.jsx("div",{className:Ie("animate-pulse rounded-md bg-muted",e),...t})}const tie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),KD=e=>{const t=rie(e);return t.charAt(0).toUpperCase()+t.slice(1)},aU=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),nie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var aie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iie=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},d)=>x.createElement("svg",{ref:d,...aie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:aU("lucide",a),...!i&&!nie(c)&&{"aria-hidden":"true"},...c},[...o.map(([f,m])=>x.createElement(f,m)),...Array.isArray(i)?i:[i]]));const Ze=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(iie,{ref:i,iconNode:t,className:aU(`lucide-${tie(KD(e))}`,`lucide-${e}`,n),...a}));return r.displayName=KD(e),r};const sie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Za=Ze("arrow-left",sie);const oie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],lie=Ze("arrow-right",oie);const cie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],uie=Ze("award",cie);const die=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],zc=Ze("briefcase",die);const fie=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],wx=Ze("building-2",fie);const hie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_o=Ze("calendar",hie);const mie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ed=Ze("chart-column",mie);const pie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gN=Ze("check",pie);const gie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],iU=Ze("chevron-down",gie);const vie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_x=Ze("chevron-left",vie);const yie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],km=Ze("chevron-right",yie);const xie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bie=Ze("chevron-up",xie);const wie=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],_ie=Ze("chevrons-up-down",wie);const jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ia=Ze("circle-alert",jie);const Sie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Oh=Ze("circle-check-big",Sie);const Cie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],c1=Ze("circle-check",Cie);const Nie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],GD=Ze("circle-plus",Nie);const Eie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],YD=Ze("circle-question-mark",Eie);const kie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Aie=Ze("circle-x",kie);const Oie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sU=Ze("circle",Oie);const Tie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Hh=Ze("clock",Tie);const Rie=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],oU=Ze("credit-card",Rie);const Pie=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],fo=Ze("dollar-sign",Pie);const Die=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Nl=Ze("download",Die);const Mie=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Iie=Ze("ellipsis",Mie);const $ie=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lU=Ze("external-link",$ie);const Lie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],u1=Ze("file-check",Lie);const zie=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Fie=Ze("file-spreadsheet",zie);const Uie=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],bs=Ze("folder-open",Uie);const Bie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qie=Ze("funnel",Bie);const Vie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Wh=Ze("globe",Vie);const Hie=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Wie=Ze("graduation-cap",Hie);const Kie=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Gie=Ze("house",Kie);const Yie=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Zie=Ze("list-todo",Yie);const Xie=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Si=Ze("loader-circle",Xie);const Qie=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Jie=Ze("log-out",Qie);const ese=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Th=Ze("mail",ese);const tse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],rse=Ze("map-pin",tse);const nse=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],ase=Ze("medal",nse);const ise=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],sse=Ze("message-square",ise);const ose=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ZD=Ze("monitor",ose);const lse=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cse=Ze("pencil",lse);const use=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],vN=Ze("plus",use);const dse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],XD=Ze("refresh-cw",dse);const fse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Hd=Ze("search",fse);const hse=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],mse=Ze("settings-2",hse);const pse=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QD=Ze("settings",pse);const gse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vse=Ze("shield-check",gse);const yse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],xse=Ze("shield",yse);const bse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yN=Ze("square-pen",bse);const wse=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],JD=Ze("star",wse);const _se=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cU=Ze("trash-2",_se);const jse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yo=Ze("trending-up",jse);const Sse=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gi=Ze("triangle-alert",Sse);const Cse=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],S_=Ze("trophy",Cse);const Nse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fc=Ze("upload",Nse);const Ese=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],d1=Ze("user-check",Ese);const kse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],xN=Ze("user-plus",kse);const Ase=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],f1=Ze("user",Ase);const Ose=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ss=Ze("users",Ose);const Tse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ps=Ze("x",Tse);function Rse(){const{isWorker:e,isManagerOrAbove:t}=Sr();if(e)return s.jsx(zC,{to:"/my-stats",replace:!0});const{data:r,isLoading:n}=Je({queryKey:["dashboard-metrics"],queryFn:async()=>{const{count:o}=await je.from("workers").select("*",{count:"exact",head:!0}),{count:c}=await je.from("workers").select("*",{count:"exact",head:!0}).eq("status","active"),{count:d}=await je.from("workers").select("*",{count:"exact",head:!0}).eq("status","pending"),{count:f}=await je.from("workforce_projects").select("*",{count:"exact",head:!0}).eq("status","active"),{count:m}=await je.from("teams").select("*",{count:"exact",head:!0}),p=new Date().toISOString().split("T")[0],y=new Date(Date.now()+720*60*60*1e3).toISOString().split("T")[0],{data:g}=await je.from("workers").select("bgc_expiration_date").not("bgc_expiration_date","is",null);let b=0,w=0;return g&&g.forEach(_=>{if(_.bgc_expiration_date){const j=_.bgc_expiration_date;j<p?b++:j>=p&&j<=y&&w++}}),{totalWorkers:o||0,activeWorkers:c||0,pendingWorkers:d||0,activeProjects:f||0,totalTeams:m||0,bgcExpiring:w,bgcExpired:b}}}),a=[{title:"Total Workers",value:r?.totalWorkers||0,description:`${r?.activeWorkers||0} active, ${r?.pendingWorkers||0} pending`,icon:Ss,href:"/workers",trend:"+12% from last month",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-950"},{title:"Active Projects",value:r?.activeProjects||0,description:"Currently running projects",icon:bs,href:"/projects",trend:"+5% from last month",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-950"},{title:"Teams",value:r?.totalTeams||0,description:"Organized by department",icon:d1,href:"/teams",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-950"},{title:"BGC Alerts",value:(r?.bgcExpired||0)+(r?.bgcExpiring||0),description:`${r?.bgcExpired||0} expired, ${r?.bgcExpiring||0} expiring soon`,icon:Gi,href:"/workers?filter=bgc-alerts",alert:(r?.bgcExpired||0)>0,color:(r?.bgcExpired||0)>0?"text-red-600":"text-amber-600",bgColor:(r?.bgcExpired||0)>0?"bg-red-100 dark:bg-red-950":"bg-amber-100 dark:bg-amber-950"}],i=[{title:"Add Worker",description:"Create a new worker profile",icon:vN,href:"/workers/create",color:"text-blue-600"},{title:"Import CSV",description:"Bulk upload workers",icon:Fc,href:"/workers?action=bulk-upload",color:"text-green-600"},{title:"Create Project",description:"Start a new project",icon:bs,href:"/projects/create",color:"text-purple-600"},{title:"Send Message",description:"Broadcast to workers",icon:Th,href:"/messages/compose",color:"text-orange-600"}];return s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("header",{className:"space-y-1",children:[s.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor workforce health, track compliance, and manage your PPH Connect platform"})]}),s.jsxs("section",{"aria-labelledby":"summary-heading",className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{id:"summary-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Summary"}),s.jsx(ze,{variant:"outline",className:"text-[0.65rem]",children:"Real-time"})]}),s.jsx(se,{variant:"ghost",size:"sm",className:"text-xs",children:"Refresh"})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:n?Array.from({length:4}).map((o,c)=>s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(De,{className:"h-4 w-24"}),s.jsx(De,{className:"h-8 w-8 rounded-full"})]}),s.jsxs(Ne,{children:[s.jsx(De,{className:"h-8 w-16 mb-2"}),s.jsx(De,{className:"h-3 w-32"})]})]},c)):a.map(o=>s.jsx(Wa,{to:o.href,children:s.jsxs(Ce,{className:"hover:shadow-md transition-shadow cursor-pointer",children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:o.title}),s.jsx("div",{className:`p-2 rounded-full ${o.bgColor}`,children:s.jsx(o.icon,{className:`h-4 w-4 ${o.color}`})})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o.value}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:o.description}),o.trend&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(yo,{className:"h-3 w-3 text-green-600"}),s.jsx("span",{className:"text-xs text-green-600",children:o.trend})]}),o.alert&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Gi,{className:"h-3 w-3 text-red-600"}),s.jsx("span",{className:"text-xs text-red-600",children:"Action required"})]})]})]})},o.title))})]}),r&&(r.bgcExpired>0||r.bgcExpiring>0)&&s.jsxs("section",{"aria-labelledby":"bgc-alerts-heading",className:"space-y-3",children:[s.jsx("h2",{id:"bgc-alerts-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Background Check Alerts"}),s.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[r.bgcExpired>0&&s.jsxs(Ce,{className:"border-red-200 dark:border-red-900 bg-red-50/50 dark:bg-red-950/20",children:[s.jsxs(ke,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gi,{className:"h-5 w-5 text-red-600"}),s.jsx(Ae,{className:"text-sm font-semibold",children:"Expired Checks"})]}),s.jsx(ze,{variant:"destructive",children:r.bgcExpired})]}),s.jsx(ot,{children:"Workers with expired background checks"})]}),s.jsx(Ne,{children:s.jsx(Wa,{to:"/workers?filter=bgc-expired",children:s.jsxs(se,{variant:"destructive",size:"sm",className:"w-full",children:["View Workers ",s.jsx(Oh,{className:"ml-2 h-4 w-4"})]})})})]}),r.bgcExpiring>0&&s.jsxs(Ce,{className:"border-amber-200 dark:border-amber-900 bg-amber-50/50 dark:bg-amber-950/20",children:[s.jsxs(ke,{children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gi,{className:"h-5 w-5 text-amber-600"}),s.jsx(Ae,{className:"text-sm font-semibold",children:"Expiring Soon"})]}),s.jsx(ze,{variant:"secondary",children:r.bgcExpiring})]}),s.jsx(ot,{children:"Workers with checks expiring in 30 days"})]}),s.jsx(Ne,{children:s.jsx(Wa,{to:"/workers?filter=bgc-expiring",children:s.jsxs(se,{variant:"outline",size:"sm",className:"w-full",children:["Schedule Renewals ",s.jsx(Oh,{className:"ml-2 h-4 w-4"})]})})})]})]})]}),t&&s.jsxs("section",{"aria-labelledby":"quick-actions-heading",className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{id:"quick-actions-heading",className:"text-xs font-semibold uppercase text-muted-foreground tracking-wide",children:"Quick Actions"}),s.jsx(ze,{variant:"secondary",className:"text-[0.65rem]",children:"Shortcuts"})]}),s.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:i.map(o=>s.jsx(Wa,{to:o.href,children:s.jsx(Ce,{className:"hover:shadow-md transition-shadow cursor-pointer",children:s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-muted",children:s.jsx(o.icon,{className:`h-5 w-5 ${o.color}`})}),s.jsxs("div",{children:[s.jsx(Ae,{className:"text-sm font-medium",children:o.title}),s.jsx(ot,{className:"text-xs",children:o.description})]})]})})})},o.title))})]}),s.jsx("section",{"aria-labelledby":"system-status-heading",children:s.jsxs(Ce,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wx,{className:"h-5 w-5 text-blue-600"}),s.jsx(Ae,{className:"text-sm font-semibold",children:"System Status"})]}),s.jsxs(ze,{variant:"outline",className:"text-green-600 border-green-600",children:[s.jsx(Oh,{className:"h-3 w-3 mr-1"}),"All Systems Operational"]})]})}),s.jsx(Ne,{children:s.jsx("p",{className:"text-sm text-muted-foreground",children:"PPH Connect is running smoothly. Database, authentication, and all services are operational."})})]})})]})}function jl(e,t){return typeof e=="function"?e(t):e}function Xa(e,t){return r=>{t.setState(n=>({...n,[e]:jl(r,n[e])}))}}function jx(e){return e instanceof Function}function Pse(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function Dse(e,t){const r=[],n=a=>{a.forEach(i=>{r.push(i);const o=t(i);o!=null&&o.length&&n(o)})};return n(e),r}function ut(e,t,r){let n=[],a;return i=>{let o;r.key&&r.debug&&(o=Date.now());const c=e(i);if(!(c.length!==n.length||c.some((m,p)=>n[p]!==m)))return a;n=c;let f;if(r.key&&r.debug&&(f=Date.now()),a=t(...c),r==null||r.onChange==null||r.onChange(a),r.key&&r.debug&&r!=null&&r.debug()){const m=Math.round((Date.now()-o)*100)/100,p=Math.round((Date.now()-f)*100)/100,y=p/16,g=(b,w)=>{for(b=String(b);b.length<w;)b=" "+b;return b};console.info(`%c ${g(p,5)} /${g(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,r?.key)}return a}}function dt(e,t,r,n){return{debug:()=>{var a;return(a=e?.debugAll)!=null?a:e[t]},key:!1,onChange:n}}function Mse(e,t,r,n){const a=()=>{var o;return(o=i.getValue())!=null?o:e.options.renderFallbackValue},i={id:`${t.id}_${r.id}`,row:t,column:r,getValue:()=>t.getValue(n),renderValue:a,getContext:ut(()=>[e,r,t,i],(o,c,d,f)=>({table:o,column:c,row:d,cell:f,getValue:f.getValue,renderValue:f.renderValue}),dt(e.options,"debugCells"))};return e._features.forEach(o=>{o.createCell==null||o.createCell(i,r,t,e)},{}),i}function Ise(e,t,r,n){var a,i;const c={...e._getDefaultColumnDef(),...t},d=c.accessorKey;let f=(a=(i=c.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?a:typeof c.header=="string"?c.header:void 0,m;if(c.accessorFn?m=c.accessorFn:d&&(d.includes(".")?m=y=>{let g=y;for(const w of d.split(".")){var b;g=(b=g)==null?void 0:b[w]}return g}:m=y=>y[c.accessorKey]),!f)throw new Error;let p={id:`${String(f)}`,accessorFn:m,parent:n,depth:r,columnDef:c,columns:[],getFlatColumns:ut(()=>[!0],()=>{var y;return[p,...(y=p.columns)==null?void 0:y.flatMap(g=>g.getFlatColumns())]},dt(e.options,"debugColumns")),getLeafColumns:ut(()=>[e._getOrderColumnsFn()],y=>{var g;if((g=p.columns)!=null&&g.length){let b=p.columns.flatMap(w=>w.getLeafColumns());return y(b)}return[p]},dt(e.options,"debugColumns"))};for(const y of e._features)y.createColumn==null||y.createColumn(p,e);return p}const Kn="debugHeaders";function eM(e,t,r){var n;let i={id:(n=r.id)!=null?n:t.id,column:t,index:r.index,isPlaceholder:!!r.isPlaceholder,placeholderId:r.placeholderId,depth:r.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],c=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(c),o.push(d)};return c(i),o},getContext:()=>({table:e,header:i,column:t})};return e._features.forEach(o=>{o.createHeader==null||o.createHeader(i,e)}),i}const $se={createTable:e=>{e.getHeaderGroups=ut(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>{var i,o;const c=(i=n?.map(p=>r.find(y=>y.id===p)).filter(Boolean))!=null?i:[],d=(o=a?.map(p=>r.find(y=>y.id===p)).filter(Boolean))!=null?o:[],f=r.filter(p=>!(n!=null&&n.includes(p.id))&&!(a!=null&&a.includes(p.id)));return Bg(t,[...c,...f,...d],e)},dt(e.options,Kn)),e.getCenterHeaderGroups=ut(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n,a)=>(r=r.filter(i=>!(n!=null&&n.includes(i.id))&&!(a!=null&&a.includes(i.id))),Bg(t,r,e,"center")),dt(e.options,Kn)),e.getLeftHeaderGroups=ut(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,r,n)=>{var a;const i=(a=n?.map(o=>r.find(c=>c.id===o)).filter(Boolean))!=null?a:[];return Bg(t,i,e,"left")},dt(e.options,Kn)),e.getRightHeaderGroups=ut(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,r,n)=>{var a;const i=(a=n?.map(o=>r.find(c=>c.id===o)).filter(Boolean))!=null?a:[];return Bg(t,i,e,"right")},dt(e.options,Kn)),e.getFooterGroups=ut(()=>[e.getHeaderGroups()],t=>[...t].reverse(),dt(e.options,Kn)),e.getLeftFooterGroups=ut(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),dt(e.options,Kn)),e.getCenterFooterGroups=ut(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),dt(e.options,Kn)),e.getRightFooterGroups=ut(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),dt(e.options,Kn)),e.getFlatHeaders=ut(()=>[e.getHeaderGroups()],t=>t.map(r=>r.headers).flat(),dt(e.options,Kn)),e.getLeftFlatHeaders=ut(()=>[e.getLeftHeaderGroups()],t=>t.map(r=>r.headers).flat(),dt(e.options,Kn)),e.getCenterFlatHeaders=ut(()=>[e.getCenterHeaderGroups()],t=>t.map(r=>r.headers).flat(),dt(e.options,Kn)),e.getRightFlatHeaders=ut(()=>[e.getRightHeaderGroups()],t=>t.map(r=>r.headers).flat(),dt(e.options,Kn)),e.getCenterLeafHeaders=ut(()=>[e.getCenterFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),dt(e.options,Kn)),e.getLeftLeafHeaders=ut(()=>[e.getLeftFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),dt(e.options,Kn)),e.getRightLeafHeaders=ut(()=>[e.getRightFlatHeaders()],t=>t.filter(r=>{var n;return!((n=r.subHeaders)!=null&&n.length)}),dt(e.options,Kn)),e.getLeafHeaders=ut(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,r,n)=>{var a,i,o,c,d,f;return[...(a=(i=t[0])==null?void 0:i.headers)!=null?a:[],...(o=(c=r[0])==null?void 0:c.headers)!=null?o:[],...(d=(f=n[0])==null?void 0:f.headers)!=null?d:[]].map(m=>m.getLeafHeaders()).flat()},dt(e.options,Kn))}};function Bg(e,t,r,n){var a,i;let o=0;const c=function(y,g){g===void 0&&(g=1),o=Math.max(o,g),y.filter(b=>b.getIsVisible()).forEach(b=>{var w;(w=b.columns)!=null&&w.length&&c(b.columns,g+1)},0)};c(e);let d=[];const f=(y,g)=>{const b={depth:g,id:[n,`${g}`].filter(Boolean).join("_"),headers:[]},w=[];y.forEach(_=>{const j=[...w].reverse()[0],N=_.column.depth===b.depth;let E,k=!1;if(N&&_.column.parent?E=_.column.parent:(E=_.column,k=!0),j&&j?.column===E)j.subHeaders.push(_);else{const A=eM(r,E,{id:[n,g,E.id,_?.id].filter(Boolean).join("_"),isPlaceholder:k,placeholderId:k?`${w.filter(R=>R.column===E).length}`:void 0,depth:g,index:w.length});A.subHeaders.push(_),w.push(A)}b.headers.push(_),_.headerGroup=b}),d.push(b),g>0&&f(w,g-1)},m=t.map((y,g)=>eM(r,y,{depth:o,index:g}));f(m,o-1),d.reverse();const p=y=>y.filter(b=>b.column.getIsVisible()).map(b=>{let w=0,_=0,j=[0];b.subHeaders&&b.subHeaders.length?(j=[],p(b.subHeaders).forEach(E=>{let{colSpan:k,rowSpan:A}=E;w+=k,j.push(A)})):w=1;const N=Math.min(...j);return _=_+N,b.colSpan=w,b.rowSpan=_,{colSpan:w,rowSpan:_}});return p((a=(i=d[0])==null?void 0:i.headers)!=null?a:[]),d}const bN=(e,t,r,n,a,i,o)=>{let c={id:t,index:n,original:r,depth:a,parentId:o,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(c._valuesCache.hasOwnProperty(d))return c._valuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return c._valuesCache[d]=f.accessorFn(c.original,n),c._valuesCache[d]},getUniqueValues:d=>{if(c._uniqueValuesCache.hasOwnProperty(d))return c._uniqueValuesCache[d];const f=e.getColumn(d);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(c._uniqueValuesCache[d]=f.columnDef.getUniqueValues(c.original,n),c._uniqueValuesCache[d]):(c._uniqueValuesCache[d]=[c.getValue(d)],c._uniqueValuesCache[d])},renderValue:d=>{var f;return(f=c.getValue(d))!=null?f:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>Dse(c.subRows,d=>d.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let d=[],f=c;for(;;){const m=f.getParentRow();if(!m)break;d.push(m),f=m}return d.reverse()},getAllCells:ut(()=>[e.getAllLeafColumns()],d=>d.map(f=>Mse(e,c,f,f.id)),dt(e.options,"debugRows")),_getAllCellsByColumnId:ut(()=>[c.getAllCells()],d=>d.reduce((f,m)=>(f[m.column.id]=m,f),{}),dt(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const f=e._features[d];f==null||f.createRow==null||f.createRow(c,e)}return c},Lse={createColumn:(e,t)=>{e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},uU=(e,t,r)=>{var n,a;const i=r==null||(n=r.toString())==null?void 0:n.toLowerCase();return!!(!((a=e.getValue(t))==null||(a=a.toString())==null||(a=a.toLowerCase())==null)&&a.includes(i))};uU.autoRemove=e=>Zi(e);const dU=(e,t,r)=>{var n;return!!(!((n=e.getValue(t))==null||(n=n.toString())==null)&&n.includes(r))};dU.autoRemove=e=>Zi(e);const fU=(e,t,r)=>{var n;return((n=e.getValue(t))==null||(n=n.toString())==null?void 0:n.toLowerCase())===r?.toLowerCase()};fU.autoRemove=e=>Zi(e);const hU=(e,t,r)=>{var n;return(n=e.getValue(t))==null?void 0:n.includes(r)};hU.autoRemove=e=>Zi(e);const mU=(e,t,r)=>!r.some(n=>{var a;return!((a=e.getValue(t))!=null&&a.includes(n))});mU.autoRemove=e=>Zi(e)||!(e!=null&&e.length);const pU=(e,t,r)=>r.some(n=>{var a;return(a=e.getValue(t))==null?void 0:a.includes(n)});pU.autoRemove=e=>Zi(e)||!(e!=null&&e.length);const gU=(e,t,r)=>e.getValue(t)===r;gU.autoRemove=e=>Zi(e);const vU=(e,t,r)=>e.getValue(t)==r;vU.autoRemove=e=>Zi(e);const wN=(e,t,r)=>{let[n,a]=r;const i=e.getValue(t);return i>=n&&i<=a};wN.resolveFilterValue=e=>{let[t,r]=e,n=typeof t!="number"?parseFloat(t):t,a=typeof r!="number"?parseFloat(r):r,i=t===null||Number.isNaN(n)?-1/0:n,o=r===null||Number.isNaN(a)?1/0:a;if(i>o){const c=i;i=o,o=c}return[i,o]};wN.autoRemove=e=>Zi(e)||Zi(e[0])&&Zi(e[1]);const oo={includesString:uU,includesStringSensitive:dU,equalsString:fU,arrIncludes:hU,arrIncludesAll:mU,arrIncludesSome:pU,equals:gU,weakEquals:vU,inNumberRange:wN};function Zi(e){return e==null||e===""}const zse={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:Xa("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);return typeof n=="string"?oo.includesString:typeof n=="number"?oo.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?oo.equals:Array.isArray(n)?oo.arrIncludes:oo.weakEquals},e.getFilterFn=()=>{var r,n;return jx(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(r=(n=t.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?r:oo[e.columnDef.filterFn]},e.getCanFilter=()=>{var r,n,a;return((r=e.columnDef.enableColumnFilter)!=null?r:!0)&&((n=t.options.enableColumnFilters)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var r;return(r=t.getState().columnFilters)==null||(r=r.find(n=>n.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var r,n;return(r=(n=t.getState().columnFilters)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.setFilterValue=r=>{t.setColumnFilters(n=>{const a=e.getFilterFn(),i=n?.find(m=>m.id===e.id),o=jl(r,i?i.value:void 0);if(tM(a,o,e)){var c;return(c=n?.filter(m=>m.id!==e.id))!=null?c:[]}const d={id:e.id,value:o};if(i){var f;return(f=n?.map(m=>m.id===e.id?d:m))!=null?f:[]}return n!=null&&n.length?[...n,d]:[d]})}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=t=>{const r=e.getAllLeafColumns(),n=a=>{var i;return(i=jl(t,a))==null?void 0:i.filter(o=>{const c=r.find(d=>d.id===o.id);if(c){const d=c.getFilterFn();if(tM(d,o.value,c))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=t=>{var r,n;e.setColumnFilters(t?[]:(r=(n=e.initialState)==null?void 0:n.columnFilters)!=null?r:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function tM(e,t,r){return(e&&e.autoRemove?e.autoRemove(t,r):!1)||typeof t>"u"||typeof t=="string"&&!t}const Fse=(e,t,r)=>r.reduce((n,a)=>{const i=a.getValue(e);return n+(typeof i=="number"?i:0)},0),Use=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}),n},Bse=(e,t,r)=>{let n;return r.forEach(a=>{const i=a.getValue(e);i!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}),n},qse=(e,t,r)=>{let n,a;return r.forEach(i=>{const o=i.getValue(e);o!=null&&(n===void 0?o>=o&&(n=a=o):(n>o&&(n=o),a<o&&(a=o)))}),[n,a]},Vse=(e,t)=>{let r=0,n=0;if(t.forEach(a=>{let i=a.getValue(e);i!=null&&(i=+i)>=i&&(++r,n+=i)}),r)return n/r},Hse=(e,t)=>{if(!t.length)return;const r=t.map(i=>i.getValue(e));if(!Pse(r))return;if(r.length===1)return r[0];const n=Math.floor(r.length/2),a=r.sort((i,o)=>i-o);return r.length%2!==0?a[n]:(a[n-1]+a[n])/2},Wse=(e,t)=>Array.from(new Set(t.map(r=>r.getValue(e))).values()),Kse=(e,t)=>new Set(t.map(r=>r.getValue(e))).size,Gse=(e,t)=>t.length,C_={sum:Fse,min:Use,max:Bse,extent:qse,mean:Vse,median:Hse,unique:Wse,uniqueCount:Kse,count:Gse},Yse={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,r;return(t=(r=e.getValue())==null||r.toString==null?void 0:r.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Xa("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(r=>r!=null&&r.includes(e.id)?r.filter(n=>n!==e.id):[...r??[],e.id])},e.getCanGroup=()=>{var r,n;return((r=e.columnDef.enableGrouping)!=null?r:!0)&&((n=t.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.includes(e.id)},e.getGroupedIndex=()=>{var r;return(r=t.getState().grouping)==null?void 0:r.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const r=e.getCanGroup();return()=>{r&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const r=t.getCoreRowModel().flatRows[0],n=r?.getValue(e.id);if(typeof n=="number")return C_.sum;if(Object.prototype.toString.call(n)==="[object Date]")return C_.extent},e.getAggregationFn=()=>{var r,n;if(!e)throw new Error;return jx(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(r=(n=t.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?r:C_[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var r,n;e.setGrouping(t?[]:(r=(n=e.initialState)==null?void 0:n.grouping)!=null?r:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=r=>{if(e._groupingValuesCache.hasOwnProperty(r))return e._groupingValuesCache[r];const n=t.getColumn(r);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[r]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[r]):e.getValue(r)},e._groupingValuesCache={}},createCell:(e,t,r,n)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===r.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var a;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((a=r.subRows)!=null&&a.length)}}};function Zse(e,t,r){if(!(t!=null&&t.length)||!r)return e;const n=e.filter(i=>!t.includes(i.id));return r==="remove"?n:[...t.map(i=>e.find(o=>o.id===i)).filter(Boolean),...n]}const Xse={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Xa("columnOrder",e)}),createColumn:(e,t)=>{e.getIndex=ut(r=>[Rh(t,r)],r=>r.findIndex(n=>n.id===e.id),dt(t.options,"debugColumns")),e.getIsFirstColumn=r=>{var n;return((n=Rh(t,r)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=r=>{var n;const a=Rh(t,r);return((n=a[a.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var r;e.setColumnOrder(t?[]:(r=e.initialState.columnOrder)!=null?r:[])},e._getOrderColumnsFn=ut(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,r,n)=>a=>{let i=[];if(!(t!=null&&t.length))i=a;else{const o=[...t],c=[...a];for(;c.length&&o.length;){const d=o.shift(),f=c.findIndex(m=>m.id===d);f>-1&&i.push(c.splice(f,1)[0])}i=[...i,...c]}return Zse(i,r,n)},dt(e.options,"debugTable"))}},N_=()=>({left:[],right:[]}),Qse={getInitialState:e=>({columnPinning:N_(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Xa("columnPinning",e)}),createColumn:(e,t)=>{e.pin=r=>{const n=e.getLeafColumns().map(a=>a.id).filter(Boolean);t.setColumnPinning(a=>{var i,o;if(r==="right"){var c,d;return{left:((c=a?.left)!=null?c:[]).filter(p=>!(n!=null&&n.includes(p))),right:[...((d=a?.right)!=null?d:[]).filter(p=>!(n!=null&&n.includes(p))),...n]}}if(r==="left"){var f,m;return{left:[...((f=a?.left)!=null?f:[]).filter(p=>!(n!=null&&n.includes(p))),...n],right:((m=a?.right)!=null?m:[]).filter(p=>!(n!=null&&n.includes(p)))}}return{left:((i=a?.left)!=null?i:[]).filter(p=>!(n!=null&&n.includes(p))),right:((o=a?.right)!=null?o:[]).filter(p=>!(n!=null&&n.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var a,i,o;return((a=n.columnDef.enablePinning)!=null?a:!0)&&((i=(o=t.options.enableColumnPinning)!=null?o:t.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const r=e.getLeafColumns().map(c=>c.id),{left:n,right:a}=t.getState().columnPinning,i=r.some(c=>n?.includes(c)),o=r.some(c=>a?.includes(c));return i?"left":o?"right":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();return a?(r=(n=t.getState().columnPinning)==null||(n=n[a])==null?void 0:n.indexOf(e.id))!=null?r:-1:0}},createRow:(e,t)=>{e.getCenterVisibleCells=ut(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(r,n,a)=>{const i=[...n??[],...a??[]];return r.filter(o=>!i.includes(o.column.id))},dt(t.options,"debugRows")),e.getLeftVisibleCells=ut(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left],(r,n)=>(n??[]).map(i=>r.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),dt(t.options,"debugRows")),e.getRightVisibleCells=ut(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(r,n)=>(n??[]).map(i=>r.find(o=>o.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),dt(t.options,"debugRows"))},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var r,n;return e.setColumnPinning(t?N_():(r=(n=e.initialState)==null?void 0:n.columnPinning)!=null?r:N_())},e.getIsSomeColumnsPinned=t=>{var r;const n=e.getState().columnPinning;if(!t){var a,i;return!!((a=n.left)!=null&&a.length||(i=n.right)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e.getLeftLeafColumns=ut(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),dt(e.options,"debugColumns")),e.getRightLeafColumns=ut(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,r)=>(r??[]).map(n=>t.find(a=>a.id===n)).filter(Boolean),dt(e.options,"debugColumns")),e.getCenterLeafColumns=ut(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,r,n)=>{const a=[...r??[],...n??[]];return t.filter(i=>!a.includes(i.id))},dt(e.options,"debugColumns"))}};function Jse(e){return e||(typeof document<"u"?document:null)}const qg={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},E_=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),eoe={getDefaultColumnDef:()=>qg,getInitialState:e=>({columnSizing:{},columnSizingInfo:E_(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Xa("columnSizing",e),onColumnSizingInfoChange:Xa("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var r,n,a;const i=t.getState().columnSizing[e.id];return Math.min(Math.max((r=e.columnDef.minSize)!=null?r:qg.minSize,(n=i??e.columnDef.size)!=null?n:qg.size),(a=e.columnDef.maxSize)!=null?a:qg.maxSize)},e.getStart=ut(r=>[r,Rh(t,r),t.getState().columnSizing],(r,n)=>n.slice(0,e.getIndex(r)).reduce((a,i)=>a+i.getSize(),0),dt(t.options,"debugColumns")),e.getAfter=ut(r=>[r,Rh(t,r),t.getState().columnSizing],(r,n)=>n.slice(e.getIndex(r)+1).reduce((a,i)=>a+i.getSize(),0),dt(t.options,"debugColumns")),e.resetSize=()=>{t.setColumnSizing(r=>{let{[e.id]:n,...a}=r;return a})},e.getCanResize=()=>{var r,n;return((r=e.columnDef.enableResizing)!=null?r:!0)&&((n=t.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let r=0;const n=a=>{if(a.subHeaders.length)a.subHeaders.forEach(n);else{var i;r+=(i=a.column.getSize())!=null?i:0}};return n(e),r},e.getStart=()=>{if(e.index>0){const r=e.headerGroup.headers[e.index-1];return r.getStart()+r.getSize()}return 0},e.getResizeHandler=r=>{const n=t.getColumn(e.column.id),a=n?.getCanResize();return i=>{if(!n||!a||(i.persist==null||i.persist(),k_(i)&&i.touches&&i.touches.length>1))return;const o=e.getSize(),c=e?e.getLeafHeaders().map(j=>[j.column.id,j.column.getSize()]):[[n.id,n.getSize()]],d=k_(i)?Math.round(i.touches[0].clientX):i.clientX,f={},m=(j,N)=>{typeof N=="number"&&(t.setColumnSizingInfo(E=>{var k,A;const R=t.options.columnResizeDirection==="rtl"?-1:1,T=(N-((k=E?.startOffset)!=null?k:0))*R,O=Math.max(T/((A=E?.startSize)!=null?A:0),-.999999);return E.columnSizingStart.forEach(P=>{let[$,M]=P;f[$]=Math.round(Math.max(M+M*O,0)*100)/100}),{...E,deltaOffset:T,deltaPercentage:O}}),(t.options.columnResizeMode==="onChange"||j==="end")&&t.setColumnSizing(E=>({...E,...f})))},p=j=>m("move",j),y=j=>{m("end",j),t.setColumnSizingInfo(N=>({...N,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},g=Jse(r),b={moveHandler:j=>p(j.clientX),upHandler:j=>{g?.removeEventListener("mousemove",b.moveHandler),g?.removeEventListener("mouseup",b.upHandler),y(j.clientX)}},w={moveHandler:j=>(j.cancelable&&(j.preventDefault(),j.stopPropagation()),p(j.touches[0].clientX),!1),upHandler:j=>{var N;g?.removeEventListener("touchmove",w.moveHandler),g?.removeEventListener("touchend",w.upHandler),j.cancelable&&(j.preventDefault(),j.stopPropagation()),y((N=j.touches[0])==null?void 0:N.clientX)}},_=toe()?{passive:!1}:!1;k_(i)?(g?.addEventListener("touchmove",w.moveHandler,_),g?.addEventListener("touchend",w.upHandler,_)):(g?.addEventListener("mousemove",b.moveHandler,_),g?.addEventListener("mouseup",b.upHandler,_)),t.setColumnSizingInfo(j=>({...j,startOffset:d,startSize:o,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var r;e.setColumnSizing(t?{}:(r=e.initialState.columnSizing)!=null?r:{})},e.resetHeaderSizeInfo=t=>{var r;e.setColumnSizingInfo(t?E_():(r=e.initialState.columnSizingInfo)!=null?r:E_())},e.getTotalSize=()=>{var t,r;return(t=(r=e.getHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,r;return(t=(r=e.getLeftHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,r;return(t=(r=e.getCenterHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,r;return(t=(r=e.getRightHeaderGroups()[0])==null?void 0:r.headers.reduce((n,a)=>n+a.getSize(),0))!=null?t:0}}};let Vg=null;function toe(){if(typeof Vg=="boolean")return Vg;let e=!1;try{const t={get passive(){return e=!0,!1}},r=()=>{};window.addEventListener("test",r,t),window.removeEventListener("test",r)}catch{e=!1}return Vg=e,Vg}function k_(e){return e.type==="touchstart"}const roe={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Xa("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=r=>{e.getCanHide()&&t.setColumnVisibility(n=>({...n,[e.id]:r??!e.getIsVisible()}))},e.getIsVisible=()=>{var r,n;const a=e.columns;return(r=a.length?a.some(i=>i.getIsVisible()):(n=t.getState().columnVisibility)==null?void 0:n[e.id])!=null?r:!0},e.getCanHide=()=>{var r,n;return((r=e.columnDef.enableHiding)!=null?r:!0)&&((n=t.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>r=>{e.toggleVisibility==null||e.toggleVisibility(r.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=ut(()=>[e.getAllCells(),t.getState().columnVisibility],r=>r.filter(n=>n.column.getIsVisible()),dt(t.options,"debugRows")),e.getVisibleCells=ut(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(r,n,a)=>[...r,...n,...a],dt(t.options,"debugRows"))},createTable:e=>{const t=(r,n)=>ut(()=>[n(),n().filter(a=>a.getIsVisible()).map(a=>a.id).join("_")],a=>a.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),dt(e.options,"debugColumns"));e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=r=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(r),e.resetColumnVisibility=r=>{var n;e.setColumnVisibility(r?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=r=>{var n;r=(n=r)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((a,i)=>({...a,[i.id]:r||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(r=>!(r.getIsVisible!=null&&r.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(r=>r.getIsVisible==null?void 0:r.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>r=>{var n;e.toggleAllColumnsVisible((n=r.target)==null?void 0:n.checked)}}};function Rh(e,t){return t?t==="center"?e.getCenterVisibleLeafColumns():t==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const noe={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},aoe={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:Xa("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var r;const n=(r=e.getCoreRowModel().flatRows[0])==null||(r=r._getAllCellsByColumnId()[t.id])==null?void 0:r.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,t)=>{e.getCanGlobalFilter=()=>{var r,n,a,i;return((r=e.columnDef.enableGlobalFilter)!=null?r:!0)&&((n=t.options.enableGlobalFilter)!=null?n:!0)&&((a=t.options.enableFilters)!=null?a:!0)&&((i=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>oo.includesString,e.getGlobalFilterFn=()=>{var t,r;const{globalFilterFn:n}=e.options;return jx(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(t=(r=e.options.filterFns)==null?void 0:r[n])!=null?t:oo[n]},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)}}},ioe={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Xa("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,r=!1;e._autoResetExpanded=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(r)return;r=!0,e._queue(()=>{e.resetExpanded(),r=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var a,i;e.setExpanded(n?{}:(a=(i=e.initialState)==null?void 0:i.expanded)!=null?a:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(a=>!a.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const o=i.split(".");n=Math.max(n,o.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=r=>{t.setExpanded(n=>{var a;const i=n===!0?!0:!!(n!=null&&n[e.id]);let o={};if(n===!0?Object.keys(t.getRowModel().rowsById).forEach(c=>{o[c]=!0}):o=n,r=(a=r)!=null?a:!i,!i&&r)return{...o,[e.id]:!0};if(i&&!r){const{[e.id]:c,...d}=o;return d}return n})},e.getIsExpanded=()=>{var r;const n=t.getState().expanded;return!!((r=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?r:n===!0||n?.[e.id])},e.getCanExpand=()=>{var r,n,a;return(r=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?r:((n=t.options.enableExpanding)!=null?n:!0)&&!!((a=e.subRows)!=null&&a.length)},e.getIsAllParentsExpanded=()=>{let r=!0,n=e;for(;r&&n.parentId;)n=t.getRow(n.parentId,!0),r=n.getIsExpanded();return r},e.getToggleExpandedHandler=()=>{const r=e.getCanExpand();return()=>{r&&e.toggleExpanded()}}}},h1=0,m1=10,A_=()=>({pageIndex:h1,pageSize:m1}),soe={getInitialState:e=>({...e,pagination:{...A_(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:Xa("pagination",e)}),createTable:e=>{let t=!1,r=!1;e._autoResetPageIndex=()=>{var n,a;if(!t){e._queue(()=>{t=!0});return}if((n=(a=e.options.autoResetAll)!=null?a:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(r)return;r=!0,e._queue(()=>{e.resetPageIndex(),r=!1})}},e.setPagination=n=>{const a=i=>jl(n,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(a)},e.resetPagination=n=>{var a;e.setPagination(n?A_():(a=e.initialState.pagination)!=null?a:A_())},e.setPageIndex=n=>{e.setPagination(a=>{let i=jl(n,a.pageIndex);const o=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,o)),{...a,pageIndex:i}})},e.resetPageIndex=n=>{var a,i;e.setPageIndex(n?h1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?a:h1)},e.resetPageSize=n=>{var a,i;e.setPageSize(n?m1:(a=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?a:m1)},e.setPageSize=n=>{e.setPagination(a=>{const i=Math.max(1,jl(n,a.pageSize)),o=a.pageSize*a.pageIndex,c=Math.floor(o/i);return{...a,pageIndex:c,pageSize:i}})},e.setPageCount=n=>e.setPagination(a=>{var i;let o=jl(n,(i=e.options.pageCount)!=null?i:-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...a,pageCount:o}}),e.getPageOptions=ut(()=>[e.getPageCount()],n=>{let a=[];return n&&n>0&&(a=[...new Array(n)].fill(null).map((i,o)=>o)),a},dt(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,a=e.getPageCount();return a===-1?!0:a===0?!1:n<a-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},O_=()=>({top:[],bottom:[]}),ooe={getInitialState:e=>({rowPinning:O_(),...e}),getDefaultOptions:e=>({onRowPinningChange:Xa("rowPinning",e)}),createRow:(e,t)=>{e.pin=(r,n,a)=>{const i=n?e.getLeafRows().map(d=>{let{id:f}=d;return f}):[],o=a?e.getParentRows().map(d=>{let{id:f}=d;return f}):[],c=new Set([...o,e.id,...i]);t.setRowPinning(d=>{var f,m;if(r==="bottom"){var p,y;return{top:((p=d?.top)!=null?p:[]).filter(w=>!(c!=null&&c.has(w))),bottom:[...((y=d?.bottom)!=null?y:[]).filter(w=>!(c!=null&&c.has(w))),...Array.from(c)]}}if(r==="top"){var g,b;return{top:[...((g=d?.top)!=null?g:[]).filter(w=>!(c!=null&&c.has(w))),...Array.from(c)],bottom:((b=d?.bottom)!=null?b:[]).filter(w=>!(c!=null&&c.has(w)))}}return{top:((f=d?.top)!=null?f:[]).filter(w=>!(c!=null&&c.has(w))),bottom:((m=d?.bottom)!=null?m:[]).filter(w=>!(c!=null&&c.has(w)))}})},e.getCanPin=()=>{var r;const{enableRowPinning:n,enablePinning:a}=t.options;return typeof n=="function"?n(e):(r=n??a)!=null?r:!0},e.getIsPinned=()=>{const r=[e.id],{top:n,bottom:a}=t.getState().rowPinning,i=r.some(c=>n?.includes(c)),o=r.some(c=>a?.includes(c));return i?"top":o?"bottom":!1},e.getPinnedIndex=()=>{var r,n;const a=e.getIsPinned();if(!a)return-1;const i=(r=a==="top"?t.getTopRows():t.getBottomRows())==null?void 0:r.map(o=>{let{id:c}=o;return c});return(n=i?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var r,n;return e.setRowPinning(t?O_():(r=(n=e.initialState)==null?void 0:n.rowPinning)!=null?r:O_())},e.getIsSomeRowsPinned=t=>{var r;const n=e.getState().rowPinning;if(!t){var a,i;return!!((a=n.top)!=null&&a.length||(i=n.bottom)!=null&&i.length)}return!!((r=n[t])!=null&&r.length)},e._getPinnedRows=(t,r,n)=>{var a;return((a=e.options.keepPinnedRows)==null||a?(r??[]).map(o=>{const c=e.getRow(o,!0);return c.getIsAllParentsExpanded()?c:null}):(r??[]).map(o=>t.find(c=>c.id===o))).filter(Boolean).map(o=>({...o,position:n}))},e.getTopRows=ut(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(t,r)=>e._getPinnedRows(t,r,"top"),dt(e.options,"debugRows")),e.getBottomRows=ut(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(t,r)=>e._getPinnedRows(t,r,"bottom"),dt(e.options,"debugRows")),e.getCenterRows=ut(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,r,n)=>{const a=new Set([...r??[],...n??[]]);return t.filter(i=>!a.has(i.id))},dt(e.options,"debugRows"))}},loe={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Xa("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var r;return e.setRowSelection(t?{}:(r=e.initialState.rowSelection)!=null?r:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(r=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const n={...r},a=e.getPreGroupedRowModel().flatRows;return t?a.forEach(i=>{i.getCanSelect()&&(n[i.id]=!0)}):a.forEach(i=>{delete n[i.id]}),n})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(r=>{const n=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),a={...r};return e.getRowModel().rows.forEach(i=>{p1(a,i.id,n,!0,e)}),a}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=ut(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,r)=>Object.keys(t).length?T_(e,r):{rows:[],flatRows:[],rowsById:{}},dt(e.options,"debugTable")),e.getFilteredSelectedRowModel=ut(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,r)=>Object.keys(t).length?T_(e,r):{rows:[],flatRows:[],rowsById:{}},dt(e.options,"debugTable")),e.getGroupedSelectedRowModel=ut(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,r)=>Object.keys(t).length?T_(e,r):{rows:[],flatRows:[],rowsById:{}},dt(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:r}=e.getState();let n=!!(t.length&&Object.keys(r).length);return n&&t.some(a=>a.getCanSelect()&&!r[a.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(a=>a.getCanSelect()),{rowSelection:r}=e.getState();let n=!!t.length;return n&&t.some(a=>!r[a.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var t;const r=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return r>0&&r<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(r=>r.getCanSelect()).some(r=>r.getIsSelected()||r.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(r,n)=>{const a=e.getIsSelected();t.setRowSelection(i=>{var o;if(r=typeof r<"u"?r:!a,e.getCanSelect()&&a===r)return i;const c={...i};return p1(c,e.id,r,(o=n?.selectChildren)!=null?o:!0,t),c})},e.getIsSelected=()=>{const{rowSelection:r}=t.getState();return _N(e,r)},e.getIsSomeSelected=()=>{const{rowSelection:r}=t.getState();return g1(e,r)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:r}=t.getState();return g1(e,r)==="all"},e.getCanSelect=()=>{var r;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(r=t.options.enableRowSelection)!=null?r:!0},e.getCanSelectSubRows=()=>{var r;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(r=t.options.enableSubRowSelection)!=null?r:!0},e.getCanMultiSelect=()=>{var r;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(r=t.options.enableMultiRowSelection)!=null?r:!0},e.getToggleSelectedHandler=()=>{const r=e.getCanSelect();return n=>{var a;r&&e.toggleSelected((a=n.target)==null?void 0:a.checked)}}}},p1=(e,t,r,n,a)=>{var i;const o=a.getRow(t,!0);r?(o.getCanMultiSelect()||Object.keys(e).forEach(c=>delete e[c]),o.getCanSelect()&&(e[t]=!0)):delete e[t],n&&(i=o.subRows)!=null&&i.length&&o.getCanSelectSubRows()&&o.subRows.forEach(c=>p1(e,c.id,r,n,a))};function T_(e,t){const r=e.getState().rowSelection,n=[],a={},i=function(o,c){return o.map(d=>{var f;const m=_N(d,r);if(m&&(n.push(d),a[d.id]=d),(f=d.subRows)!=null&&f.length&&(d={...d,subRows:i(d.subRows)}),m)return d}).filter(Boolean)};return{rows:i(t.rows),flatRows:n,rowsById:a}}function _N(e,t){var r;return(r=t[e.id])!=null?r:!1}function g1(e,t,r){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let a=!0,i=!1;return e.subRows.forEach(o=>{if(!(i&&!a)&&(o.getCanSelect()&&(_N(o,t)?i=!0:a=!1),o.subRows&&o.subRows.length)){const c=g1(o,t);c==="all"?i=!0:(c==="some"&&(i=!0),a=!1)}}),a?"all":i?"some":!1}const v1=/([0-9]+)/gm,coe=(e,t,r)=>yU(Al(e.getValue(r)).toLowerCase(),Al(t.getValue(r)).toLowerCase()),uoe=(e,t,r)=>yU(Al(e.getValue(r)),Al(t.getValue(r))),doe=(e,t,r)=>jN(Al(e.getValue(r)).toLowerCase(),Al(t.getValue(r)).toLowerCase()),foe=(e,t,r)=>jN(Al(e.getValue(r)),Al(t.getValue(r))),hoe=(e,t,r)=>{const n=e.getValue(r),a=t.getValue(r);return n>a?1:n<a?-1:0},moe=(e,t,r)=>jN(e.getValue(r),t.getValue(r));function jN(e,t){return e===t?0:e>t?1:-1}function Al(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function yU(e,t){const r=e.split(v1).filter(Boolean),n=t.split(v1).filter(Boolean);for(;r.length&&n.length;){const a=r.shift(),i=n.shift(),o=parseInt(a,10),c=parseInt(i,10),d=[o,c].sort();if(isNaN(d[0])){if(a>i)return 1;if(i>a)return-1;continue}if(isNaN(d[1]))return isNaN(o)?-1:1;if(o>c)return 1;if(c>o)return-1}return r.length-n.length}const oh={alphanumeric:coe,alphanumericCaseSensitive:uoe,text:doe,textCaseSensitive:foe,datetime:hoe,basic:moe},poe={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Xa("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const r=t.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const a of r){const i=a?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return oh.datetime;if(typeof i=="string"&&(n=!0,i.split(v1).length>1))return oh.alphanumeric}return n?oh.text:oh.basic},e.getAutoSortDir=()=>{const r=t.getFilteredRowModel().flatRows[0];return typeof r?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var r,n;if(!e)throw new Error;return jx(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(r=(n=t.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?r:oh[e.columnDef.sortingFn]},e.toggleSorting=(r,n)=>{const a=e.getNextSortingOrder(),i=typeof r<"u"&&r!==null;t.setSorting(o=>{const c=o?.find(g=>g.id===e.id),d=o?.findIndex(g=>g.id===e.id);let f=[],m,p=i?r:a==="desc";if(o!=null&&o.length&&e.getCanMultiSort()&&n?c?m="toggle":m="add":o!=null&&o.length&&d!==o.length-1?m="replace":c?m="toggle":m="replace",m==="toggle"&&(i||a||(m="remove")),m==="add"){var y;f=[...o,{id:e.id,desc:p}],f.splice(0,f.length-((y=t.options.maxMultiSortColCount)!=null?y:Number.MAX_SAFE_INTEGER))}else m==="toggle"?f=o.map(g=>g.id===e.id?{...g,desc:p}:g):m==="remove"?f=o.filter(g=>g.id!==e.id):f=[{id:e.id,desc:p}];return f})},e.getFirstSortDir=()=>{var r,n;return((r=(n=e.columnDef.sortDescFirst)!=null?n:t.options.sortDescFirst)!=null?r:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=r=>{var n,a;const i=e.getFirstSortDir(),o=e.getIsSorted();return o?o!==i&&((n=t.options.enableSortingRemoval)==null||n)&&(!(r&&(a=t.options.enableMultiRemove)!=null)||a)?!1:o==="desc"?"asc":"desc":i},e.getCanSort=()=>{var r,n;return((r=e.columnDef.enableSorting)!=null?r:!0)&&((n=t.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var r,n;return(r=(n=e.columnDef.enableMultiSort)!=null?n:t.options.enableMultiSort)!=null?r:!!e.accessorFn},e.getIsSorted=()=>{var r;const n=(r=t.getState().sorting)==null?void 0:r.find(a=>a.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var r,n;return(r=(n=t.getState().sorting)==null?void 0:n.findIndex(a=>a.id===e.id))!=null?r:-1},e.clearSorting=()=>{t.setSorting(r=>r!=null&&r.length?r.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const r=e.getCanSort();return n=>{r&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var r,n;e.setSorting(t?[]:(r=(n=e.initialState)==null?void 0:n.sorting)!=null?r:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},goe=[$se,roe,Xse,Qse,Lse,zse,noe,aoe,poe,Yse,ioe,soe,ooe,loe,eoe];function voe(e){var t,r;const n=[...goe,...(t=e._features)!=null?t:[]];let a={_features:n};const i=a._features.reduce((y,g)=>Object.assign(y,g.getDefaultOptions==null?void 0:g.getDefaultOptions(a)),{}),o=y=>a.options.mergeOptions?a.options.mergeOptions(i,y):{...i,...y};let d={...{},...(r=e.initialState)!=null?r:{}};a._features.forEach(y=>{var g;d=(g=y.getInitialState==null?void 0:y.getInitialState(d))!=null?g:d});const f=[];let m=!1;const p={_features:n,options:{...i,...e},initialState:d,_queue:y=>{f.push(y),m||(m=!0,Promise.resolve().then(()=>{for(;f.length;)f.shift()();m=!1}).catch(g=>setTimeout(()=>{throw g})))},reset:()=>{a.setState(a.initialState)},setOptions:y=>{const g=jl(y,a.options);a.options=o(g)},getState:()=>a.options.state,setState:y=>{a.options.onStateChange==null||a.options.onStateChange(y)},_getRowId:(y,g,b)=>{var w;return(w=a.options.getRowId==null?void 0:a.options.getRowId(y,g,b))!=null?w:`${b?[b.id,g].join("."):g}`},getCoreRowModel:()=>(a._getCoreRowModel||(a._getCoreRowModel=a.options.getCoreRowModel(a)),a._getCoreRowModel()),getRowModel:()=>a.getPaginationRowModel(),getRow:(y,g)=>{let b=(g?a.getPrePaginationRowModel():a.getRowModel()).rowsById[y];if(!b&&(b=a.getCoreRowModel().rowsById[y],!b))throw new Error;return b},_getDefaultColumnDef:ut(()=>[a.options.defaultColumn],y=>{var g;return y=(g=y)!=null?g:{},{header:b=>{const w=b.header.column.columnDef;return w.accessorKey?w.accessorKey:w.accessorFn?w.id:null},cell:b=>{var w,_;return(w=(_=b.renderValue())==null||_.toString==null?void 0:_.toString())!=null?w:null},...a._features.reduce((b,w)=>Object.assign(b,w.getDefaultColumnDef==null?void 0:w.getDefaultColumnDef()),{}),...y}},dt(e,"debugColumns")),_getColumnDefs:()=>a.options.columns,getAllColumns:ut(()=>[a._getColumnDefs()],y=>{const g=function(b,w,_){return _===void 0&&(_=0),b.map(j=>{const N=Ise(a,j,_,w),E=j;return N.columns=E.columns?g(E.columns,N,_+1):[],N})};return g(y)},dt(e,"debugColumns")),getAllFlatColumns:ut(()=>[a.getAllColumns()],y=>y.flatMap(g=>g.getFlatColumns()),dt(e,"debugColumns")),_getAllFlatColumnsById:ut(()=>[a.getAllFlatColumns()],y=>y.reduce((g,b)=>(g[b.id]=b,g),{}),dt(e,"debugColumns")),getAllLeafColumns:ut(()=>[a.getAllColumns(),a._getOrderColumnsFn()],(y,g)=>{let b=y.flatMap(w=>w.getLeafColumns());return g(b)},dt(e,"debugColumns")),getColumn:y=>a._getAllFlatColumnsById()[y]};Object.assign(a,p);for(let y=0;y<a._features.length;y++){const g=a._features[y];g==null||g.createTable==null||g.createTable(a)}return a}function Wd(){return e=>ut(()=>[e.options.data],t=>{const r={rows:[],flatRows:[],rowsById:{}},n=function(a,i,o){i===void 0&&(i=0);const c=[];for(let f=0;f<a.length;f++){const m=bN(e,e._getRowId(a[f],f,o),a[f],f,i,void 0,o?.id);if(r.flatRows.push(m),r.rowsById[m.id]=m,c.push(m),e.options.getSubRows){var d;m.originalSubRows=e.options.getSubRows(a[f],f),(d=m.originalSubRows)!=null&&d.length&&(m.subRows=n(m.originalSubRows,i+1,m))}}return c};return r.rows=n(t),r},dt(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function yoe(e){const t=[],r=n=>{var a;t.push(n),(a=n.subRows)!=null&&a.length&&n.getIsExpanded()&&n.subRows.forEach(r)};return e.rows.forEach(r),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function xoe(e,t,r){return r.options.filterFromLeafRows?boe(e,t,r):woe(e,t,r)}function boe(e,t,r){var n;const a=[],i={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let y=0;y<d.length;y++){var p;let g=d[y];const b=bN(r,g.id,g.original,g.index,g.depth,void 0,g.parentId);if(b.columnFilters=g.columnFilters,(p=g.subRows)!=null&&p.length&&f<o){if(b.subRows=c(g.subRows,f+1),g=b,t(g)&&!b.subRows.length){m.push(g),i[g.id]=g,a.push(g);continue}if(t(g)||b.subRows.length){m.push(g),i[g.id]=g,a.push(g);continue}}else g=b,t(g)&&(m.push(g),i[g.id]=g,a.push(g))}return m};return{rows:c(e),flatRows:a,rowsById:i}}function woe(e,t,r){var n;const a=[],i={},o=(n=r.options.maxLeafRowFilterDepth)!=null?n:100,c=function(d,f){f===void 0&&(f=0);const m=[];for(let y=0;y<d.length;y++){let g=d[y];if(t(g)){var p;if((p=g.subRows)!=null&&p.length&&f<o){const w=bN(r,g.id,g.original,g.index,g.depth,void 0,g.parentId);w.subRows=c(g.subRows,f+1),g=w}m.push(g),a.push(g),i[g.id]=g}}return m};return{rows:c(e),flatRows:a,rowsById:i}}function Am(){return e=>ut(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(t,r,n)=>{if(!t.rows.length||!(r!=null&&r.length)&&!n){for(let y=0;y<t.flatRows.length;y++)t.flatRows[y].columnFilters={},t.flatRows[y].columnFiltersMeta={};return t}const a=[],i=[];(r??[]).forEach(y=>{var g;const b=e.getColumn(y.id);if(!b)return;const w=b.getFilterFn();w&&a.push({id:y.id,filterFn:w,resolvedValue:(g=w.resolveFilterValue==null?void 0:w.resolveFilterValue(y.value))!=null?g:y.value})});const o=(r??[]).map(y=>y.id),c=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(y=>y.getCanGlobalFilter());n&&c&&d.length&&(o.push("__global__"),d.forEach(y=>{var g;i.push({id:y.id,filterFn:c,resolvedValue:(g=c.resolveFilterValue==null?void 0:c.resolveFilterValue(n))!=null?g:n})}));let f,m;for(let y=0;y<t.flatRows.length;y++){const g=t.flatRows[y];if(g.columnFilters={},a.length)for(let b=0;b<a.length;b++){f=a[b];const w=f.id;g.columnFilters[w]=f.filterFn(g,w,f.resolvedValue,_=>{g.columnFiltersMeta[w]=_})}if(i.length){for(let b=0;b<i.length;b++){m=i[b];const w=m.id;if(m.filterFn(g,w,m.resolvedValue,_=>{g.columnFiltersMeta[w]=_})){g.columnFilters.__global__=!0;break}}g.columnFilters.__global__!==!0&&(g.columnFilters.__global__=!1)}}const p=y=>{for(let g=0;g<o.length;g++)if(y.columnFilters[o[g]]===!1)return!1;return!0};return xoe(t.rows,p,e)},dt(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function Kd(e){return t=>ut(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(r,n)=>{if(!n.rows.length)return n;const{pageSize:a,pageIndex:i}=r;let{rows:o,flatRows:c,rowsById:d}=n;const f=a*i,m=f+a;o=o.slice(f,m);let p;t.options.paginateExpandedRows?p={rows:o,flatRows:c,rowsById:d}:p=yoe({rows:o,flatRows:c,rowsById:d}),p.flatRows=[];const y=g=>{p.flatRows.push(g),g.subRows.length&&g.subRows.forEach(y)};return p.rows.forEach(y),p},dt(t.options,"debugTable"))}function Gd(){return e=>ut(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,r)=>{if(!r.rows.length||!(t!=null&&t.length))return r;const n=e.getState().sorting,a=[],i=n.filter(d=>{var f;return(f=e.getColumn(d.id))==null?void 0:f.getCanSort()}),o={};i.forEach(d=>{const f=e.getColumn(d.id);f&&(o[d.id]={sortUndefined:f.columnDef.sortUndefined,invertSorting:f.columnDef.invertSorting,sortingFn:f.getSortingFn()})});const c=d=>{const f=d.map(m=>({...m}));return f.sort((m,p)=>{for(let g=0;g<i.length;g+=1){var y;const b=i[g],w=o[b.id],_=w.sortUndefined,j=(y=b?.desc)!=null?y:!1;let N=0;if(_){const E=m.getValue(b.id),k=p.getValue(b.id),A=E===void 0,R=k===void 0;if(A||R){if(_==="first")return A?-1:1;if(_==="last")return A?1:-1;N=A&&R?0:A?_:-_}}if(N===0&&(N=w.sortingFn(m,p,b.id)),N!==0)return j&&(N*=-1),w.invertSorting&&(N*=-1),N}return m.index-p.index}),f.forEach(m=>{var p;a.push(m),(p=m.subRows)!=null&&p.length&&(m.subRows=c(m.subRows))}),f};return{rows:c(r.rows),flatRows:a,rowsById:r.rowsById}},dt(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}function Ei(e,t){return e?_oe(e)?x.createElement(e,t):e:null}function _oe(e){return joe(e)||typeof e=="function"||Soe(e)}function joe(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function Soe(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function Yd(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[r]=x.useState(()=>({current:voe(t)})),[n,a]=x.useState(()=>r.current.initialState);return r.current.setOptions(i=>({...i,...e,state:{...n,...e.state},onStateChange:o=>{a(o),e.onStateChange==null||e.onStateChange(o)}})),r.current}function y1(e,[t,r]){return Math.min(r,Math.max(t,e))}function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function Coe(e,t){const r=x.createContext(t),n=i=>{const{children:o,...c}=i,d=x.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=e+"Provider";function a(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function ua(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o),d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,Noe(a,...t)]}function Noe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function rM(e){const t=Eoe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(Aoe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Eoe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Toe(a),c=Ooe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var koe=Symbol("radix.slottable");function Aoe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===koe}function Ooe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Toe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function SN(e){const t=e+"CollectionProvider",[r,n]=ua(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:_,children:j}=w,N=re.useRef(null),E=re.useRef(new Map).current;return s.jsx(a,{scope:_,itemMap:E,collectionRef:N,children:j})};o.displayName=t;const c=e+"CollectionSlot",d=rM(c),f=re.forwardRef((w,_)=>{const{scope:j,children:N}=w,E=i(c,j),k=jt(_,E.collectionRef);return s.jsx(d,{ref:k,children:N})});f.displayName=c;const m=e+"CollectionItemSlot",p="data-radix-collection-item",y=rM(m),g=re.forwardRef((w,_)=>{const{scope:j,children:N,...E}=w,k=re.useRef(null),A=jt(_,k),R=i(m,j);return re.useEffect(()=>(R.itemMap.set(k,{ref:k,...E}),()=>void R.itemMap.delete(k))),s.jsx(y,{[p]:"",ref:A,children:N})});g.displayName=m;function b(w){const _=i(e+"CollectionConsumer",w);return re.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const E=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((R,T)=>E.indexOf(R.ref.current)-E.indexOf(T.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:f,ItemSlot:g},b,n]}var Roe=x.createContext(void 0);function Zd(e){const t=x.useContext(Roe);return e||t||"ltr"}function Poe(e){const t=Doe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(Ioe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Doe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Loe(a),c=$oe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Moe=Symbol("radix.slottable");function Ioe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Moe}function $oe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Loe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var zoe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],st=zoe.reduce((e,t)=>{const r=Poe(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xU(e,t){e&&tu.flushSync(()=>e.dispatchEvent(t))}function An(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function Foe(e,t=globalThis?.document){const r=An(e);x.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Uoe="DismissableLayer",x1="dismissableLayer.update",Boe="dismissableLayer.pointerDownOutside",qoe="dismissableLayer.focusOutside",nM,bU=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Om=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=e,f=x.useContext(bU),[m,p]=x.useState(null),y=m?.ownerDocument??globalThis?.document,[,g]=x.useState({}),b=jt(t,T=>p(T)),w=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(_),N=m?w.indexOf(m):-1,E=f.layersWithOutsidePointerEventsDisabled.size>0,k=N>=j,A=Woe(T=>{const O=T.target,P=[...f.branches].some($=>$.contains(O));!k||P||(a?.(T),o?.(T),T.defaultPrevented||c?.())},y),R=Koe(T=>{const O=T.target;[...f.branches].some($=>$.contains(O))||(i?.(T),o?.(T),T.defaultPrevented||c?.())},y);return Foe(T=>{N===f.layers.size-1&&(n?.(T),!T.defaultPrevented&&c&&(T.preventDefault(),c()))},y),x.useEffect(()=>{if(m)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(nM=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(m)),f.layers.add(m),aM(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=nM)}},[m,y,r,f]),x.useEffect(()=>()=>{m&&(f.layers.delete(m),f.layersWithOutsidePointerEventsDisabled.delete(m),aM())},[m,f]),x.useEffect(()=>{const T=()=>g({});return document.addEventListener(x1,T),()=>document.removeEventListener(x1,T)},[]),s.jsx(st.div,{...d,ref:b,style:{pointerEvents:E?k?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,R.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,A.onPointerDownCapture)})});Om.displayName=Uoe;var Voe="DismissableLayerBranch",Hoe=x.forwardRef((e,t)=>{const r=x.useContext(bU),n=x.useRef(null),a=jt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(st.div,{...e,ref:a})});Hoe.displayName=Voe;function Woe(e,t=globalThis?.document){const r=An(e),n=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){wU(Boe,r,f,{discrete:!0})};const f={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=d,t.addEventListener("click",a.current,{once:!0})):d()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Koe(e,t=globalThis?.document){const r=An(e),n=x.useRef(!1);return x.useEffect(()=>{const a=i=>{i.target&&!n.current&&wU(qoe,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function aM(){const e=new CustomEvent(x1);document.dispatchEvent(e)}function wU(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?xU(a,i):a.dispatchEvent(i)}var R_=0;function Sx(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iM()),document.body.insertAdjacentElement("beforeend",e[1]??iM()),R_++,()=>{R_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),R_--}},[])}function iM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var P_="focusScope.autoFocusOnMount",D_="focusScope.autoFocusOnUnmount",sM={bubbles:!1,cancelable:!0},Goe="FocusScope",Tm=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[c,d]=x.useState(null),f=An(a),m=An(i),p=x.useRef(null),y=jt(t,w=>d(w)),g=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let w=function(E){if(g.paused||!c)return;const k=E.target;c.contains(k)?p.current=k:vl(p.current,{select:!0})},_=function(E){if(g.paused||!c)return;const k=E.relatedTarget;k!==null&&(c.contains(k)||vl(p.current,{select:!0}))},j=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&vl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const N=new MutationObserver(j);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),N.disconnect()}}},[n,c,g.paused]),x.useEffect(()=>{if(c){lM.add(g);const w=document.activeElement;if(!c.contains(w)){const j=new CustomEvent(P_,sM);c.addEventListener(P_,f),c.dispatchEvent(j),j.defaultPrevented||(Yoe(ele(_U(c)),{select:!0}),document.activeElement===w&&vl(c))}return()=>{c.removeEventListener(P_,f),setTimeout(()=>{const j=new CustomEvent(D_,sM);c.addEventListener(D_,m),c.dispatchEvent(j),j.defaultPrevented||vl(w??document.body,{select:!0}),c.removeEventListener(D_,m),lM.remove(g)},0)}}},[c,f,m,g]);const b=x.useCallback(w=>{if(!r&&!n||g.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,j=document.activeElement;if(_&&j){const N=w.currentTarget,[E,k]=Zoe(N);E&&k?!w.shiftKey&&j===k?(w.preventDefault(),r&&vl(E,{select:!0})):w.shiftKey&&j===E&&(w.preventDefault(),r&&vl(k,{select:!0})):j===N&&w.preventDefault()}},[r,n,g.paused]);return s.jsx(st.div,{tabIndex:-1,...o,ref:y,onKeyDown:b})});Tm.displayName=Goe;function Yoe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(vl(n,{select:t}),document.activeElement!==r)return}function Zoe(e){const t=_U(e),r=oM(t,e),n=oM(t.reverse(),e);return[r,n]}function _U(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function oM(e,t){for(const r of e)if(!Xoe(r,{upTo:t}))return r}function Xoe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qoe(e){return e instanceof HTMLInputElement&&"select"in e}function vl(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Qoe(e)&&t&&e.select()}}var lM=Joe();function Joe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=cM(e,t),e.unshift(t)},remove(t){e=cM(e,t),e[0]?.resume()}}}function cM(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ele(e){return e.filter(t=>t.tagName!=="A")}var un=globalThis?.document?x.useLayoutEffect:()=>{},tle=ox[" useId ".trim().toString()]||(()=>{}),rle=0;function Xi(e){const[t,r]=x.useState(tle());return un(()=>{r(n=>n??String(rle++))},[e]),t?`radix-${t}`:""}const nle=["top","right","bottom","left"],Ol=Math.min,Ua=Math.max,Hv=Math.round,Hg=Math.floor,ws=e=>({x:e,y:e}),ale={left:"right",right:"left",bottom:"top",top:"bottom"},ile={start:"end",end:"start"};function b1(e,t,r){return Ua(e,Ol(t,r))}function jo(e,t){return typeof e=="function"?e(t):e}function So(e){return e.split("-")[0]}function Xd(e){return e.split("-")[1]}function CN(e){return e==="x"?"y":"x"}function NN(e){return e==="y"?"height":"width"}const sle=new Set(["top","bottom"]);function vs(e){return sle.has(So(e))?"y":"x"}function EN(e){return CN(vs(e))}function ole(e,t,r){r===void 0&&(r=!1);const n=Xd(e),a=EN(e),i=NN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Wv(o)),[o,Wv(o)]}function lle(e){const t=Wv(e);return[w1(e),t,w1(t)]}function w1(e){return e.replace(/start|end/g,t=>ile[t])}const uM=["left","right"],dM=["right","left"],cle=["top","bottom"],ule=["bottom","top"];function dle(e,t,r){switch(e){case"top":case"bottom":return r?t?dM:uM:t?uM:dM;case"left":case"right":return t?cle:ule;default:return[]}}function fle(e,t,r,n){const a=Xd(e);let i=dle(So(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(w1)))),i}function Wv(e){return e.replace(/left|right|bottom|top/g,t=>ale[t])}function hle(e){return{top:0,right:0,bottom:0,left:0,...e}}function jU(e){return typeof e!="number"?hle(e):{top:e,right:e,bottom:e,left:e}}function Kv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function fM(e,t,r){let{reference:n,floating:a}=e;const i=vs(t),o=EN(t),c=NN(o),d=So(t),f=i==="y",m=n.x+n.width/2-a.width/2,p=n.y+n.height/2-a.height/2,y=n[c]/2-a[c]/2;let g;switch(d){case"top":g={x:m,y:n.y-a.height};break;case"bottom":g={x:m,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:p};break;case"left":g={x:n.x-a.width,y:p};break;default:g={x:n.x,y:n.y}}switch(Xd(t)){case"start":g[o]-=y*(r&&f?-1:1);break;case"end":g[o]+=y*(r&&f?-1:1);break}return g}const mle=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:m,y:p}=fM(f,n,d),y=n,g={},b=0;for(let w=0;w<c.length;w++){const{name:_,fn:j}=c[w],{x:N,y:E,data:k,reset:A}=await j({x:m,y:p,initialPlacement:n,placement:y,strategy:a,middlewareData:g,rects:f,platform:o,elements:{reference:e,floating:t}});m=N??m,p=E??p,g={...g,[_]:{...g[_],...k}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(f=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):A.rects),{x:m,y:p}=fM(f,y,d)),w=-1)}return{x:m,y:p,placement:y,strategy:a,middlewareData:g}};async function Kh(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:y=!1,padding:g=0}=jo(t,e),b=jU(g),_=c[y?p==="floating"?"reference":"floating":p],j=Kv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:f,rootBoundary:m,strategy:d})),N=p==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),k=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=Kv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:E,strategy:d}):N);return{top:(j.top-A.top+b.top)/k.y,bottom:(A.bottom-j.bottom+b.bottom)/k.y,left:(j.left-A.left+b.left)/k.x,right:(A.right-j.right+b.right)/k.x}}const ple=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=t,{element:f,padding:m=0}=jo(e,t)||{};if(f==null)return{};const p=jU(m),y={x:r,y:n},g=EN(a),b=NN(g),w=await o.getDimensions(f),_=g==="y",j=_?"top":"left",N=_?"bottom":"right",E=_?"clientHeight":"clientWidth",k=i.reference[b]+i.reference[g]-y[g]-i.floating[b],A=y[g]-i.reference[g],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let T=R?R[E]:0;(!T||!await(o.isElement==null?void 0:o.isElement(R)))&&(T=c.floating[E]||i.floating[b]);const O=k/2-A/2,P=T/2-w[b]/2-1,$=Ol(p[j],P),M=Ol(p[N],P),L=$,U=T-w[b]-M,X=T/2-w[b]/2+O,Y=b1(L,X,U),F=!d.arrow&&Xd(a)!=null&&X!==Y&&i.reference[b]/2-(X<L?$:M)-w[b]/2<0,H=F?X<L?X-L:X-U:0;return{[g]:y[g]+H,data:{[g]:Y,centerOffset:X-Y-H,...F&&{alignmentOffset:H}},reset:F}}}),gle=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:f}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:y,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,..._}=jo(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const j=So(a),N=vs(c),E=So(c)===c,k=await(d.isRTL==null?void 0:d.isRTL(f.floating)),A=y||(E||!w?[Wv(c)]:lle(c)),R=b!=="none";!y&&R&&A.push(...fle(c,w,b,k));const T=[c,...A],O=await Kh(t,_),P=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&P.push(O[j]),p){const X=ole(a,o,k);P.push(O[X[0]],O[X[1]])}if($=[...$,{placement:a,overflows:P}],!P.every(X=>X<=0)){var M,L;const X=(((M=i.flip)==null?void 0:M.index)||0)+1,Y=T[X];if(Y&&(!(p==="alignment"?N!==vs(Y):!1)||$.every(I=>vs(I.placement)===N?I.overflows[0]>0:!0)))return{data:{index:X,overflows:$},reset:{placement:Y}};let F=(L=$.filter(H=>H.overflows[0]<=0).sort((H,I)=>H.overflows[1]-I.overflows[1])[0])==null?void 0:L.placement;if(!F)switch(g){case"bestFit":{var U;const H=(U=$.filter(I=>{if(R){const q=vs(I.placement);return q===N||q==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(q=>q>0).reduce((q,ue)=>q+ue,0)]).sort((I,q)=>I[1]-q[1])[0])==null?void 0:U[0];H&&(F=H);break}case"initialPlacement":F=c;break}if(a!==F)return{reset:{placement:F}}}return{}}}};function hM(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function mM(e){return nle.some(t=>e[t]>=0)}const vle=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=jo(e,t);switch(n){case"referenceHidden":{const i=await Kh(t,{...a,elementContext:"reference"}),o=hM(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:mM(o)}}}case"escaped":{const i=await Kh(t,{...a,altBoundary:!0}),o=hM(i,r.floating);return{data:{escapedOffsets:o,escaped:mM(o)}}}default:return{}}}}},SU=new Set(["left","top"]);async function yle(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=So(r),c=Xd(r),d=vs(r)==="y",f=SU.has(o)?-1:1,m=i&&d?-1:1,p=jo(t,e);let{mainAxis:y,crossAxis:g,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return c&&typeof b=="number"&&(g=c==="end"?b*-1:b),d?{x:g*m,y:y*f}:{x:y*f,y:g*m}}const xle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=t,d=await yle(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},ble=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:_=>{let{x:j,y:N}=_;return{x:j,y:N}}},...d}=jo(e,t),f={x:r,y:n},m=await Kh(t,d),p=vs(So(a)),y=CN(p);let g=f[y],b=f[p];if(i){const _=y==="y"?"top":"left",j=y==="y"?"bottom":"right",N=g+m[_],E=g-m[j];g=b1(N,g,E)}if(o){const _=p==="y"?"top":"left",j=p==="y"?"bottom":"right",N=b+m[_],E=b-m[j];b=b1(N,b,E)}const w=c.fn({...t,[y]:g,[p]:b});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[y]:i,[p]:o}}}}}},wle=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:c=0,mainAxis:d=!0,crossAxis:f=!0}=jo(e,t),m={x:r,y:n},p=vs(a),y=CN(p);let g=m[y],b=m[p];const w=jo(c,t),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const E=y==="y"?"height":"width",k=i.reference[y]-i.floating[E]+_.mainAxis,A=i.reference[y]+i.reference[E]-_.mainAxis;g<k?g=k:g>A&&(g=A)}if(f){var j,N;const E=y==="y"?"width":"height",k=SU.has(So(a)),A=i.reference[p]-i.floating[E]+(k&&((j=o.offset)==null?void 0:j[p])||0)+(k?0:_.crossAxis),R=i.reference[p]+i.reference[E]+(k?0:((N=o.offset)==null?void 0:N[p])||0)-(k?_.crossAxis:0);b<A?b=A:b>R&&(b=R)}return{[y]:g,[p]:b}}}},_le=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...f}=jo(e,t),m=await Kh(t,f),p=So(a),y=Xd(a),g=vs(a)==="y",{width:b,height:w}=i.floating;let _,j;p==="top"||p==="bottom"?(_=p,j=y===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(j=p,_=y==="end"?"top":"bottom");const N=w-m.top-m.bottom,E=b-m.left-m.right,k=Ol(w-m[_],N),A=Ol(b-m[j],E),R=!t.middlewareData.shift;let T=k,O=A;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=E),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(T=N),R&&!y){const $=Ua(m.left,0),M=Ua(m.right,0),L=Ua(m.top,0),U=Ua(m.bottom,0);g?O=b-2*($!==0||M!==0?$+M:Ua(m.left,m.right)):T=w-2*(L!==0||U!==0?L+U:Ua(m.top,m.bottom))}await d({...t,availableWidth:O,availableHeight:T});const P=await o.getDimensions(c.floating);return b!==P.width||w!==P.height?{reset:{rects:!0}}:{}}}};function Cx(){return typeof window<"u"}function Qd(e){return CU(e)?(e.nodeName||"").toLowerCase():"#document"}function Ga(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ds(e){var t;return(t=(CU(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function CU(e){return Cx()?e instanceof Node||e instanceof Ga(e).Node:!1}function Ji(e){return Cx()?e instanceof Element||e instanceof Ga(e).Element:!1}function Cs(e){return Cx()?e instanceof HTMLElement||e instanceof Ga(e).HTMLElement:!1}function pM(e){return!Cx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ga(e).ShadowRoot}const jle=new Set(["inline","contents"]);function Rm(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=es(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!jle.has(a)}const Sle=new Set(["table","td","th"]);function Cle(e){return Sle.has(Qd(e))}const Nle=[":popover-open",":modal"];function Nx(e){return Nle.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ele=["transform","translate","scale","rotate","perspective"],kle=["transform","translate","scale","rotate","perspective","filter"],Ale=["paint","layout","strict","content"];function kN(e){const t=AN(),r=Ji(e)?es(e):e;return Ele.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||kle.some(n=>(r.willChange||"").includes(n))||Ale.some(n=>(r.contain||"").includes(n))}function Ole(e){let t=Tl(e);for(;Cs(t)&&!kd(t);){if(kN(t))return t;if(Nx(t))return null;t=Tl(t)}return null}function AN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Tle=new Set(["html","body","#document"]);function kd(e){return Tle.has(Qd(e))}function es(e){return Ga(e).getComputedStyle(e)}function Ex(e){return Ji(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Tl(e){if(Qd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||pM(e)&&e.host||Ds(e);return pM(t)?t.host:t}function NU(e){const t=Tl(e);return kd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cs(t)&&Rm(t)?t:NU(t)}function Gh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=NU(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=Ga(a);if(i){const c=_1(o);return t.concat(o,o.visualViewport||[],Rm(a)?a:[],c&&r?Gh(c):[])}return t.concat(a,Gh(a,[],r))}function _1(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function EU(e){const t=es(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Cs(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=Hv(r)!==i||Hv(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function ON(e){return Ji(e)?e:e.contextElement}function bd(e){const t=ON(e);if(!Cs(t))return ws(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=EU(t);let o=(i?Hv(r.width):r.width)/n,c=(i?Hv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Rle=ws(0);function kU(e){const t=Ga(e);return!AN()||!t.visualViewport?Rle:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ple(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ga(e)?!1:t}function Uc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=ON(e);let o=ws(1);t&&(n?Ji(n)&&(o=bd(n)):o=bd(e));const c=Ple(i,r,n)?kU(i):ws(0);let d=(a.left+c.x)/o.x,f=(a.top+c.y)/o.y,m=a.width/o.x,p=a.height/o.y;if(i){const y=Ga(i),g=n&&Ji(n)?Ga(n):n;let b=y,w=_1(b);for(;w&&n&&g!==b;){const _=bd(w),j=w.getBoundingClientRect(),N=es(w),E=j.left+(w.clientLeft+parseFloat(N.paddingLeft))*_.x,k=j.top+(w.clientTop+parseFloat(N.paddingTop))*_.y;d*=_.x,f*=_.y,m*=_.x,p*=_.y,d+=E,f+=k,b=Ga(w),w=_1(b)}}return Kv({width:m,height:p,x:d,y:f})}function kx(e,t){const r=Ex(e).scrollLeft;return t?t.left+r:Uc(Ds(e)).left+r}function AU(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-kx(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function Dle(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=Ds(n),c=t?Nx(t.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},f=ws(1);const m=ws(0),p=Cs(n);if((p||!p&&!i)&&((Qd(n)!=="body"||Rm(o))&&(d=Ex(n)),Cs(n))){const g=Uc(n);f=bd(n),m.x=g.x+n.clientLeft,m.y=g.y+n.clientTop}const y=o&&!p&&!i?AU(o,d):ws(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-d.scrollLeft*f.x+m.x+y.x,y:r.y*f.y-d.scrollTop*f.y+m.y+y.y}}function Mle(e){return Array.from(e.getClientRects())}function Ile(e){const t=Ds(e),r=Ex(e),n=e.ownerDocument.body,a=Ua(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=Ua(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+kx(e);const c=-r.scrollTop;return es(n).direction==="rtl"&&(o+=Ua(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}const gM=25;function $le(e,t){const r=Ga(e),n=Ds(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const m=AN();(!m||m&&t==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const f=kx(n);if(f<=0){const m=n.ownerDocument,p=m.body,y=getComputedStyle(p),g=m.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,b=Math.abs(n.clientWidth-p.clientWidth-g);b<=gM&&(i-=b)}else f<=gM&&(i+=f);return{width:i,height:o,x:c,y:d}}const Lle=new Set(["absolute","fixed"]);function zle(e,t){const r=Uc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=Cs(e)?bd(e):ws(1),o=e.clientWidth*i.x,c=e.clientHeight*i.y,d=a*i.x,f=n*i.y;return{width:o,height:c,x:d,y:f}}function vM(e,t,r){let n;if(t==="viewport")n=$le(e,r);else if(t==="document")n=Ile(Ds(e));else if(Ji(t))n=zle(t,r);else{const a=kU(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Kv(n)}function OU(e,t){const r=Tl(e);return r===t||!Ji(r)||kd(r)?!1:es(r).position==="fixed"||OU(r,t)}function Fle(e,t){const r=t.get(e);if(r)return r;let n=Gh(e,[],!1).filter(c=>Ji(c)&&Qd(c)!=="body"),a=null;const i=es(e).position==="fixed";let o=i?Tl(e):e;for(;Ji(o)&&!kd(o);){const c=es(o),d=kN(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&Lle.has(a.position)||Rm(o)&&!d&&OU(e,o))?n=n.filter(m=>m!==o):a=c,o=Tl(o)}return t.set(e,n),n}function Ule(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Nx(t)?[]:Fle(t,this._c):[].concat(r),n],c=o[0],d=o.reduce((f,m)=>{const p=vM(t,m,a);return f.top=Ua(p.top,f.top),f.right=Ol(p.right,f.right),f.bottom=Ol(p.bottom,f.bottom),f.left=Ua(p.left,f.left),f},vM(t,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function Ble(e){const{width:t,height:r}=EU(e);return{width:t,height:r}}function qle(e,t,r){const n=Cs(t),a=Ds(t),i=r==="fixed",o=Uc(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const d=ws(0);function f(){d.x=kx(a)}if(n||!n&&!i)if((Qd(t)!=="body"||Rm(a))&&(c=Ex(t)),n){const g=Uc(t,!0,i,t);d.x=g.x+t.clientLeft,d.y=g.y+t.clientTop}else a&&f();i&&!n&&a&&f();const m=a&&!n&&!i?AU(a,c):ws(0),p=o.left+c.scrollLeft-d.x-m.x,y=o.top+c.scrollTop-d.y-m.y;return{x:p,y,width:o.width,height:o.height}}function M_(e){return es(e).position==="static"}function yM(e,t){if(!Cs(e)||es(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ds(e)===r&&(r=r.ownerDocument.body),r}function TU(e,t){const r=Ga(e);if(Nx(e))return r;if(!Cs(e)){let a=Tl(e);for(;a&&!kd(a);){if(Ji(a)&&!M_(a))return a;a=Tl(a)}return r}let n=yM(e,t);for(;n&&Cle(n)&&M_(n);)n=yM(n,t);return n&&kd(n)&&M_(n)&&!kN(n)?r:n||Ole(e)||r}const Vle=async function(e){const t=this.getOffsetParent||TU,r=this.getDimensions,n=await r(e.floating);return{reference:qle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hle(e){return es(e).direction==="rtl"}const Wle={convertOffsetParentRelativeRectToViewportRelativeRect:Dle,getDocumentElement:Ds,getClippingRect:Ule,getOffsetParent:TU,getElementRects:Vle,getClientRects:Mle,getDimensions:Ble,getScale:bd,isElement:Ji,isRTL:Hle};function RU(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kle(e,t){let r=null,n;const a=Ds(e);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:m,top:p,width:y,height:g}=f;if(c||t(),!y||!g)return;const b=Hg(p),w=Hg(a.clientWidth-(m+y)),_=Hg(a.clientHeight-(p+g)),j=Hg(m),E={rootMargin:-b+"px "+-w+"px "+-_+"px "+-j+"px",threshold:Ua(0,Ol(1,d))||1};let k=!0;function A(R){const T=R[0].intersectionRatio;if(T!==d){if(!k)return o();T?o(!1,T):n=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!RU(f,e.getBoundingClientRect())&&o(),k=!1}try{r=new IntersectionObserver(A,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(A,E)}r.observe(e)}return o(!0),i}function Gle(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=ON(e),m=a||i?[...f?Gh(f):[],...Gh(t)]:[];m.forEach(j=>{a&&j.addEventListener("scroll",r,{passive:!0}),i&&j.addEventListener("resize",r)});const p=f&&c?Kle(f,r):null;let y=-1,g=null;o&&(g=new ResizeObserver(j=>{let[N]=j;N&&N.target===f&&g&&(g.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(t)})),r()}),f&&!d&&g.observe(f),g.observe(t));let b,w=d?Uc(e):null;d&&_();function _(){const j=Uc(e);w&&!RU(w,j)&&r(),w=j,b=requestAnimationFrame(_)}return r(),()=>{var j;m.forEach(N=>{a&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),p?.(),(j=g)==null||j.disconnect(),g=null,d&&cancelAnimationFrame(b)}}const Yle=xle,Zle=ble,Xle=gle,Qle=_le,Jle=vle,xM=ple,ece=wle,tce=(e,t,r)=>{const n=new Map,a={platform:Wle,...r},i={...a.platform,_c:n};return mle(e,t,{...a,platform:i})};var rce=typeof document<"u",nce=function(){},yv=rce?x.useLayoutEffect:nce;function Gv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Gv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!Gv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function PU(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function bM(e,t){const r=PU(e);return Math.round(t*r)/r}function I_(e){const t=x.useRef(e);return yv(()=>{t.current=e}),t}function ace(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:f}=e,[m,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[y,g]=x.useState(n);Gv(y,n)||g(n);const[b,w]=x.useState(null),[_,j]=x.useState(null),N=x.useCallback(I=>{I!==R.current&&(R.current=I,w(I))},[]),E=x.useCallback(I=>{I!==T.current&&(T.current=I,j(I))},[]),k=i||b,A=o||_,R=x.useRef(null),T=x.useRef(null),O=x.useRef(m),P=d!=null,$=I_(d),M=I_(a),L=I_(f),U=x.useCallback(()=>{if(!R.current||!T.current)return;const I={placement:t,strategy:r,middleware:y};M.current&&(I.platform=M.current),tce(R.current,T.current,I).then(q=>{const ue={...q,isPositioned:L.current!==!1};X.current&&!Gv(O.current,ue)&&(O.current=ue,tu.flushSync(()=>{p(ue)}))})},[y,t,r,M,L]);yv(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,p(I=>({...I,isPositioned:!1})))},[f]);const X=x.useRef(!1);yv(()=>(X.current=!0,()=>{X.current=!1}),[]),yv(()=>{if(k&&(R.current=k),A&&(T.current=A),k&&A){if($.current)return $.current(k,A,U);U()}},[k,A,U,$,P]);const Y=x.useMemo(()=>({reference:R,floating:T,setReference:N,setFloating:E}),[N,E]),F=x.useMemo(()=>({reference:k,floating:A}),[k,A]),H=x.useMemo(()=>{const I={position:r,left:0,top:0};if(!F.floating)return I;const q=bM(F.floating,m.x),ue=bM(F.floating,m.y);return c?{...I,transform:"translate("+q+"px, "+ue+"px)",...PU(F.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:q,top:ue}},[r,c,F.floating,m.x,m.y]);return x.useMemo(()=>({...m,update:U,refs:Y,elements:F,floatingStyles:H}),[m,U,Y,F,H])}const ice=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?xM({element:n.current,padding:a}).fn(r):{}:n?xM({element:n,padding:a}).fn(r):{}}}},sce=(e,t)=>({...Yle(e),options:[e,t]}),oce=(e,t)=>({...Zle(e),options:[e,t]}),lce=(e,t)=>({...ece(e),options:[e,t]}),cce=(e,t)=>({...Xle(e),options:[e,t]}),uce=(e,t)=>({...Qle(e),options:[e,t]}),dce=(e,t)=>({...Jle(e),options:[e,t]}),fce=(e,t)=>({...ice(e),options:[e,t]});var hce="Arrow",DU=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(st.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});DU.displayName=hce;var mce=DU;function Ax(e){const[t,r]=x.useState(void 0);return un(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;o=f.inlineSize,c=f.blockSize}else o=e.offsetWidth,c=e.offsetHeight;r({width:o,height:c})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var TN="Popper",[MU,Jd]=ua(TN),[pce,IU]=MU(TN),$U=e=>{const{__scopePopper:t,children:r}=e,[n,a]=x.useState(null);return s.jsx(pce,{scope:t,anchor:n,onAnchorChange:a,children:r})};$U.displayName=TN;var LU="PopperAnchor",zU=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=IU(LU,r),o=x.useRef(null),c=jt(t,o),d=x.useRef(null);return x.useEffect(()=>{const f=d.current;d.current=n?.current||o.current,f!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(st.div,{...a,ref:c})});zU.displayName=LU;var RN="PopperContent",[gce,vce]=MU(RN),FU=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:y=!1,updatePositionStrategy:g="optimized",onPlaced:b,...w}=e,_=IU(RN,r),[j,N]=x.useState(null),E=jt(t,ee=>N(ee)),[k,A]=x.useState(null),R=Ax(k),T=R?.width??0,O=R?.height??0,P=n+(i!=="center"?"-"+i:""),$=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},M=Array.isArray(f)?f:[f],L=M.length>0,U={padding:$,boundary:M.filter(xce),altBoundary:L},{refs:X,floatingStyles:Y,placement:F,isPositioned:H,middlewareData:I}=ace({strategy:"fixed",placement:P,whileElementsMounted:(...ee)=>Gle(...ee,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[sce({mainAxis:a+O,alignmentAxis:o}),d&&oce({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?lce():void 0,...U}),d&&cce({...U}),uce({...U,apply:({elements:ee,rects:pe,availableWidth:G,availableHeight:ge})=>{const{width:ye,height:le}=pe.reference,Be=ee.floating.style;Be.setProperty("--radix-popper-available-width",`${G}px`),Be.setProperty("--radix-popper-available-height",`${ge}px`),Be.setProperty("--radix-popper-anchor-width",`${ye}px`),Be.setProperty("--radix-popper-anchor-height",`${le}px`)}}),k&&fce({element:k,padding:c}),bce({arrowWidth:T,arrowHeight:O}),y&&dce({strategy:"referenceHidden",...U})]}),[q,ue]=qU(F),B=An(b);un(()=>{H&&B?.()},[H,B]);const Q=I.arrow?.x,V=I.arrow?.y,ae=I.arrow?.centerOffset!==0,[Z,ne]=x.useState();return un(()=>{j&&ne(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:H?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(gce,{scope:r,placedSide:q,onArrowChange:A,arrowX:Q,arrowY:V,shouldHideArrow:ae,children:s.jsx(st.div,{"data-side":q,"data-align":ue,...w,ref:E,style:{...w.style,animation:H?void 0:"none"}})})})});FU.displayName=RN;var UU="PopperArrow",yce={top:"bottom",right:"left",bottom:"top",left:"right"},BU=x.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=vce(UU,n),o=yce[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(mce,{...a,ref:r,style:{...a.style,display:"block"}})})});BU.displayName=UU;function xce(e){return e!==null}var bce=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:a}=t,o=a.arrow?.centerOffset!==0,c=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[f,m]=qU(r),p={start:"0%",center:"50%",end:"100%"}[m],y=(a.arrow?.x??0)+c/2,g=(a.arrow?.y??0)+d/2;let b="",w="";return f==="bottom"?(b=o?p:`${y}px`,w=`${-d}px`):f==="top"?(b=o?p:`${y}px`,w=`${n.floating.height+d}px`):f==="right"?(b=`${-d}px`,w=o?p:`${g}px`):f==="left"&&(b=`${n.floating.width+d}px`,w=o?p:`${g}px`),{data:{x:b,y:w}}}});function qU(e){const[t,r="center"]=e.split("-");return[t,r]}var PN=$U,Ox=zU,DN=FU,MN=BU,wce="Portal",Pm=x.forwardRef((e,t)=>{const{container:r,...n}=e,[a,i]=x.useState(!1);un(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?oz.createPortal(s.jsx(st.div,{...n,ref:t}),o):null});Pm.displayName=wce;function _ce(e){const t=jce(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(Cce);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function jce(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Ece(a),c=Nce(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sce=Symbol("radix.slottable");function Cce(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sce}function Nce(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Ece(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kce=ox[" useInsertionEffect ".trim().toString()]||un;function Ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[a,i,o]=Ace({defaultProp:t,onChange:r}),c=e!==void 0,d=c?e:a;{const m=x.useRef(e!==void 0);x.useEffect(()=>{const p=m.current;p!==c&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const f=x.useCallback(m=>{if(c){const p=Oce(m)?m(e):m;p!==e&&o.current?.(p)}else i(m)},[c,e,i,o]);return[d,f]}function Ace({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),a=x.useRef(r),i=x.useRef(t);return kce(()=>{i.current=t},[t]),x.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function Oce(e){return typeof e=="function"}function Tx(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var VU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Tce="VisuallyHidden",Rce=x.forwardRef((e,t)=>s.jsx(st.span,{...e,ref:t,style:{...VU,...e.style}}));Rce.displayName=Tce;var Pce=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},td=new WeakMap,Wg=new WeakMap,Kg={},$_=0,HU=function(e){return e&&(e.host||HU(e.parentNode))},Dce=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=HU(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Mce=function(e,t,r,n){var a=Dce(t,Array.isArray(e)?e:[e]);Kg[r]||(Kg[r]=new WeakMap);var i=Kg[r],o=[],c=new Set,d=new Set(a),f=function(p){!p||c.has(p)||(c.add(p),f(p.parentNode))};a.forEach(f);var m=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(y){if(c.has(y))m(y);else try{var g=y.getAttribute(n),b=g!==null&&g!=="false",w=(td.get(y)||0)+1,_=(i.get(y)||0)+1;td.set(y,w),i.set(y,_),o.push(y),w===1&&b&&Wg.set(y,!0),_===1&&y.setAttribute(r,"true"),b||y.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",y,j)}})};return m(t),c.clear(),$_++,function(){o.forEach(function(p){var y=td.get(p)-1,g=i.get(p)-1;td.set(p,y),i.set(p,g),y||(Wg.has(p)||p.removeAttribute(n),Wg.delete(p)),g||p.removeAttribute(r)}),$_--,$_||(td=new WeakMap,td=new WeakMap,Wg=new WeakMap,Kg={})}},Rx=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=Pce(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),Mce(n,a,r,"aria-hidden")):function(){return null}},xv="right-scroll-bar-position",bv="width-before-scroll-bar",Ice="with-scroll-bars-hidden",$ce="--removed-body-scroll-bar-size";function L_(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Lce(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var zce=typeof window<"u"?x.useLayoutEffect:x.useEffect,wM=new WeakMap;function Fce(e,t){var r=Lce(null,function(n){return e.forEach(function(a){return L_(a,n)})});return zce(function(){var n=wM.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(c){i.has(c)||L_(c,null)}),i.forEach(function(c){a.has(c)||L_(c,o)})}wM.set(r,e)},[e]),r}function Uce(e){return e}function Bce(e,t){t===void 0&&(t=Uce);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),r={push:function(m){o.push(m),f()},filter:function(m){return o=o.filter(m),r}}}};return a}function qce(e){e===void 0&&(e={});var t=Bce(null);return t.options=bi({async:!0,ssr:!1},e),t}var WU=function(e){var t=e.sideCar,r=Ml(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,bi({},r))};WU.isSideCarExport=!0;function Vce(e,t){return e.useMedium(t),WU}var KU=qce(),z_=function(){},Px=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:z_,onWheelCapture:z_,onTouchMoveCapture:z_}),a=n[0],i=n[1],o=e.forwardProps,c=e.children,d=e.className,f=e.removeScrollBar,m=e.enabled,p=e.shards,y=e.sideCar,g=e.noRelative,b=e.noIsolation,w=e.inert,_=e.allowPinchZoom,j=e.as,N=j===void 0?"div":j,E=e.gapMode,k=Ml(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,R=Fce([r,t]),T=bi(bi({},k),a);return x.createElement(x.Fragment,null,m&&x.createElement(A,{sideCar:KU,removeScrollBar:f,shards:p,noRelative:g,noIsolation:b,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:E}),o?x.cloneElement(x.Children.only(c),bi(bi({},T),{ref:R})):x.createElement(N,bi({},T,{className:d,ref:R}),c))});Px.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Px.classNames={fullWidth:bv,zeroRight:xv};var Hce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Wce(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Hce();return t&&e.setAttribute("nonce",t),e}function Kce(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Gce(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Yce=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Wce())&&(Kce(t,r),Gce(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Zce=function(){var e=Yce();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},GU=function(){var e=Zce(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Xce={left:0,top:0,right:0,gap:0},F_=function(e){return parseInt(e||"",10)||0},Qce=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[F_(r),F_(n),F_(a)]},Jce=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Xce;var t=Qce(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},eue=GU(),wd="data-scroll-locked",tue=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,c=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Ice,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(wd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xv,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(bv,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(xv," .").concat(xv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(bv," .").concat(bv,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(wd,`] {
    `).concat($ce,": ").concat(c,`px;
  }
`)},_M=function(){var e=parseInt(document.body.getAttribute(wd)||"0",10);return isFinite(e)?e:0},rue=function(){x.useEffect(function(){return document.body.setAttribute(wd,(_M()+1).toString()),function(){var e=_M()-1;e<=0?document.body.removeAttribute(wd):document.body.setAttribute(wd,e.toString())}},[])},nue=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;rue();var i=x.useMemo(function(){return Jce(a)},[a]);return x.createElement(eue,{styles:tue(i,!t,a,r?"":"!important")})},j1=!1;if(typeof window<"u")try{var Gg=Object.defineProperty({},"passive",{get:function(){return j1=!0,!0}});window.addEventListener("test",Gg,Gg),window.removeEventListener("test",Gg,Gg)}catch{j1=!1}var rd=j1?{passive:!1}:!1,aue=function(e){return e.tagName==="TEXTAREA"},YU=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!aue(e)&&r[t]==="visible")},iue=function(e){return YU(e,"overflowY")},sue=function(e){return YU(e,"overflowX")},jM=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=ZU(e,n);if(a){var i=XU(e,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},oue=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},lue=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},ZU=function(e,t){return e==="v"?iue(t):sue(t)},XU=function(e,t){return e==="v"?oue(t):lue(t)},cue=function(e,t){return e==="h"&&t==="rtl"?-1:1},uue=function(e,t,r,n,a){var i=cue(e,window.getComputedStyle(t).direction),o=i*n,c=r.target,d=t.contains(c),f=!1,m=o>0,p=0,y=0;do{if(!c)break;var g=XU(e,c),b=g[0],w=g[1],_=g[2],j=w-_-i*b;(b||j)&&ZU(e,c)&&(p+=j,y+=b);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(t.contains(c)||t===c));return(m&&Math.abs(p)<1||!m&&Math.abs(y)<1)&&(f=!0),f},Yg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},SM=function(e){return[e.deltaX,e.deltaY]},CM=function(e){return e&&"current"in e?e.current:e},due=function(e,t){return e[0]===t[0]&&e[1]===t[1]},fue=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},hue=0,nd=[];function mue(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),a=x.useState(hue++)[0],i=x.useState(GU)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var w=GC([e.lockRef.current],(e.shards||[]).map(CM),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=x.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var j=Yg(w),N=r.current,E="deltaX"in w?w.deltaX:N[0]-j[0],k="deltaY"in w?w.deltaY:N[1]-j[1],A,R=w.target,T=Math.abs(E)>Math.abs(k)?"h":"v";if("touches"in w&&T==="h"&&R.type==="range")return!1;var O=jM(T,R);if(!O)return!0;if(O?A=T:(A=T==="v"?"h":"v",O=jM(T,R)),!O)return!1;if(!n.current&&"changedTouches"in w&&(E||k)&&(n.current=A),!A)return!0;var P=n.current||A;return uue(P,_,w,P==="h"?E:k)},[]),d=x.useCallback(function(w){var _=w;if(!(!nd.length||nd[nd.length-1]!==i)){var j="deltaY"in _?SM(_):Yg(_),N=t.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&due(A.delta,j)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var E=(o.current.shards||[]).map(CM).filter(Boolean).filter(function(A){return A.contains(_.target)}),k=E.length>0?c(_,E[0]):!o.current.noIsolation;k&&_.cancelable&&_.preventDefault()}}},[]),f=x.useCallback(function(w,_,j,N){var E={name:w,delta:_,target:j,should:N,shadowParent:pue(j)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(k){return k!==E})},1)},[]),m=x.useCallback(function(w){r.current=Yg(w),n.current=void 0},[]),p=x.useCallback(function(w){f(w.type,SM(w),w.target,c(w,e.lockRef.current))},[]),y=x.useCallback(function(w){f(w.type,Yg(w),w.target,c(w,e.lockRef.current))},[]);x.useEffect(function(){return nd.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:y}),document.addEventListener("wheel",d,rd),document.addEventListener("touchmove",d,rd),document.addEventListener("touchstart",m,rd),function(){nd=nd.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,rd),document.removeEventListener("touchmove",d,rd),document.removeEventListener("touchstart",m,rd)}},[]);var g=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(i,{styles:fue(a)}):null,g?x.createElement(nue,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pue(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const gue=Vce(KU,mue);var Dm=x.forwardRef(function(e,t){return x.createElement(Px,bi({},e,{ref:t,sideCar:gue}))});Dm.classNames=Px.classNames;var vue=[" ","Enter","ArrowUp","ArrowDown"],yue=[" ","Enter"],Bc="Select",[Dx,Mx,xue]=SN(Bc),[ef]=ua(Bc,[xue,Jd]),Ix=Jd(),[bue,Ll]=ef(Bc),[wue,_ue]=ef(Bc),QU=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:f,name:m,autoComplete:p,disabled:y,required:g,form:b}=e,w=Ix(t),[_,j]=x.useState(null),[N,E]=x.useState(null),[k,A]=x.useState(!1),R=Zd(f),[T,O]=Ns({prop:n,defaultProp:a??!1,onChange:i,caller:Bc}),[P,$]=Ns({prop:o,defaultProp:c,onChange:d,caller:Bc}),M=x.useRef(null),L=_?b||!!_.closest("form"):!0,[U,X]=x.useState(new Set),Y=Array.from(U).map(F=>F.props.value).join(";");return s.jsx(PN,{...w,children:s.jsxs(bue,{required:g,scope:t,trigger:_,onTriggerChange:j,valueNode:N,onValueNodeChange:E,valueNodeHasChildren:k,onValueNodeHasChildrenChange:A,contentId:Xi(),value:P,onValueChange:$,open:T,onOpenChange:O,dir:R,triggerPointerDownPosRef:M,disabled:y,children:[s.jsx(Dx.Provider,{scope:t,children:s.jsx(wue,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(F=>{X(H=>new Set(H).add(F))},[]),onNativeOptionRemove:x.useCallback(F=>{X(H=>{const I=new Set(H);return I.delete(F),I})},[]),children:r})}),L?s.jsxs(_3,{"aria-hidden":!0,required:g,tabIndex:-1,name:m,autoComplete:p,value:P,onChange:F=>$(F.target.value),disabled:y,form:b,children:[P===void 0?s.jsx("option",{value:""}):null,Array.from(U)]},Y):null]})})};QU.displayName=Bc;var JU="SelectTrigger",e3=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=Ix(r),o=Ll(JU,r),c=o.disabled||n,d=jt(t,o.onTriggerChange),f=Mx(r),m=x.useRef("touch"),[p,y,g]=S3(w=>{const _=f().filter(E=>!E.disabled),j=_.find(E=>E.value===o.value),N=C3(_,w,j);N!==void 0&&o.onValueChange(N.value)}),b=w=>{c||(o.onOpenChange(!0),g()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(Ox,{asChild:!0,...i,children:s.jsx(st.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":j3(o.value)?"":void 0,...a,ref:d,onClick:$e(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&b(w)}),onPointerDown:$e(a.onPointerDown,w=>{m.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:$e(a.onKeyDown,w=>{const _=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(_&&w.key===" ")&&vue.includes(w.key)&&(b(),w.preventDefault())})})})});e3.displayName=JU;var t3="SelectValue",r3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=e,d=Ll(t3,r),{onValueNodeHasChildrenChange:f}=d,m=i!==void 0,p=jt(t,d.onValueNodeChange);return un(()=>{f(m)},[f,m]),s.jsx(st.span,{...c,ref:p,style:{pointerEvents:"none"},children:j3(d.value)?s.jsx(s.Fragment,{children:o}):i})});r3.displayName=t3;var jue="SelectIcon",n3=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(st.span,{"aria-hidden":!0,...a,ref:t,children:n||""})});n3.displayName=jue;var Sue="SelectPortal",a3=e=>s.jsx(Pm,{asChild:!0,...e});a3.displayName=Sue;var qc="SelectContent",i3=x.forwardRef((e,t)=>{const r=Ll(qc,e.__scopeSelect),[n,a]=x.useState();if(un(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?tu.createPortal(s.jsx(s3,{scope:e.__scopeSelect,children:s.jsx(Dx.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(o3,{...e,ref:t})});i3.displayName=qc;var Ui=10,[s3,zl]=ef(qc),Cue="SelectContentImpl",Nue=_ce("SelectContent.RemoveScroll"),o3=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_,...j}=e,N=Ll(qc,r),[E,k]=x.useState(null),[A,R]=x.useState(null),T=jt(t,ee=>k(ee)),[O,P]=x.useState(null),[$,M]=x.useState(null),L=Mx(r),[U,X]=x.useState(!1),Y=x.useRef(!1);x.useEffect(()=>{if(E)return Rx(E)},[E]),Sx();const F=x.useCallback(ee=>{const[pe,...G]=L().map(le=>le.ref.current),[ge]=G.slice(-1),ye=document.activeElement;for(const le of ee)if(le===ye||(le?.scrollIntoView({block:"nearest"}),le===pe&&A&&(A.scrollTop=0),le===ge&&A&&(A.scrollTop=A.scrollHeight),le?.focus(),document.activeElement!==ye))return},[L,A]),H=x.useCallback(()=>F([O,E]),[F,O,E]);x.useEffect(()=>{U&&H()},[U,H]);const{onOpenChange:I,triggerPointerDownPosRef:q}=N;x.useEffect(()=>{if(E){let ee={x:0,y:0};const pe=ge=>{ee={x:Math.abs(Math.round(ge.pageX)-(q.current?.x??0)),y:Math.abs(Math.round(ge.pageY)-(q.current?.y??0))}},G=ge=>{ee.x<=10&&ee.y<=10?ge.preventDefault():E.contains(ge.target)||I(!1),document.removeEventListener("pointermove",pe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",G,{capture:!0})}}},[E,I,q]),x.useEffect(()=>{const ee=()=>I(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[I]);const[ue,B]=S3(ee=>{const pe=L().filter(ye=>!ye.disabled),G=pe.find(ye=>ye.ref.current===document.activeElement),ge=C3(pe,ee,G);ge&&setTimeout(()=>ge.ref.current.focus())}),Q=x.useCallback((ee,pe,G)=>{const ge=!Y.current&&!G;(N.value!==void 0&&N.value===pe||ge)&&(P(ee),ge&&(Y.current=!0))},[N.value]),V=x.useCallback(()=>E?.focus(),[E]),ae=x.useCallback((ee,pe,G)=>{const ge=!Y.current&&!G;(N.value!==void 0&&N.value===pe||ge)&&M(ee)},[N.value]),Z=n==="popper"?S1:l3,ne=Z===S1?{side:c,sideOffset:d,align:f,alignOffset:m,arrowPadding:p,collisionBoundary:y,collisionPadding:g,sticky:b,hideWhenDetached:w,avoidCollisions:_}:{};return s.jsx(s3,{scope:r,content:E,viewport:A,onViewportChange:R,itemRefCallback:Q,selectedItem:O,onItemLeave:V,itemTextRefCallback:ae,focusSelectedItem:H,selectedItemText:$,position:n,isPositioned:U,searchRef:ue,children:s.jsx(Dm,{as:Nue,allowPinchZoom:!0,children:s.jsx(Tm,{asChild:!0,trapped:N.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:$e(a,ee=>{N.trigger?.focus({preventScroll:!0}),ee.preventDefault()}),children:s.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(Z,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ee=>ee.preventDefault(),...j,...ne,onPlaced:()=>X(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:$e(j.onKeyDown,ee=>{const pe=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!pe&&ee.key.length===1&&B(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let ge=L().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const ye=ee.target,le=ge.indexOf(ye);ge=ge.slice(le+1)}setTimeout(()=>F(ge)),ee.preventDefault()}})})})})})})});o3.displayName=Cue;var Eue="SelectItemAlignedPosition",l3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=Ll(qc,r),o=zl(qc,r),[c,d]=x.useState(null),[f,m]=x.useState(null),p=jt(t,T=>m(T)),y=Mx(r),g=x.useRef(!1),b=x.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:j,focusSelectedItem:N}=o,E=x.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&f&&w&&_&&j){const T=i.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),$=j.getBoundingClientRect();if(i.dir!=="rtl"){const ye=$.left-O.left,le=P.left-ye,Be=T.left-le,Le=T.width+Be,et=Math.max(Le,O.width),qe=window.innerWidth-Ui,Tt=y1(le,[Ui,Math.max(Ui,qe-et)]);c.style.minWidth=Le+"px",c.style.left=Tt+"px"}else{const ye=O.right-$.right,le=window.innerWidth-P.right-ye,Be=window.innerWidth-T.right-le,Le=T.width+Be,et=Math.max(Le,O.width),qe=window.innerWidth-Ui,Tt=y1(le,[Ui,Math.max(Ui,qe-et)]);c.style.minWidth=Le+"px",c.style.right=Tt+"px"}const M=y(),L=window.innerHeight-Ui*2,U=w.scrollHeight,X=window.getComputedStyle(f),Y=parseInt(X.borderTopWidth,10),F=parseInt(X.paddingTop,10),H=parseInt(X.borderBottomWidth,10),I=parseInt(X.paddingBottom,10),q=Y+F+U+I+H,ue=Math.min(_.offsetHeight*5,q),B=window.getComputedStyle(w),Q=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),ae=T.top+T.height/2-Ui,Z=L-ae,ne=_.offsetHeight/2,ee=_.offsetTop+ne,pe=Y+F+ee,G=q-pe;if(pe<=ae){const ye=M.length>0&&_===M[M.length-1].ref.current;c.style.bottom="0px";const le=f.clientHeight-w.offsetTop-w.offsetHeight,Be=Math.max(Z,ne+(ye?V:0)+le+H),Le=pe+Be;c.style.height=Le+"px"}else{const ye=M.length>0&&_===M[0].ref.current;c.style.top="0px";const Be=Math.max(ae,Y+w.offsetTop+(ye?Q:0)+ne)+G;c.style.height=Be+"px",w.scrollTop=pe-ae+w.offsetTop}c.style.margin=`${Ui}px 0`,c.style.minHeight=ue+"px",c.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>g.current=!0)}},[y,i.trigger,i.valueNode,c,f,w,_,j,i.dir,n]);un(()=>E(),[E]);const[k,A]=x.useState();un(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const R=x.useCallback(T=>{T&&b.current===!0&&(E(),N?.(),b.current=!1)},[E,N]);return s.jsx(Aue,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:g,onScrollButtonChange:R,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:s.jsx(st.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});l3.displayName=Eue;var kue="SelectPopperPosition",S1=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=Ui,...i}=e,o=Ix(r);return s.jsx(DN,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});S1.displayName=kue;var[Aue,IN]=ef(qc,{}),C1="SelectViewport",c3=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=zl(C1,r),o=IN(C1,r),c=jt(t,i.onViewportChange),d=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Dx.Slot,{scope:r,children:s.jsx(st.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:$e(a.onScroll,f=>{const m=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:y}=o;if(y?.current&&p){const g=Math.abs(d.current-m.scrollTop);if(g>0){const b=window.innerHeight-Ui*2,w=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),j=Math.max(w,_);if(j<b){const N=j+g,E=Math.min(b,N),k=N-E;p.style.height=E+"px",p.style.bottom==="0px"&&(m.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});c3.displayName=C1;var u3="SelectGroup",[Oue,Tue]=ef(u3),Rue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Xi();return s.jsx(Oue,{scope:r,id:a,children:s.jsx(st.div,{role:"group","aria-labelledby":a,...n,ref:t})})});Rue.displayName=u3;var d3="SelectLabel",f3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Tue(d3,r);return s.jsx(st.div,{id:a.id,...n,ref:t})});f3.displayName=d3;var Yv="SelectItem",[Pue,h3]=ef(Yv),m3=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,c=Ll(Yv,r),d=zl(Yv,r),f=c.value===n,[m,p]=x.useState(i??""),[y,g]=x.useState(!1),b=jt(t,N=>d.itemRefCallback?.(N,n,a)),w=Xi(),_=x.useRef("touch"),j=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Pue,{scope:r,value:n,disabled:a,textId:w,isSelected:f,onItemTextChange:x.useCallback(N=>{p(E=>E||(N?.textContent??"").trim())},[]),children:s.jsx(Dx.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(st.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:b,onFocus:$e(o.onFocus,()=>g(!0)),onBlur:$e(o.onBlur,()=>g(!1)),onClick:$e(o.onClick,()=>{_.current!=="mouse"&&j()}),onPointerUp:$e(o.onPointerUp,()=>{_.current==="mouse"&&j()}),onPointerDown:$e(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:$e(o.onPointerMove,N=>{_.current=N.pointerType,a?d.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:$e(o.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(yue.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});m3.displayName=Yv;var wh="SelectItemText",p3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=Ll(wh,r),c=zl(wh,r),d=h3(wh,r),f=_ue(wh,r),[m,p]=x.useState(null),y=jt(t,j=>p(j),d.onItemTextChange,j=>c.itemTextRefCallback?.(j,d.value,d.disabled)),g=m?.textContent,b=x.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:g},d.value),[d.disabled,d.value,g]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=f;return un(()=>(w(b),()=>_(b)),[w,_,b]),s.jsxs(s.Fragment,{children:[s.jsx(st.span,{id:d.textId,...i,ref:y}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?tu.createPortal(i.children,o.valueNode):null]})});p3.displayName=wh;var g3="SelectItemIndicator",v3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return h3(g3,r).isSelected?s.jsx(st.span,{"aria-hidden":!0,...n,ref:t}):null});v3.displayName=g3;var N1="SelectScrollUpButton",y3=x.forwardRef((e,t)=>{const r=zl(N1,e.__scopeSelect),n=IN(N1,e.__scopeSelect),[a,i]=x.useState(!1),o=jt(t,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollTop>0;i(f)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(b3,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});y3.displayName=N1;var E1="SelectScrollDownButton",x3=x.forwardRef((e,t)=>{const r=zl(E1,e.__scopeSelect),n=IN(E1,e.__scopeSelect),[a,i]=x.useState(!1),o=jt(t,n.onScrollButtonChange);return un(()=>{if(r.viewport&&r.isPositioned){let c=function(){const f=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<f;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(b3,{...e,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});x3.displayName=E1;var b3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=zl("SelectScrollButton",r),o=x.useRef(null),c=Mx(r),d=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>d(),[d]),un(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(st.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:$e(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:$e(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:$e(a.onPointerLeave,()=>{d()})})}),Due="SelectSeparator",w3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(st.div,{"aria-hidden":!0,...n,ref:t})});w3.displayName=Due;var k1="SelectArrow",Mue=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Ix(r),i=Ll(k1,r),o=zl(k1,r);return i.open&&o.position==="popper"?s.jsx(MN,{...a,...n,ref:t}):null});Mue.displayName=k1;var Iue="SelectBubbleInput",_3=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const a=x.useRef(null),i=jt(n,a),o=Tx(t);return x.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==t&&m){const p=new Event("change",{bubbles:!0});m.call(c,t),c.dispatchEvent(p)}},[o,t]),s.jsx(st.select,{...r,style:{...VU,...r.style},ref:i,defaultValue:t})});_3.displayName=Iue;function j3(e){return e===""||e===void 0}function S3(e){const t=An(e),r=x.useRef(""),n=x.useRef(0),a=x.useCallback(o=>{const c=r.current+o;t(c),(function d(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function C3(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=$ue(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function $ue(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Lue=QU,N3=e3,zue=r3,Fue=n3,Uue=a3,E3=i3,Bue=c3,k3=f3,A3=m3,que=p3,Vue=v3,O3=y3,T3=x3,R3=w3;const Ct=Lue,Nt=zue,wt=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(N3,{ref:n,className:Ie("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(Fue,{asChild:!0,children:s.jsx(iU,{className:"h-4 w-4 opacity-50"})})]}));wt.displayName=N3.displayName;const P3=x.forwardRef(({className:e,...t},r)=>s.jsx(O3,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(bie,{className:"h-4 w-4"})}));P3.displayName=O3.displayName;const D3=x.forwardRef(({className:e,...t},r)=>s.jsx(T3,{ref:r,className:Ie("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(iU,{className:"h-4 w-4"})}));D3.displayName=T3.displayName;const _t=x.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(Uue,{children:s.jsxs(E3,{ref:a,className:Ie("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(P3,{}),s.jsx(Bue,{className:Ie("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(D3,{})]})}));_t.displayName=E3.displayName;const Hue=x.forwardRef(({className:e,...t},r)=>s.jsx(k3,{ref:r,className:Ie("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Hue.displayName=k3.displayName;const Me=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(A3,{ref:n,className:Ie("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Vue,{children:s.jsx(gN,{className:"h-4 w-4"})})}),s.jsx(que,{children:t})]}));Me.displayName=A3.displayName;const Wue=x.forwardRef(({className:e,...t},r)=>s.jsx(R3,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));Wue.displayName=R3.displayName;const Kr=x.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Ie("w-full caption-bottom text-sm",e),...t})}));Kr.displayName="Table";const Gr=x.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:Ie("[&_tr]:border-b",e),...t}));Gr.displayName="TableHeader";const Yr=x.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:Ie("[&_tr:last-child]:border-0",e),...t}));Yr.displayName="TableBody";const Kue=x.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:Ie("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));Kue.displayName="TableFooter";const vt=x.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:Ie("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));vt.displayName="TableRow";const Te=x.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:Ie("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Te.displayName="TableHead";const Oe=x.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:Ie("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Oe.displayName="TableCell";const Gue=x.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:Ie("mt-4 text-sm text-muted-foreground",e),...t}));Gue.displayName="TableCaption";const M3=6048e5,Yue=864e5,I3=6e4,$3=36e5,Zg=43200,NM=1440,EM=Symbol.for("constructDateFrom");function Fr(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&EM in e?e[EM](t):e instanceof Date?new e.constructor(t):new Date(t)}function Dt(e,t){return Fr(t||e,e)}function $N(e,t,r){const n=Dt(e,r?.in);return isNaN(t)?Fr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function LN(e,t,r){const n=Dt(e,r?.in);if(isNaN(t))return Fr(e,NaN);if(!t)return n;const a=n.getDate(),i=Fr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),a),n)}let Zue={};function tf(){return Zue}function Rl(e,t){const r=tf(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dt(e,t?.in),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Yh(e,t){return Rl(e,{...t,weekStartsOn:1})}function L3(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=Fr(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Yh(a),o=Fr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=Yh(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Zv(e){const t=Dt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Fl(e,...t){const r=Fr.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Zh(e,t){const r=Dt(e,t?.in);return r.setHours(0,0,0,0),r}function z3(e,t,r){const[n,a]=Fl(r?.in,e,t),i=Zh(n),o=Zh(a),c=+i-Zv(i),d=+o-Zv(o);return Math.round((c-d)/Yue)}function Xue(e,t){const r=L3(e,t),n=Fr(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Yh(n)}function Que(e,t,r){return $N(e,t*7,r)}function Jue(e,t,r){return LN(e,t*12,r)}function ede(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Fr.bind(null,a));const i=Dt(a,n);(!r||r<i||isNaN(+i))&&(r=i)}),Fr(n,r||NaN)}function tde(e,t){let r,n=t?.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Fr.bind(null,a));const i=Dt(a,n);(!r||r>i||isNaN(+i))&&(r=i)}),Fr(n,r||NaN)}function wv(e,t){const r=+Dt(e)-+Dt(t);return r<0?-1:r>0?1:r}function rde(e){return Fr(e,Date.now())}function nde(e,t,r){const[n,a]=Fl(r?.in,e,t);return+Zh(n)==+Zh(a)}function F3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ade(e){return!(!F3(e)&&typeof e!="number"||isNaN(+Dt(e)))}function U3(e,t,r){const[n,a]=Fl(r?.in,e,t),i=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return i*12+o}function ide(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function sde(e,t){return+Dt(e)-+Dt(t)}function ode(e,t){const r=Dt(e,t?.in);return r.setHours(23,59,59,999),r}function Co(e,t){const r=Dt(e,t?.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function lde(e,t){const r=Dt(e,t?.in);return+ode(r,t)==+Co(r,t)}function cde(e,t,r){const[n,a,i]=Fl(r?.in,e,e,t),o=wv(a,i),c=Math.abs(U3(a,i));if(c<1)return 0;a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-o*c);let d=wv(a,i)===-o;lde(n)&&c===1&&wv(n,i)===1&&(d=!1);const f=o*(c-+d);return f===0?0:f}function ude(e,t,r){const n=sde(e,t)/1e3;return ide(r?.roundingMethod)(n)}function B3(e,t){const[r,n]=Fl(e,t.start,t.end);return{start:r,end:n}}function dde(e,t){const{start:r,end:n}=B3(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setDate(1);let c=1;const d=[];for(;+o<=i;)d.push(Fr(r,o)),o.setMonth(o.getMonth()+c);return a?d.reverse():d}function _v(e,t){const r=Dt(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function _s(e,t){const r=Dt(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function A1(e,t){const r=Dt(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ph(e,t){const r=Dt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function fde(e,t){const{start:r,end:n}=B3(t?.in,e);let a=+r>+n;const i=a?+r:+n,o=a?n:r;o.setHours(0,0,0,0),o.setMonth(0,1);let c=1;const d=[];for(;+o<=i;)d.push(Fr(r,o)),o.setFullYear(o.getFullYear()+c);return a?d.reverse():d}function Xv(e,t){const r=tf(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=Dt(e,t?.in),i=a.getDay(),o=(i<n?-7:0)+6-(i-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function hde(e,t){return Xv(e,{...t,weekStartsOn:1})}function O1(e,t){const r=Dt(e,t?.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}const mde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pde=(e,t,r)=>{let n;const a=mde[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function U_(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gde={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vde={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yde={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xde={date:U_({formats:gde,defaultWidth:"full"}),time:U_({formats:vde,defaultWidth:"full"}),dateTime:U_({formats:yde,defaultWidth:"full"})},bde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wde=(e,t,r,n)=>bde[e];function lh(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r?.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r?.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const _de={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},jde={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ede={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kde=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ade={ordinalNumber:kde,era:lh({values:_de,defaultWidth:"wide"}),quarter:lh({values:jde,defaultWidth:"wide",argumentCallback:e=>e-1}),month:lh({values:Sde,defaultWidth:"wide"}),day:lh({values:Cde,defaultWidth:"wide"}),dayPeriod:lh({values:Nde,defaultWidth:"wide",formattingValues:Ede,defaultFormattingWidth:"wide"})};function ch(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?Tde(c,p=>p.test(o)):Ode(c,p=>p.test(o));let f;f=e.valueCallback?e.valueCallback(d):d,f=r.valueCallback?r.valueCallback(f):f;const m=t.slice(o.length);return{value:f,rest:m}}}function Ode(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Tde(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Rde(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const Pde=/^(\d+)(th|st|nd|rd)?/i,Dde=/\d+/i,Mde={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ide={any:[/^b/i,/^(a|c)/i]},$de={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Lde={any:[/1/i,/2/i,/3/i,/4/i]},zde={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Fde={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ude={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bde={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qde={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Vde={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hde={ordinalNumber:Rde({matchPattern:Pde,parsePattern:Dde,valueCallback:e=>parseInt(e,10)}),era:ch({matchPatterns:Mde,defaultMatchWidth:"wide",parsePatterns:Ide,defaultParseWidth:"any"}),quarter:ch({matchPatterns:$de,defaultMatchWidth:"wide",parsePatterns:Lde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ch({matchPatterns:zde,defaultMatchWidth:"wide",parsePatterns:Fde,defaultParseWidth:"any"}),day:ch({matchPatterns:Ude,defaultMatchWidth:"wide",parsePatterns:Bde,defaultParseWidth:"any"}),dayPeriod:ch({matchPatterns:qde,defaultMatchWidth:"any",parsePatterns:Vde,defaultParseWidth:"any"})},$x={code:"en-US",formatDistance:pde,formatLong:xde,formatRelative:wde,localize:Ade,match:Hde,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wde(e,t){const r=Dt(e,t?.in);return z3(r,Ph(r))+1}function q3(e,t){const r=Dt(e,t?.in),n=+Yh(r)-+Xue(r);return Math.round(n/M3)+1}function V3(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=tf(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Fr(t?.in||e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=Rl(o,t),d=Fr(t?.in||e,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const f=Rl(d,t);return+r>=+c?n+1:+r>=+f?n:n-1}function Kde(e,t){const r=tf(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=V3(e,t),i=Fr(t?.in||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Rl(i,t)}function H3(e,t){const r=Dt(e,t?.in),n=+Rl(r,t)-+Kde(r,t);return Math.round(n/M3)+1}function Zt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const gl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Zt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Zt(r+1,2)},d(e,t){return Zt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Zt(e.getHours()%12||12,t.length)},H(e,t){return Zt(e.getHours(),t.length)},m(e,t){return Zt(e.getMinutes(),t.length)},s(e,t){return Zt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Zt(a,t.length)}},ad={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kM={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return gl.y(e,t)},Y:function(e,t,r,n){const a=V3(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Zt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Zt(i,t.length)},R:function(e,t){const r=L3(e);return Zt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Zt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Zt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Zt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return gl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Zt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=H3(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Zt(a,t.length)},I:function(e,t,r){const n=q3(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Zt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):gl.d(e,t)},D:function(e,t,r){const n=Wde(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Zt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Zt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Zt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Zt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=ad.noon:n===0?a=ad.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=ad.evening:n>=12?a=ad.afternoon:n>=4?a=ad.morning:a=ad.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return gl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):gl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Zt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):gl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):gl.s(e,t)},S:function(e,t){return gl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return OM(n);case"XXXX":case"XX":return pc(n);case"XXXXX":case"XXX":default:return pc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return OM(n);case"xxxx":case"xx":return pc(n);case"xxxxx":case"xxx":default:return pc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+AM(n,":");case"OOOO":default:return"GMT"+pc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+AM(n,":");case"zzzz":default:return"GMT"+pc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Zt(n,t.length)},T:function(e,t,r){return Zt(+e,t.length)}};function AM(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Zt(i,2)}function OM(e,t){return e%60===0?(e>0?"-":"+")+Zt(Math.abs(e)/60,2):pc(e,t)}function pc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Zt(Math.trunc(n/60),2),i=Zt(n%60,2);return r+a+t+i}const TM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},W3=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Gde=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return TM(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",TM(n,t)).replace("{{time}}",W3(a,t))},Yde={p:W3,P:Gde},Zde=/^D+$/,Xde=/^Y+$/,Qde=["D","DD","YY","YYYY"];function Jde(e){return Zde.test(e)}function efe(e){return Xde.test(e)}function tfe(e,t,r){const n=rfe(e,t,r);if(console.warn(n),Qde.includes(e))throw new RangeError(n)}function rfe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nfe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,afe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ife=/^'([^]*?)'?$/,sfe=/''/g,ofe=/[a-zA-Z]/;function Fe(e,t,r){const n=tf(),a=r?.locale??n.locale??$x,i=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=Dt(e,r?.in);if(!ade(c))throw new RangeError("Invalid time value");let d=t.match(afe).map(m=>{const p=m[0];if(p==="p"||p==="P"){const y=Yde[p];return y(m,a.formatLong)}return m}).join("").match(nfe).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const p=m[0];if(p==="'")return{isToken:!1,value:lfe(m)};if(kM[p])return{isToken:!0,value:m};if(p.match(ofe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const f={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const p=m.value;(!r?.useAdditionalWeekYearTokens&&efe(p)||!r?.useAdditionalDayOfYearTokens&&Jde(p))&&tfe(p,t,String(e));const y=kM[p[0]];return y(c,p,a.localize,f)}).join("")}function lfe(e){const t=e.match(ife);return t?t[1].replace(sfe,"'"):e}function cfe(e,t,r){const n=tf(),a=r?.locale??n.locale??$x,i=2520,o=wv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o}),[d,f]=Fl(r?.in,...o>0?[t,e]:[e,t]),m=ude(f,d),p=(Zv(f)-Zv(d))/1e3,y=Math.round((m-p)/60);let g;if(y<2)return r?.includeSeconds?m<5?a.formatDistance("lessThanXSeconds",5,c):m<10?a.formatDistance("lessThanXSeconds",10,c):m<20?a.formatDistance("lessThanXSeconds",20,c):m<40?a.formatDistance("halfAMinute",0,c):m<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):y===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",y,c);if(y<45)return a.formatDistance("xMinutes",y,c);if(y<90)return a.formatDistance("aboutXHours",1,c);if(y<NM){const b=Math.round(y/60);return a.formatDistance("aboutXHours",b,c)}else{if(y<i)return a.formatDistance("xDays",1,c);if(y<Zg){const b=Math.round(y/NM);return a.formatDistance("xDays",b,c)}else if(y<Zg*2)return g=Math.round(y/Zg),a.formatDistance("aboutXMonths",g,c)}if(g=cde(f,d),g<12){const b=Math.round(y/Zg);return a.formatDistance("xMonths",b,c)}else{const b=g%12,w=Math.trunc(g/12);return b<3?a.formatDistance("aboutXYears",w,c):b<9?a.formatDistance("overXYears",w,c):a.formatDistance("almostXYears",w+1,c)}}function ufe(e,t){return cfe(e,rde(e),t)}function dfe(e,t){const r=Dt(e,t?.in),n=r.getFullYear(),a=r.getMonth(),i=Fr(r,0);return i.setFullYear(n,a+1,0),i.setHours(0,0,0,0),i.getDate()}function ffe(e,t){return Dt(e,t?.in).getMonth()}function hfe(e,t){return Dt(e,t?.in).getFullYear()}function mfe(e,t){return+Dt(e)>+Dt(t)}function pfe(e,t){return+Dt(e)<+Dt(t)}function gfe(e,t,r){const[n,a]=Fl(r?.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function vfe(e,t,r){const[n,a]=Fl(r?.in,e,t);return n.getFullYear()===a.getFullYear()}function Un(e,t,r){return $N(e,-t,r)}function K3(e,t){const r=()=>Fr(t?.in,NaN),a=wfe(e);let i;if(a.date){const f=_fe(a.date,2);i=jfe(f.restDateString,f.year)}if(!i||isNaN(+i))return r();const o=+i;let c=0,d;if(a.time&&(c=Sfe(a.time),isNaN(c)))return r();if(a.timezone){if(d=Cfe(a.timezone),isNaN(d))return r()}else{const f=new Date(o+c),m=Dt(0,t?.in);return m.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),m.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),m}return Dt(o+c+d,t?.in)}const Xg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},yfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xfe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function wfe(e){const t={},r=e.split(Xg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Xg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Xg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=Xg.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function _fe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function jfe(e,t){if(t===null)return new Date(NaN);const r=e.match(yfe);if(!r)return new Date(NaN);const n=!!r[4],a=uh(r[1]),i=uh(r[2])-1,o=uh(r[3]),c=uh(r[4]),d=uh(r[5])-1;if(n)return Ofe(t,c,d)?Nfe(t,c,d):new Date(NaN);{const f=new Date(0);return!kfe(t,i,o)||!Afe(t,a)?new Date(NaN):(f.setUTCFullYear(t,i,Math.max(a,o)),f)}}function uh(e){return e?parseInt(e):1}function Sfe(e){const t=e.match(xfe);if(!t)return NaN;const r=B_(t[1]),n=B_(t[2]),a=B_(t[3]);return Tfe(r,n,a)?r*$3+n*I3+a*1e3:NaN}function B_(e){return e&&parseFloat(e.replace(",","."))||0}function Cfe(e){if(e==="Z")return 0;const t=e.match(bfe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Rfe(n,a)?r*(n*$3+a*I3):NaN}function Nfe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const Efe=[31,null,31,30,31,30,31,31,30,31,30,31];function G3(e){return e%400===0||e%4===0&&e%100!==0}function kfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Efe[t]||(G3(e)?29:28))}function Afe(e,t){return t>=1&&t<=(G3(e)?366:365)}function Ofe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Tfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Rfe(e,t){return t>=0&&t<=59}function Pfe(e,t,r){const n=Dt(e,r?.in),a=n.getFullYear(),i=n.getDate(),o=Fr(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const c=dfe(o);return n.setMonth(t,Math.min(i,c)),n}function Dfe(e,t,r){const n=Dt(e,r?.in);return isNaN(+n)?Fr(e,NaN):(n.setFullYear(t),n)}function Qv(e,t,r){return LN(e,-t,r)}function Mfe(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var qn=e=>{const{present:t,children:r}=e,n=Ife(t),a=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=jt(n.ref,$fe(a));return typeof r=="function"||n.isPresent?x.cloneElement(a,{ref:i}):null};qn.displayName="Presence";function Ife(e){const[t,r]=x.useState(),n=x.useRef(null),a=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[c,d]=Mfe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=Qg(n.current);i.current=c==="mounted"?f:"none"},[c]),un(()=>{const f=n.current,m=a.current;if(m!==e){const y=i.current,g=Qg(f);e?d("MOUNT"):g==="none"||f?.display==="none"?d("UNMOUNT"):d(m&&y!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,d]),un(()=>{if(t){let f;const m=t.ownerDocument.defaultView??window,p=g=>{const w=Qg(n.current).includes(CSS.escape(g.animationName));if(g.target===t&&w&&(d("ANIMATION_END"),!a.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",f=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},y=g=>{g.target===t&&(i.current=Qg(n.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:x.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Qg(e){return e?.animationName||"none"}function $fe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var q_="rovingFocusGroup.onEntryFocus",Lfe={bubbles:!1,cancelable:!0},Mm="RovingFocusGroup",[T1,Y3,zfe]=SN(Mm),[Ffe,rf]=ua(Mm,[zfe]),[Ufe,Bfe]=Ffe(Mm),Z3=x.forwardRef((e,t)=>s.jsx(T1.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(T1.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(qfe,{...e,ref:t})})}));Z3.displayName=Mm;var qfe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:m=!1,...p}=e,y=x.useRef(null),g=jt(t,y),b=Zd(i),[w,_]=Ns({prop:o,defaultProp:c??null,onChange:d,caller:Mm}),[j,N]=x.useState(!1),E=An(f),k=Y3(r),A=x.useRef(!1),[R,T]=x.useState(0);return x.useEffect(()=>{const O=y.current;if(O)return O.addEventListener(q_,E),()=>O.removeEventListener(q_,E)},[E]),s.jsx(Ufe,{scope:r,orientation:n,dir:b,loop:a,currentTabStopId:w,onItemFocus:x.useCallback(O=>_(O),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>T(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>T(O=>O-1),[]),children:s.jsx(st.div,{tabIndex:j||R===0?-1:0,"data-orientation":n,...p,ref:g,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{A.current=!0}),onFocus:$e(e.onFocus,O=>{const P=!A.current;if(O.target===O.currentTarget&&P&&!j){const $=new CustomEvent(q_,Lfe);if(O.currentTarget.dispatchEvent($),!$.defaultPrevented){const M=k().filter(F=>F.focusable),L=M.find(F=>F.active),U=M.find(F=>F.id===w),Y=[L,U,...M].filter(Boolean).map(F=>F.ref.current);J3(Y,m)}}A.current=!1}),onBlur:$e(e.onBlur,()=>N(!1))})})}),X3="RovingFocusGroupItem",Q3=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=e,d=Xi(),f=i||d,m=Bfe(X3,r),p=m.currentTabStopId===f,y=Y3(r),{onFocusableItemAdd:g,onFocusableItemRemove:b,currentTabStopId:w}=m;return x.useEffect(()=>{if(n)return g(),()=>b()},[n,g,b]),s.jsx(T1.ItemSlot,{scope:r,id:f,focusable:n,active:a,children:s.jsx(st.span,{tabIndex:p?0:-1,"data-orientation":m.orientation,...c,ref:t,onMouseDown:$e(e.onMouseDown,_=>{n?m.onItemFocus(f):_.preventDefault()}),onFocus:$e(e.onFocus,()=>m.onItemFocus(f)),onKeyDown:$e(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=Wfe(_,m.orientation,m.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=y().filter(k=>k.focusable).map(k=>k.ref.current);if(j==="last")E.reverse();else if(j==="prev"||j==="next"){j==="prev"&&E.reverse();const k=E.indexOf(_.currentTarget);E=m.loop?Kfe(E,k+1):E.slice(k+1)}setTimeout(()=>J3(E))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:w!=null}):o})})});Q3.displayName=X3;var Vfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Hfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Wfe(e,t,r){const n=Hfe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Vfe[n]}function J3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Kfe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zN=Z3,FN=Q3;function Gfe(e){const t=Yfe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(Xfe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function Yfe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=Jfe(a),c=Qfe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Zfe=Symbol("radix.slottable");function Xfe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Zfe}function Qfe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function Jfe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var R1=["Enter"," "],ehe=["ArrowDown","PageUp","Home"],eB=["ArrowUp","PageDown","End"],the=[...ehe,...eB],rhe={ltr:[...R1,"ArrowRight"],rtl:[...R1,"ArrowLeft"]},nhe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Im="Menu",[Xh,ahe,ihe]=SN(Im),[iu,tB]=ua(Im,[ihe,Jd,rf]),Lx=Jd(),rB=rf(),[she,su]=iu(Im),[ohe,$m]=iu(Im),nB=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,c=Lx(t),[d,f]=x.useState(null),m=x.useRef(!1),p=An(i),y=Zd(a);return x.useEffect(()=>{const g=()=>{m.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>m.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),s.jsx(PN,{...c,children:s.jsx(she,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:f,children:s.jsx(ohe,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:y,modal:o,children:n})})})};nB.displayName=Im;var lhe="MenuAnchor",UN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lx(r);return s.jsx(Ox,{...a,...n,ref:t})});UN.displayName=lhe;var BN="MenuPortal",[che,aB]=iu(BN,{forceMount:void 0}),iB=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=su(BN,t);return s.jsx(che,{scope:t,forceMount:r,children:s.jsx(qn,{present:r||i.open,children:s.jsx(Pm,{asChild:!0,container:a,children:n})})})};iB.displayName=BN;var Ci="MenuContent",[uhe,qN]=iu(Ci),sB=x.forwardRef((e,t)=>{const r=aB(Ci,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=su(Ci,e.__scopeMenu),o=$m(Ci,e.__scopeMenu);return s.jsx(Xh.Provider,{scope:e.__scopeMenu,children:s.jsx(qn,{present:n||i.open,children:s.jsx(Xh.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(dhe,{...a,ref:t}):s.jsx(fhe,{...a,ref:t})})})})}),dhe=x.forwardRef((e,t)=>{const r=su(Ci,e.__scopeMenu),n=x.useRef(null),a=jt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return Rx(i)},[]),s.jsx(VN,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),fhe=x.forwardRef((e,t)=>{const r=su(Ci,e.__scopeMenu);return s.jsx(VN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),hhe=Gfe("MenuContent.ScrollLock"),VN=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:y,onDismiss:g,disableOutsideScroll:b,...w}=e,_=su(Ci,r),j=$m(Ci,r),N=Lx(r),E=rB(r),k=ahe(r),[A,R]=x.useState(null),T=x.useRef(null),O=jt(t,T,_.onContentChange),P=x.useRef(0),$=x.useRef(""),M=x.useRef(0),L=x.useRef(null),U=x.useRef("right"),X=x.useRef(0),Y=b?Dm:x.Fragment,F=b?{as:hhe,allowPinchZoom:!0}:void 0,H=q=>{const ue=$.current+q,B=k().filter(ee=>!ee.disabled),Q=document.activeElement,V=B.find(ee=>ee.ref.current===Q)?.textValue,ae=B.map(ee=>ee.textValue),Z=Che(ae,ue,V),ne=B.find(ee=>ee.textValue===Z)?.ref.current;(function ee(pe){$.current=pe,window.clearTimeout(P.current),pe!==""&&(P.current=window.setTimeout(()=>ee(""),1e3))})(ue),ne&&setTimeout(()=>ne.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),Sx();const I=x.useCallback(q=>U.current===L.current?.side&&Ehe(q,L.current?.area),[]);return s.jsx(uhe,{scope:r,searchRef:$,onItemEnter:x.useCallback(q=>{I(q)&&q.preventDefault()},[I]),onItemLeave:x.useCallback(q=>{I(q)||(T.current?.focus(),R(null))},[I]),onTriggerLeave:x.useCallback(q=>{I(q)&&q.preventDefault()},[I]),pointerGraceTimerRef:M,onPointerGraceIntentChange:x.useCallback(q=>{L.current=q},[]),children:s.jsx(Y,{...F,children:s.jsx(Tm,{asChild:!0,trapped:a,onMountAutoFocus:$e(i,q=>{q.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Om,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:y,onDismiss:g,children:s.jsx(zN,{asChild:!0,...E,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:$e(d,q=>{j.isUsingKeyboardRef.current||q.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(DN,{role:"menu","aria-orientation":"vertical","data-state":_B(_.open),"data-radix-menu-content":"",dir:j.dir,...N,...w,ref:O,style:{outline:"none",...w.style},onKeyDown:$e(w.onKeyDown,q=>{const B=q.target.closest("[data-radix-menu-content]")===q.currentTarget,Q=q.ctrlKey||q.altKey||q.metaKey,V=q.key.length===1;B&&(q.key==="Tab"&&q.preventDefault(),!Q&&V&&H(q.key));const ae=T.current;if(q.target!==ae||!the.includes(q.key))return;q.preventDefault();const ne=k().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);eB.includes(q.key)&&ne.reverse(),jhe(ne)}),onBlur:$e(e.onBlur,q=>{q.currentTarget.contains(q.target)||(window.clearTimeout(P.current),$.current="")}),onPointerMove:$e(e.onPointerMove,Qh(q=>{const ue=q.target,B=X.current!==q.clientX;if(q.currentTarget.contains(ue)&&B){const Q=q.clientX>X.current?"right":"left";U.current=Q,X.current=q.clientX}}))})})})})})})});sB.displayName=Ci;var mhe="MenuGroup",HN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"group",...n,ref:t})});HN.displayName=mhe;var phe="MenuLabel",oB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{...n,ref:t})});oB.displayName=phe;var Jv="MenuItem",RM="menu.itemSelect",zx=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=x.useRef(null),o=$m(Jv,e.__scopeMenu),c=qN(Jv,e.__scopeMenu),d=jt(t,i),f=x.useRef(!1),m=()=>{const p=i.current;if(!r&&p){const y=new CustomEvent(RM,{bubbles:!0,cancelable:!0});p.addEventListener(RM,g=>n?.(g),{once:!0}),xU(p,y),y.defaultPrevented?f.current=!1:o.onClose()}};return s.jsx(lB,{...a,ref:d,disabled:r,onClick:$e(e.onClick,m),onPointerDown:p=>{e.onPointerDown?.(p),f.current=!0},onPointerUp:$e(e.onPointerUp,p=>{f.current||p.currentTarget?.click()}),onKeyDown:$e(e.onKeyDown,p=>{const y=c.searchRef.current!=="";r||y&&p.key===" "||R1.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});zx.displayName=Jv;var lB=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=qN(Jv,r),c=rB(r),d=x.useRef(null),f=jt(t,d),[m,p]=x.useState(!1),[y,g]=x.useState("");return x.useEffect(()=>{const b=d.current;b&&g((b.textContent??"").trim())},[i.children]),s.jsx(Xh.ItemSlot,{scope:r,disabled:n,textValue:a??y,children:s.jsx(FN,{asChild:!0,...c,focusable:!n,children:s.jsx(st.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:f,onPointerMove:$e(e.onPointerMove,Qh(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,Qh(b=>o.onItemLeave(b))),onFocus:$e(e.onFocus,()=>p(!0)),onBlur:$e(e.onBlur,()=>p(!1))})})})}),ghe="MenuCheckboxItem",cB=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(mB,{scope:e.__scopeMenu,checked:r,children:s.jsx(zx,{role:"menuitemcheckbox","aria-checked":ey(r)?"mixed":r,...a,ref:t,"data-state":KN(r),onSelect:$e(a.onSelect,()=>n?.(ey(r)?!0:!r),{checkForDefaultPrevented:!1})})})});cB.displayName=ghe;var uB="MenuRadioGroup",[vhe,yhe]=iu(uB,{value:void 0,onValueChange:()=>{}}),dB=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=An(n);return s.jsx(vhe,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(HN,{...a,ref:t})})});dB.displayName=uB;var fB="MenuRadioItem",hB=x.forwardRef((e,t)=>{const{value:r,...n}=e,a=yhe(fB,e.__scopeMenu),i=r===a.value;return s.jsx(mB,{scope:e.__scopeMenu,checked:i,children:s.jsx(zx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":KN(i),onSelect:$e(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});hB.displayName=fB;var WN="MenuItemIndicator",[mB,xhe]=iu(WN,{checked:!1}),pB=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=xhe(WN,r);return s.jsx(qn,{present:n||ey(i.checked)||i.checked===!0,children:s.jsx(st.span,{...a,ref:t,"data-state":KN(i.checked)})})});pB.displayName=WN;var bhe="MenuSeparator",gB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(st.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gB.displayName=bhe;var whe="MenuArrow",vB=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=Lx(r);return s.jsx(MN,{...a,...n,ref:t})});vB.displayName=whe;var _he="MenuSub",[h2e,yB]=iu(_he),_h="MenuSubTrigger",xB=x.forwardRef((e,t)=>{const r=su(_h,e.__scopeMenu),n=$m(_h,e.__scopeMenu),a=yB(_h,e.__scopeMenu),i=qN(_h,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},m=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>m,[m]),x.useEffect(()=>{const p=c.current;return()=>{window.clearTimeout(p),d(null)}},[c,d]),s.jsx(UN,{asChild:!0,...f,children:s.jsx(lB,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":_B(r.open),...e,ref:Rs(t,a.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,Qh(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:$e(e.onPointerLeave,Qh(p=>{m();const y=r.content?.getBoundingClientRect();if(y){const g=r.content?.dataset.side,b=g==="right",w=b?-5:5,_=y[b?"left":"right"],j=y[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+w,y:p.clientY},{x:_,y:y.top},{x:j,y:y.top},{x:j,y:y.bottom},{x:_,y:y.bottom}],side:g}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,p=>{const y=i.searchRef.current!=="";e.disabled||y&&p.key===" "||rhe[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});xB.displayName=_h;var bB="MenuSubContent",wB=x.forwardRef((e,t)=>{const r=aB(Ci,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=su(Ci,e.__scopeMenu),o=$m(Ci,e.__scopeMenu),c=yB(bB,e.__scopeMenu),d=x.useRef(null),f=jt(t,d);return s.jsx(Xh.Provider,{scope:e.__scopeMenu,children:s.jsx(qn,{present:n||i.open,children:s.jsx(Xh.Slot,{scope:e.__scopeMenu,children:s.jsx(VN,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:$e(e.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:$e(e.onKeyDown,m=>{const p=m.currentTarget.contains(m.target),y=nhe[o.dir].includes(m.key);p&&y&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});wB.displayName=bB;function _B(e){return e?"open":"closed"}function ey(e){return e==="indeterminate"}function KN(e){return ey(e)?"indeterminate":e?"checked":"unchecked"}function jhe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function She(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function Che(e,t,r){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=She(e,Math.max(i,0));a.length===1&&(o=o.filter(f=>f!==r));const d=o.find(f=>f.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function Nhe(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const c=t[i],d=t[o],f=c.x,m=c.y,p=d.x,y=d.y;m>n!=y>n&&r<(p-f)*(n-m)/(y-m)+f&&(a=!a)}return a}function Ehe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return Nhe(r,t)}function Qh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var khe=nB,Ahe=UN,Ohe=iB,The=sB,Rhe=HN,Phe=oB,Dhe=zx,Mhe=cB,Ihe=dB,$he=hB,Lhe=pB,zhe=gB,Fhe=vB,Uhe=xB,Bhe=wB,Fx="DropdownMenu",[qhe]=ua(Fx,[tB]),da=tB(),[Vhe,jB]=qhe(Fx),SB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=e,d=da(t),f=x.useRef(null),[m,p]=Ns({prop:a,defaultProp:i??!1,onChange:o,caller:Fx});return s.jsx(Vhe,{scope:t,triggerId:Xi(),triggerRef:f,contentId:Xi(),open:m,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(y=>!y),[p]),modal:c,children:s.jsx(khe,{...d,open:m,onOpenChange:p,dir:n,modal:c,children:r})})};SB.displayName=Fx;var CB="DropdownMenuTrigger",NB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=jB(CB,r),o=da(r);return s.jsx(Ahe,{asChild:!0,...o,children:s.jsx(st.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Rs(t,i.triggerRef),onPointerDown:$e(e.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:$e(e.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});NB.displayName=CB;var Hhe="DropdownMenuPortal",EB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=da(t);return s.jsx(Ohe,{...n,...r})};EB.displayName=Hhe;var kB="DropdownMenuContent",AB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=jB(kB,r),i=da(r),o=x.useRef(!1);return s.jsx(The,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,c=>{const d=c.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,m=d.button===2||f;(!a.modal||m)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AB.displayName=kB;var Whe="DropdownMenuGroup",Khe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Rhe,{...a,...n,ref:t})});Khe.displayName=Whe;var Ghe="DropdownMenuLabel",OB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Phe,{...a,...n,ref:t})});OB.displayName=Ghe;var Yhe="DropdownMenuItem",TB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Dhe,{...a,...n,ref:t})});TB.displayName=Yhe;var Zhe="DropdownMenuCheckboxItem",RB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Mhe,{...a,...n,ref:t})});RB.displayName=Zhe;var Xhe="DropdownMenuRadioGroup",Qhe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Ihe,{...a,...n,ref:t})});Qhe.displayName=Xhe;var Jhe="DropdownMenuRadioItem",PB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx($he,{...a,...n,ref:t})});PB.displayName=Jhe;var eme="DropdownMenuItemIndicator",DB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Lhe,{...a,...n,ref:t})});DB.displayName=eme;var tme="DropdownMenuSeparator",MB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(zhe,{...a,...n,ref:t})});MB.displayName=tme;var rme="DropdownMenuArrow",nme=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Fhe,{...a,...n,ref:t})});nme.displayName=rme;var ame="DropdownMenuSubTrigger",IB=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Uhe,{...a,...n,ref:t})});IB.displayName=ame;var ime="DropdownMenuSubContent",$B=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=da(r);return s.jsx(Bhe,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$B.displayName=ime;var sme=SB,ome=NB,lme=EB,LB=AB,zB=OB,FB=TB,UB=RB,BB=PB,qB=DB,VB=MB,HB=IB,WB=$B;const ty=sme,ry=ome,cme=x.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(HB,{ref:a,className:Ie("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...n,children:[r,s.jsx(km,{className:"ml-auto h-4 w-4"})]}));cme.displayName=HB.displayName;const ume=x.forwardRef(({className:e,...t},r)=>s.jsx(WB,{ref:r,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));ume.displayName=WB.displayName;const Jh=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(lme,{children:s.jsx(LB,{ref:n,sideOffset:t,className:Ie("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Jh.displayName=LB.displayName;const Cc=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(FB,{ref:n,className:Ie("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...r}));Cc.displayName=FB.displayName;const KB=x.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(UB,{ref:a,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qB,{children:s.jsx(gN,{className:"h-4 w-4"})})}),t]}));KB.displayName=UB.displayName;const dme=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(BB,{ref:n,className:Ie("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(qB,{children:s.jsx(sU,{className:"h-2 w-2 fill-current"})})}),t]}));dme.displayName=BB.displayName;const GN=x.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(zB,{ref:n,className:Ie("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));GN.displayName=zB.displayName;const ny=x.forwardRef(({className:e,...t},r)=>s.jsx(VB,{ref:r,className:Ie("-mx-1 my-1 h-px bg-muted",e),...t}));ny.displayName=VB.displayName;var Ux="Checkbox",[fme]=ua(Ux),[hme,YN]=fme(Ux);function mme(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:f,value:m="on",internal_do_not_use_render:p}=e,[y,g]=Ns({prop:r,defaultProp:a??!1,onChange:d,caller:Ux}),[b,w]=x.useState(null),[_,j]=x.useState(null),N=x.useRef(!1),E=b?!!o||!!b.closest("form"):!0,k={checked:y,disabled:i,setChecked:g,control:b,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:f,defaultChecked:El(a)?!1:a,isFormControl:E,bubbleInput:_,setBubbleInput:j};return s.jsx(hme,{scope:t,...k,children:pme(p)?p(k):n})}var GB="CheckboxTrigger",YB=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:d,required:f,setControl:m,setChecked:p,hasConsumerStoppedPropagationRef:y,isFormControl:g,bubbleInput:b}=YN(GB,e),w=jt(a,m),_=x.useRef(d);return x.useEffect(()=>{const j=i?.form;if(j){const N=()=>p(_.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[i,p]),s.jsx(st.button,{type:"button",role:"checkbox","aria-checked":El(d)?"mixed":d,"aria-required":f,"data-state":e6(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:$e(t,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:$e(r,j=>{p(N=>El(N)?!0:!N),b&&g&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})})});YB.displayName=GB;var ZN=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:f,form:m,...p}=e;return s.jsx(mme,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:f,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:y})=>s.jsxs(s.Fragment,{children:[s.jsx(YB,{...p,ref:t,__scopeCheckbox:r}),y&&s.jsx(JB,{__scopeCheckbox:r})]})})});ZN.displayName=Ux;var ZB="CheckboxIndicator",XB=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=YN(ZB,r);return s.jsx(qn,{present:n||El(i.checked)||i.checked===!0,children:s.jsx(st.span,{"data-state":e6(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});XB.displayName=ZB;var QB="CheckboxBubbleInput",JB=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:f,value:m,form:p,bubbleInput:y,setBubbleInput:g}=YN(QB,e),b=jt(r,g),w=Tx(i),_=Ax(n);x.useEffect(()=>{const N=y;if(!N)return;const E=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(E,"checked").set,R=!a.current;if(w!==i&&A){const T=new Event("click",{bubbles:R});N.indeterminate=El(i),A.call(N,El(i)?!1:i),N.dispatchEvent(T)}},[y,w,i,a]);const j=x.useRef(El(i)?!1:i);return s.jsx(st.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:c,disabled:d,name:f,value:m,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});JB.displayName=QB;function pme(e){return typeof e=="function"}function El(e){return e==="indeterminate"}function e6(e){return El(e)?"indeterminate":e?"checked":"unchecked"}const No=x.forwardRef(({className:e,...t},r)=>s.jsx(ZN,{ref:r,className:Ie("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(XB,{className:Ie("flex items-center justify-center text-current"),children:s.jsx(gN,{className:"h-4 w-4"})})}));No.displayName=ZN.displayName;function gme({filter:e,onEdit:t,onRemove:r}){return s.jsxs(ze,{variant:"secondary",className:"px-3 py-1.5 gap-2 cursor-pointer hover:bg-secondary/80 transition-colors",onClick:()=>t(e),children:[s.jsxs("span",{className:"text-sm",children:[s.jsxs("span",{className:"font-medium",children:[e.fieldLabel,":"]})," ",e.displayLabel]}),s.jsx(se,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0 hover:bg-transparent",onClick:n=>{n.stopPropagation(),r(e.id)},children:s.jsx(Ps,{className:"h-3 w-3"})})]})}function vme(e){const t=yme(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(bme);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function yme(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=_me(a),c=wme(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xme=Symbol("radix.slottable");function bme(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xme}function wme(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function _me(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Bx="Dialog",[t6,r6]=ua(Bx),[jme,is]=t6(Bx),n6=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,c=x.useRef(null),d=x.useRef(null),[f,m]=Ns({prop:n,defaultProp:a??!1,onChange:i,caller:Bx});return s.jsx(jme,{scope:t,triggerRef:c,contentRef:d,contentId:Xi(),titleId:Xi(),descriptionId:Xi(),open:f,onOpenChange:m,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),modal:o,children:r})};n6.displayName=Bx;var a6="DialogTrigger",i6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=is(a6,r),i=jt(t,a.triggerRef);return s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JN(a.open),...n,ref:i,onClick:$e(e.onClick,a.onOpenToggle)})});i6.displayName=a6;var XN="DialogPortal",[Sme,s6]=t6(XN,{forceMount:void 0}),o6=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=is(XN,t);return s.jsx(Sme,{scope:t,forceMount:r,children:x.Children.map(n,o=>s.jsx(qn,{present:r||i.open,children:s.jsx(Pm,{asChild:!0,container:a,children:o})}))})};o6.displayName=XN;var ay="DialogOverlay",l6=x.forwardRef((e,t)=>{const r=s6(ay,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=is(ay,e.__scopeDialog);return i.modal?s.jsx(qn,{present:n||i.open,children:s.jsx(Nme,{...a,ref:t})}):null});l6.displayName=ay;var Cme=vme("DialogOverlay.RemoveScroll"),Nme=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=is(ay,r);return s.jsx(Dm,{as:Cme,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(st.div,{"data-state":JN(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Vc="DialogContent",c6=x.forwardRef((e,t)=>{const r=s6(Vc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=is(Vc,e.__scopeDialog);return s.jsx(qn,{present:n||i.open,children:i.modal?s.jsx(Eme,{...a,ref:t}):s.jsx(kme,{...a,ref:t})})});c6.displayName=Vc;var Eme=x.forwardRef((e,t)=>{const r=is(Vc,e.__scopeDialog),n=x.useRef(null),a=jt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return Rx(i)},[]),s.jsx(u6,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault())})}),kme=x.forwardRef((e,t)=>{const r=is(Vc,e.__scopeDialog),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(u6,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),u6=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,c=is(Vc,r),d=x.useRef(null),f=jt(t,d);return Sx(),s.jsxs(s.Fragment,{children:[s.jsx(Tm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Om,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":JN(c.open),...o,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Ome,{titleId:c.titleId}),s.jsx(Rme,{contentRef:d,descriptionId:c.descriptionId})]})]})}),QN="DialogTitle",d6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=is(QN,r);return s.jsx(st.h2,{id:a.titleId,...n,ref:t})});d6.displayName=QN;var f6="DialogDescription",h6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=is(f6,r);return s.jsx(st.p,{id:a.descriptionId,...n,ref:t})});h6.displayName=f6;var m6="DialogClose",p6=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=is(m6,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});p6.displayName=m6;function JN(e){return e?"open":"closed"}var g6="DialogTitleWarning",[Ame,v6]=Coe(g6,{contentName:Vc,titleName:QN,docsSlug:"dialog"}),Ome=({titleId:e})=>{const t=v6(g6),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Tme="DialogDescriptionWarning",Rme=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${v6(Tme).contentName}}.`;return x.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},y6=n6,Pme=i6,x6=o6,eE=l6,tE=c6,rE=d6,nE=h6,aE=p6;const ka=y6,Dme=x6,b6=x.forwardRef(({className:e,...t},r)=>s.jsx(eE,{ref:r,className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));b6.displayName=eE.displayName;const sa=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Dme,{children:[s.jsx(b6,{}),s.jsxs(tE,{ref:n,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(aE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[s.jsx(Ps,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sa.displayName=tE.displayName;const oa=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});oa.displayName="DialogHeader";const Aa=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Aa.displayName="DialogFooter";const la=x.forwardRef(({className:e,...t},r)=>s.jsx(rE,{ref:r,className:Ie("text-lg font-semibold leading-none tracking-tight",e),...t}));la.displayName=rE.displayName;const ki=x.forwardRef(({className:e,...t},r)=>s.jsx(nE,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));ki.displayName=nE.displayName;function Mme({open:e,onOpenChange:t,fields:r,onFieldSelect:n}){const[a,i]=x.useState(""),o=r.filter(d=>d.label.toLowerCase().includes(a.toLowerCase())),c=d=>{n(d),t(!1),i("")};return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"sm:max-w-[425px]",children:[s.jsx(oa,{children:s.jsx(la,{children:"Select Field to Filter"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Qe,{placeholder:"Search fields...",value:a,onChange:d=>i(d.target.value),className:"pl-9"})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto space-y-1",children:o.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No fields found"}):o.map(d=>s.jsx(se,{variant:"ghost",className:"w-full justify-start text-left h-auto py-3 px-3",onClick:()=>c(d),children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d.label}),s.jsxs("div",{className:"text-xs text-muted-foreground capitalize",children:[d.type," field"]})]})},d.key))})]})]})})}function Ime({open:e,onOpenChange:t,field:r,existingFilter:n,onApply:a}){const[i,o]=x.useState(n?.mode||"include"),[c,d]=x.useState(""),[f,m]=x.useState(n?.values||[]);x.useEffect(()=>{n&&(o(n.mode||"include"),m(n.values))},[n]);const p=r.options||[],y=p.filter(N=>N.label.toLowerCase().includes(c.toLowerCase())),g=N=>{if(N.includes(",")){const E=N.split(",").map(A=>A.trim().replace(/["']/g,"")).filter(Boolean),k=p.filter(A=>E.some(R=>R.toLowerCase()===A.label.toLowerCase())).map(A=>A.value);m(A=>[...new Set([...A,...k])]),d("")}else d(N)},b=N=>{m(E=>E.includes(N)?E.filter(k=>k!==N):[...E,N])},w=()=>{m(p.map(N=>N.value))},_=()=>{m([])},j=()=>{if(f.length===0)return;const N=i==="include"?"in":"not_in",E=f.map(R=>p.find(T=>T.value===R)?.label||R).slice(0,3).join(", "),k=f.length>3?`${E} +${f.length-3} more`:E,A={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:N,values:f,mode:i,displayLabel:`${i==="exclude"?"Not ":""}${k}`};a(A),t(!1)};return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"sm:max-w-[500px]",children:[s.jsx(oa,{children:s.jsx(la,{children:r.label})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_e,{children:"Filter Mode"}),s.jsxs(Ct,{value:i,onValueChange:N=>o(N),children:[s.jsx(wt,{children:s.jsx(Nt,{})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"include",children:"Include"}),s.jsx(Me,{value:"exclude",children:"Exclude"})]})]})]}),s.jsxs("div",{children:[s.jsx(_e,{children:"Search or paste values (comma-separated)"}),s.jsxs("div",{className:"relative mt-1.5",children:[s.jsx(Hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Qe,{placeholder:"Search or paste: active, pending, inactive",value:c,onChange:N=>g(N.target.value),className:"pl-9 pr-9"}),c&&s.jsx(se,{variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6 p-0",onClick:()=>d(""),children:s.jsx(Ps,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(_e,{children:f.length>0?`${f.length} of ${p.length} selected`:`${p.length} available`}),s.jsxs("div",{className:"space-x-2",children:[s.jsx(se,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:w,children:"Select all"}),f.length>0&&s.jsx(se,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:_,children:"Clear all"})]})]}),s.jsx("div",{className:"border rounded-md max-h-[300px] overflow-y-auto",children:y.length===0?s.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:"No options found"}):s.jsx("div",{className:"p-2 space-y-1",children:y.map(N=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 rounded hover:bg-accent cursor-pointer",onClick:()=>b(N.value),children:[s.jsx(No,{id:`filter-${r.key}-${N.value}`,checked:f.includes(N.value),onCheckedChange:()=>b(N.value)}),s.jsxs("label",{htmlFor:`filter-${r.key}-${N.value}`,className:"flex-1 text-sm cursor-pointer",children:[N.label,N.count!==void 0&&s.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",N.count,")"]})]})]},N.value))})})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{onClick:j,disabled:f.length===0,children:"Apply Filter"})]})]})})}const dh=e=>e?Fe(e,"yyyy-MM-dd"):"",V_=e=>{if(!e)return;const t=new Date(e+"T00:00:00");return isNaN(t.getTime())?void 0:t};function $me({open:e,onOpenChange:t,field:r,existingFilter:n,onApply:a}){const[i,o]=x.useState(n?.operator||"between"),[c,d]=x.useState("custom"),[f,m]=x.useState(void 0),[p,y]=x.useState(void 0),[g,b]=x.useState(void 0);x.useEffect(()=>{if(n&&n.operator==="between"){const E=n.values;m(E.start),y(E.end)}else if(n&&["before","after","equal"].includes(n.operator)){const E=n.values;b(E.start)}},[n]);const w=E=>{const k=new Date;switch(k.setHours(0,0,0,0),E){case"today":return{start:k,end:k};case"yesterday":{const A=Un(k,1);return{start:A,end:A}}case"last7days":return{start:Un(k,7),end:k};case"thisWeek":return{start:Rl(k),end:Xv(k)};case"lastWeek":{const A=Rl(Un(k,7)),R=Xv(Un(k,7));return{start:A,end:R}}case"thisMonth":return{start:_s(k),end:Co(k)};case"lastMonth":{const A=Un(_s(k),1);return{start:_s(A),end:Co(A)}}case"thisQuarter":return{start:_v(k),end:O1(k)};case"lastQuarter":{const A=Un(_v(k),1);return{start:_v(A),end:O1(A)}}case"thisYear":return{start:Ph(k),end:A1(k)};case"lastYear":{const A=Un(Ph(k),1);return{start:Ph(A),end:A1(A)}}default:return null}},_=E=>{if(d(E),E!=="custom"){const k=w(E);k&&(m(k.start),y(k.end))}},j=()=>{let E=null;if(i==="between"){if(!f||!p)return;const k=c!=="custom"?c.replace(/([A-Z])/g," $1").trim():`${Fe(f,"MMM d, yyyy")} - ${Fe(p,"MMM d, yyyy")}`;E={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:"between",values:{start:f,end:p},displayLabel:k}}else if(["before","after","equal"].includes(i)){if(!g)return;const k=i==="before"?"Before":i==="after"?"After":"On";E={id:n?.id||crypto.randomUUID(),field:r.key,fieldLabel:r.label,operator:i,values:{start:g,end:g},displayLabel:`${k} ${Fe(g,"MMM d, yyyy")}`}}E&&(a(E),t(!1))},N=()=>i==="between"?f&&p:g!==void 0;return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"sm:max-w-[425px]",children:[s.jsx(oa,{children:s.jsx(la,{children:r.label})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Condition"}),s.jsxs(Ct,{value:i,onValueChange:E=>{o(E),E!=="between"&&d("custom")},children:[s.jsx(wt,{children:s.jsx(Nt,{})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"between",children:"Between (date range)"}),s.jsx(Me,{value:"before",children:"Before"}),s.jsx(Me,{value:"after",children:"After"}),s.jsx(Me,{value:"equal",children:"Equal to"})]})]})]}),i==="between"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Quick Presets"}),s.jsxs(Ct,{value:c,onValueChange:E=>_(E),children:[s.jsx(wt,{children:s.jsx(Nt,{})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"today",children:"Today"}),s.jsx(Me,{value:"yesterday",children:"Yesterday"}),s.jsx(Me,{value:"last7days",children:"Last 7 days"}),s.jsx(Me,{value:"thisWeek",children:"This week"}),s.jsx(Me,{value:"lastWeek",children:"Last week"}),s.jsx(Me,{value:"thisMonth",children:"This month"}),s.jsx(Me,{value:"lastMonth",children:"Last month"}),s.jsx(Me,{value:"thisQuarter",children:"This quarter"}),s.jsx(Me,{value:"lastQuarter",children:"Last quarter"}),s.jsx(Me,{value:"thisYear",children:"This year"}),s.jsx(Me,{value:"lastYear",children:"Last year"}),s.jsx(Me,{value:"custom",children:"Custom range"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Start Date"}),s.jsx(Qe,{type:"date",value:dh(f),onChange:E=>{m(V_(E.target.value)),d("custom")},max:dh(p)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"End Date"}),s.jsx(Qe,{type:"date",value:dh(p),onChange:E=>{y(V_(E.target.value)),d("custom")},min:dh(f)})]})]}),f&&p&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",Fe(f,"MMM d, yyyy")," - ",Fe(p,"MMM d, yyyy")]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Select Date"}),s.jsx(Qe,{type:"date",value:dh(g),onChange:E=>b(V_(E.target.value))})]}),g&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",Fe(g,"MMM d, yyyy")]})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{onClick:j,disabled:!N(),children:"Apply Filter"})]})]})})}function Lme({fields:e,filters:t,onFiltersChange:r}){const[n,a]=x.useState(!1),[i,o]=x.useState(null),[c,d]=x.useState(!1),[f,m]=x.useState(void 0),p=j=>{o(j),m(void 0),d(!0)},y=j=>{if(f){const N=t.map(E=>E.id===f.id?j:E);r(N)}else r([...t,j]);m(void 0),o(null)},g=j=>{const N=e.find(E=>E.key===j.field);N&&(o(N),m(j),d(!0))},b=j=>{r(t.filter(N=>N.id!==j))},w=()=>{r([])},_=()=>{d(!1),o(null),m(void 0)};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>a(!0),className:"gap-2",children:[s.jsx(vN,{className:"h-4 w-4"}),"Add Filter"]}),t.map(j=>s.jsx(gme,{filter:j,onEdit:g,onRemove:b},j.id)),t.length>0&&s.jsxs(s.Fragment,{children:[s.jsxs(ze,{variant:"outline",className:"px-2 py-1",children:[t.length," ",t.length===1?"filter":"filters"," active"]}),s.jsxs(se,{variant:"ghost",size:"sm",onClick:w,className:"gap-1 h-7 text-xs",children:[s.jsx(Ps,{className:"h-3 w-3"}),"Clear All"]})]})]}),s.jsx(Mme,{open:n,onOpenChange:a,fields:e,onFieldSelect:p}),i&&s.jsxs(s.Fragment,{children:[(i.type==="categorical"||i.type==="text")&&s.jsx(Ime,{open:c,onOpenChange:_,field:i,existingFilter:f,onApply:y}),i.type==="date"&&s.jsx($me,{open:c,onOpenChange:_,field:i,existingFilter:f,onApply:y})]})]})}function zme(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,Fme(a,...t)]}function Fme(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ume=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],w6=Ume.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),iE="Progress",sE=100,[Bme]=zme(iE),[qme,Vme]=Bme(iE),_6=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:a,getValueLabel:i=Hme,...o}=e;(a||a===0)&&!PM(a)&&console.error(Wme(`${a}`,"Progress"));const c=PM(a)?a:sE;n!==null&&!DM(n,c)&&console.error(Kme(`${n}`,"Progress"));const d=DM(n,c)?n:null,f=iy(d)?i(d,c):void 0;return s.jsx(qme,{scope:r,value:d,max:c,children:s.jsx(w6.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":iy(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":C6(d,c),"data-value":d??void 0,"data-max":c,...o,ref:t})})});_6.displayName=iE;var j6="ProgressIndicator",S6=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,a=Vme(j6,r);return s.jsx(w6.div,{"data-state":C6(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...n,ref:t})});S6.displayName=j6;function Hme(e,t){return`${Math.round(e/t*100)}%`}function C6(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function iy(e){return typeof e=="number"}function PM(e){return iy(e)&&!isNaN(e)&&e>0}function DM(e,t){return iy(e)&&!isNaN(e)&&e<=t&&e>=0}function Wme(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sE}\`.`}function Kme(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var N6=_6,Gme=S6;const oE=x.forwardRef(({className:e,value:t,...r},n)=>s.jsx(N6,{ref:n,className:Ie("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:s.jsx(Gme,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));oE.displayName=N6.displayName;function Yme(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var lE="ScrollArea",[E6]=ua(lE),[Zme,Pi]=E6(lE),k6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[c,d]=x.useState(null),[f,m]=x.useState(null),[p,y]=x.useState(null),[g,b]=x.useState(null),[w,_]=x.useState(null),[j,N]=x.useState(0),[E,k]=x.useState(0),[A,R]=x.useState(!1),[T,O]=x.useState(!1),P=jt(t,M=>d(M)),$=Zd(a);return s.jsx(Zme,{scope:r,type:n,dir:$,scrollHideDelay:i,scrollArea:c,viewport:f,onViewportChange:m,content:p,onContentChange:y,scrollbarX:g,onScrollbarXChange:b,scrollbarXEnabled:A,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:_,scrollbarYEnabled:T,onScrollbarYEnabledChange:O,onCornerWidthChange:N,onCornerHeightChange:k,children:s.jsx(st.div,{dir:$,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":E+"px",...e.style}})})});k6.displayName=lE;var A6="ScrollAreaViewport",O6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=Pi(A6,r),c=x.useRef(null),d=jt(t,c,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(st.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});O6.displayName=A6;var Ms="ScrollAreaScrollbar",cE=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Pi(Ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,c=e.orientation==="horizontal";return x.useEffect(()=>(c?i(!0):o(!0),()=>{c?i(!1):o(!1)}),[c,i,o]),a.type==="hover"?s.jsx(Xme,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(Qme,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(T6,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(uE,{...n,ref:t}):null});cE.displayName=Ms;var Xme=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Pi(Ms,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const c=a.scrollArea;let d=0;if(c){const f=()=>{window.clearTimeout(d),o(!0)},m=()=>{d=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",f),c.addEventListener("pointerleave",m),()=>{window.clearTimeout(d),c.removeEventListener("pointerenter",f),c.removeEventListener("pointerleave",m)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(qn,{present:r||i,children:s.jsx(T6,{"data-state":i?"visible":"hidden",...n,ref:t})})}),Qme=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=Pi(Ms,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Vx(()=>d("SCROLL_END"),100),[c,d]=Yme("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const f=window.setTimeout(()=>d("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(f)}},[c,a.scrollHideDelay,d]),x.useEffect(()=>{const f=a.viewport,m=i?"scrollLeft":"scrollTop";if(f){let p=f[m];const y=()=>{const g=f[m];p!==g&&(d("SCROLL"),o()),p=g};return f.addEventListener("scroll",y),()=>f.removeEventListener("scroll",y)}},[a.viewport,i,d,o]),s.jsx(qn,{present:r||c!=="hidden",children:s.jsx(uE,{"data-state":c==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),T6=x.forwardRef((e,t)=>{const r=Pi(Ms,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=x.useState(!1),c=e.orientation==="horizontal",d=Vx(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,m=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?f:m)}},10);return Ad(r.viewport,d),Ad(r.content,d),s.jsx(qn,{present:n||i,children:s.jsx(uE,{"data-state":i?"visible":"hidden",...a,ref:t})})}),uE=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=Pi(Ms,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[c,d]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=I6(c.viewport,c.content),m={...n,sizes:c,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:y=>i.current=y,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:y=>o.current=y};function p(y,g){return ape(y,o.current,c,g)}return r==="horizontal"?s.jsx(Jme,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollLeft,g=MM(y,c,a.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollLeft=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollLeft=p(y,a.dir))}}):r==="vertical"?s.jsx(epe,{...m,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const y=a.viewport.scrollTop,g=MM(y,c);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:y=>{a.viewport&&(a.viewport.scrollTop=y)},onDragScroll:y=>{a.viewport&&(a.viewport.scrollTop=p(y))}}):null}),Jme=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Pi(Ms,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),f=jt(t,d,i.onScrollbarXChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(P6,{"data-orientation":"horizontal",...a,ref:f,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qx(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.x),onDragScroll:m=>e.onDragScroll(m.x),onWheelScroll:(m,p)=>{if(i.viewport){const y=i.viewport.scrollLeft+m.deltaX;e.onWheelScroll(y),L6(y,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:oy(o.paddingLeft),paddingEnd:oy(o.paddingRight)}})}})}),epe=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=Pi(Ms,e.__scopeScrollArea),[o,c]=x.useState(),d=x.useRef(null),f=jt(t,d,i.onScrollbarYChange);return x.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),s.jsx(P6,{"data-orientation":"vertical",...a,ref:f,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qx(r)+"px",...e.style},onThumbPointerDown:m=>e.onThumbPointerDown(m.y),onDragScroll:m=>e.onDragScroll(m.y),onWheelScroll:(m,p)=>{if(i.viewport){const y=i.viewport.scrollTop+m.deltaY;e.onWheelScroll(y),L6(y,p)&&m.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:oy(o.paddingTop),paddingEnd:oy(o.paddingBottom)}})}})}),[tpe,R6]=E6(Ms),P6=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:m,onResize:p,...y}=e,g=Pi(Ms,r),[b,w]=x.useState(null),_=jt(t,P=>w(P)),j=x.useRef(null),N=x.useRef(""),E=g.viewport,k=n.content-n.viewport,A=An(m),R=An(d),T=Vx(p,10);function O(P){if(j.current){const $=P.clientX-j.current.left,M=P.clientY-j.current.top;f({x:$,y:M})}}return x.useEffect(()=>{const P=$=>{const M=$.target;b?.contains(M)&&A($,k)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[E,b,k,A]),x.useEffect(R,[n,R]),Ad(b,T),Ad(g.content,T),s.jsx(tpe,{scope:r,scrollbar:b,hasThumb:a,onThumbChange:An(i),onThumbPointerUp:An(o),onThumbPositionChange:R,onThumbPointerDown:An(c),children:s.jsx(st.div,{...y,ref:_,style:{position:"absolute",...y.style},onPointerDown:$e(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),j.current=b.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(P))}),onPointerMove:$e(e.onPointerMove,O),onPointerUp:$e(e.onPointerUp,P=>{const $=P.target;$.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=N.current,g.viewport&&(g.viewport.style.scrollBehavior=""),j.current=null})})})}),sy="ScrollAreaThumb",D6=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=R6(sy,e.__scopeScrollArea);return s.jsx(qn,{present:r||a.hasThumb,children:s.jsx(rpe,{ref:t,...n})})}),rpe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=Pi(sy,r),o=R6(sy,r),{onThumbPositionChange:c}=o,d=jt(t,p=>o.onThumbChange(p)),f=x.useRef(void 0),m=Vx(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const p=i.viewport;if(p){const y=()=>{if(m(),!f.current){const g=ipe(p,c);f.current=g,c()}};return c(),p.addEventListener("scroll",y),()=>p.removeEventListener("scroll",y)}},[i.viewport,m,c]),s.jsx(st.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e(e.onPointerDownCapture,p=>{const g=p.target.getBoundingClientRect(),b=p.clientX-g.left,w=p.clientY-g.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:$e(e.onPointerUp,o.onThumbPointerUp)})});D6.displayName=sy;var dE="ScrollAreaCorner",M6=x.forwardRef((e,t)=>{const r=Pi(dE,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(npe,{...e,ref:t}):null});M6.displayName=dE;var npe=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=Pi(dE,r),[i,o]=x.useState(0),[c,d]=x.useState(0),f=!!(i&&c);return Ad(a.scrollbarX,()=>{const m=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(m),d(m)}),Ad(a.scrollbarY,()=>{const m=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(m),o(m)}),f?s.jsx(st.div,{...n,ref:t,style:{width:i,height:c,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function oy(e){return e?parseInt(e,10):0}function I6(e,t){const r=e/t;return isNaN(r)?0:r}function qx(e){const t=I6(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ape(e,t,r,n="ltr"){const a=qx(r),i=a/2,o=t||i,c=a-o,d=r.scrollbar.paddingStart+o,f=r.scrollbar.size-r.scrollbar.paddingEnd-c,m=r.content-r.viewport,p=n==="ltr"?[0,m]:[m*-1,0];return $6([d,f],p)(e)}function MM(e,t,r="ltr"){const n=qx(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,c=i-n,d=r==="ltr"?[0,o]:[o*-1,0],f=y1(e,d);return $6([0,o],[0,c])(f)}function $6(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function L6(e,t){return e>0&&e<t}var ipe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,c=r.top!==i.top;(o||c)&&t(),r=i,n=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(n)};function Vx(e,t){const r=An(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Ad(e,t){const r=An(t);un(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var z6=k6,spe=O6,ope=M6;const em=x.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(z6,{ref:n,className:Ie("relative overflow-hidden",e),...r,children:[s.jsx(spe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(F6,{}),s.jsx(ope,{})]}));em.displayName=z6.displayName;const F6=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(cE,{ref:n,orientation:t,className:Ie("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(D6,{className:"relative flex-1 rounded-full bg-border"})}));F6.displayName=cE.displayName;const lpe=1,cpe=1e6;let H_=0;function upe(){return H_=(H_+1)%Number.MAX_SAFE_INTEGER,H_.toString()}const W_=new Map,IM=e=>{if(W_.has(e))return;const t=setTimeout(()=>{W_.delete(e),Dh({type:"REMOVE_TOAST",toastId:e})},cpe);W_.set(e,t)},dpe=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,lpe)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?IM(r):e.toasts.forEach(n=>{IM(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jv=[];let Sv={toasts:[]};function Dh(e){Sv=dpe(Sv,e),jv.forEach(t=>{t(Sv)})}function fpe({...e}){const t=upe(),r=a=>Dh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Dh({type:"DISMISS_TOAST",toastId:t});return Dh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function Ul(){const[e,t]=x.useState(Sv);return x.useEffect(()=>(jv.push(t),()=>{const r=jv.indexOf(t);r>-1&&jv.splice(r,1)}),[e]),{...e,toast:fpe,dismiss:r=>Dh({type:"DISMISS_TOAST",toastId:r})}}var Cv={exports:{}};var hpe=Cv.exports,$M;function mpe(){return $M||($M=1,(function(e,t){((r,n)=>{e.exports=n()})(hpe,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,c={},d=0,f={};function m(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(P){var $=A(P);$.chunkSize=parseInt($.chunkSize),P.step||P.chunk||($.chunkSize=null),this._handle=new w($),(this._handle.streamer=this)._config=$}).call(this,O),this.parseChunk=function(P,$){var M=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<M){let U=this._config.newline;U||(L=this._config.quoteChar||'"',U=this._handle.guessLineEndings(P,L)),P=[...P.split(U).slice(M)].join(U)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(L=this._config.beforeFirstChunk(P))!==void 0&&(P=L),this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+P,L=(this._partialLine="",this._handle.parse(M,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(P=L.meta.cursor,M=(this._finished||(this._partialLine=M.substring(P-this._baseIndex),this._baseIndex=P),L&&L.data&&(this._rowCount+=L.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:L,workerId:f.WORKER_ID,finished:M});else if(T(this._config.chunk)&&!$){if(this._config.chunk(L,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=L=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(L.data),this._completeResults.errors=this._completeResults.errors.concat(L.errors),this._completeResults.meta=L.meta),this._completed||!M||!T(this._config.complete)||L&&L.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),M||L&&L.meta.paused||this._nextChunk(),L}this._halted=!0},this._sendError=function(P){T(this._config.error)?this._config.error(P):o&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:P,finished:!1})}}function p(O){var P;(O=O||{}).chunkSize||(O.chunkSize=f.RemoteChunkSize),m.call(this,O),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function($){this._input=$,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(P=new XMLHttpRequest,this._config.withCredentials&&(P.withCredentials=this._config.withCredentials),i||(P.onload=R(this._chunkLoaded,this),P.onerror=R(this._chunkError,this)),P.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var $,M=this._config.downloadRequestHeaders;for($ in M)P.setRequestHeader($,M[$])}var L;this._config.chunkSize&&(L=this._start+this._config.chunkSize-1,P.setRequestHeader("Range","bytes="+this._start+"-"+L));try{P.send(this._config.downloadRequestBody)}catch(U){this._chunkError(U.message)}i&&P.status===0&&this._chunkError()}},this._chunkLoaded=function(){P.readyState===4&&(P.status<200||400<=P.status?this._chunkError():(this._start+=this._config.chunkSize||P.responseText.length,this._finished=!this._config.chunkSize||this._start>=($=>($=$.getResponseHeader("Content-Range"))!==null?parseInt($.substring($.lastIndexOf("/")+1)):-1)(P),this.parseChunk(P.responseText)))},this._chunkError=function($){$=P.statusText||$,this._sendError(new Error($))}}function y(O){(O=O||{}).chunkSize||(O.chunkSize=f.LocalChunkSize),m.call(this,O);var P,$,M=typeof FileReader<"u";this.stream=function(L){this._input=L,$=L.slice||L.webkitSlice||L.mozSlice,M?((P=new FileReader).onload=R(this._chunkLoaded,this),P.onerror=R(this._chunkError,this)):P=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var L=this._input,U=(this._config.chunkSize&&(U=Math.min(this._start+this._config.chunkSize,this._input.size),L=$.call(L,this._start,U)),P.readAsText(L,this._config.encoding));M||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(L){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(L.target.result)},this._chunkError=function(){this._sendError(P.error)}}function g(O){var P;m.call(this,O=O||{}),this.stream=function($){return P=$,this._nextChunk()},this._nextChunk=function(){var $,M;if(!this._finished)return $=this._config.chunkSize,P=$?(M=P.substring(0,$),P.substring($)):(M=P,""),this._finished=!P,this.parseChunk(M)}}function b(O){m.call(this,O=O||{});var P=[],$=!0,M=!1;this.pause=function(){m.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){m.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(L){this._input=L,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){M&&P.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),P.length?this.parseChunk(P.shift()):$=!0},this._streamData=R(function(L){try{P.push(typeof L=="string"?L:L.toString(this._config.encoding)),$&&($=!1,this._checkIsFinished(),this.parseChunk(P.shift()))}catch(U){this._streamError(U)}},this),this._streamError=R(function(L){this._streamCleanUp(),this._sendError(L)},this),this._streamEnd=R(function(){this._streamCleanUp(),M=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function w(O){var P,$,M,L,U=Math.pow(2,53),X=-U,Y=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,F=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,H=this,I=0,q=0,ue=!1,B=!1,Q=[],V={data:[],errors:[],meta:{}};function ae(pe){return O.skipEmptyLines==="greedy"?pe.join("").trim()==="":pe.length===1&&pe[0].length===0}function Z(){if(V&&M&&(ee("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),M=!1),O.skipEmptyLines&&(V.data=V.data.filter(function(le){return!ae(le)})),ne()){let le=function(Be,Le){T(O.transformHeader)&&(Be=O.transformHeader(Be,Le)),Q.push(Be)};var ye=le;if(V)if(Array.isArray(V.data[0])){for(var pe=0;ne()&&pe<V.data.length;pe++)V.data[pe].forEach(le);V.data.splice(0,1)}else V.data.forEach(le)}function G(le,Be){for(var Le=O.header?{}:[],et=0;et<le.length;et++){var qe=et,Tt=le[et],Tt=((Et,St)=>(W=>(O.dynamicTypingFunction&&O.dynamicTyping[W]===void 0&&(O.dynamicTyping[W]=O.dynamicTypingFunction(W)),(O.dynamicTyping[W]||O.dynamicTyping)===!0))(Et)?St==="true"||St==="TRUE"||St!=="false"&&St!=="FALSE"&&((W=>{if(Y.test(W)&&(W=parseFloat(W),X<W&&W<U))return 1})(St)?parseFloat(St):F.test(St)?new Date(St):St===""?null:St):St)(qe=O.header?et>=Q.length?"__parsed_extra":Q[et]:qe,Tt=O.transform?O.transform(Tt,qe):Tt);qe==="__parsed_extra"?(Le[qe]=Le[qe]||[],Le[qe].push(Tt)):Le[qe]=Tt}return O.header&&(et>Q.length?ee("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+et,q+Be):et<Q.length&&ee("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+et,q+Be)),Le}var ge;V&&(O.header||O.dynamicTyping||O.transform)&&(ge=1,!V.data.length||Array.isArray(V.data[0])?(V.data=V.data.map(G),ge=V.data.length):V.data=G(V.data,0),O.header&&V.meta&&(V.meta.fields=Q),q+=ge)}function ne(){return O.header&&Q.length===0}function ee(pe,G,ge,ye){pe={type:pe,code:G,message:ge},ye!==void 0&&(pe.row=ye),V.errors.push(pe)}T(O.step)&&(L=O.step,O.step=function(pe){V=pe,ne()?Z():(Z(),V.data.length!==0&&(I+=pe.data.length,O.preview&&I>O.preview?$.abort():(V.data=V.data[0],L(V,H))))}),this.parse=function(pe,G,ge){var ye=O.quoteChar||'"',ye=(O.newline||(O.newline=this.guessLineEndings(pe,ye)),M=!1,O.delimiter?T(O.delimiter)&&(O.delimiter=O.delimiter(pe),V.meta.delimiter=O.delimiter):((ye=((le,Be,Le,et,qe)=>{var Tt,Et,St,W;qe=qe||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var ie=0;ie<qe.length;ie++){for(var de,Re=qe[ie],be=0,Ee=0,Pe=0,lt=(St=void 0,new j({comments:et,delimiter:Re,newline:Be,preview:10}).parse(le)),yt=0;yt<lt.data.length;yt++)Le&&ae(lt.data[yt])?Pe++:(de=lt.data[yt].length,Ee+=de,St===void 0?St=de:0<de&&(be+=Math.abs(de-St),St=de));0<lt.data.length&&(Ee/=lt.data.length-Pe),(Et===void 0||be<=Et)&&(W===void 0||W<Ee)&&1.99<Ee&&(Et=be,Tt=Re,W=Ee)}return{successful:!!(O.delimiter=Tt),bestDelimiter:Tt}})(pe,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess)).successful?O.delimiter=ye.bestDelimiter:(M=!0,O.delimiter=f.DefaultDelimiter),V.meta.delimiter=O.delimiter),A(O));return O.preview&&O.header&&ye.preview++,P=pe,$=new j(ye),V=$.parse(P,G,ge),Z(),ue?{meta:{paused:!0}}:V||{meta:{paused:!1}}},this.paused=function(){return ue},this.pause=function(){ue=!0,$.abort(),P=T(O.chunk)?"":P.substring($.getCharIndex())},this.resume=function(){H.streamer._halted?(ue=!1,H.streamer.parseChunk(P,!0)):setTimeout(H.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,$.abort(),V.meta.aborted=!0,T(O.complete)&&O.complete(V),P=""},this.guessLineEndings=function(le,ye){le=le.substring(0,1048576);var ye=new RegExp(_(ye)+"([^]*?)"+_(ye),"gm"),ge=(le=le.replace(ye,"")).split("\r"),ye=le.split(`
`),le=1<ye.length&&ye[0].length<ge[0].length;if(ge.length===1||le)return`
`;for(var Be=0,Le=0;Le<ge.length;Le++)ge[Le][0]===`
`&&Be++;return Be>=ge.length/2?`\r
`:"\r"}}function _(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function j(O){var P=(O=O||{}).delimiter,$=O.newline,M=O.comments,L=O.step,U=O.preview,X=O.fastMode,Y=null,F=!1,H=O.quoteChar==null?'"':O.quoteChar,I=H;if(O.escapeChar!==void 0&&(I=O.escapeChar),(typeof P!="string"||-1<f.BAD_DELIMITERS.indexOf(P))&&(P=","),M===P)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<f.BAD_DELIMITERS.indexOf(M))&&(M=!1),$!==`
`&&$!=="\r"&&$!==`\r
`&&($=`
`);var q=0,ue=!1;this.parse=function(B,Q,V){if(typeof B!="string")throw new Error("Input must be a string");var ae=B.length,Z=P.length,ne=$.length,ee=M.length,pe=T(L),G=[],ge=[],ye=[],le=q=0;if(!B)return be();if(X||X!==!1&&B.indexOf(H)===-1){for(var Be=B.split($),Le=0;Le<Be.length;Le++){if(ye=Be[Le],q+=ye.length,Le!==Be.length-1)q+=$.length;else if(V)return be();if(!M||ye.substring(0,ee)!==M){if(pe){if(G=[],W(ye.split(P)),Ee(),ue)return be()}else W(ye.split(P));if(U&&U<=Le)return G=G.slice(0,U),be(!0)}}return be()}for(var et=B.indexOf(P,q),qe=B.indexOf($,q),Tt=new RegExp(_(I)+_(H),"g"),Et=B.indexOf(H,q);;)if(B[q]===H)for(Et=q,q++;;){if((Et=B.indexOf(H,Et+1))===-1)return V||ge.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:G.length,index:q}),de();if(Et===ae-1)return de(B.substring(q,Et).replace(Tt,H));if(H===I&&B[Et+1]===I)Et++;else if(H===I||Et===0||B[Et-1]!==I){et!==-1&&et<Et+1&&(et=B.indexOf(P,Et+1));var St=ie((qe=qe!==-1&&qe<Et+1?B.indexOf($,Et+1):qe)===-1?et:Math.min(et,qe));if(B.substr(Et+1+St,Z)===P){ye.push(B.substring(q,Et).replace(Tt,H)),B[q=Et+1+St+Z]!==H&&(Et=B.indexOf(H,q)),et=B.indexOf(P,q),qe=B.indexOf($,q);break}if(St=ie(qe),B.substring(Et+1+St,Et+1+St+ne)===$){if(ye.push(B.substring(q,Et).replace(Tt,H)),Re(Et+1+St+ne),et=B.indexOf(P,q),Et=B.indexOf(H,q),pe&&(Ee(),ue))return be();if(U&&G.length>=U)return be(!0);break}ge.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:G.length,index:q}),Et++}}else if(M&&ye.length===0&&B.substring(q,q+ee)===M){if(qe===-1)return be();q=qe+ne,qe=B.indexOf($,q),et=B.indexOf(P,q)}else if(et!==-1&&(et<qe||qe===-1))ye.push(B.substring(q,et)),q=et+Z,et=B.indexOf(P,q);else{if(qe===-1)break;if(ye.push(B.substring(q,qe)),Re(qe+ne),pe&&(Ee(),ue))return be();if(U&&G.length>=U)return be(!0)}return de();function W(Pe){G.push(Pe),le=q}function ie(Pe){var lt=0;return lt=Pe!==-1&&(Pe=B.substring(Et+1,Pe))&&Pe.trim()===""?Pe.length:lt}function de(Pe){return V||(Pe===void 0&&(Pe=B.substring(q)),ye.push(Pe),q=ae,W(ye),pe&&Ee()),be()}function Re(Pe){q=Pe,W(ye),ye=[],qe=B.indexOf($,q)}function be(Pe){if(O.header&&!Q&&G.length&&!F){var lt=G[0],yt=Object.create(null),vr=new Set(lt);let dn=!1;for(let Rr=0;Rr<lt.length;Rr++){let Nr=lt[Rr];if(yt[Nr=T(O.transformHeader)?O.transformHeader(Nr,Rr):Nr]){let fn,yr=yt[Nr];for(;fn=Nr+"_"+yr,yr++,vr.has(fn););vr.add(fn),lt[Rr]=fn,yt[Nr]++,dn=!0,(Y=Y===null?{}:Y)[fn]=Nr}else yt[Nr]=1,lt[Rr]=Nr;vr.add(Nr)}dn&&console.warn("Duplicate headers found and renamed."),F=!0}return{data:G,errors:ge,meta:{delimiter:P,linebreak:$,aborted:ue,truncated:!!Pe,cursor:le+(Q||0),renamedHeaders:Y}}}function Ee(){L(be()),G=[],ge=[]}},this.abort=function(){ue=!0},this.getCharIndex=function(){return q}}function N(O){var P=O.data,$=c[P.workerId],M=!1;if(P.error)$.userError(P.error,P.file);else if(P.results&&P.results.data){var L={abort:function(){M=!0,E(P.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(T($.userStep)){for(var U=0;U<P.results.data.length&&($.userStep({data:P.results.data[U],errors:P.results.errors,meta:P.results.meta},L),!M);U++);delete P.results}else T($.userChunk)&&($.userChunk(P.results,L,P.file),delete P.results)}P.finished&&!M&&E(P.workerId,P.results)}function E(O,P){var $=c[O];T($.userComplete)&&$.userComplete(P),$.terminate(),delete c[O]}function k(){throw new Error("Not implemented.")}function A(O){if(typeof O!="object"||O===null)return O;var P,$=Array.isArray(O)?[]:{};for(P in O)$[P]=A(O[P]);return $}function R(O,P){return function(){O.apply(P,arguments)}}function T(O){return typeof O=="function"}return f.parse=function(O,P){var $=(P=P||{}).dynamicTyping||!1;if(T($)&&(P.dynamicTypingFunction=$,$={}),P.dynamicTyping=$,P.transform=!!T(P.transform)&&P.transform,!P.worker||!f.WORKERS_SUPPORTED)return $=null,f.NODE_STREAM_INPUT,typeof O=="string"?(O=(M=>M.charCodeAt(0)!==65279?M:M.slice(1))(O),$=new(P.download?p:g)(P)):O.readable===!0&&T(O.read)&&T(O.on)?$=new b(P):(n.File&&O instanceof File||O instanceof Object)&&($=new y(P)),$.stream(O);($=(()=>{var M;return!!f.WORKERS_SUPPORTED&&(M=(()=>{var L=n.URL||n.webkitURL||null,U=r.toString();return f.BLOB_URL||(f.BLOB_URL=L.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",U,")();"],{type:"text/javascript"})))})(),(M=new n.Worker(M)).onmessage=N,M.id=d++,c[M.id]=M)})()).userStep=P.step,$.userChunk=P.chunk,$.userComplete=P.complete,$.userError=P.error,P.step=T(P.step),P.chunk=T(P.chunk),P.complete=T(P.complete),P.error=T(P.error),delete P.worker,$.postMessage({input:O,config:P,workerId:$.id})},f.unparse=function(O,P){var $=!1,M=!0,L=",",U=`\r
`,X='"',Y=X+X,F=!1,H=null,I=!1,q=((()=>{if(typeof P=="object"){if(typeof P.delimiter!="string"||f.BAD_DELIMITERS.filter(function(Q){return P.delimiter.indexOf(Q)!==-1}).length||(L=P.delimiter),typeof P.quotes!="boolean"&&typeof P.quotes!="function"&&!Array.isArray(P.quotes)||($=P.quotes),typeof P.skipEmptyLines!="boolean"&&typeof P.skipEmptyLines!="string"||(F=P.skipEmptyLines),typeof P.newline=="string"&&(U=P.newline),typeof P.quoteChar=="string"&&(X=P.quoteChar),typeof P.header=="boolean"&&(M=P.header),Array.isArray(P.columns)){if(P.columns.length===0)throw new Error("Option columns is empty");H=P.columns}P.escapeChar!==void 0&&(Y=P.escapeChar+X),P.escapeFormulae instanceof RegExp?I=P.escapeFormulae:typeof P.escapeFormulae=="boolean"&&P.escapeFormulae&&(I=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(X),"g"));if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return ue(null,O,F);if(typeof O[0]=="object")return ue(H||Object.keys(O[0]),O,F)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||H),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),ue(O.fields||[],O.data||[],F);throw new Error("Unable to serialize unrecognized input");function ue(Q,V,ae){var Z="",ne=(typeof Q=="string"&&(Q=JSON.parse(Q)),typeof V=="string"&&(V=JSON.parse(V)),Array.isArray(Q)&&0<Q.length),ee=!Array.isArray(V[0]);if(ne&&M){for(var pe=0;pe<Q.length;pe++)0<pe&&(Z+=L),Z+=B(Q[pe],pe);0<V.length&&(Z+=U)}for(var G=0;G<V.length;G++){var ge=(ne?Q:V[G]).length,ye=!1,le=ne?Object.keys(V[G]).length===0:V[G].length===0;if(ae&&!ne&&(ye=ae==="greedy"?V[G].join("").trim()==="":V[G].length===1&&V[G][0].length===0),ae==="greedy"&&ne){for(var Be=[],Le=0;Le<ge;Le++){var et=ee?Q[Le]:Le;Be.push(V[G][et])}ye=Be.join("").trim()===""}if(!ye){for(var qe=0;qe<ge;qe++){0<qe&&!le&&(Z+=L);var Tt=ne&&ee?Q[qe]:qe;Z+=B(V[G][Tt],qe)}G<V.length-1&&(!ae||0<ge&&!le)&&(Z+=U)}}return Z}function B(Q,V){var ae,Z;return Q==null?"":Q.constructor===Date?JSON.stringify(Q).slice(1,25):(Z=!1,I&&typeof Q=="string"&&I.test(Q)&&(Q="'"+Q,Z=!0),ae=Q.toString().replace(q,Y),(Z=Z||$===!0||typeof $=="function"&&$(Q,V)||Array.isArray($)&&$[V]||((ne,ee)=>{for(var pe=0;pe<ee.length;pe++)if(-1<ne.indexOf(ee[pe]))return!0;return!1})(ae,f.BAD_DELIMITERS)||-1<ae.indexOf(L)||ae.charAt(0)===" "||ae.charAt(ae.length-1)===" ")?X+ae+X:ae)}},f.RECORD_SEP="",f.UNIT_SEP="",f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!i&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=j,f.ParserHandle=w,f.NetworkStreamer=p,f.FileStreamer=y,f.StringStreamer=g,f.ReadableStreamStreamer=b,n.jQuery&&((a=n.jQuery).fn.parse=function(O){var P=O.config||{},$=[];return this.each(function(U){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var X=0;X<this.files.length;X++)$.push({file:this.files[X],inputElem:this,instanceConfig:a.extend({},P)})}),M(),this;function M(){if($.length===0)T(O.complete)&&O.complete();else{var U,X,Y,F,H=$[0];if(T(O.before)){var I=O.before(H.file,H.inputElem);if(typeof I=="object"){if(I.action==="abort")return U="AbortError",X=H.file,Y=H.inputElem,F=I.reason,void(T(O.error)&&O.error({name:U},X,Y,F));if(I.action==="skip")return void L();typeof I.config=="object"&&(H.instanceConfig=a.extend(H.instanceConfig,I.config))}else if(I==="skip")return void L()}var q=H.instanceConfig.complete;H.instanceConfig.complete=function(ue){T(q)&&q(ue,H.file,H.inputElem),L()},f.parse(H.file,H.instanceConfig)}}function L(){$.splice(0,1),M()}}),o&&(n.onmessage=function(O){O=O.data,f.WORKER_ID===void 0&&O&&(f.WORKER_ID=O.workerId),typeof O.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(O.input,O.config),finished:!0}):(n.File&&O.input instanceof File||O.input instanceof Object)&&(O=f.parse(O.input,O.config))&&n.postMessage({workerId:f.WORKER_ID,results:O,finished:!0})}),(p.prototype=Object.create(m.prototype)).constructor=p,(y.prototype=Object.create(m.prototype)).constructor=y,(g.prototype=Object.create(g.prototype)).constructor=g,(b.prototype=Object.create(m.prototype)).constructor=b,f})})(Cv)),Cv.exports}var ppe=mpe();const P1=ti(ppe),K_=["hr_id","full_name","engagement_model","email_personal","country_residence","locale_primary","hire_date","status"],LM=["core","upwork","external","internal"],zM=["pending","active","inactive","terminated"];function gpe({open:e,onOpenChange:t}){const{user:r}=Sr(),{toast:n}=Ul(),a=jr(),[i,o]=x.useState(null),[c,d]=x.useState([]),[f,m]=x.useState([]),[p,y]=x.useState(!1),[g,b]=x.useState(0),[w,_]=x.useState(null),[j,N]=x.useState(!1),[E,k]=x.useState(!1),A=()=>{const Y=Date.now(),F=`HR-${Y}-001`,H=`HR-${Y}-002`,I=`worker1.${Y}@example.com`,q=`worker2.${Y}@example.com`,B=[[...K_,"locale_all","email_pph","worker_role","rtw_datetime","termination_date","bgc_expiration_date"].join(","),`${F},John Doe,core,${I},US,en,2025-01-15,pending,,john.doe@pph.com,Annotator,,,`,`${H},Jane Smith,upwork,${q},CA,en,2024-06-01,active,"en,es,fr",,Senior Annotator,2024-06-15T09:00:00Z,,2025-06-15`,`HR-${Y}-003,Bob Wilson,core,worker3.${Y}@example.com,US,en,2023-01-10,terminated,en,,Annotator,2023-01-20T09:00:00Z,2024-12-01,`].join(`
`),Q=new Blob([B],{type:"text/csv"}),V=URL.createObjectURL(Q),ae=document.createElement("a");ae.href=V,ae.download="workers_bulk_upload_template.csv",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(V),n({title:"Template Downloaded",description:"CSV template downloaded successfully"})},R=Y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y),T=Y=>{if(!/^\d{4}-\d{2}-\d{2}$/.test(Y))return!1;const H=new Date(Y);return!isNaN(H.getTime())},O=Y=>{const F=new Date(Y);return!isNaN(F.getTime())},P=async Y=>{y(!0);const F=[],H=[];if(Y.length===0){F.push({row:0,field:"file",message:"CSV file is empty"}),m(F),y(!1);return}const I=Object.keys(Y[0]),q=K_.filter(V=>!I.includes(V));if(q.length>0){F.push({row:0,field:"headers",message:`Missing required columns: ${q.join(", ")}`}),m(F),y(!1);return}const{data:ue}=await je.from("workers").select("hr_id, email_personal, email_pph"),B=new Set(ue?.map(V=>V.hr_id)||[]),Q=new Set(ue?.flatMap(V=>[V.email_personal,V.email_pph].filter(Boolean))||[]);Y.forEach((V,ae)=>{const Z=ae+2;K_.forEach(Be=>{(!V[Be]||V[Be].toString().trim()==="")&&F.push({row:Z,field:Be,message:`${Be} is required`,value:V[Be]})}),V.email_personal&&!R(V.email_personal)&&F.push({row:Z,field:"email_personal",message:"Invalid email format",value:V.email_personal}),V.email_pph&&V.email_pph.trim()!==""&&!R(V.email_pph)&&F.push({row:Z,field:"email_pph",message:"Invalid email format",value:V.email_pph}),B.has(V.hr_id)&&F.push({row:Z,field:"hr_id",message:`HR ID already exists: ${V.hr_id}`,value:V.hr_id}),Q.has(V.email_personal)&&F.push({row:Z,field:"email_personal",message:"Email already exists",value:V.email_personal}),V.engagement_model&&!LM.includes(V.engagement_model)&&F.push({row:Z,field:"engagement_model",message:`Invalid engagement model. Must be one of: ${LM.join(", ")}`,value:V.engagement_model}),V.status&&!zM.includes(V.status)&&F.push({row:Z,field:"status",message:`Invalid status. Must be one of: ${zM.join(", ")}`,value:V.status}),V.hire_date&&!T(V.hire_date)&&F.push({row:Z,field:"hire_date",message:"Invalid date format. Use YYYY-MM-DD",value:V.hire_date}),V.country_residence&&V.country_residence.length!==2&&F.push({row:Z,field:"country_residence",message:"Country must be 2-letter ISO code (e.g., US, CA, MX)",value:V.country_residence});const ne=V.rtw_datetime?.trim();ne&&!O(ne)&&F.push({row:Z,field:"rtw_datetime",message:"Invalid datetime format. Use ISO format (e.g., 2024-06-15T09:00:00Z)",value:ne});const ee=V.termination_date?.trim();ee&&!T(ee)&&F.push({row:Z,field:"termination_date",message:"Invalid date format. Use YYYY-MM-DD",value:ee});const pe=V.bgc_expiration_date?.trim();pe&&!T(pe)&&F.push({row:Z,field:"bgc_expiration_date",message:"Invalid date format. Use YYYY-MM-DD",value:pe});const G=V.locale_all?.trim(),ge=G?G.split(",").map(Be=>Be.trim()).filter(Be=>Be.length>0):[],ye=V.status?.trim();ye==="pending"?(ne&&F.push({row:Z,field:"rtw_datetime",message:"Pending workers must not have rtw_datetime set",value:ne}),ee&&F.push({row:Z,field:"termination_date",message:"Pending workers must not have termination_date set",value:ee})):ye==="active"||ye==="inactive"?(ne||F.push({row:Z,field:"rtw_datetime",message:`${ye} workers must have rtw_datetime set`}),ee&&F.push({row:Z,field:"termination_date",message:`${ye} workers must not have termination_date set`,value:ee})):ye==="terminated"&&(ne||F.push({row:Z,field:"rtw_datetime",message:"Terminated workers must have rtw_datetime set"}),ee||F.push({row:Z,field:"termination_date",message:"Terminated workers must have termination_date set"})),F.filter(Be=>Be.row===Z).length===0&&H.push({hr_id:V.hr_id,full_name:V.full_name,engagement_model:V.engagement_model,email_personal:V.email_personal,email_pph:V.email_pph||null,country_residence:V.country_residence,locale_primary:V.locale_primary,locale_all:ge.length>0?ge:void 0,hire_date:V.hire_date,status:V.status,worker_role:V.worker_role||null,rtw_datetime:ne||void 0,termination_date:ee||void 0,bgc_expiration_date:pe||void 0})}),m(F),d(H),y(!1)},$=Y=>{const F=Y.target.files?.[0];if(F){if(!F.name.endsWith(".csv")){n({title:"Invalid File",description:"Please upload a CSV file",variant:"destructive"});return}o(F),m([]),d([]),_(null),P1.parse(F,{header:!0,skipEmptyLines:!0,comments:"#",complete:H=>{const I=H.data.filter(q=>{const ue=Object.values(q)[0];return ue&&!String(ue).trim().startsWith("#")});P(I)},error:H=>{n({title:"Parse Error",description:`Failed to parse CSV: ${H.message}`,variant:"destructive"})}})}},M=pr({mutationFn:async({workers:Y,withRtwFix:F})=>{if(!r)throw new Error("User not authenticated");const H={successful:0,failed:0,errors:[],hasConstraintError:!1},I=10;for(let q=0;q<Y.length;q+=I){const ue=Y.slice(q,q+I),B=ue.map(V=>{let ae=null;V.rtw_datetime?ae=new Date(V.rtw_datetime).toISOString():F&&(V.status==="active"||V.status==="inactive")&&(ae=new Date().toISOString());const Z=V.locale_all&&V.locale_all.length>0?V.locale_all:[V.locale_primary];return{hr_id:V.hr_id,full_name:V.full_name,engagement_model:V.engagement_model,email_personal:V.email_personal,email_pph:V.email_pph||null,country_residence:V.country_residence,locale_primary:V.locale_primary,locale_all:Z,hire_date:V.hire_date,status:V.status,worker_role:V.worker_role||null,created_at:new Date().toISOString(),created_by:r.id,updated_at:new Date().toISOString(),updated_by:r.id,rtw_datetime:ae,termination_date:V.termination_date||null,bgc_expiration_date:V.bgc_expiration_date||null}}),{error:Q}=await je.from("workers").insert(B);Q?(H.failed+=ue.length,ue.forEach((V,ae)=>{H.errors.push({row:q+ae+2,error:Q.message})}),Q.message.includes("workers_status_requirements_check")&&(H.hasConstraintError=!0)):H.successful+=ue.length,b(Math.round((q+ue.length)/Y.length*100))}return H},onSuccess:Y=>{_(Y),Y.hasConstraintError&&!E&&N(!0),a.invalidateQueries({queryKey:["workers"]}),Y.failed===0?n({title:"Import Successful",description:`Successfully imported ${Y.successful} worker(s)`}):Y.hasConstraintError&&!E?n({title:"Import Failed - Status Constraint",description:"Workers with active/inactive status require Ready To Work datetime.",variant:"destructive"}):n({title:"Partial Success",description:`Imported ${Y.successful} workers. ${Y.failed} failed.`,variant:"default"})},onError:Y=>{n({title:"Import Failed",description:Y.message,variant:"destructive"})}}),L=()=>{k(!0),N(!1),_(null),b(0),M.mutate({workers:c,withRtwFix:!0})},U=()=>{if(f.length===0)return;const Y=[["Row","Field","Error","Value"].join(","),...f.map(q=>[q.row,q.field,`"${q.message}"`,q.value?`"${q.value}"`:""].join(","))].join(`
`),F=new Blob([Y],{type:"text/csv"}),H=URL.createObjectURL(F),I=document.createElement("a");I.href=H,I.download="bulk_upload_errors.csv",document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(H),n({title:"Error Report Downloaded",description:"Download the error report to fix issues"})},X=()=>{o(null),d([]),m([]),b(0),_(null),N(!1),k(!1),t(!1)};return s.jsx(ka,{open:e,onOpenChange:X,children:s.jsxs(sa,{className:"max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[s.jsxs(oa,{className:"flex-shrink-0",children:[s.jsx(la,{children:"Bulk Upload Workers"}),s.jsx(ki,{children:"Upload a CSV file to add multiple workers at once. Maximum 500 rows per upload."})]}),s.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden",children:[!i&&!w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[s.jsx(Nl,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Step 1: Download Template"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Download the CSV template with proper column headers and example data"}),s.jsxs(se,{onClick:A,variant:"outline",children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Download CSV Template"]})]}),s.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center",children:[s.jsx(Fc,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Step 2: Upload CSV"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Select your completed CSV file to upload"}),s.jsx("input",{type:"file",accept:".csv",onChange:$,className:"hidden",id:"csv-upload"}),s.jsx("label",{htmlFor:"csv-upload",children:s.jsx(se,{variant:"default",asChild:!0,children:s.jsxs("span",{children:[s.jsx(Fc,{className:"mr-2 h-4 w-4"}),"Select CSV File"]})})})]})]}),p&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Si,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-muted-foreground"}),s.jsx("p",{className:"text-muted-foreground",children:"Validating CSV data..."})]}),!p&&i&&!w&&s.jsxs("div",{className:"flex flex-col h-full min-h-0 overflow-hidden",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-shrink-0 mb-4",children:[s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(c1,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"font-semibold text-sm",children:"Valid Rows"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.length})]}),s.jsxs("div",{className:"border rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ia,{className:"h-4 w-4 text-destructive"}),s.jsx("span",{className:"font-semibold text-sm",children:"Errors"})]}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:f.length})]})]}),f.length>0&&s.jsxs("div",{className:"flex-shrink-0 space-y-4",children:[s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(mt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-semibold",children:["Found ",f.length," validation error(s). Please fix these issues before importing."]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:U,className:"mt-2",children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Error Details"}),s.jsx(em,{className:"h-[150px] border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{className:"w-[80px]",children:"Row"}),s.jsx(Te,{className:"w-[150px]",children:"Field"}),s.jsx(Te,{children:"Error"}),s.jsx(Te,{children:"Value"})]})}),s.jsx(Yr,{children:f.slice(0,50).map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:Y.row}),s.jsx(Oe,{children:Y.field}),s.jsx(Oe,{className:"text-sm",children:Y.message}),s.jsx(Oe,{className:"text-sm text-muted-foreground",children:Y.value||""})]},F))})]})}),f.length>50&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Showing first 50 errors. Download full report for complete list."})]})]}),c.length>0&&s.jsxs("div",{className:"flex flex-col min-h-0 flex-1 overflow-hidden",children:[s.jsxs("h3",{className:"font-semibold mb-2 flex-shrink-0",children:["Preview Valid Rows (",c.length,")"]}),s.jsx("div",{className:"border rounded-lg overflow-auto flex-1 min-h-0 max-h-[300px]",children:s.jsxs(Kr,{children:[s.jsx(Gr,{className:"sticky top-0 bg-background z-10",children:s.jsxs(vt,{children:[s.jsx(Te,{className:"whitespace-nowrap",children:"HR ID"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Name"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Engagement"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Personal Email"}),s.jsx(Te,{className:"whitespace-nowrap",children:"PPH Email"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Country"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Primary Locale"}),s.jsx(Te,{className:"whitespace-nowrap",children:"All Locales"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Hire Date"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Status"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Role"}),s.jsx(Te,{className:"whitespace-nowrap",children:"RTW Datetime"}),s.jsx(Te,{className:"whitespace-nowrap",children:"Termination Date"}),s.jsx(Te,{className:"whitespace-nowrap",children:"BGC Expiration"})]})}),s.jsx(Yr,{children:c.slice(0,20).map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium whitespace-nowrap",children:Y.hr_id}),s.jsx(Oe,{className:"whitespace-nowrap",children:Y.full_name}),s.jsx(Oe,{className:"whitespace-nowrap",children:s.jsx(ze,{variant:"outline",children:Y.engagement_model})}),s.jsx(Oe,{className:"text-sm whitespace-nowrap",children:Y.email_personal}),s.jsx(Oe,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.email_pph||""}),s.jsx(Oe,{className:"whitespace-nowrap",children:Y.country_residence}),s.jsx(Oe,{className:"whitespace-nowrap",children:Y.locale_primary}),s.jsx(Oe,{className:"whitespace-nowrap",children:Y.locale_all?.join(", ")||Y.locale_primary}),s.jsx(Oe,{className:"whitespace-nowrap",children:Y.hire_date}),s.jsx(Oe,{children:s.jsx(ze,{variant:"secondary",children:Y.status})}),s.jsx(Oe,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.worker_role||""}),s.jsx(Oe,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.rtw_datetime||""}),s.jsx(Oe,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.termination_date||""}),s.jsx(Oe,{className:"text-sm text-muted-foreground whitespace-nowrap",children:Y.bgc_expiration_date||""})]},F))})]})}),c.length>20&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2 flex-shrink-0",children:["Showing first 20 rows. ",c.length-20," more will be imported."]})]})]}),M.isPending&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx(Si,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"font-semibold mb-2",children:"Importing workers..."}),s.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:[g,"% complete"]})]}),s.jsx(oE,{value:g,className:"w-full"})]}),w&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ht,{variant:(w.failed>0,"default"),children:[s.jsx(u1,{className:"h-4 w-4"}),s.jsx(mt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"font-semibold",children:"Import Complete"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Successful"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.successful})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-destructive",children:w.failed})]})]})]})})]}),w.errors.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Failed Rows"}),s.jsx(em,{className:"h-[150px] border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Row"}),s.jsx(Te,{children:"Error"})]})}),s.jsx(Yr,{children:w.errors.map((Y,F)=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:Y.row}),s.jsx(Oe,{className:"text-sm",children:Y.error})]},F))})]})})]}),j&&s.jsxs(ht,{children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(mt,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("p",{className:"font-semibold",children:"Status Constraint Violation Detected"}),s.jsxs("p",{className:"text-sm",children:["Workers with ",s.jsx(ze,{variant:"secondary",children:"active"})," or"," ",s.jsx(ze,{variant:"secondary",children:"inactive"}),' status require a "Ready To Work" datetime to be set. This is enforced by the database to ensure data integrity.']}),s.jsxs("p",{className:"text-sm",children:["Would you like to automatically set the Ready To Work datetime to ",s.jsx("strong",{children:"now"})," for all active/inactive workers and retry the import?"]}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx(se,{size:"sm",onClick:L,children:"Yes, Set RTW & Retry Import"}),s.jsx(se,{size:"sm",variant:"outline",onClick:()=>N(!1),children:"No, I'll Fix the CSV"})]})]})})]})]})]}),s.jsxs(Aa,{className:"flex-shrink-0",children:[!w&&s.jsxs(s.Fragment,{children:[s.jsx(se,{variant:"outline",onClick:X,children:"Cancel"}),c.length>0&&f.length===0&&s.jsxs(se,{onClick:()=>M.mutate({workers:c,withRtwFix:!1}),disabled:M.isPending,children:[M.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Import ",c.length," Worker",c.length!==1?"s":""]}),f.length>0&&s.jsx(se,{variant:"outline",onClick:()=>o(null),children:"Upload Different File"})]}),w&&s.jsx(se,{onClick:X,children:"Done"})]})]})})}const FM=[{value:"pending",label:"Pending",variant:"secondary"},{value:"active",label:"Active",variant:"default"},{value:"inactive",label:"Inactive",variant:"outline"},{value:"terminated",label:"Terminated",variant:"destructive"}];function vpe({open:e,onOpenChange:t,workers:r,onSuccess:n}){const{user:a}=Sr(),{toast:i}=Ul(),o=jr(),[c,d]=x.useState(""),f=pr({mutationFn:async g=>{if(!a)throw new Error("User not authenticated");const b=r.map(_=>_.id),w={status:g,updated_at:new Date().toISOString(),updated_by:a.id};if(g==="pending"){w.rtw_datetime=null,w.termination_date=null;const{error:_}=await je.from("workers").update(w).in("id",b);if(_)throw _}else if(g==="active"||g==="inactive"){const{error:_}=await je.from("workers").update({...w,termination_date:null}).in("id",b).not("rtw_datetime","is",null);if(_)throw _;const{error:j}=await je.from("workers").update({...w,rtw_datetime:new Date().toISOString(),termination_date:null}).in("id",b).is("rtw_datetime",null);if(j)throw j}else if(g==="terminated"){const{error:_}=await je.from("workers").update({...w,termination_date:new Date().toISOString().split("T")[0]}).in("id",b).not("rtw_datetime","is",null);if(_)throw _;const{error:j}=await je.from("workers").update({...w,rtw_datetime:new Date().toISOString(),termination_date:new Date().toISOString().split("T")[0]}).in("id",b).is("rtw_datetime",null);if(j)throw j}return{count:b.length}},onSuccess:g=>{o.invalidateQueries({queryKey:["workers"]}),i({title:"Success",description:`Updated status for ${g.count} worker(s)`}),n?.(),p()},onError:g=>{i({title:"Error",description:`Failed to update status: ${g.message}`,variant:"destructive"})}}),m=()=>{c&&f.mutate(c)},p=()=>{d(""),t(!1)},y=r.reduce((g,b)=>(g[b.status]=(g[b.status]||0)+1,g),{});return s.jsx(ka,{open:e,onOpenChange:p,children:s.jsxs(sa,{className:"max-w-lg",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Bulk Status Update"}),s.jsxs(ki,{children:["Update the status for ",r.length," selected worker",r.length!==1?"s":""]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Current Status Distribution"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y).map(([g,b])=>{const w=FM.find(_=>_.value===g);return s.jsxs(ze,{variant:w?.variant||"secondary",children:[b," ",w?.label||g]},g)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"new-status",children:"New Status"}),s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{id:"new-status",children:s.jsx(Nt,{placeholder:"Select new status"})}),s.jsx(_t,{children:FM.map(g=>s.jsx(Me,{value:g.value,children:g.label},g.value))})]})]}),c==="terminated"&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{children:['Setting status to "Terminated" will mark ',r.length," worker",r.length!==1?"s":""," as terminated and record today as the termination date."]})]}),(c==="active"||c==="inactive")&&s.jsxs(ht,{children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{children:['Setting status to "',c,`" will set the Right to Work date to today for workers who don't have one, and clear any termination date.`]})]}),c==="pending"&&s.jsxs(ht,{children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(mt,{children:'Setting status to "Pending" will clear the Right to Work date and termination date for these workers.'})]}),r.length<=5&&s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Selected Workers"}),s.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:r.map(g=>s.jsxs("div",{children:[g.full_name," (",g.hr_id,")"]},g.id))})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:p,disabled:f.isPending,children:"Cancel"}),s.jsxs(se,{onClick:m,disabled:!c||f.isPending,children:[f.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Update ",r.length," Worker",r.length!==1?"s":""]})]})]})})}function ype({open:e,onOpenChange:t,workers:r,onSuccess:n}){const{user:a}=Sr(),{toast:i}=Ul(),o=jr(),[c,d]=x.useState(""),[f,m]=x.useState("all"),{data:p,isLoading:y}=Je({queryKey:["available-projects",f],queryFn:async()=>{let j=je.from("workforce_projects").select(`
          id,
          project_code,
          project_name,
          department:departments(department_name)
        `).in("status",["active","paused"]).order("project_code",{ascending:!0});f!=="all"&&(j=j.eq("department_id",f));const{data:N,error:E}=await j;if(E)throw E;return N},enabled:e}),{data:g=[]}=Je({queryKey:["departments"],queryFn:async()=>{const{data:j,error:N}=await je.from("departments").select("id, department_name").eq("is_active",!0).order("department_name",{ascending:!0});if(N)throw N;return j},enabled:e}),b=pr({mutationFn:async j=>{if(!a)throw new Error("User not authenticated");const N=r.map(k=>({worker_id:k.id,project_id:j,assigned_at:new Date().toISOString(),assigned_by:a.id})),{error:E}=await je.from("worker_assignments").insert(N);if(E)throw E},onSuccess:()=>{o.invalidateQueries({queryKey:["worker-assignments"]}),o.invalidateQueries({queryKey:["workers"]}),i({title:"Success",description:`Assigned ${r.length} worker(s) to project`}),n?.(),_()},onError:j=>{i({title:"Error",description:`Failed to assign workers: ${j.message}`,variant:"destructive"})}}),w=()=>{c&&b.mutate(c)},_=()=>{d(""),m("all"),t(!1)};return s.jsx(ka,{open:e,onOpenChange:_,children:s.jsxs(sa,{className:"max-w-lg",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Bulk Assign to Project"}),s.jsxs(ki,{children:["Assign ",r.length," selected worker",r.length!==1?"s":""," to a project"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 border rounded-lg bg-muted/50",children:[s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm font-medium",children:[r.length," worker",r.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Filter by Department"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"All departments"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Departments"}),g.map(j=>s.jsx(Me,{value:j.id,children:j.department_name},j.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"project",children:"Select Project"}),y?s.jsx("div",{className:"h-10 border rounded-md animate-pulse bg-muted"}):s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{id:"project",children:s.jsx(Nt,{placeholder:"Choose a project"})}),s.jsx(_t,{children:p?.map(j=>s.jsx(Me,{value:j.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:j.project_code}),s.jsx("span",{className:"text-muted-foreground",children:""}),s.jsx("span",{children:j.project_name})]})},j.id))})]}),p&&p.length===0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"No active projects available"})]}),s.jsx(ht,{children:s.jsx(mt,{className:"text-sm",children:"Workers already assigned to the selected project will be skipped. This prevents duplicate assignments."})}),r.length<=5&&s.jsxs("div",{children:[s.jsx(_e,{className:"text-sm font-medium mb-2 block",children:"Selected Workers"}),s.jsx("div",{className:"space-y-1 text-sm text-muted-foreground",children:r.map(j=>s.jsxs("div",{children:[j.full_name," (",j.hr_id,")"]},j.id))})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:_,disabled:b.isPending,children:"Cancel"}),s.jsxs(se,{onClick:w,disabled:!c||b.isPending,children:[b.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",r.length," Worker",r.length!==1?"s":""]})]})]})})}function xpe({open:e,onOpenChange:t,workers:r,onSuccess:n}){const[a,i]=x.useState(""),{user:o}=Sr(),{toast:c}=Ul(),d=jr(),f=pr({mutationFn:async()=>{if(!o)throw new Error("User not authenticated");const g=r.map(N=>N.id);if(g.length===0)throw new Error("No workers selected");const{error:b,data:w}=await je.from("workers").update({status:"terminated",termination_date:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString(),updated_by:o.id}).in("id",g).not("rtw_datetime","is",null).select("id");if(b)throw b;const{error:_,data:j}=await je.from("workers").update({status:"terminated",rtw_datetime:new Date().toISOString(),termination_date:new Date().toISOString().split("T")[0],updated_at:new Date().toISOString(),updated_by:o.id}).in("id",g).is("rtw_datetime",null).select("id");if(_)throw _;return{updated:(w?.length||0)+(j?.length||0)}},onSuccess:()=>{d.invalidateQueries({queryKey:["workers"]}),c({title:"Workers deleted",description:`Successfully deleted ${r.length} worker${r.length!==1?"s":""}`}),n(),t(!1),i("")},onError:g=>{c({title:"Delete failed",description:g.message,variant:"destructive"})}}),m=()=>{if(a==="DELETE"){if(r.length===0){c({title:"No workers selected",description:"Please select workers to delete",variant:"destructive"});return}f.mutate()}},p=r.filter(g=>g.status==="active"),y=p.length>0;return s.jsx(ka,{open:e,onOpenChange:t,children:s.jsxs(sa,{className:"sm:max-w-[500px]",children:[s.jsxs(oa,{children:[s.jsxs(la,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(cU,{className:"h-5 w-5"}),"Delete Workers"]}),s.jsxs(ki,{children:["This will mark ",r.length," worker",r.length!==1?"s":""," as terminated. This action cannot be undone."]})]}),s.jsxs("div",{className:"space-y-4",children:[y&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(Gi,{className:"h-4 w-4"}),s.jsxs(mt,{children:[s.jsx("strong",{children:"Warning:"})," ",p.length," of the selected workers"," ",p.length===1?"is":"are"," currently active. Deleting active workers may impact ongoing projects."]})]}),s.jsx("div",{className:"border rounded-md max-h-[200px] overflow-y-auto",children:s.jsxs("div",{className:"p-3 space-y-2",children:[r.slice(0,10).map(g=>s.jsxs("div",{className:"flex items-center justify-between text-sm p-2 rounded hover:bg-muted",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:g.hr_id})]}),s.jsx("div",{className:g.status==="active"?"text-green-600 text-xs font-medium":"text-muted-foreground text-xs",children:g.status})]},g.id)),r.length>10&&s.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["...and ",r.length-10," more"]})]})}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium",children:["Type ",s.jsx("span",{className:"font-mono bg-muted px-1",children:"DELETE"})," to confirm:"]}),s.jsx("input",{type:"text",value:a,onChange:g=>i(g.target.value),className:"w-full mt-1.5 px-3 py-2 border rounded-md",placeholder:"DELETE",autoComplete:"off"})]}),s.jsx(ht,{children:s.jsxs(mt,{className:"text-xs",children:[s.jsx("strong",{children:"Note:"}),' This performs a "soft delete" by setting the status to terminated and recording the termination date. Worker records are never permanently deleted from the database for audit trail purposes.']})})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(se,{variant:"destructive",onClick:m,disabled:a!=="DELETE"||f.isPending,children:f.isPending?"Deleting...":`Delete ${r.length} Worker${r.length!==1?"s":""}`})]})]})})}function bpe(){const e=Or(),[t,r]=BC(),{isAdminOrAbove:n,isManagerOrAbove:a}=Sr(),[i,o]=x.useState([]),[c,d]=x.useState([]),[f,m]=x.useState(()=>{const Z=localStorage.getItem("pph-worker-column-visibility");if(Z)try{return JSON.parse(Z)}catch{}return{email_pph:!1,worker_role:!1,locale_primary:!1,rtw_datetime:!1,termination_date:!1}});x.useEffect(()=>{localStorage.setItem("pph-worker-column-visibility",JSON.stringify(f))},[f]);const[p,y]=x.useState(t.get("search")||""),[g,b]=x.useState(t.get("status")||"all"),[w,_]=x.useState([]),[j,N]=x.useState(!1),[E,k]=x.useState(()=>t.get("action")==="bulk-upload"),[A,R]=x.useState({}),[T,O]=x.useState(!1),[P,$]=x.useState(!1),[M,L]=x.useState(!1),{data:U,isLoading:X,isError:Y,error:F}=Je({queryKey:["workers"],queryFn:async()=>{const{data:Z,error:ne}=await je.from("workers").select(`
          id,
          hr_id,
          full_name,
          email_personal,
          email_pph,
          status,
          engagement_model,
          worker_role,
          hire_date,
          rtw_datetime,
          bgc_expiration_date,
          termination_date,
          supervisor_id,
          country_residence,
          locale_primary
        `).order("created_at",{ascending:!1});if(ne)throw ne;return Z}});x.useEffect(()=>{const Z=new URLSearchParams;p&&Z.set("search",p),g!=="all"&&Z.set("status",g),r(Z,{replace:!0})},[p,g,r]);const H=x.useMemo(()=>{if(!U)return[];const Z=Array.from(new Set(U.map(ee=>ee.status))).map(ee=>({value:ee,label:ee.charAt(0).toUpperCase()+ee.slice(1)})),ne=Array.from(new Set(U.map(ee=>ee.country_residence))).map(ee=>({value:ee,label:ee}));return[{key:"hr_id",label:"HR ID",type:"text",options:U.map(ee=>({value:ee.hr_id,label:ee.hr_id}))},{key:"full_name",label:"Name",type:"text",options:U.map(ee=>({value:ee.full_name,label:ee.full_name}))},{key:"status",label:"Status",type:"categorical",options:Z},{key:"country_residence",label:"Country",type:"categorical",options:ne},{key:"hire_date",label:"Hire Date",type:"date"},{key:"bgc_expiration_date",label:"BGC Expiration",type:"date"}]},[U]),I=()=>{if(B.length===0)return;const Z=[["HR ID","Full Name","Email","PPH Email","Status","Engagement Model","Role","Hire Date","RTW Date","BGC Expiration","Termination Date","Country","Primary Locale"].join(","),...B.map(G=>[G.hr_id,`"${G.full_name}"`,G.email_personal,G.email_pph||"",G.status,G.engagement_model,`"${G.worker_role||""}"`,G.hire_date,G.rtw_datetime||"",G.bgc_expiration_date||"",G.termination_date||"",G.country_residence,G.locale_primary].join(","))].join(`
`),ne=new Blob([Z],{type:"text/csv"}),ee=URL.createObjectURL(ne),pe=document.createElement("a");pe.href=ee,pe.download=`workers-${new Date().toISOString().split("T")[0]}.csv`,pe.click()},q=()=>{const Z=V.getSelectedRowModel().rows.map(ge=>ge.original);if(Z.length===0)return;const ne=[["HR ID","Full Name","Email","PPH Email","Status","Engagement Model","Role","Hire Date","RTW Date","BGC Expiration","Termination Date","Country","Primary Locale"].join(","),...Z.map(ge=>[ge.hr_id,`"${ge.full_name}"`,ge.email_personal,ge.email_pph||"",ge.status,ge.engagement_model,`"${ge.worker_role||""}"`,ge.hire_date,ge.rtw_datetime||"",ge.bgc_expiration_date||"",ge.termination_date||"",ge.country_residence,ge.locale_primary].join(","))].join(`
`),ee=new Blob([ne],{type:"text/csv"}),pe=URL.createObjectURL(ee),G=document.createElement("a");G.href=pe,G.download=`workers-selected-${new Date().toISOString().split("T")[0]}.csv`,G.click()},ue=x.useMemo(()=>U?U.filter(Z=>{const ne=p.toLowerCase(),ee=!p||Z.full_name.toLowerCase().includes(ne)||Z.email_personal.toLowerCase().includes(ne),pe=g==="all"||Z.status===g;return ee&&pe}):[],[U,p,g]),B=x.useMemo(()=>w.length===0?ue:ue.filter(Z=>w.every(ne=>{const ee=Z[ne.field];if(ne.operator==="in")return ne.values.includes(String(ee));if(ne.operator==="not_in")return!ne.values.includes(String(ee));if(ne.operator==="between"&&ee){const pe=ne.values,G=new Date(String(ee));return G>=pe.start&&G<=pe.end}if(ne.operator==="before"&&ee){const pe=ne.values;return new Date(String(ee))<pe.start}if(ne.operator==="after"&&ee){const pe=ne.values;return new Date(String(ee))>pe.start}if(ne.operator==="equal"&&ee){const pe=ne.values,G=new Date(String(ee));G.setHours(0,0,0,0);const ge=new Date(pe.start);return ge.setHours(0,0,0,0),G.getTime()===ge.getTime()}return!0})),[ue,w]),Q=[{id:"select",header:({table:Z})=>s.jsx(No,{checked:Z.getIsAllPageRowsSelected(),onCheckedChange:ne=>Z.toggleAllPageRowsSelected(!!ne),"aria-label":"Select all",onClick:ne=>ne.stopPropagation()}),cell:({row:Z})=>s.jsx(No,{checked:Z.getIsSelected(),onCheckedChange:ne=>Z.toggleSelected(!!ne),"aria-label":"Select row",onClick:ne=>ne.stopPropagation()}),enableSorting:!1,enableHiding:!1},{accessorKey:"hr_id",header:"HR ID",cell:({row:Z})=>s.jsx("div",{className:"font-mono text-sm",children:Z.original.hr_id})},{accessorKey:"full_name",header:"Full Name",cell:({row:Z})=>s.jsx("div",{className:"font-medium",children:Z.original.full_name})},{accessorKey:"email_personal",header:"Email",cell:({row:Z})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:Z.original.email_personal})},{accessorKey:"status",header:"Status",cell:({row:Z})=>{const ne=Z.original.status,ee={active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"};return s.jsx(ze,{variant:ee[ne]||"secondary",children:ne})}},{accessorKey:"bgc_expiration_date",header:"BGC Expiration",cell:({row:Z})=>{const ne=Z.original.bgc_expiration_date;if(!ne)return s.jsx("span",{className:"text-muted-foreground",children:"-"});const ee=new Date(ne),pe=new Date,G=Math.ceil((ee.getTime()-pe.getTime())/(1e3*60*60*24)),ge=G<0,ye=G>=0&&G<30;return s.jsxs("div",{className:"flex items-center gap-2",children:[ge&&s.jsx("span",{className:"text-destructive text-xs",children:" Expired"}),ye&&!ge&&s.jsx("span",{className:"text-yellow-600 text-xs",children:" Expiring Soon"}),!ge&&!ye&&s.jsx("span",{className:"text-green-600 text-xs",children:""}),s.jsx("span",{className:"text-sm",children:Fe(ee,"MMM d, yyyy")})]})}},{accessorKey:"hire_date",header:"Hire Date",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Fe(new Date(Z.original.hire_date),"MMM d, yyyy")})},{accessorKey:"email_pph",header:"PPH Email",cell:({row:Z})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:Z.original.email_pph||"-"})},{accessorKey:"engagement_model",header:"Engagement Model",cell:({row:Z})=>{const ne=Z.original.engagement_model;return s.jsx(ze,{variant:"outline",className:"capitalize",children:ne})}},{accessorKey:"worker_role",header:"Role",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.worker_role||"-"})},{accessorKey:"country_residence",header:"Country",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.country_residence})},{accessorKey:"locale_primary",header:"Primary Locale",cell:({row:Z})=>s.jsx("div",{className:"text-sm",children:Z.original.locale_primary})},{accessorKey:"rtw_datetime",header:"RTW Date",cell:({row:Z})=>{const ne=Z.original.rtw_datetime;return ne?s.jsx("div",{className:"text-sm",children:Fe(new Date(ne),"MMM d, yyyy")}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"termination_date",header:"Termination Date",cell:({row:Z})=>{const ne=Z.original.termination_date;return ne?s.jsx("div",{className:"text-sm text-destructive",children:Fe(new Date(ne),"MMM d, yyyy")}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{id:"actions",header:"Actions",enableHiding:!1,cell:({row:Z})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:ne=>{ne.stopPropagation(),e(`/workers/${Z.original.id}/edit`)},children:"Edit"})})}],V=Yd({data:B,columns:Q,getCoreRowModel:Wd(),getSortedRowModel:Gd(),getPaginationRowModel:Kd(),getFilteredRowModel:Am(),onSortingChange:o,onColumnFiltersChange:d,onColumnVisibilityChange:m,onRowSelectionChange:R,enableRowSelection:!0,enableColumnResizing:!0,columnResizeMode:"onChange",getRowId:Z=>Z.id,state:{sorting:i,columnFilters:c,columnVisibility:f,rowSelection:A},initialState:{pagination:{pageSize:50}}}),ae=()=>{y(""),b("all")};return X?s.jsxs("div",{className:"container mx-auto py-8 space-y-4",children:[s.jsx(De,{className:"h-8 w-64"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):Y?s.jsx("div",{className:"container mx-auto py-8",children:s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load workers: ",F?.message||"Unknown error"]})})}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Workers"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage your workforce (",U?.length||0," total)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ty,{children:[s.jsx(ry,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",children:[s.jsx(mse,{className:"h-4 w-4 mr-2"}),"Columns"]})}),s.jsxs(Jh,{align:"end",className:"w-[200px]",children:[s.jsx(GN,{children:"Toggle columns"}),s.jsx(ny,{}),V.getAllColumns().filter(Z=>Z.getCanHide()).map(Z=>s.jsx(KB,{className:"capitalize",checked:Z.getIsVisible(),onCheckedChange:ne=>Z.toggleVisibility(!!ne),children:Z.id.replace(/_/g," ")},Z.id))]})]}),s.jsxs(se,{variant:"outline",onClick:()=>N(!j),children:[s.jsx(qie,{className:"h-4 w-4 mr-2"}),"Advanced Filters",w.length>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-primary text-primary-foreground rounded-full",children:w.length})]}),B.length>0&&s.jsxs(se,{variant:"outline",onClick:I,children:[s.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),a&&s.jsxs(s.Fragment,{children:[s.jsxs(se,{variant:"outline",onClick:()=>k(!0),children:[s.jsx(Fc,{className:"h-4 w-4 mr-2"}),"Bulk Upload"]}),s.jsx(se,{onClick:()=>e("/workers/create"),children:"Create Worker"})]})]})]}),Object.keys(A).length>0&&s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-muted/50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ze,{variant:"secondary",className:"text-sm",children:[Object.keys(A).length," selected"]}),s.jsx(se,{variant:"ghost",size:"sm",onClick:()=>R({}),children:"Clear selection"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[a&&s.jsxs(s.Fragment,{children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>O(!0),children:"Change Status"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>$(!0),children:"Assign to Project"})]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:q,children:[s.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Export Selected"]}),n&&s.jsx(se,{variant:"destructive",size:"sm",onClick:()=>L(!0),children:"Delete Selected"})]})]}),j&&s.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[s.jsx("h3",{className:"text-sm font-medium mb-3",children:"Advanced Filters"}),s.jsx(Lme,{fields:H,filters:w,onFiltersChange:_})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qe,{id:"search",placeholder:"Search by name or email...",value:p,onChange:Z=>y(Z.target.value),className:"pr-8"}),p&&s.jsx("button",{onClick:()=>y(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Ps,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"status",children:"Status"}),s.jsxs(Ct,{value:g,onValueChange:b,children:[s.jsx(wt,{id:"status",children:s.jsx(Nt,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Statuses"}),s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"pending",children:"Pending"}),s.jsx(Me,{value:"inactive",children:"Inactive"}),s.jsx(Me,{value:"terminated",children:"Terminated"})]})]})]}),(p||g!=="all")&&s.jsx(se,{variant:"outline",onClick:ae,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",B.length," of ",U?.length||0," workers",w.length>0&&s.jsx("span",{className:"text-primary",children:" (advanced filters active)"})]}),s.jsx("div",{className:"border rounded-lg overflow-x-auto",children:s.jsxs(Kr,{style:{width:V.getTotalSize()},children:[s.jsx(Gr,{children:V.getHeaderGroups().map(Z=>s.jsx(vt,{children:Z.headers.map(ne=>s.jsxs(Te,{style:{width:ne.getSize(),position:"relative"},children:[ne.isPlaceholder?null:Ei(ne.column.columnDef.header,ne.getContext()),ne.column.getCanResize()&&s.jsx("div",{onMouseDown:ne.getResizeHandler(),onTouchStart:ne.getResizeHandler(),className:`absolute right-0 top-0 h-full w-1 cursor-col-resize select-none touch-none bg-transparent hover:bg-primary ${ne.column.getIsResizing()?"bg-primary":""}`})]},ne.id))},Z.id))}),s.jsx(Yr,{children:V.getRowModel().rows?.length?V.getRowModel().rows.map(Z=>s.jsx(vt,{onClick:()=>e(`/workers/${Z.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:Z.getVisibleCells().map(ne=>s.jsx(Oe,{children:Ei(ne.column.columnDef.cell,ne.getContext())},ne.id))},Z.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:Q.length,className:"h-24 text-center",children:"No workers found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",V.getState().pagination.pageIndex+1," of ",V.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>V.previousPage(),disabled:!V.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>V.nextPage(),disabled:!V.getCanNextPage(),children:"Next"})]})]}),s.jsx(gpe,{open:E,onOpenChange:k}),s.jsx(vpe,{open:T,onOpenChange:O,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>R({})}),s.jsx(ype,{open:P,onOpenChange:$,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>R({})}),s.jsx(xpe,{open:M,onOpenChange:L,workers:V.getSelectedRowModel().rows.map(Z=>Z.original),onSuccess:()=>R({})})]})}const U6=au({hr_id:Rt().min(1,"HR ID is required"),full_name:Rt().min(2,"Full name must be at least 2 characters"),engagement_model:Vh(["core","upwork","external","internal"]),worker_role:Rt().optional(),email_personal:Rt().email("Invalid email address"),email_pph:Rt().email("Invalid email address").optional().or(gs("")),country_residence:Rt().min(2,"Country is required"),locale_primary:Rt().min(2,"Primary locale is required"),locale_all:zF(Rt()).default([]),hire_date:Rt().min(1,"Hire date is required"),rtw_datetime:Rt().optional().or(gs("")),supervisor_id:Rt().uuid().optional().or(gs("")),termination_date:Rt().optional().or(gs("")),bgc_expiration_date:Rt().optional().or(gs("")),status:Vh(["pending","active","inactive","terminated"]).default("pending")}),wpe=[{value:"core",label:"Core"},{value:"upwork",label:"Upwork"},{value:"external",label:"External"},{value:"internal",label:"Internal"}],_pe=[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"terminated",label:"Terminated"}],jpe=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"PH",label:"Philippines"},{value:"IN",label:"India"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"CO",label:"Colombia"},{value:"VE",label:"Venezuela"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"PL",label:"Poland"},{value:"UA",label:"Ukraine"},{value:"PK",label:"Pakistan"},{value:"BD",label:"Bangladesh"},{value:"KE",label:"Kenya"},{value:"NG",label:"Nigeria"},{value:"ZA",label:"South Africa"},{value:"OTHER",label:"Other"}],Spe=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"tl",label:"Tagalog"},{value:"hi",label:"Hindi"},{value:"ar",label:"Arabic"},{value:"zh",label:"Chinese"},{value:"ja",label:"Japanese"}];function Cpe(){const e=Or(),t=jr(),{user:r}=Sr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,formState:{errors:f}}=Do({resolver:Mo(U6),defaultValues:{status:"pending",engagement_model:"core",locale_all:[]}}),{data:m}=Je({queryKey:["supervisors"],queryFn:async()=>{const{data:g,error:b}=await je.from("workers").select("id, full_name").eq("status","active").order("full_name");if(b)throw b;return g}}),p=pr({mutationFn:async g=>{if(!r)throw new Error("User not authenticated");let w={...{hr_id:g.hr_id,full_name:g.full_name,engagement_model:g.engagement_model,worker_role:g.worker_role||null,email_personal:g.email_personal,email_pph:g.email_pph||null,country_residence:g.country_residence,locale_primary:g.locale_primary,locale_all:g.locale_all||[],hire_date:g.hire_date,supervisor_id:g.supervisor_id||null,bgc_expiration_date:g.bgc_expiration_date||null,created_by:r.id,updated_by:r.id}};g.status==="pending"?(w.status="pending",w.rtw_datetime=null,w.termination_date=null):g.status==="active"||g.status==="inactive"?(w.status=g.status,w.rtw_datetime=g.rtw_datetime||new Date().toISOString(),w.termination_date=null):g.status==="terminated"&&(w.status="terminated",w.rtw_datetime=g.rtw_datetime||new Date().toISOString(),w.termination_date=g.termination_date||new Date().toISOString().split("T")[0]);const{error:_}=await je.from("workers").insert(w);if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["workers"]}),e("/workers")},onError:g=>{a(g.message)}}),y=g=>{a(null),p.mutate(g)};return s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/workers"),className:"mb-4",children:[s.jsx(Za,{className:"mr-2 h-4 w-4"}),"Back to Workers"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Worker"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Add a new worker to the system"})]}),s.jsxs("form",{onSubmit:o(y),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Basic Information"}),s.jsx(ot,{children:"Core worker identity and contact details"})]}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hr_id",children:"HR ID *"}),s.jsx(Qe,{id:"hr_id",...i("hr_id"),placeholder:"e.g., EMP001"}),f.hr_id&&s.jsx("p",{className:"text-sm text-destructive",children:f.hr_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(Qe,{id:"full_name",...i("full_name"),placeholder:"John Doe"}),f.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:f.full_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_personal",children:"Personal Email *"}),s.jsx(Qe,{id:"email_personal",type:"email",...i("email_personal"),placeholder:"john@example.com"}),f.email_personal&&s.jsx("p",{className:"text-sm text-destructive",children:f.email_personal.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_pph",children:"PPH Email"}),s.jsx(Qe,{id:"email_pph",type:"email",...i("email_pph"),placeholder:"john@pph.com"}),f.email_pph&&s.jsx("p",{className:"text-sm text-destructive",children:f.email_pph.message})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Employment Details"}),s.jsx(ot,{children:"Engagement model and work information"})]}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"engagement_model",children:"Engagement Model *"}),s.jsxs(Ct,{value:d("engagement_model"),onValueChange:g=>c("engagement_model",g),children:[s.jsx(wt,{id:"engagement_model",children:s.jsx(Nt,{placeholder:"Select engagement model"})}),s.jsx(_t,{children:wpe.map(g=>s.jsx(Me,{value:g.value,children:g.label},g.value))})]}),f.engagement_model&&s.jsx("p",{className:"text-sm text-destructive",children:f.engagement_model.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"worker_role",children:"Worker Role"}),s.jsx(Qe,{id:"worker_role",...i("worker_role"),placeholder:"e.g., Annotator, QA Specialist"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"status",children:"Status *"}),s.jsxs(Ct,{value:d("status"),onValueChange:g=>c("status",g),children:[s.jsx(wt,{id:"status",children:s.jsx(Nt,{placeholder:"Select status"})}),s.jsx(_t,{children:_pe.map(g=>s.jsx(Me,{value:g.value,children:g.label},g.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"supervisor_id",children:"Supervisor"}),s.jsxs(Ct,{value:d("supervisor_id")||"none",onValueChange:g=>c("supervisor_id",g==="none"?"":g),children:[s.jsx(wt,{id:"supervisor_id",children:s.jsx(Nt,{placeholder:"Select supervisor"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"No Supervisor"}),m?.map(g=>s.jsx(Me,{value:g.id,children:g.full_name},g.id))]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Location & Locale"}),s.jsx(ot,{children:"Geographic and language information"})]}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"country_residence",children:"Country of Residence *"}),s.jsxs(Ct,{value:d("country_residence"),onValueChange:g=>c("country_residence",g),children:[s.jsx(wt,{id:"country_residence",children:s.jsx(Nt,{placeholder:"Select country"})}),s.jsx(_t,{children:jpe.map(g=>s.jsx(Me,{value:g.value,children:g.label},g.value))})]}),f.country_residence&&s.jsx("p",{className:"text-sm text-destructive",children:f.country_residence.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_primary",children:"Primary Locale *"}),s.jsxs(Ct,{value:d("locale_primary"),onValueChange:g=>c("locale_primary",g),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Nt,{placeholder:"Select locale"})}),s.jsx(_t,{children:Spe.map(g=>s.jsx(Me,{value:g.value,children:g.label},g.value))})]}),f.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:f.locale_primary.message})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Dates"}),s.jsx(ot,{children:"Important dates and milestones"})]}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hire_date",children:"Hire Date *"}),s.jsx(Qe,{id:"hire_date",type:"date",...i("hire_date")}),f.hire_date&&s.jsx("p",{className:"text-sm text-destructive",children:f.hire_date.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"rtw_datetime",children:"RTW Date/Time"}),s.jsx(Qe,{id:"rtw_datetime",type:"datetime-local",...i("rtw_datetime")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"bgc_expiration_date",children:"BGC Expiration Date"}),s.jsx(Qe,{id:"bgc_expiration_date",type:"date",...i("bgc_expiration_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"termination_date",children:"Termination Date"}),s.jsx(Qe,{id:"termination_date",type:"date",...i("termination_date")})]})]})]}),n&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:n})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(se,{type:"submit",disabled:p.isPending,children:p.isPending?"Creating...":"Create Worker"}),s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/workers"),children:"Cancel"})]})]})]})}const Npe=[{value:"core",label:"Core"},{value:"upwork",label:"Upwork"},{value:"external",label:"External"},{value:"internal",label:"Internal"}],Epe=[{value:"pending",label:"Pending"},{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"terminated",label:"Terminated"}],UM=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"PH",label:"Philippines"},{value:"IN",label:"India"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"CO",label:"Colombia"},{value:"VE",label:"Venezuela"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"PL",label:"Poland"},{value:"UA",label:"Ukraine"},{value:"PK",label:"Pakistan"},{value:"BD",label:"Bangladesh"},{value:"KE",label:"Kenya"},{value:"NG",label:"Nigeria"},{value:"ZA",label:"South Africa"},{value:"OTHER",label:"Other"}],kpe=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"pt",label:"Portuguese"},{value:"tl",label:"Tagalog"},{value:"hi",label:"Hindi"},{value:"ar",label:"Arabic"},{value:"zh",label:"Chinese"},{value:"ja",label:"Japanese"}];function Ape(){const{id:e}=eu(),t=Or(),r=jr(),{user:n}=Sr(),[a,i]=x.useState(null),{data:o,isLoading:c}=Je({queryKey:["worker",e],queryFn:async()=>{const{data:j,error:N}=await je.from("workers").select("*").eq("id",e).single();if(N)throw N;return j},enabled:!!e}),d=j=>j?new Date(j).toISOString().slice(0,16):"",{register:f,handleSubmit:m,setValue:p,watch:y,formState:{errors:g}}=Do({resolver:Mo(U6),values:o?{hr_id:o.hr_id,full_name:o.full_name,engagement_model:o.engagement_model,worker_role:o.worker_role||"",email_personal:o.email_personal,email_pph:o.email_pph||"",country_residence:o.country_residence,locale_primary:o.locale_primary,locale_all:o.locale_all||[],hire_date:o.hire_date,rtw_datetime:d(o.rtw_datetime),supervisor_id:o.supervisor_id||"",termination_date:o.termination_date||"",bgc_expiration_date:o.bgc_expiration_date||"",status:o.status}:void 0}),{data:b}=Je({queryKey:["supervisors"],queryFn:async()=>{const{data:j,error:N}=await je.from("workers").select("id, full_name").eq("status","active").neq("id",e||"").order("full_name");if(N)throw N;return j}}),w=pr({mutationFn:async j=>{if(!n)throw new Error("User not authenticated");let E={...{hr_id:j.hr_id,full_name:j.full_name,engagement_model:j.engagement_model,worker_role:j.worker_role||null,email_personal:j.email_personal,email_pph:j.email_pph||null,country_residence:j.country_residence,locale_primary:j.locale_primary,locale_all:j.locale_all||[],hire_date:j.hire_date,supervisor_id:j.supervisor_id||null,bgc_expiration_date:j.bgc_expiration_date||null,updated_at:new Date().toISOString(),updated_by:n.id}};j.status==="pending"?(E.status="pending",E.rtw_datetime=null,E.termination_date=null):j.status==="active"||j.status==="inactive"?(E.status=j.status,E.rtw_datetime=j.rtw_datetime||new Date().toISOString(),E.termination_date=null):j.status==="terminated"&&(E.status="terminated",E.rtw_datetime=j.rtw_datetime||new Date().toISOString(),E.termination_date=j.termination_date||new Date().toISOString().split("T")[0]);const{error:k}=await je.from("workers").update(E).eq("id",e);if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["workers"]}),r.invalidateQueries({queryKey:["worker",e]}),t("/workers")},onError:j=>{i(j.message)}}),_=j=>{i(null),w.mutate(j)};return c||!o?s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsx(De,{className:"h-8 w-64 mb-4"}),s.jsx(De,{className:"h-96 w-full"})]}):s.jsxs("div",{className:"container mx-auto py-8 max-w-4xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/workers"),className:"mb-4",children:[s.jsx(Za,{className:"mr-2 h-4 w-4"}),"Back to Workers"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Worker"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Update worker information"})]}),s.jsxs("form",{onSubmit:m(_),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Basic Information"})}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hr_id",children:"HR ID *"}),s.jsx(Qe,{id:"hr_id",...f("hr_id")}),g.hr_id&&s.jsx("p",{className:"text-sm text-destructive",children:g.hr_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"full_name",children:"Full Name *"}),s.jsx(Qe,{id:"full_name",...f("full_name")}),g.full_name&&s.jsx("p",{className:"text-sm text-destructive",children:g.full_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_personal",children:"Personal Email *"}),s.jsx(Qe,{id:"email_personal",type:"email",...f("email_personal")}),g.email_personal&&s.jsx("p",{className:"text-sm text-destructive",children:g.email_personal.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"email_pph",children:"PPH Email"}),s.jsx(Qe,{id:"email_pph",type:"email",...f("email_pph")})]})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Employment Details"})}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Engagement Model *"}),s.jsxs(Ct,{value:y("engagement_model")||"",onValueChange:j=>p("engagement_model",j),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select engagement model"})}),s.jsx(_t,{children:Npe.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"worker_role",children:"Worker Role"}),s.jsx(Qe,{id:"worker_role",...f("worker_role")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Status *"}),s.jsxs(Ct,{value:y("status")||"",onValueChange:j=>p("status",j),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select status"})}),s.jsx(_t,{children:Epe.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Supervisor"}),s.jsxs(Ct,{value:y("supervisor_id")||"none",onValueChange:j=>p("supervisor_id",j==="none"?"":j),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select supervisor"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"No Supervisor"}),b?.map(j=>s.jsx(Me,{value:j.id,children:j.full_name},j.id))]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Location & Locale"})}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Country of Residence *"}),s.jsxs(Ct,{value:y("country_residence")?.toUpperCase()||"",onValueChange:j=>p("country_residence",j),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select country"})}),s.jsx(_t,{children:UM.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))})]}),y("country_residence")&&!UM.find(j=>j.value===y("country_residence")?.toUpperCase())&&s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Current value: ",y("country_residence")," (not in list)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Primary Locale *"}),s.jsxs(Ct,{value:y("locale_primary")||"",onValueChange:j=>p("locale_primary",j),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select locale"})}),s.jsx(_t,{children:kpe.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))})]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Dates"})}),s.jsxs(Ne,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"hire_date",children:"Hire Date *"}),s.jsx(Qe,{id:"hire_date",type:"date",...f("hire_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"rtw_datetime",children:"RTW Date/Time"}),s.jsx(Qe,{id:"rtw_datetime",type:"datetime-local",...f("rtw_datetime")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"bgc_expiration_date",children:"BGC Expiration Date"}),s.jsx(Qe,{id:"bgc_expiration_date",type:"date",...f("bgc_expiration_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"termination_date",children:"Termination Date"}),s.jsx(Qe,{id:"termination_date",type:"date",...f("termination_date")})]})]})]}),a&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:a})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(se,{type:"submit",disabled:w.isPending,children:w.isPending?"Updating...":"Update Worker"}),s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/workers"),children:"Cancel"})]})]})]})}var Hx="Tabs",[Ope]=ua(Hx,[rf]),B6=rf(),[Tpe,fE]=Ope(Hx),q6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...f}=e,m=Zd(c),[p,y]=Ns({prop:n,onChange:a,defaultProp:i??"",caller:Hx});return s.jsx(Tpe,{scope:r,baseId:Xi(),value:p,onValueChange:y,orientation:o,dir:m,activationMode:d,children:s.jsx(st.div,{dir:m,"data-orientation":o,...f,ref:t})})});q6.displayName=Hx;var V6="TabsList",H6=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=fE(V6,r),o=B6(r);return s.jsx(zN,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(st.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});H6.displayName=V6;var W6="TabsTrigger",K6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=fE(W6,r),c=B6(r),d=Z6(o.baseId,n),f=X6(o.baseId,n),m=n===o.value;return s.jsx(FN,{asChild:!0,...c,focusable:!a,active:m,children:s.jsx(st.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:t,onMouseDown:$e(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:$e(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:$e(e.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!a&&p&&o.onValueChange(n)})})})});K6.displayName=W6;var G6="TabsContent",Y6=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,c=fE(G6,r),d=Z6(c.baseId,n),f=X6(c.baseId,n),m=n===c.value,p=x.useRef(m);return x.useEffect(()=>{const y=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(y)},[]),s.jsx(qn,{present:a||m,children:({present:y})=>s.jsx(st.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!y,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:y&&i})})});Y6.displayName=G6;function Z6(e,t){return`${e}-trigger-${t}`}function X6(e,t){return`${e}-content-${t}`}var Rpe=q6,Q6=H6,J6=K6,e5=Y6;const hE=Rpe,Wx=x.forwardRef(({className:e,...t},r)=>s.jsx(Q6,{ref:r,className:Ie("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Wx.displayName=Q6.displayName;const wi=x.forwardRef(({className:e,...t},r)=>s.jsx(J6,{ref:r,className:Ie("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));wi.displayName=J6.displayName;const _i=x.forwardRef(({className:e,...t},r)=>s.jsx(e5,{ref:r,className:Ie("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_i.displayName=e5.displayName;function Ppe({worker:e}){const t=Or(),n=(()=>{if(!e.bgc_expiration_date)return{status:"none",text:"Not set",variant:"outline",icon:null};const i=new Date(e.bgc_expiration_date),o=new Date,c=Math.ceil((i.getTime()-o.getTime())/(1e3*60*60*24));return c<0?{status:"expired",text:`Expired ${Math.abs(c)} days ago`,variant:"destructive",icon:s.jsx(Gi,{className:"h-4 w-4"})}:c<30?{status:"expiring",text:`Expiring in ${c} days`,variant:"secondary",icon:s.jsx(Gi,{className:"h-4 w-4 text-yellow-600"})}:{status:"valid",text:`Valid (${c} days remaining)`,variant:"default",icon:s.jsx(Oh,{className:"h-4 w-4 text-green-600"})}})(),a=i=>i.charAt(0).toUpperCase()+i.slice(1);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end",children:s.jsxs(se,{variant:"outline",onClick:()=>t(`/workers/${e.id}/edit`),children:[s.jsx(yN,{className:"h-4 w-4 mr-2"}),"Edit Profile"]})}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Personal Information"}),s.jsx(ot,{children:"Basic contact and identification details"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Full Name"}),s.jsx("p",{className:"text-sm mt-1",children:e.full_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"HR ID"}),s.jsx("p",{className:"text-sm mt-1",children:e.hr_id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Personal Email"}),s.jsx("p",{className:"text-sm mt-1",children:e.email_personal})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"PPH Email"}),s.jsx("p",{className:"text-sm mt-1",children:e.email_pph||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Country of Residence"}),s.jsx("p",{className:"text-sm mt-1",children:e.country_residence})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Primary Locale"}),s.jsx("p",{className:"text-sm mt-1",children:e.locale_primary})]}),e.locale_all&&e.locale_all.length>0&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"All Locales"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:e.locale_all.map(i=>s.jsx(ze,{variant:"outline",children:i},i))})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Employment Information"}),s.jsx(ot,{children:"Work status and engagement details"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{className:"mt-1",children:s.jsx(ze,{variant:e.status==="active"?"default":e.status==="pending"?"secondary":e.status==="terminated"?"destructive":"outline",children:e.status.toUpperCase()})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Engagement Model"}),s.jsx("p",{className:"text-sm mt-1",children:a(e.engagement_model)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Worker Role"}),s.jsx("p",{className:"text-sm mt-1",children:e.worker_role||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Hire Date"}),s.jsx("p",{className:"text-sm mt-1",children:Fe(new Date(e.hire_date),"MMMM d, yyyy")})]}),e.rtw_datetime&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Ready to Work Date"}),s.jsx("p",{className:"text-sm mt-1",children:Fe(new Date(e.rtw_datetime),"MMMM d, yyyy")})]}),e.termination_date&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Termination Date"}),s.jsx("p",{className:"text-sm mt-1 text-destructive",children:Fe(new Date(e.termination_date),"MMMM d, yyyy")})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Organizational"}),s.jsx(ot,{children:"Reporting structure"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Supervisor"}),s.jsx("p",{className:"text-sm mt-1",children:e.supervisor_name||(e.supervisor_id?"Unknown":"No supervisor assigned")})]})})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Background Check"}),s.jsx(ot,{children:"BGC compliance status"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Expiration Date"}),s.jsx("p",{className:"text-sm mt-1",children:e.bgc_expiration_date?Fe(new Date(e.bgc_expiration_date),"MMMM d, yyyy"):"Not set"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.icon,s.jsx(ze,{variant:n.variant,children:n.text})]})]})]}),(n.status==="expired"||n.status==="expiring")&&s.jsx("div",{className:"mt-4 p-4 bg-yellow-50 dark:bg-yellow-950 border border-yellow-200 dark:border-yellow-800 rounded-md",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Gi,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Action Required"}),s.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:n.status==="expired"?"This worker's background check has expired. They should not be assigned to new projects until renewed.":"This worker's background check is expiring soon. Please schedule a renewal."})]})]})})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Audit Trail"}),s.jsx(ot,{children:"Record creation and modification history"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-sm mt-1",children:Fe(new Date(e.created_at),"MMMM d, yyyy h:mm a")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created By"}),s.jsx("p",{className:"text-sm mt-1",children:e.created_by_name||(e.created_by?"Unknown":"System")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm mt-1",children:Fe(new Date(e.updated_at),"MMMM d, yyyy h:mm a")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Updated By"}),s.jsx("p",{className:"text-sm mt-1",children:e.updated_by_name||(e.updated_by?"Unknown":"System")})]})]})})]})]})}var Dpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mpe=Dpe.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Ipe="Separator",BM="horizontal",$pe=["horizontal","vertical"],t5=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=BM,...a}=e,i=Lpe(n)?n:BM,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Mpe.div,{"data-orientation":i,...c,...a,ref:t})});t5.displayName=Ipe;function Lpe(e){return $pe.includes(e)}var r5=t5;const Hc=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(r5,{ref:a,decorative:r,orientation:t,className:Ie("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));Hc.displayName=r5.displayName;const zpe=[{value:"DataCompute",label:"DataCompute"},{value:"Maestro",label:"Maestro"},{value:"Other",label:"Other"}];function qM({open:e,onOpenChange:t,workerId:r,workerName:n,onSuccess:a}){const{user:i}=Sr(),{toast:o}=Ul(),c=jr(),[d,f]=x.useState(""),[m,p]=x.useState(""),[y,g]=x.useState(""),{data:b=[]}=Je({queryKey:["worker-accounts",r],queryFn:async()=>{const{data:k,error:A}=await je.from("worker_accounts").select("platform_type, is_current").eq("worker_id",r).eq("is_current",!0);if(A)throw A;return k},enabled:e}),w=d?b.some(k=>k.platform_type===d):!1,_=pr({mutationFn:async()=>{if(!i)throw new Error("User not authenticated");if(!d)throw new Error("Platform type is required");if(!m.trim())throw new Error("Account email is required");if(!y.trim())throw new Error("Account ID is required");const{error:k}=await je.from("worker_accounts").insert({worker_id:r,platform_type:d,worker_account_email:m.trim(),worker_account_id:y.trim(),is_current:!0,status:"active",activated_at:new Date().toISOString(),created_by:i.id});if(k)throw k},onSuccess:()=>{c.invalidateQueries({queryKey:["worker-accounts",r]}),o({title:"Success",description:`Added ${d} account for ${n}`}),a?.(),N()},onError:k=>{o({title:"Error",description:`Failed to add account: ${k.message}`,variant:"destructive"})}}),j=()=>{d&&(w||_.mutate())},N=()=>{f(""),p(""),g(""),t(!1)},E=d&&!w&&m.trim()&&y.trim();return s.jsx(ka,{open:e,onOpenChange:N,children:s.jsxs(sa,{className:"max-w-lg",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Add Account"}),s.jsxs(ki,{children:["Add a new platform account for ",n]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"platform-type",children:["Platform Type ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:d,onValueChange:k=>f(k),children:[s.jsx(wt,{id:"platform-type",children:s.jsx(Nt,{placeholder:"Select platform"})}),s.jsx(_t,{children:zpe.map(k=>s.jsx(Me,{value:k.value,children:k.label},k.value))})]})]}),w&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{children:["This worker already has a current ",d,' account. Please use "Replace Account" instead.']})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"account-email",children:["Account Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"account-email",type:"email",placeholder:"worker@platform.com",value:m,onChange:k=>p(k.target.value),disabled:!d||w}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Email associated with this platform account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"account-id",children:["Account ID ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"account-id",type:"text",placeholder:"Platform-specific account identifier",value:y,onChange:k=>g(k.target.value),disabled:!d||w}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Platform-specific account identifier"})]}),!w&&d&&s.jsx(ht,{children:s.jsxs(mt,{className:"text-sm",children:["This account will be marked as the current active account for ",d,"."]})})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:N,disabled:_.isPending,children:"Cancel"}),s.jsxs(se,{onClick:j,disabled:!E||_.isPending,children:[_.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Account"]})]})]})})}const Fpe=[{value:"platform_policy_violation",label:"Platform Policy Violation"},{value:"worker_request",label:"Worker Request"},{value:"security_breach",label:"Security Breach"},{value:"account_suspension",label:"Account Suspension"},{value:"performance_issues",label:"Performance Issues"},{value:"migration",label:"Migration to New Account"},{value:"other",label:"Other"}];function Upe({open:e,onOpenChange:t,workerId:r,workerName:n,currentAccount:a,onSuccess:i}){const{user:o}=Sr(),{toast:c}=Ul(),d=jr(),[f,m]=x.useState(""),[p,y]=x.useState(""),[g,b]=x.useState(""),w=pr({mutationFn:async()=>{if(!o)throw new Error("User not authenticated");if(!f)throw new Error("Deactivation reason is required");if(!p.trim())throw new Error("New account email is required");if(!g.trim())throw new Error("New account ID is required");const{error:E}=await je.from("worker_accounts").update({is_current:!1,status:"replaced",deactivated_at:new Date().toISOString(),deactivation_reason:f,updated_by:o.id}).eq("id",a.id);if(E)throw E;const{error:k}=await je.from("worker_accounts").insert({worker_id:r,platform_type:a.platform_type,worker_account_email:p.trim(),worker_account_id:g.trim(),is_current:!0,status:"active",activated_at:new Date().toISOString(),created_by:o.id});if(k)throw k},onSuccess:()=>{d.invalidateQueries({queryKey:["worker-accounts",r]}),c({title:"Success",description:`Replaced ${a.platform_type} account for ${n}`}),i?.(),j()},onError:E=>{c({title:"Error",description:`Failed to replace account: ${E.message}`,variant:"destructive"})}}),_=()=>{f&&w.mutate()},j=()=>{m(""),y(""),b(""),t(!1)},N=f&&p.trim()&&g.trim();return s.jsx(ka,{open:e,onOpenChange:j,children:s.jsxs(sa,{className:"max-w-2xl",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Replace Account"}),s.jsxs(ki,{children:["Deactivate the current ",a.platform_type," account and create a new one for ",n]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{className:"text-base font-semibold",children:"Current Account"}),s.jsx(ze,{variant:"default",children:"Active"})]}),s.jsx("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Platform"}),s.jsx("p",{className:"text-sm",children:a.platform_type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account Email"}),s.jsx("p",{className:"text-sm",children:a.worker_account_email||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Account ID"}),s.jsx("p",{className:"text-sm",children:a.worker_account_id||"Not provided"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"text-sm",children:a.activated_at?new Date(a.activated_at).toLocaleDateString():"Unknown"})]})]})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"deactivation-reason",children:["Deactivation Reason ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{id:"deactivation-reason",children:s.jsx(Nt,{placeholder:"Select reason for deactivation"})}),s.jsx(_t,{children:Fpe.map(E=>s.jsx(Me,{value:E.value,children:E.label},E.value))})]})]}),s.jsxs("div",{className:"flex items-center justify-center py-2",children:[s.jsx("div",{className:"flex-1 border-t"}),s.jsx(lie,{className:"mx-4 h-5 w-5 text-muted-foreground"}),s.jsx("div",{className:"flex-1 border-t"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(_e,{className:"text-base font-semibold",children:"New Account"}),s.jsxs("div",{className:"space-y-4 rounded-lg border bg-background p-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Platform"}),s.jsx(ze,{variant:"outline",children:a.platform_type})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"new-account-email",children:["New Account Email ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"new-account-email",type:"email",placeholder:"worker@platform.com",value:p,onChange:E=>y(E.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Email for the new platform account"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"new-account-id",children:["New Account ID ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"new-account-id",type:"text",placeholder:"Platform-specific account identifier",value:g,onChange:E=>b(E.target.value)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Platform-specific account identifier"})]})]})]}),s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(mt,{children:"This action will permanently deactivate the current account. The account history will be preserved for audit purposes."})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:j,disabled:w.isPending,children:"Cancel"}),s.jsxs(se,{onClick:_,disabled:!N||w.isPending,variant:"destructive",children:[w.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Replace Account"]})]})]})})}function Bpe({workerId:e,workerName:t="Worker"}){const[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,c]=x.useState(null),{data:d,isLoading:f,isError:m,error:p}=Je({queryKey:["worker-accounts",e],queryFn:async()=>{const{data:_,error:j}=await je.from("worker_accounts").select("*").eq("worker_id",e).order("created_at",{ascending:!1});if(j)throw j;return _}}),y=(_,j)=>_==="active"&&j?{variant:"default",icon:s.jsx(Oh,{className:"h-4 w-4"}),text:"ACTIVE"}:_==="replaced"?{variant:"secondary",icon:s.jsx(Gi,{className:"h-4 w-4 text-orange-500"}),text:"REPLACED"}:_==="inactive"?{variant:"outline",icon:s.jsx(Aie,{className:"h-4 w-4"}),text:"INACTIVE"}:{variant:"outline",icon:null,text:_?.toUpperCase()||"UNKNOWN"},g=_=>({DataCompute:"default",Maestro:"secondary",Other:"outline"})[_]||"outline";if(f)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"})]});if(m)return s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load accounts: ",p?.message||"Unknown error"]})});if(!d||d.length===0)return s.jsxs(s.Fragment,{children:[s.jsx(Ce,{children:s.jsxs(Ne,{className:"py-12 text-center",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"No accounts yet."}),s.jsx(se,{onClick:()=>n(!0),children:"Add Account"})]})}),s.jsx(qM,{open:r,onOpenChange:n,workerId:e,workerName:t,onSuccess:()=>{}})]});const b=d.filter(_=>_.is_current&&_.status==="active"),w=d.filter(_=>!_.is_current||_.status!=="active");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Platform Accounts"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete chain of custody for all platform accounts"})]}),s.jsx(se,{variant:"outline",onClick:()=>n(!0),children:"Add Account"})]}),b.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Current Accounts"}),s.jsx(Hc,{className:"flex-1"})]}),b.map(_=>{const j=y(_.status,_.is_current);return s.jsxs(Ce,{className:"border-2 border-green-200 dark:border-green-900 bg-green-50/50 dark:bg-green-950/20",children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:g(_.platform_type),children:_.platform_type}),s.jsxs(ze,{variant:j.variant,className:"flex items-center gap-1",children:[j.icon,j.text]})]}),s.jsx(Ae,{className:"text-lg",children:_.worker_account_id}),s.jsx(ot,{children:_.worker_account_email})]}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>{c(_),i(!0)},children:"Replace"})]})}),s.jsx(Ne,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"font-medium",children:Fe(new Date(_.activated_at),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-muted-foreground",children:"Status Duration"}),s.jsxs("p",{className:"font-medium",children:[Math.floor((new Date().getTime()-new Date(_.activated_at).getTime())/(1e3*60*60*24))," ","days"]})]})]})})]},_.id)})]}),w.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Account History"}),s.jsx(Hc,{className:"flex-1"})]}),s.jsx("div",{className:"space-y-3",children:w.map(_=>{const j=y(_.status,_.is_current);return s.jsxs(Ce,{className:"border-muted",children:[s.jsx(ke,{className:"pb-3",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:g(_.platform_type),children:_.platform_type}),s.jsxs(ze,{variant:j.variant,className:"flex items-center gap-1",children:[j.icon,j.text]})]}),s.jsx(Ae,{className:"text-base",children:_.worker_account_id}),s.jsx(ot,{className:"text-xs",children:_.worker_account_email})]})})}),s.jsxs(Ne,{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Activated"}),s.jsx("p",{className:"text-sm",children:Fe(new Date(_.activated_at),"MMM d, yyyy")})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Deactivated"}),s.jsx("p",{className:"text-sm",children:_.deactivated_at?Fe(new Date(_.deactivated_at),"MMM d, yyyy"):""})]})]}),_.deactivation_reason&&s.jsxs("div",{className:"pt-2 border-t",children:[s.jsx("label",{className:"text-xs text-muted-foreground",children:"Deactivation Reason"}),s.jsx("p",{className:"text-sm mt-1",children:_.deactivation_reason})]}),s.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2",children:s.jsxs("span",{children:["Active for"," ",Math.floor(((_.deactivated_at?new Date(_.deactivated_at).getTime():new Date().getTime())-new Date(_.activated_at).getTime())/(1e3*60*60*24))," ","days"]})})]})]},_.id)})})]}),s.jsx(Ce,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:s.jsx(Ne,{className:"py-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.jsx("strong",{children:"Chain of Custody:"}),' All account changes are permanently recorded. When an account is replaced, the old account is marked as "REPLACED" and the new account becomes active. This ensures complete audit trail for compliance.']})})}),s.jsx(qM,{open:r,onOpenChange:n,workerId:e,workerName:t,onSuccess:()=>{}}),o&&s.jsx(Upe,{open:a,onOpenChange:i,workerId:e,workerName:t,currentAccount:o,onSuccess:()=>{}})]})}function VM({open:e,onOpenChange:t,workerId:r,workerName:n}){const{user:a}=Sr(),{toast:i}=Ul(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState("all"),{data:p=[],refetch:y}=Je({queryKey:["worker-active-project-ids",r],queryFn:async()=>{const{data:O,error:P}=await je.from("worker_assignments").select("project_id").eq("worker_id",r).is("removed_at",null);if(P)throw P;return O.map($=>$.project_id)},enabled:e,staleTime:0}),{data:g,isLoading:b,isError:w}=Je({queryKey:["available-projects",f],queryFn:async()=>{let O=je.from("workforce_projects").select(`
          id,
          project_code,
          project_name,
          status,
          expert_tier,
          department:departments(department_name)
        `).in("status",["active","paused"]).order("project_code",{ascending:!0});f!=="all"&&(O=O.eq("department_id",f));const{data:P,error:$}=await O;if($)throw $;return P},enabled:e}),{data:_=[]}=Je({queryKey:["departments"],queryFn:async()=>{const{data:O,error:P}=await je.from("departments").select("id, department_name").eq("is_active",!0).order("department_name",{ascending:!0});if(P)throw P;return O},enabled:e}),j=pr({mutationFn:async O=>{if(!a)throw new Error("User not authenticated");const P=O.filter(U=>!p.includes(U));if(P.length===0)throw new Error("All selected projects are already assigned to this worker");const $=P.map(U=>({worker_id:r,project_id:U,assigned_at:new Date().toISOString(),assigned_by:a.id})),{data:M,error:L}=await je.from("worker_assignments").insert($).select();if(L)throw L;return M},onSuccess:(O,P)=>{o.invalidateQueries({queryKey:["worker-assignments",r]}),o.invalidateQueries({queryKey:["worker-active-project-ids",r]}),P.forEach($=>{o.invalidateQueries({queryKey:["worker-assignments",$]})}),i({title:"Success",description:`Assigned ${n} to ${P.length} project(s)`}),d([]),t(!1)},onError:O=>{y();const P=O.message.includes("unique")||O.message.includes("duplicate")||O.message.includes("23505");i({title:"Error",description:P?"Some projects are already assigned. The list has been refreshed.":`Failed to assign worker: ${O.message}`,variant:"destructive"})}}),N=g?.filter(O=>!p.includes(O.id))||[],E=O=>{d(P=>P.includes(O)?P.filter($=>$!==O):[...P,O])},k=()=>{c.length===N.length?d([]):d(N.map(O=>O.id))},A=()=>{c.length!==0&&j.mutate(c)},R=O=>{O||(d([]),m("all")),t(O)},T=O=>({active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"})[O]||"outline";return s.jsx(ka,{open:e,onOpenChange:R,children:s.jsxs(sa,{className:"max-w-2xl max-h-[80vh]",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Assign Worker to Projects"}),s.jsxs(ki,{children:["Select projects to assign ",s.jsx("span",{className:"font-semibold",children:n})," to. Only active and paused projects are shown."]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Filter by Department"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"All departments"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Departments"}),_.map(O=>s.jsx(Me,{value:O.id,children:O.department_name},O.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(_e,{children:"Available Projects"}),N.length>0&&s.jsx(se,{type:"button",variant:"ghost",size:"sm",onClick:k,className:"h-8 text-xs",children:c.length===N.length?"Deselect All":"Select All"})]}),b&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"})]}),w&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:"Failed to load projects. Please try again."})}),!b&&N.length===0&&s.jsxs("div",{className:"border rounded-lg p-8 text-center",children:[s.jsx(bs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p.length>0?"All available projects have been assigned to this worker.":"No active or paused projects available."})]}),!b&&N.length>0&&s.jsx(em,{className:"h-[300px] border rounded-lg",children:s.jsx("div",{className:"p-4 space-y-2",children:N.map(O=>s.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg border hover:bg-accent cursor-pointer transition-colors",onClick:()=>E(O.id),children:[s.jsx(No,{checked:c.includes(O.id),onCheckedChange:()=>E(O.id),className:"mt-1"}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-sm",children:O.project_code}),s.jsx(ze,{variant:T(O.status),className:"text-xs",children:O.status}),s.jsx(ze,{variant:"outline",className:"text-xs",children:O.expert_tier})]}),s.jsx("p",{className:"text-sm",children:O.project_name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:O.department.department_name})]})]},O.id))})}),c.length>0&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ze,{variant:"secondary",children:c.length}),s.jsxs("span",{children:["project",c.length!==1?"s":""," selected"]})]})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),s.jsxs(se,{onClick:A,disabled:c.length===0||j.isPending,children:[j.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length>0&&`(${c.length})`]})]})]})})}function qpe({workerId:e,workerName:t="Worker"}){const[r,n]=x.useState(!1),{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["worker-assignments",e],queryFn:async()=>{const{data:b,error:w}=await je.from("worker_assignments").select(`
          *,
          project:workforce_projects(
            id,
            project_code,
            project_name,
            status,
            expert_tier,
            project_teams(
              team:teams(id, team_name)
            )
          ),
          assigned_by_profile:profiles!assigned_by(full_name),
          removed_by_profile:profiles!removed_by(full_name)
        `).eq("worker_id",e).order("assigned_at",{ascending:!1});if(w)throw w;return b}}),d=b=>({active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"})[b]||"outline",f=b=>{if(!b)return"";try{return Fe(new Date(b),"MMM d, yyyy")}catch{return""}},m=b=>{if(!b.assigned_at)return 0;try{const w=b.removed_at?new Date(b.removed_at):new Date,_=new Date(b.assigned_at);return Math.floor((w.getTime()-_.getTime())/(1e3*60*60*24))}catch{return 0}},p=b=>b.project?.project_teams?.map(w=>w.team?.team_name).filter(w=>!!w)||[];if(i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-64 w-full"})]});if(o)return s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load project assignments: ",c?.message||"Unknown error"]})});if(!a||a.length===0)return s.jsxs(s.Fragment,{children:[s.jsx(Ce,{children:s.jsxs(Ne,{className:"py-12 text-center",children:[s.jsx(bs,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Not assigned to any projects yet."}),s.jsx(se,{onClick:()=>n(!0),children:"Assign to Project"})]})}),s.jsx(VM,{open:r,onOpenChange:n,workerId:e,workerName:t})]});const y=a.filter(b=>!b.removed_at),g=a.filter(b=>b.removed_at);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Project Assignments"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current and historical project assignments"})]}),s.jsx(se,{variant:"outline",onClick:()=>n(!0),children:"Assign to Project"})]}),y.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Current Assignments (",y.length,")"]}),s.jsx(Hc,{className:"flex-1"})]}),s.jsx(Ce,{className:"border-2 border-green-200 dark:border-green-900",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Project Code"}),s.jsx(Te,{children:"Project Name"}),s.jsx(Te,{children:"Teams"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Tier"}),s.jsx(Te,{children:"Assigned Date"}),s.jsx(Te,{children:"Days Active"}),s.jsx(Te,{children:"Assigned By"})]})}),s.jsx(Yr,{children:y.map(b=>{const w=p(b);return s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:b.project?.project_code||""}),s.jsx(Oe,{children:b.project?.project_name||""}),s.jsx(Oe,{children:w.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(_=>s.jsx(ze,{variant:"secondary",className:"text-xs",children:_},_))}):s.jsx("span",{className:"text-muted-foreground text-xs",children:""})}),s.jsx(Oe,{children:b.project?.status?s.jsx(ze,{variant:d(b.project.status),children:b.project.status}):""}),s.jsx(Oe,{children:b.project?.expert_tier?s.jsx(ze,{variant:"outline",children:b.project.expert_tier}):""}),s.jsx(Oe,{children:f(b.assigned_at)}),s.jsx(Oe,{children:s.jsxs("span",{className:"text-sm text-muted-foreground",children:[m(b)," days"]})}),s.jsx(Oe,{className:"text-sm text-muted-foreground",children:b.assigned_by_profile?.full_name||"System"})]},b.id)})})]})})]}),g.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:["Past Assignments (",g.length,")"]}),s.jsx(Hc,{className:"flex-1"})]}),s.jsx(Ce,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Project Code"}),s.jsx(Te,{children:"Project Name"}),s.jsx(Te,{children:"Teams"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Assigned Date"}),s.jsx(Te,{children:"Removed Date"}),s.jsx(Te,{children:"Duration"}),s.jsx(Te,{children:"Removed By"})]})}),s.jsx(Yr,{children:g.map(b=>{const w=p(b);return s.jsxs(vt,{className:"text-muted-foreground",children:[s.jsx(Oe,{className:"font-medium",children:b.project?.project_code||""}),s.jsx(Oe,{children:b.project?.project_name||""}),s.jsx(Oe,{children:w.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:w.map(_=>s.jsx(ze,{variant:"secondary",className:"text-xs opacity-70",children:_},_))}):s.jsx("span",{className:"text-xs",children:""})}),s.jsx(Oe,{children:s.jsx(ze,{variant:"outline",className:"opacity-70",children:"removed"})}),s.jsx(Oe,{children:f(b.assigned_at)}),s.jsx(Oe,{children:f(b.removed_at)}),s.jsx(Oe,{children:s.jsxs("span",{className:"text-sm",children:[m(b)," days"]})}),s.jsx(Oe,{className:"text-sm",children:b.removed_by_profile?.full_name||"System"})]},b.id)})})]})})]}),a.length>0&&s.jsxs(Ce,{className:"border-blue-200 dark:border-blue-900 bg-blue-50/50 dark:bg-blue-950/20",children:[s.jsx(ke,{children:s.jsx(Ae,{className:"text-sm",children:"Assignment Statistics"})}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:a.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Assignments"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:y.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently Active"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:Math.round(a.reduce((b,w)=>b+m(w),0)/a.length)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Avg. Days per Assignment"})]})]})})]}),s.jsx(VM,{open:r,onOpenChange:n,workerId:e,workerName:t})]})}function Vpe({workerId:e,workerName:t}){const{data:r,isLoading:n}=Je({queryKey:["worker-activity-assignments",e],queryFn:async()=>{const{data:p,error:y}=await je.from("worker_assignments").select(`
          id,
          project_id,
          assigned_at,
          removed_at,
          assigned_by,
          removed_by,
          project:workforce_projects(project_code, project_name)
        `).eq("worker_id",e).order("assigned_at",{ascending:!1}).limit(20);if(y)throw y;return p}}),{data:a,isLoading:i}=Je({queryKey:["worker-activity-accounts",e],queryFn:async()=>{const{data:p,error:y}=await je.from("worker_accounts").select("*").eq("worker_id",e).order("created_at",{ascending:!1});if(y)throw y;return p}}),o=[];if(r&&r.forEach(p=>{o.push({type:"assignment",timestamp:p.assigned_at,action:"assigned",data:p}),p.removed_at&&o.push({type:"assignment",timestamp:p.removed_at,action:"removed",data:p})}),a&&a.forEach(p=>{o.push({type:"account",timestamp:p.activated_at||p.created_at,action:"account_created",data:p}),p.deactivated_at&&o.push({type:"account",timestamp:p.deactivated_at,action:"account_deactivated",data:p})}),o.sort((p,y)=>new Date(y.timestamp).getTime()-new Date(p.timestamp).getTime()),n||i)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"})]});if(o.length===0)return s.jsx(Ce,{children:s.jsxs(Ne,{className:"py-12 text-center",children:[s.jsx(Hh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No activity history yet."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Activity will appear here as ",t," is assigned to projects or accounts are managed."]})]})});const d=p=>{switch(p.action){case"assigned":return s.jsx(zc,{className:"h-4 w-4"});case"removed":return s.jsx(zc,{className:"h-4 w-4"});case"account_created":return s.jsx(xN,{className:"h-4 w-4"});case"account_deactivated":return s.jsx(ia,{className:"h-4 w-4"});default:return s.jsx(yN,{className:"h-4 w-4"})}},f=p=>{switch(p.action){case"assigned":return"text-green-600";case"removed":return"text-orange-600";case"account_created":return"text-blue-600";case"account_deactivated":return"text-red-600";default:return"text-gray-600"}},m=p=>{switch(p.action){case"assigned":return s.jsxs(s.Fragment,{children:["Assigned to project"," ",s.jsxs("span",{className:"font-medium",children:[p.data.project?.project_code," - ",p.data.project?.project_name]})]});case"removed":return s.jsxs(s.Fragment,{children:["Removed from project"," ",s.jsxs("span",{className:"font-medium",children:[p.data.project?.project_code," - ",p.data.project?.project_name]})]});case"account_created":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:p.data.platform_type})," account created"]});case"account_deactivated":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"font-medium",children:p.data.platform_type})," account deactivated",p.data.deactivation_reason&&s.jsxs("span",{className:"text-muted-foreground",children:[" ","(",p.data.deactivation_reason.replace(/_/g," "),")"]})]});default:return"Activity"}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Activity Timeline"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Recent activity and changes for ",t]})]}),s.jsxs(ht,{children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{className:"text-sm",children:[s.jsx("strong",{children:"Note:"})," User attribution (who made changes) will be available once the database migration for audit fields is applied. Currently showing timestamps and actions only."]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(Hh,{className:"h-5 w-5"}),"Recent Activity"]}),s.jsxs(ot,{children:["Showing last ",o.length," activities"]})]}),s.jsx(Ne,{children:s.jsx("div",{className:"space-y-6",children:o.map((p,y)=>s.jsx("div",{children:s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`rounded-full p-2 ${f(p)} bg-background border-2`,children:d(p)}),y<o.length-1&&s.jsx("div",{className:"w-0.5 flex-1 bg-border mt-2",style:{minHeight:"2rem"}})]}),s.jsx("div",{className:"flex-1 pb-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm",children:m(p)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:Fe(new Date(p.timestamp),"MMMM d, yyyy h:mm a")})]}),s.jsx(ze,{variant:p.action==="assigned"||p.action==="account_created"?"default":"outline",className:"text-xs",children:p.action.replace(/_/g," ")})]})})]})},`${p.type}-${p.timestamp}-${y}`))})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-3",children:s.jsx(Ae,{className:"text-sm font-medium",children:"Total Assignments"})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r?.length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Project assignments"})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-3",children:s.jsx(Ae,{className:"text-sm font-medium",children:"Active Assignments"})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:r?.filter(p=>!p.removed_at).length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-3",children:s.jsx(Ae,{className:"text-sm font-medium",children:"Platform Accounts"})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:a?.length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Total accounts"})]})]})]})]})}var Hpe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function mE(e){if(typeof e!="string")return!1;var t=Hpe;return t.includes(e)}var Wpe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Kpe=new Set(Wpe);function n5(e){return typeof e!="string"?!1:Kpe.has(e)}function a5(e){return typeof e=="string"&&e.startsWith("data-")}function Qa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n5(r)||a5(r))&&(t[r]=e[r]);return t}function Lm(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Qa(t)}return typeof e=="object"&&!Array.isArray(e)?Qa(e):null}function Xn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n5(r)||a5(r)||mE(r))&&(t[r]=e[r]);return t}function Gpe(e){return e==null?null:x.isValidElement(e)?Xn(e.props):typeof e=="object"&&!Array.isArray(e)?Xn(e):null}var Ype=["children","width","height","viewBox","className","style","title","desc"];function D1(){return D1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D1.apply(null,arguments)}function Zpe(e,t){if(e==null)return{};var r,n,a=Xpe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i5=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:c,title:d,desc:f}=e,m=Zpe(e,Ype),p=i||{width:n,height:a,x:0,y:0},y=Kt("recharts-surface",o);return x.createElement("svg",D1({},Xn(m),{className:y,width:n,height:a,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:t}),x.createElement("title",null,d),x.createElement("desc",null,f),r)}),Qpe=["children","className"];function M1(){return M1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M1.apply(null,arguments)}function Jpe(e,t){if(e==null)return{};var r,n,a=ege(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ege(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qn=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Jpe(e,Qpe),i=Kt("recharts-layer",n);return x.createElement("g",M1({className:i},Xn(a),{ref:t}),r)}),tge=x.createContext(null);function cr(e){return function(){return e}}const s5=Math.cos,ly=Math.sin,ss=Math.sqrt,cy=Math.PI,Kx=2*cy,I1=Math.PI,$1=2*I1,gc=1e-6,rge=$1-gc;function o5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nge(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return o5;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class age{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?o5:nge(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,c=this._y1,d=n-t,f=a-r,m=o-t,p=c-r,y=m*m+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(y>gc)if(!(Math.abs(p*d-f*m)>gc)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let g=n-o,b=a-c,w=d*d+f*f,_=g*g+b*b,j=Math.sqrt(w),N=Math.sqrt(y),E=i*Math.tan((I1-Math.acos((w+y-_)/(2*j*N)))/2),k=E/N,A=E/j;Math.abs(k-1)>gc&&this._append`L${t+k*m},${r+k*p}`,this._append`A${i},${i},0,0,${+(p*g>m*b)},${this._x1=t+A*d},${this._y1=r+A*f}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(a),d=n*Math.sin(a),f=t+c,m=r+d,p=1^o,y=o?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>gc||Math.abs(this._y1-m)>gc)&&this._append`L${f},${m}`,n&&(y<0&&(y=y%$1+$1),y>rge?this._append`A${n},${n},0,1,${p},${t-c},${r-d}A${n},${n},0,1,${p},${this._x1=f},${this._y1=m}`:y>gc&&this._append`A${n},${n},0,${+(y>=I1)},${p},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function pE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new age(t)}function gE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l5(e){this._context=e}l5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gx(e){return new l5(e)}function c5(e){return e[0]}function u5(e){return e[1]}function d5(e,t){var r=cr(!0),n=null,a=Gx,i=null,o=pE(c);e=typeof e=="function"?e:e===void 0?c5:cr(e),t=typeof t=="function"?t:t===void 0?u5:cr(t);function c(d){var f,m=(d=gE(d)).length,p,y=!1,g;for(n==null&&(i=a(g=o())),f=0;f<=m;++f)!(f<m&&r(p=d[f],f,d))===y&&((y=!y)?i.lineStart():i.lineEnd()),y&&i.point(+e(p,f,d),+t(p,f,d));if(g)return i=null,g+""||null}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:cr(+d),c):e},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:cr(+d),c):t},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:cr(!!d),c):r},c.curve=function(d){return arguments.length?(a=d,n!=null&&(i=a(n)),c):a},c.context=function(d){return arguments.length?(d==null?n=i=null:i=a(n=d),c):n},c}function Jg(e,t,r){var n=null,a=cr(!0),i=null,o=Gx,c=null,d=pE(f);e=typeof e=="function"?e:e===void 0?c5:cr(+e),t=typeof t=="function"?t:cr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?u5:cr(+r);function f(p){var y,g,b,w=(p=gE(p)).length,_,j=!1,N,E=new Array(w),k=new Array(w);for(i==null&&(c=o(N=d())),y=0;y<=w;++y){if(!(y<w&&a(_=p[y],y,p))===j)if(j=!j)g=y,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=y-1;b>=g;--b)c.point(E[b],k[b]);c.lineEnd(),c.areaEnd()}j&&(E[y]=+e(_,y,p),k[y]=+t(_,y,p),c.point(n?+n(_,y,p):E[y],r?+r(_,y,p):k[y]))}if(N)return c=null,N+""||null}function m(){return d5().defined(a).curve(o).context(i)}return f.x=function(p){return arguments.length?(e=typeof p=="function"?p:cr(+p),n=null,f):e},f.x0=function(p){return arguments.length?(e=typeof p=="function"?p:cr(+p),f):e},f.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:cr(+p),f):n},f.y=function(p){return arguments.length?(t=typeof p=="function"?p:cr(+p),r=null,f):t},f.y0=function(p){return arguments.length?(t=typeof p=="function"?p:cr(+p),f):t},f.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:cr(+p),f):r},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(r)},f.lineX1=function(){return m().x(n).y(t)},f.defined=function(p){return arguments.length?(a=typeof p=="function"?p:cr(!!p),f):a},f.curve=function(p){return arguments.length?(o=p,i!=null&&(c=o(i)),f):o},f.context=function(p){return arguments.length?(p==null?i=c=null:c=o(i=p),f):i},f}class f5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ige(e){return new f5(e,!0)}function sge(e){return new f5(e,!1)}const vE={draw(e,t){const r=ss(t/cy);e.moveTo(r,0),e.arc(0,0,r,0,Kx)}},oge={draw(e,t){const r=ss(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},h5=ss(1/3),lge=h5*2,cge={draw(e,t){const r=ss(t/lge),n=r*h5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},uge={draw(e,t){const r=ss(t),n=-r/2;e.rect(n,n,r,r)}},dge=.8908130915292852,m5=ly(cy/10)/ly(7*cy/10),fge=ly(Kx/10)*m5,hge=-s5(Kx/10)*m5,mge={draw(e,t){const r=ss(t*dge),n=fge*r,a=hge*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Kx*i/5,c=s5(o),d=ly(o);e.lineTo(d*r,-c*r),e.lineTo(c*n-d*a,d*n+c*a)}e.closePath()}},G_=ss(3),pge={draw(e,t){const r=-ss(t/(G_*3));e.moveTo(0,r*2),e.lineTo(-G_*r,-r),e.lineTo(G_*r,-r),e.closePath()}},pi=-.5,gi=ss(3)/2,L1=1/ss(12),gge=(L1/2+1)*3,vge={draw(e,t){const r=ss(t/gge),n=r/2,a=r*L1,i=n,o=r*L1+r,c=-i,d=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(c,d),e.lineTo(pi*n-gi*a,gi*n+pi*a),e.lineTo(pi*i-gi*o,gi*i+pi*o),e.lineTo(pi*c-gi*d,gi*c+pi*d),e.lineTo(pi*n+gi*a,pi*a-gi*n),e.lineTo(pi*i+gi*o,pi*o-gi*i),e.lineTo(pi*c+gi*d,pi*d-gi*c),e.closePath()}};function yge(e,t){let r=null,n=pE(a);e=typeof e=="function"?e:cr(e||vE),t=typeof t=="function"?t:cr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:cr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:cr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function uy(){}function dy(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function p5(e){this._context=e}p5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:dy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xge(e){return new p5(e)}function g5(e){this._context=e}g5.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bge(e){return new g5(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:dy(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wge(e){return new v5(e)}function y5(e){this._context=e}y5.prototype={areaStart:uy,areaEnd:uy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function _ge(e){return new y5(e)}function HM(e){return e<0?-1:1}function WM(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),c=(i*a+o*n)/(n+a);return(HM(i)+HM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(c))||0}function KM(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Y_(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,c=(i-n)/3;e._context.bezierCurveTo(n+c,a+c*t,i-c,o-c*r,i,o)}function fy(e){this._context=e}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y_(this,this._t0,KM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Y_(this,KM(this,r=WM(this,e,t)),r);break;default:Y_(this,this._t0,r=WM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function x5(e){this._context=new b5(e)}(x5.prototype=Object.create(fy.prototype)).point=function(e,t){fy.prototype.point.call(this,t,e)};function b5(e){this._context=e}b5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function jge(e){return new fy(e)}function Sge(e){return new x5(e)}function w5(e){this._context=e}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=GM(e),a=GM(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function GM(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Cge(e){return new w5(e)}function Yx(e,t){this._context=e,this._t=t}Yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Nge(e){return new Yx(e,.5)}function Ege(e){return new Yx(e,0)}function kge(e){return new Yx(e,1)}function Wc(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,c=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<c;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function z1(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Age(e,t){return e[t]}function Oge(e){const t=[];return t.key=e,t}function Tge(){var e=cr([]),t=z1,r=Wc,n=Age;function a(i){var o=Array.from(e.apply(this,arguments),Oge),c,d=o.length,f=-1,m;for(const p of i)for(c=0,++f;c<d;++c)(o[c][f]=[0,+n(p,o[c].key,f,i)]).data=p;for(c=0,m=gE(t(o));c<d;++c)o[m[c]].index=c;return r(o,m),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:cr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:cr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?z1:typeof i=="function"?i:cr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Wc,a):r},a}function Rge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Wc(e,t)}}function Pge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,c=0;o<a;++o)c+=e[o][r][1]||0;n[r][1]+=n[r][0]=-c/2}Wc(e,t)}}function Dge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var c=0,d=0,f=0;c<o;++c){for(var m=e[t[c]],p=m[n][1]||0,y=m[n-1][1]||0,g=(p-y)/2,b=0;b<c;++b){var w=e[t[b]],_=w[n][1]||0,j=w[n-1][1]||0;g+=_-j}d+=p,f+=g*p}a[n-1][1]+=a[n-1][0]=r,d&&(r-=f/d)}a[n-1][1]+=a[n-1][0]=r,Wc(e,t)}}var Z_={},X_={},YM;function Mge(){return YM||(YM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(X_)),X_}var Q_={},ZM;function _5(){return ZM||(ZM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Q_)),Q_}var J_={},XM;function yE(){return XM||(XM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(J_)),J_}var ej={},tj={},QM;function Ige(){return QM||(QM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(tj)),tj}var JM;function xE(){return JM||(JM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ige(),r=yE();function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let c=0,d="",f="",m=!1;for(a.charCodeAt(0)===46&&(i.push(""),c++);c<o;){const p=a[c];f?p==="\\"&&c+1<o?(c++,d+=a[c]):p===f?f="":d+=p:m?p==='"'||p==="'"?f=p:p==="]"?(m=!1,i.push(d),d=""):d+=p:p==="["?(m=!0,d&&(i.push(d),d="")):p==="."?d&&(i.push(d),d=""):d+=p,c++}return d&&i.push(d),i}e.toPath=n})(ej)),ej}var e2;function bE(){return e2||(e2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mge(),r=_5(),n=yE(),a=xE();function i(c,d,f){if(c==null)return f;switch(typeof d){case"string":{if(t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?r.isDeepKey(d)?i(c,a.toPath(d),f):f:m}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const m=c[d];return m===void 0?f:m}default:{if(Array.isArray(d))return o(c,d,f);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),t.isUnsafeProperty(d))return f;const m=c[d];return m===void 0?f:m}}}function o(c,d,f){if(d.length===0)return f;let m=c;for(let p=0;p<d.length;p++){if(m==null||t.isUnsafeProperty(d[p]))return f;m=m[d[p]]}return m===void 0?f:m}e.get=i})(Z_)),Z_}var rj,t2;function $ge(){return t2||(t2=1,rj=bE().get),rj}var Lge=$ge();const Od=ti(Lge);var zge=4;function Sl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zge,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Lr(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var c=r[o-1];return typeof c=="string"?a+c+i:c!==void 0?a+Sl(c)+i:a+i},"")}var Na=e=>e===0?0:e>0?1:-1,Ai=e=>typeof e=="number"&&e!=+e,Eo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ue=e=>(typeof e=="number"||e instanceof Number)&&!Ai(e),Es=e=>Ue(e)||typeof e=="string",Fge=0,tm=e=>{var t=++Fge;return"".concat(e||"").concat(t)},ts=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ue(t)&&typeof t!="string")return n;var i;if(Eo(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Ai(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},j5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function rr(e,t,r){return Ue(e)&&Ue(t)?Sl(e+r*(t-e)):t}function S5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Od(n,t))===r)}var gr=e=>e===null||typeof e>"u",zm=e=>gr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Uge(e){return e!=null}function Fm(){}var Bge=["type","size","sizeType"];function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F1.apply(null,arguments)}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){qge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qge(e,t,r){return(t=Vge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vge(e){var t=Hge(e,"string");return typeof t=="symbol"?t:t+""}function Hge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wge(e,t){if(e==null)return{};var r,n,a=Kge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kge(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C5={symbolCircle:vE,symbolCross:oge,symbolDiamond:cge,symbolSquare:uge,symbolStar:mge,symbolTriangle:pge,symbolWye:vge},Gge=Math.PI/180,Yge=e=>{var t="symbol".concat(zm(e));return C5[t]||vE},Zge=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Gge;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Xge=(e,t)=>{C5["symbol".concat(zm(e))]=t},N5=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Wge(e,Bge),i=n2(n2({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var c=()=>{var y=Yge(o),g=yge().type(y).size(Zge(r,n,o)),b=g();if(b!==null)return b},{className:d,cx:f,cy:m}=i,p=Xn(i);return Ue(f)&&Ue(m)&&Ue(r)?x.createElement("path",F1({},p,{className:Kt("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};N5.registerSymbol=Xge;var E5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,wE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{mE(a)&&(n[a]=(i=>r[a](r,i)))}),n},Qge=(e,t,r)=>n=>(e(t,r,n),null),_E=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];mE(a)&&typeof i=="function"&&(n||(n={}),n[a]=Qge(i,t,r))}),n};function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){eve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eve(e,t,r){return(t=tve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tve(e){var t=rve(e,"string");return typeof t=="symbol"?t:t+""}function rve(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(e,t){var r=Jge({},e),n=t,a=Object.keys(t),i=a.reduce((o,c)=>(o[c]===void 0&&n[c]!==void 0&&(o[c]=n[c]),o),r);return i}var nj={},aj={},i2;function nve(){return i2||(i2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],c=n(o);a.has(c)||a.set(c,o)}return Array.from(a.values())}e.uniqBy=t})(aj)),aj}var ij={},s2;function k5(){return s2||(s2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ij)),ij}var sj={},oj={},lj={},o2;function ave(){return o2||(o2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lj)),lj}var l2;function jE(){return l2||(l2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ave();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(oj)),oj}var cj={},c2;function ive(){return c2||(c2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cj)),cj}var u2;function sve(){return u2||(u2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE(),r=ive();function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(sj)),sj}var uj={},dj={},d2;function ove(){return d2||(d2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bE();function r(n){return function(a){return t.get(a,n)}}e.property=r})(dj)),dj}var fj={},hj={},mj={},pj={},f2;function A5(){return f2||(f2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pj)),pj}var gj={},h2;function O5(){return h2||(h2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(gj)),gj}var vj={},m2;function T5(){return m2||(m2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vj)),vj}var p2;function lve(){return p2||(p2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A5(),r=O5(),n=T5();function a(m,p,y){return typeof y!="function"?a(m,p,()=>{}):i(m,p,function g(b,w,_,j,N,E){const k=y(b,w,_,j,N,E);return k!==void 0?!!k:i(b,w,g,E)},new Map)}function i(m,p,y,g){if(p===m)return!0;switch(typeof p){case"object":return o(m,p,y,g);case"function":return Object.keys(p).length>0?i(m,{...p},y,g):n.eq(m,p);default:return t.isObject(m)?typeof p=="string"?p==="":!0:n.eq(m,p)}}function o(m,p,y,g){if(p==null)return!0;if(Array.isArray(p))return d(m,p,y,g);if(p instanceof Map)return c(m,p,y,g);if(p instanceof Set)return f(m,p,y,g);const b=Object.keys(p);if(m==null||r.isPrimitive(m))return b.length===0;if(b.length===0)return!0;if(g?.has(p))return g.get(p)===m;g?.set(p,m);try{for(let w=0;w<b.length;w++){const _=b[w];if(!r.isPrimitive(m)&&!(_ in m)||p[_]===void 0&&m[_]!==void 0||p[_]===null&&m[_]!==null||!y(m[_],p[_],_,m,p,g))return!1}return!0}finally{g?.delete(p)}}function c(m,p,y,g){if(p.size===0)return!0;if(!(m instanceof Map))return!1;for(const[b,w]of p.entries()){const _=m.get(b);if(y(_,w,b,m,p,g)===!1)return!1}return!0}function d(m,p,y,g){if(p.length===0)return!0;if(!Array.isArray(m))return!1;const b=new Set;for(let w=0;w<p.length;w++){const _=p[w];let j=!1;for(let N=0;N<m.length;N++){if(b.has(N))continue;const E=m[N];let k=!1;if(y(E,_,w,m,p,g)&&(k=!0),k){b.add(N),j=!0;break}}if(!j)return!1}return!0}function f(m,p,y,g){return p.size===0?!0:m instanceof Set?d([...m],[...p],y,g):!1}e.isMatchWith=a,e.isSetMatch=f})(mj)),mj}var g2;function R5(){return g2||(g2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lve();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(hj)),hj}var yj={},xj={},bj={},v2;function cve(){return v2||(v2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(bj)),bj}var wj={},y2;function P5(){return y2||(y2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(wj)),wj}var _j={},x2;function D5(){return x2||(x2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",f="[object Set]",m="[object Array]",p="[object Function]",y="[object ArrayBuffer]",g="[object Object]",b="[object Error]",w="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",N="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",A="[object Int8Array]",R="[object Int16Array]",T="[object Int32Array]",O="[object BigInt64Array]",P="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=y,e.arrayTag=m,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=w,e.dateTag=c,e.errorTag=b,e.float32ArrayTag=P,e.float64ArrayTag=$,e.functionTag=p,e.int16ArrayTag=R,e.int32ArrayTag=T,e.int8ArrayTag=A,e.mapTag=d,e.numberTag=n,e.objectTag=g,e.regexpTag=t,e.setTag=f,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=N,e.uint32ArrayTag=E,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=j})(_j)),_j}var jj={},b2;function uve(){return b2||(b2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(jj)),jj}var w2;function M5(){return w2||(w2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cve(),r=P5(),n=D5(),a=O5(),i=uve();function o(m,p){return c(m,void 0,m,new Map,p)}function c(m,p,y,g=new Map,b=void 0){const w=b?.(m,p,y,g);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(g.has(m))return g.get(m);if(Array.isArray(m)){const _=new Array(m.length);g.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,y,g,b);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;g.set(m,_);for(const[j,N]of m)_.set(j,c(N,j,y,g,b));return _}if(m instanceof Set){const _=new Set;g.set(m,_);for(const j of m)_.add(c(j,void 0,y,g,b));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(i.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);g.set(m,_);for(let j=0;j<m.length;j++)_[j]=c(m[j],j,y,g,b);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return g.set(m,_),d(_,m,y,g,b),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return g.set(m,_),d(_,m,y,g,b),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof Error){const _=new m.constructor;return g.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,d(_,m,y,g,b),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof Number){const _=new Number(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(m instanceof String){const _=new String(m.valueOf());return g.set(m,_),d(_,m,y,g,b),_}if(typeof m=="object"&&f(m)){const _=Object.create(Object.getPrototypeOf(m));return g.set(m,_),d(_,m,y,g,b),_}return m}function d(m,p,y=m,g,b){const w=[...Object.keys(p),...t.getSymbols(p)];for(let _=0;_<w.length;_++){const j=w[_],N=Object.getOwnPropertyDescriptor(m,j);(N==null||N.writable)&&(m[j]=c(p[j],j,y,g,b))}}function f(m){switch(r.getTag(m)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=c,e.copyProperties=d})(xj)),xj}var _2;function dve(){return _2||(_2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M5();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(yj)),yj}var j2;function fve(){return j2||(j2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5(),r=dve();function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(fj)),fj}var Sj={},Cj={},Nj={},S2;function hve(){return S2||(S2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M5(),r=D5();function n(a,i){return t.cloneDeepWith(a,(o,c,d,f)=>{const m=i?.(o,c,d,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new a.constructor(a?.valueOf());return t.copyProperties(p,a),p}case r.argumentsTag:{const p={};return t.copyProperties(p,a),p.length=a.length,p[Symbol.iterator]=a[Symbol.iterator],p}default:return}})}e.cloneDeepWith=n})(Nj)),Nj}var C2;function mve(){return C2||(C2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hve();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Cj)),Cj}var Ej={},kj={},N2;function I5(){return N2||(N2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(kj)),kj}var Aj={},E2;function pve(){return E2||(E2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Aj)),Aj}var k2;function gve(){return k2||(k2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_5(),r=I5(),n=pve(),a=xE();function i(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&t.isDeepKey(c)&&o?.[c]==null?d=a.toPath(c):d=[c],d.length===0)return!1;let f=o;for(let m=0;m<d.length;m++){const p=d[m];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||n.isArguments(f))&&r.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}e.has=i})(Ej)),Ej}var A2;function vve(){return A2||(A2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5(),r=yE(),n=mve(),a=bE(),i=gve();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(f){const m=a.get(f,c);return m===void 0?i.has(f,c):d===void 0?m===void 0:t.isMatch(m,d)}}e.matchesProperty=o})(Sj)),Sj}var O2;function yve(){return O2||(O2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k5(),r=ove(),n=fve(),a=vve();function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(uj)),uj}var T2;function xve(){return T2||(T2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nve(),r=k5(),n=sve(),a=yve();function i(o,c=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),a.iteratee(c)):[]}e.uniqBy=i})(nj)),nj}var Oj,R2;function bve(){return R2||(R2=1,Oj=xve().uniqBy),Oj}var wve=bve();const P2=ti(wve);function _ve(e,t,r){return t===!0?P2(e,r):typeof t=="function"?P2(e,t):e}var Tj={exports:{}},Rj={},Pj={exports:{}},Dj={};var D2;function jve(){if(D2)return Dj;D2=1;var e=$d();function t(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,a=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function c(p,y){var g=y(),b=n({inst:{value:g,getSnapshot:y}}),w=b[0].inst,_=b[1];return i(function(){w.value=g,w.getSnapshot=y,d(w)&&_({inst:w})},[p,g,y]),a(function(){return d(w)&&_({inst:w}),p(function(){d(w)&&_({inst:w})})},[p]),o(g),g}function d(p){var y=p.getSnapshot;p=p.value;try{var g=y();return!r(p,g)}catch{return!0}}function f(p,y){return y()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:c;return Dj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,Dj}var M2;function $5(){return M2||(M2=1,Pj.exports=jve()),Pj.exports}var I2;function Sve(){if(I2)return Rj;I2=1;var e=$d(),t=$5();function r(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:r,a=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,c=e.useMemo,d=e.useDebugValue;return Rj.useSyncExternalStoreWithSelector=function(f,m,p,y,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=c(function(){function j(R){if(!N){if(N=!0,E=R,R=y(R),g!==void 0&&w.hasValue){var T=w.value;if(g(T,R))return k=T}return k=R}if(T=k,n(E,R))return T;var O=y(R);return g!==void 0&&g(T,O)?(E=R,T):(E=R,k=O)}var N=!1,E,k,A=p===void 0?null:p;return[function(){return j(m())},A===null?void 0:function(){return j(A())}]},[m,p,y,g]);var _=a(f,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=_},[_]),d(_),_},Rj}var $2;function Cve(){return $2||($2=1,Tj.exports=Sve()),Tj.exports}var Nve=Cve(),SE=x.createContext(null),Eve=e=>e,Xr=()=>{var e=x.useContext(SE);return e?e.store.dispatch:Eve},Nv=()=>{},kve=()=>Nv,Ave=(e,t)=>e===t;function tt(e){var t=x.useContext(SE);return Nve.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:kve,t?t.store.getState:Nv,t?t.store.getState:Nv,t?e:Nv,Ave)}function Ove(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Tve(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Rve(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var L2=e=>Array.isArray(e)?e:[e];function Pve(e){const t=Array.isArray(e[0])?e[0]:e;return Rve(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Dve(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var Mve=class{constructor(e){this.value=e}deref(){return this.value}},Ive=typeof WeakRef<"u"?WeakRef:Mve,$ve=0,z2=1;function ev(){return{s:$ve,v:void 0,o:null,p:null}}function L5(e,t={}){let r=ev();const{resultEqualityCheck:n}=t;let a,i=0;function o(){let c=r;const{length:d}=arguments;for(let p=0,y=d;p<y;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const w=b.get(g);w===void 0?(c=ev(),b.set(g,c)):c=w}else{let b=c.p;b===null&&(c.p=b=new Map);const w=b.get(g);w===void 0?(c=ev(),b.set(g,c)):c=w}}const f=c;let m;if(c.s===z2)m=c.v;else if(m=e.apply(null,arguments),i++,n){const p=a?.deref?.()??a;p!=null&&n(p,m)&&(m=p,i!==0&&i--),a=typeof m=="object"&&m!==null||typeof m=="function"?new Ive(m):m}return f.s=z2,f.v=m,m}return o.clearCache=()=>{r=ev(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function Lve(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,c,d={},f=a.pop();typeof f=="object"&&(d=f,f=a.pop()),Ove(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...r,...d},{memoize:p,memoizeOptions:y=[],argsMemoize:g=L5,argsMemoizeOptions:b=[]}=m,w=L2(y),_=L2(b),j=Pve(a),N=p(function(){return i++,f.apply(null,arguments)},...w),E=g(function(){o++;const A=Dve(j,arguments);return c=N.apply(null,A),c},..._);return Object.assign(E,{resultFunc:f,memoizedResultFunc:N,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var he=Lve(L5),zve=Object.assign((e,t=he)=>{Tve(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,c,d)=>(o[r[d]]=c,o),{}))},{withTypes:()=>zve}),Mj={},Ij={},$j={},F2;function Fve(){return F2||(F2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),c=t(a);if(o===c&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?c-o:o-c}return 0};e.compareValues=r})($j)),$j}var Lj={},zj={},U2;function z5(){return U2||(U2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zj)),zj}var B2;function Uve(){return B2||(B2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(Lj)),Lj}var q2;function Bve(){return q2||(q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fve(),r=Uve(),n=xE();function a(i,o,c,d){if(i==null)return[];c=d?void 0:c,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const f=(g,b)=>{let w=g;for(let _=0;_<b.length&&w!=null;++_)w=w[b[_]];return w},m=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:f(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?f(b,g):typeof b=="object"?b[g]:b,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return i.map(g=>({original:g,criteria:p.map(b=>m(b,g))})).slice().sort((g,b)=>{for(let w=0;w<p.length;w++){const _=t.compareValues(g.criteria[w],b.criteria[w],c[w]);if(_!==0)return _}return 0}).map(g=>g.original)}e.orderBy=a})(Ij)),Ij}var Fj={},V2;function qve(){return V2||(V2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(c,d)=>{for(let f=0;f<c.length;f++){const m=c[f];Array.isArray(m)&&d<i?o(m,d+1):a.push(m)}};return o(r,0),a}e.flatten=t})(Fj)),Fj}var Uj={},H2;function F5(){return H2||(H2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I5(),r=jE(),n=A5(),a=T5();function i(o,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&t.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?a.eq(d[c],o):!1}e.isIterateeCall=i})(Uj)),Uj}var W2;function Vve(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bve(),r=qve(),n=F5();function a(i,...o){const c=o.length;return c>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:c>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(Mj)),Mj}var Bj,K2;function Hve(){return K2||(K2=1,Bj=Vve().sortBy),Bj}var Wve=Hve();const Zx=ti(Wve);var U5=e=>e.legend.settings,Kve=e=>e.legend.size,Gve=e=>e.legend.payload;he([Gve,U5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Zx(n,r):n});var tv=1;function Yve(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>tv||Math.abs(o.left-t.left)>tv||Math.abs(o.top-t.top)>tv||Math.abs(o.width-t.width)>tv)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function zn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Zve=typeof Symbol=="function"&&Symbol.observable||"@@observable",G2=Zve,qj=()=>Math.random().toString(36).substring(7).split("").join("."),Xve={INIT:`@@redux/INIT${qj()}`,REPLACE:`@@redux/REPLACE${qj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qj()}`},hy=Xve;function CE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function B5(e,t,r){if(typeof e!="function")throw new Error(zn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(zn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(zn(1));return r(B5)(e,t)}let n=e,a=t,i=new Map,o=i,c=0,d=!1;function f(){o===i&&(o=new Map,i.forEach((_,j)=>{o.set(j,_)}))}function m(){if(d)throw new Error(zn(3));return a}function p(_){if(typeof _!="function")throw new Error(zn(4));if(d)throw new Error(zn(5));let j=!0;f();const N=c++;return o.set(N,_),function(){if(j){if(d)throw new Error(zn(6));j=!1,f(),o.delete(N),i=null}}}function y(_){if(!CE(_))throw new Error(zn(7));if(typeof _.type>"u")throw new Error(zn(8));if(typeof _.type!="string")throw new Error(zn(17));if(d)throw new Error(zn(9));try{d=!0,a=n(a,_)}finally{d=!1}return(i=o).forEach(N=>{N()}),_}function g(_){if(typeof _!="function")throw new Error(zn(10));n=_,y({type:hy.REPLACE})}function b(){const _=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(zn(11));function N(){const k=j;k.next&&k.next(m())}return N(),{unsubscribe:_(N)}},[G2](){return this}}}return y({type:hy.INIT}),{dispatch:y,subscribe:p,getState:m,replaceReducer:g,[G2]:b}}function Qve(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hy.INIT})>"u")throw new Error(zn(12));if(typeof r(void 0,{type:hy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(zn(13))})}function q5(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{Qve(r)}catch(i){a=i}return function(o={},c){if(a)throw a;let d=!1;const f={};for(let m=0;m<n.length;m++){const p=n[m],y=r[p],g=o[p],b=y(g,c);if(typeof b>"u")throw c&&c.type,new Error(zn(14));f[p]=b,d=d||b!==g}return d=d||n.length!==Object.keys(o).length,d?f:o}}function my(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Jve(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(zn(15))};const o={getState:a.getState,dispatch:(d,...f)=>i(d,...f)},c=e.map(d=>d(o));return i=my(...c)(a.dispatch),{...a,dispatch:i}}}function V5(e){return CE(e)&&"type"in e&&typeof e.type=="string"}var H5=Symbol.for("immer-nothing"),Y2=Symbol.for("immer-draftable"),ca=Symbol.for("immer-state");function Hi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ka=Object,Td=Ka.getPrototypeOf,py="constructor",Xx="prototype",U1="configurable",gy="enumerable",Ev="writable",rm="value",ko=e=>!!e&&!!e[ca];function rs(e){return e?W5(e)||Jx(e)||!!e[Y2]||!!e[py]?.[Y2]||e0(e)||t0(e):!1}var eye=Ka[Xx][py].toString(),Z2=new WeakMap;function W5(e){if(!e||!NE(e))return!1;const t=Td(e);if(t===null||t===Ka[Xx])return!0;const r=Ka.hasOwnProperty.call(t,py)&&t[py];if(r===Object)return!0;if(!dd(r))return!1;let n=Z2.get(r);return n===void 0&&(n=Function.toString.call(r),Z2.set(r,n)),n===eye}function Qx(e,t,r=!0){Um(e)===0?(r?Reflect.ownKeys(e):Ka.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Um(e){const t=e[ca];return t?t.type_:Jx(e)?1:e0(e)?2:t0(e)?3:0}var X2=(e,t,r=Um(e))=>r===2?e.has(t):Ka[Xx].hasOwnProperty.call(e,t),B1=(e,t,r=Um(e))=>r===2?e.get(t):e[t],vy=(e,t,r,n=Um(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function tye(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Jx=Array.isArray,e0=e=>e instanceof Map,t0=e=>e instanceof Set,NE=e=>typeof e=="object",dd=e=>typeof e=="function",Vj=e=>typeof e=="boolean";function rye(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var lo=e=>e.copy_||e.base_,EE=e=>e.modified_?e.copy_:e.base_;function q1(e,t){if(e0(e))return new Map(e);if(t0(e))return new Set(e);if(Jx(e))return Array[Xx].slice.call(e);const r=W5(e);if(t===!0||t==="class_only"&&!r){const n=Ka.getOwnPropertyDescriptors(e);delete n[ca];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],c=n[o];c[Ev]===!1&&(c[Ev]=!0,c[U1]=!0),(c.get||c.set)&&(n[o]={[U1]:!0,[Ev]:!0,[gy]:c[gy],[rm]:e[o]})}return Ka.create(Td(e),n)}else{const n=Td(e);if(n!==null&&r)return{...e};const a=Ka.create(n);return Ka.assign(a,e)}}function kE(e,t=!1){return r0(e)||ko(e)||!rs(e)||(Um(e)>1&&Ka.defineProperties(e,{set:rv,add:rv,clear:rv,delete:rv}),Ka.freeze(e),t&&Qx(e,(r,n)=>{kE(n,!0)},!1)),e}function nye(){Hi(2)}var rv={[rm]:nye};function r0(e){return e===null||!NE(e)?!0:Ka.isFrozen(e)}var yy="MapSet",V1="Patches",Q2="ArrayMethods",K5={};function Kc(e){const t=K5[e];return t||Hi(0,e),t}var J2=e=>!!K5[e],nm,G5=()=>nm,aye=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:J2(yy)?Kc(yy):void 0,arrayMethodsPlugin_:J2(Q2)?Kc(Q2):void 0});function eI(e,t){t&&(e.patchPlugin_=Kc(V1),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function H1(e){W1(e),e.drafts_.forEach(iye),e.drafts_=null}function W1(e){e===nm&&(nm=e.parent_)}var tI=e=>nm=aye(nm,e);function iye(e){const t=e[ca];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[ca].modified_&&(H1(t),Hi(4)),rs(e)&&(e=nI(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[ca].base_,e,t)}else e=nI(t,r);return sye(t,e,!0),H1(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==H5?e:void 0}function nI(e,t){if(r0(t))return t;const r=t[ca];if(!r)return xy(t,e.handledSet_,e);if(!n0(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);X5(r,e)}return r.copy_}function sye(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&kE(t,r)}function Y5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var n0=(e,t)=>e.scope_===t,oye=[];function Z5(e,t,r,n){const a=lo(e),i=e.type_;if(n!==void 0&&B1(a,n,i)===t){vy(a,n,r,i);return}if(!e.draftLocations_){const c=e.draftLocations_=new Map;Qx(a,(d,f)=>{if(ko(f)){const m=c.get(f)||[];m.push(d),c.set(f,m)}})}const o=e.draftLocations_.get(t)??oye;for(const c of o)vy(a,c,r,i)}function lye(e,t,r){e.callbacks_.push(function(a){const i=t;if(!i||!n0(i,a))return;a.mapSetPlugin_?.fixSetContents(i);const o=EE(i);Z5(e,i.draft_??i,o,r),X5(i,a)})}function X5(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:n}=t;if(n){const a=n.getPath(e);a&&n.generatePatches_(e,a,t)}Y5(e)}}function cye(e,t,r){const{scope_:n}=e;if(ko(r)){const a=r[ca];n0(a,n)&&a.callbacks_.push(function(){kv(e);const o=EE(a);Z5(e,r,o,t)})}else rs(r)&&e.callbacks_.push(function(){const i=lo(e);e.type_===3?i.has(r)&&xy(r,n.handledSet_,n):B1(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&xy(B1(e.copy_,t,e.type_),n.handledSet_,n)})}function xy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ko(e)||t.has(e)||!rs(e)||r0(e)||(t.add(e),Qx(e,(n,a)=>{if(ko(a)){const i=a[ca];if(n0(i,r)){const o=EE(i);vy(e,n,o,e.type_),Y5(i)}}else rs(a)&&xy(a,t,r)})),e}function uye(e,t){const r=Jx(e),n={type_:r?1:0,scope_:t?t.scope_:G5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=by;r&&(a=[n],i=am);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=o,[c,n]}var by={get(e,t){if(t===ca)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r?.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=lo(e);if(!X2(a,t,e.type_))return dye(e,a,t);const i=a[t];if(e.finalized_||!rs(i)||n&&e.operationMethod&&r?.isMutatingArrayMethod(e.operationMethod)&&rye(t))return i;if(i===Hj(e.base_,t)){kv(e);const o=e.type_===1?+t:t,c=G1(e.scope_,i,e,o);return e.copy_[o]=c}return i},has(e,t){return t in lo(e)},ownKeys(e){return Reflect.ownKeys(lo(e))},set(e,t,r){const n=Q5(lo(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Hj(lo(e),t),i=a?.[ca];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(tye(r,a)&&(r!==void 0||X2(e.base_,t,e.type_)))return!0;kv(e),K1(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),cye(e,t,r)),!0},deleteProperty(e,t){return kv(e),Hj(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),K1(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=lo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ev]:!0,[U1]:e.type_!==1||t!=="length",[gy]:n[gy],[rm]:r[t]}},defineProperty(){Hi(11)},getPrototypeOf(e){return Td(e.base_)},setPrototypeOf(){Hi(12)}},am={};for(let e in by){let t=by[e];am[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}am.deleteProperty=function(e,t){return am.set.call(this,e,t,void 0)};am.set=function(e,t,r){return by.set.call(this,e[0],t,r,e[0])};function Hj(e,t){const r=e[ca];return(r?lo(r):e)[t]}function dye(e,t,r){const n=Q5(t,r);return n?rm in n?n[rm]:n.get?.call(e.draft_):void 0}function Q5(e,t){if(!(t in e))return;let r=Td(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Td(r)}}function K1(e){e.modified_||(e.modified_=!0,e.parent_&&K1(e.parent_))}function kv(e){e.copy_||(e.assigned_=new Map,e.copy_=q1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fye=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(dd(r)&&!dd(n)){const o=n;n=r;const c=this;return function(f=o,...m){return c.produce(f,p=>n.call(this,p,...m))}}dd(n)||Hi(6),a!==void 0&&!dd(a)&&Hi(7);let i;if(rs(r)){const o=tI(this),c=G1(o,r,void 0);let d=!0;try{i=n(c),d=!1}finally{d?H1(o):W1(o)}return eI(o,a),rI(i,o)}else if(!r||!NE(r)){if(i=n(r),i===void 0&&(i=r),i===H5&&(i=void 0),this.autoFreeze_&&kE(i,!0),a){const o=[],c=[];Kc(V1).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:c}),a(o,c)}return i}else Hi(1,r)},this.produceWithPatches=(r,n)=>{if(dd(r))return(c,...d)=>this.produceWithPatches(c,f=>r(f,...d));let a,i;return[this.produce(r,n,(c,d)=>{a=c,i=d}),a,i]},Vj(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Vj(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Vj(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){rs(t)||Hi(8),ko(t)&&(t=Qi(t));const r=tI(this),n=G1(r,t,void 0);return n[ca].isManual_=!0,W1(r),n}finishDraft(t,r){const n=t&&t[ca];(!n||!n.isManual_)&&Hi(9);const{scope_:a}=n;return eI(a,r),rI(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Kc(V1).applyPatches_;return ko(t)?a(t,r):this.produce(t,i=>a(i,r))}};function G1(e,t,r,n){const[a,i]=e0(t)?Kc(yy).proxyMap_(t,r):t0(t)?Kc(yy).proxySet_(t,r):uye(t,r);return(r?.scope_??G5()).drafts_.push(a),i.callbacks_=r?.callbacks_??[],i.key_=n,r&&n!==void 0?lye(r,i,n):i.callbacks_.push(function(d){d.mapSetPlugin_?.fixSetContents(i);const{patchPlugin_:f}=d;i.modified_&&f&&f.generatePatches_(i,[],d)}),a}function Qi(e){return ko(e)||Hi(10,e),J5(e)}function J5(e){if(!rs(e)||r0(e))return e;const t=e[ca];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=q1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=q1(e,!0);return Qx(r,(a,i)=>{vy(r,a,J5(i))},n),t&&(t.finalized_=!1),r}var hye=new fye,eq=hye.produce;function tq(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var mye=tq(),pye=tq,gye=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?my:my.apply(null,arguments)};function Oi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ya(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>V5(n)&&n.type===e,r}var rq=class jh extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jh.prototype)}static get[Symbol.species](){return jh}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jh(...t[0].concat(this)):new jh(...t.concat(this))}};function aI(e){return rs(e)?eq(e,()=>{}):e}function nv(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function vye(e){return typeof e=="boolean"}var yye=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new rq;return r&&(vye(r)?o.push(mye):o.push(pye(r.extraArgument))),o},nq="RTK_autoBatch",br=()=>e=>({payload:e,meta:{[nq]:!0}}),iI=e=>t=>{setTimeout(t,e)},aq=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const c=new Set,d=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iI(10):e.type==="callback"?e.queueNotification:iI(e.timeout),f=()=>{o=!1,i&&(i=!1,c.forEach(m=>m()))};return Object.assign({},n,{subscribe(m){const p=()=>a&&m(),y=n.subscribe(p);return c.add(m),()=>{y(),c.delete(m)}},dispatch(m){try{return a=!m?.meta?.[nq],i=!a,i&&(o||(o=!0,d(f))),n.dispatch(m)}finally{a=!0}}})},xye=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new rq(e);return n&&a.push(aq(typeof n=="object"?n:void 0)),a};function bye(e){const t=yye(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(CE(r))c=q5(r);else throw new Error(Ya(1));let d;typeof n=="function"?d=n(t):d=t();let f=my;a&&(f=gye({trace:!1,...typeof a=="object"&&a}));const m=Jve(...d),p=xye(m);let y=typeof o=="function"?o(p):p();const g=f(...y);return B5(c,i,g)}function iq(e){const t={},r=[];let n;const a={addCase(i,o){const c=typeof i=="string"?i:i.type;if(!c)throw new Error(Ya(28));if(c in t)throw new Error(Ya(29));return t[c]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function wye(e){return typeof e=="function"}function _ye(e,t){let[r,n,a]=iq(t),i;if(wye(e))i=()=>aI(e());else{const c=aI(e);i=()=>c}function o(c=i(),d){let f=[r[d.type],...n.filter(({matcher:m})=>m(d)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,p)=>{if(p)if(ko(m)){const g=p(m,d);return g===void 0?m:g}else{if(rs(m))return eq(m,y=>p(y,d));{const y=p(m,d);if(y===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return m},c)}return o.getInitialState=i,o}var jye="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Sye=(e=21)=>{let t="",r=e;for(;r--;)t+=jye[Math.random()*64|0];return t},Cye=Symbol.for("rtk-slice-createasyncthunk");function Nye(e,t){return`${e}/${t}`}function Eye({creators:e}={}){const t=e?.asyncThunk?.[Cye];return function(n){const{name:a,reducerPath:i=a}=n;if(!a)throw new Error(Ya(11));const o=(typeof n.reducers=="function"?n.reducers(Aye()):n.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,k){const A=typeof E=="string"?E:E.type;if(!A)throw new Error(Ya(12));if(A in d.sliceCaseReducersByType)throw new Error(Ya(13));return d.sliceCaseReducersByType[A]=k,f},addMatcher(E,k){return d.sliceMatchers.push({matcher:E,reducer:k}),f},exposeAction(E,k){return d.actionCreators[E]=k,f},exposeCaseReducer(E,k){return d.sliceCaseReducersByName[E]=k,f}};c.forEach(E=>{const k=o[E],A={reducerName:E,type:Nye(a,E),createNotation:typeof n.reducers=="function"};Tye(k)?Pye(A,k,f,t):Oye(A,k,f)});function m(){const[E={},k=[],A=void 0]=typeof n.extraReducers=="function"?iq(n.extraReducers):[n.extraReducers],R={...E,...d.sliceCaseReducersByType};return _ye(n.initialState,T=>{for(let O in R)T.addCase(O,R[O]);for(let O of d.sliceMatchers)T.addMatcher(O.matcher,O.reducer);for(let O of k)T.addMatcher(O.matcher,O.reducer);A&&T.addDefaultCase(A)})}const p=E=>E,y=new Map,g=new WeakMap;let b;function w(E,k){return b||(b=m()),b(E,k)}function _(){return b||(b=m()),b.getInitialState()}function j(E,k=!1){function A(T){let O=T[E];return typeof O>"u"&&k&&(O=nv(g,A,_)),O}function R(T=p){const O=nv(y,k,()=>new WeakMap);return nv(O,T,()=>{const P={};for(const[$,M]of Object.entries(n.selectors??{}))P[$]=kye(M,T,()=>nv(g,T,_),k);return P})}return{reducerPath:E,getSelectors:R,get selectors(){return R(A)},selectSlice:A}}const N={name:a,reducer:w,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(i),injectInto(E,{reducerPath:k,...A}={}){const R=k??i;return E.inject({reducerPath:R,reducer:w},A),{...N,...j(R,!0)}}};return N}}function kye(e,t,r,n){function a(i,...o){let c=t(i);return typeof c>"u"&&n&&(c=r()),e(c,...o)}return a.unwrapped=e,a}var Ta=Eye();function Aye(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Oye({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!Rye(n))throw new Error(Ya(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Oi(e,o):Oi(e))}function Tye(e){return e._reducerDefinitionType==="asyncThunk"}function Rye(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Pye({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ya(18));const{payloadCreator:i,fulfilled:o,pending:c,rejected:d,settled:f,options:m}=r,p=a(e,i,m);n.exposeAction(t,p),o&&n.addCase(p.fulfilled,o),c&&n.addCase(p.pending,c),d&&n.addCase(p.rejected,d),f&&n.addMatcher(p.settled,f),n.exposeCaseReducer(t,{fulfilled:o||av,pending:c||av,rejected:d||av,settled:f||av})}function av(){}var Dye="task",sq="listener",oq="completed",AE="cancelled",Mye=`task-${AE}`,Iye=`task-${oq}`,Y1=`${sq}-${AE}`,$ye=`${sq}-${oq}`,a0=class{constructor(e){this.code=e,this.message=`${Dye} ${AE} (reason: ${e})`}name="TaskAbortError";message},OE=(e,t)=>{if(typeof e!="function")throw new TypeError(Ya(32))},wy=()=>{},lq=(e,t=wy)=>(e.catch(t),e),cq=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Tc=e=>{if(e.aborted)throw new a0(e.reason)};function uq(e,t){let r=wy;return new Promise((n,a)=>{const i=()=>a(new a0(e.reason));if(e.aborted){i();return}r=cq(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=wy})}var Lye=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof a0?"cancelled":"rejected",error:r}}finally{t?.()}},_y=e=>t=>lq(uq(e,t).then(r=>(Tc(e),r))),dq=e=>{const t=_y(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:_d}=Object,sI={},i0="listenerMiddleware",zye=(e,t)=>{const r=n=>cq(e,()=>n.abort(e.reason));return(n,a)=>{OE(n);const i=new AbortController;r(i);const o=Lye(async()=>{Tc(e),Tc(i.signal);const c=await n({pause:_y(i.signal),delay:dq(i.signal),signal:i.signal});return Tc(i.signal),c},()=>i.abort(Iye));return a?.autoJoin&&t.push(o.catch(wy)),{result:_y(e)(o),cancel(){i.abort(Mye)}}}},Fye=(e,t)=>{const r=async(n,a)=>{Tc(t);let i=()=>{};const c=[new Promise((d,f)=>{let m=e({predicate:n,effect:(p,y)=>{y.unsubscribe(),d([p,y.getState(),y.getOriginalState()])}});i=()=>{m(),f()}})];a!=null&&c.push(new Promise(d=>setTimeout(d,a,null)));try{const d=await uq(t,Promise.race(c));return Tc(t),d}finally{i()}};return(n,a)=>lq(r(n,a))},fq=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Oi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ya(21));return OE(i),{predicate:a,type:t,effect:i}},hq=_d(e=>{const{type:t,predicate:r,effect:n}=fq(e);return{id:Sye(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ya(22))}}},{withTypes:()=>hq}),oI=(e,t)=>{const{type:r,effect:n,predicate:a}=fq(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Z1=e=>{e.pending.forEach(t=>{t.abort(Y1)})},Uye=(e,t)=>()=>{for(const r of t.keys())Z1(r);e.clear()},lI=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},mq=_d(Oi(`${i0}/add`),{withTypes:()=>mq}),Bye=Oi(`${i0}/removeAll`),pq=_d(Oi(`${i0}/remove`),{withTypes:()=>pq}),qye=(...e)=>{console.error(`${i0}/error`,...e)},Bm=(e={})=>{const t=new Map,r=new Map,n=g=>{const b=r.get(g)??0;r.set(g,b+1)},a=g=>{const b=r.get(g)??1;b===1?r.delete(g):r.set(g,b-1)},{extra:i,onError:o=qye}=e;OE(o);const c=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),b=>{g.unsubscribe(),b?.cancelActive&&Z1(g)}),d=g=>{const b=oI(t,g)??hq(g);return c(b)};_d(d,{withTypes:()=>d});const f=g=>{const b=oI(t,g);return b&&(b.unsubscribe(),g.cancelActive&&Z1(b)),!!b};_d(f,{withTypes:()=>f});const m=async(g,b,w,_)=>{const j=new AbortController,N=Fye(d,j.signal),E=[];try{g.pending.add(j),n(g),await Promise.resolve(g.effect(b,_d({},w,{getOriginalState:_,condition:(k,A)=>N(k,A).then(Boolean),take:N,delay:dq(j.signal),pause:_y(j.signal),extra:i,signal:j.signal,fork:zye(j.signal,E),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((k,A,R)=>{k!==j&&(k.abort(Y1),R.delete(k))})},cancel:()=>{j.abort(Y1),g.pending.delete(j)},throwIfCancelled:()=>{Tc(j.signal)}})))}catch(k){k instanceof a0||lI(o,k,{raisedBy:"effect"})}finally{await Promise.all(E),j.abort($ye),a(g),g.pending.delete(j)}},p=Uye(t,r);return{middleware:g=>b=>w=>{if(!V5(w))return b(w);if(mq.match(w))return d(w.payload);if(Bye.match(w)){p();return}if(pq.match(w))return f(w.payload);let _=g.getState();const j=()=>{if(_===sI)throw new Error(Ya(23));return _};let N;try{if(N=b(w),t.size>0){const E=g.getState(),k=Array.from(t.values());for(const A of k){let R=!1;try{R=A.predicate(w,E,_)}catch(T){R=!1,lI(o,T,{raisedBy:"predicate"})}R&&m(A,w,g,j)}}}finally{_=sI}return N},startListening:d,stopListening:f,clearListeners:p}};function Ya(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Vye={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},gq=Ta({name:"chartLayout",initialState:Vye,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Hye,setLayout:Wye,setChartSize:Kye,setScale:Gye}=gq.actions,Yye=gq.reducer;function vq(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function sr(e){return Number.isFinite(e)}function ks(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){Zye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zye(e,t,r){return(t=Xye(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xye(e){var t=Qye(e,"string");return typeof t=="symbol"?t:t+""}function Qye(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zr(e,t,r){return gr(e)||gr(t)?r:Es(t)?Od(e,t,r):typeof t=="function"?t(e):r}var Jye=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:c}=t;if((c==="vertical"||c==="horizontal"&&o==="middle")&&i!=="center"&&Ue(e[i]))return hd(hd({},e),{},{[i]:e[i]+(n||0)});if((c==="horizontal"||c==="vertical"&&i==="center")&&o!=="middle"&&Ue(e[o]))return hd(hd({},e),{},{[o]:e[o]+(a||0)})}return e},Is=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",yq=(e,t,r,n)=>{if(n)return e.map(c=>c.coordinate);var a,i,o=e.map(c=>(c.coordinate===t&&(a=!0),c.coordinate===r&&(i=!0),c.coordinate));return a||o.push(t),i||o.push(r),o},xq=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:f,tickCount:m,ticks:p,niceTicks:y,axisType:g}=e;if(!o)return null;var b=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,w=a==="category"&&o.bandwidth?o.bandwidth()/b:0;if(w=g==="angleAxis"&&i&&i.length>=2?Na(i[0]-i[1])*2*w:w,p||y){var _=(p||y||[]).map((j,N)=>{var E=n?n.indexOf(j):j;return{coordinate:o(E)+w,value:j,offset:w,index:N}});return _.filter(j=>!Ai(j.coordinate))}return d&&f?f.map((j,N)=>({coordinate:o(j)+w,value:j,index:N,offset:w})):o.ticks&&m!=null?o.ticks(m).map((j,N)=>({coordinate:o(j)+w,value:j,offset:w,index:N})):o.domain().map((j,N)=>({coordinate:o(j)+w,value:n?n[j]:j,index:N,offset:w}))},uI=1e-4,exe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-uI,i=Math.max(n[0],n[1])+uI,o=e(t[0]),c=e(t[r-1]);(o<a||o>i||c<a||c>i)&&e.domain([t[0],t[r-1]])}},txe=(e,t)=>{if(!t||t.length!==2||!Ue(t[0])||!Ue(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ue(e[0])||e[0]<r)&&(a[0]=r),(!Ue(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},rxe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,c=0;c<r;++c){var d=e[c],f=d?.[a];if(f!=null){var m=f[1],p=f[0],y=Ai(m)?p:m;y>=0?(f[0]=i,f[1]=i+y,i=m):(f[0]=o,f[1]=o+y,o=m)}}}},nxe=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var c=e[o],d=c?.[a];if(d!=null){var f=Ai(d[1])?d[0]:d[1];f>=0?(d[0]=i,d[1]=i+f,i=d[1]):(d[0]=0,d[1]=0)}}}},axe={sign:rxe,expand:Rge,none:Wc,silhouette:Pge,wiggle:Dge,positive:nxe},ixe=(e,t,r)=>{var n,a=(n=axe[r])!==null&&n!==void 0?n:Wc,i=Tge().keys(t).value((c,d)=>Number(zr(c,d,0))).order(z1).offset(a),o=i(e);return o.forEach((c,d)=>{c.forEach((f,m)=>{var p=zr(e[m],t[d],0);Array.isArray(p)&&p.length===2&&Ue(p[0])&&Ue(p[1])&&(f[0]=p[0],f[1]=p[1])})}),o};function bq(e){return e==null?void 0:String(e)}function jy(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gr(a[t.dataKey])){var c=S5(r,"value",a[t.dataKey]);if(c)return c.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var d=zr(a,gr(o)?t.dataKey:o);return gr(d)?null:t.scale(d)}var dI=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var c=zr(i,t.dataKey,t.scale.domain()[o]);return gr(c)?null:t.scale(c)-a/2+n},sxe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},oxe=e=>{var t=e.flat(2).filter(Ue);return[Math.min(...t),Math.max(...t)]},lxe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],cxe=(e,t,r)=>{if(e!=null)return lxe(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,c=o.reduce((d,f)=>{var m=vq(f,t,r),p=oxe(m);return!sr(p[0])||!sr(p[1])?d:[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},fI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Pl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Zx(t,m=>m.coordinate),i=1/0,o=1,c=a.length;o<c;o++){var d=a[o],f=a[o-1];i=Math.min((d?.coordinate||0)-(f?.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function mI(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return hd(hd({},t),{},{dataKey:r,payload:n,value:a,name:i})}function nf(e,t){if(e)return String(e);if(typeof t=="string")return t}var uxe=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},dxe=(e,t)=>t==="centric"?e.angle:e.radius,Io=e=>e.layout.width,$o=e=>e.layout.height,fxe=e=>e.layout.scale,wq=e=>e.layout.margin,s0=he(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),o0=he(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),hxe="data-recharts-item-index",mxe="data-recharts-item-id",qm=60;function pI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pI(Object(r),!0).forEach(function(n){pxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pxe(e,t,r){return(t=gxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gxe(e){var t=vxe(e,"string");return typeof t=="symbol"?t:t+""}function vxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yxe=e=>e.brush.height;function xxe(e){var t=o0(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qm;return r+a}return r},0)}function bxe(e){var t=o0(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:qm;return r+a}return r},0)}function wxe(e){var t=s0(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _xe(e){var t=s0(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var On=he([Io,$o,wq,yxe,xxe,bxe,wxe,_xe,U5,Kve],(e,t,r,n,a,i,o,c,d,f)=>{var m={left:(r.left||0)+a,right:(r.right||0)+i},p={top:(r.top||0)+o,bottom:(r.bottom||0)+c},y=iv(iv({},p),m),g=y.bottom;y.bottom+=n,y=Jye(y,d,f);var b=e-y.left-y.right,w=t-y.top-y.bottom;return iv(iv({brushBottom:g},y),{},{width:Math.max(b,0),height:Math.max(w,0)})}),jxe=he(On,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),TE=he(Io,$o,(e,t)=>({x:0,y:0,width:e,height:t})),Sxe=x.createContext(null),Tn=()=>x.useContext(Sxe)!=null,l0=e=>e.brush,c0=he([l0,On,wq],(e,t,r)=>({height:e.height,x:Ue(e.x)?e.x:t.left,y:Ue(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ue(e.width)?e.width:t.width})),Wj={},Kj={},Gj={},gI;function Cxe(){return gI||(gI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,c=null;const d=i!=null&&i.includes("leading"),f=i==null||i.includes("trailing"),m=()=>{c!==null&&(r.apply(o,c),o=void 0,c=null)},p=()=>{f&&m(),w()};let y=null;const g=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},n)},b=()=>{y!==null&&(clearTimeout(y),y=null)},w=()=>{b(),o=void 0,c=null},_=()=>{m()},j=function(...N){if(a?.aborted)return;o=this,c=N;const E=y==null;g(),d&&E&&m()};return j.schedule=g,j.cancel=w,j.flush=_,a?.addEventListener("abort",w,{once:!0}),j}e.debounce=t})(Gj)),Gj}var vI;function Nxe(){return vI||(vI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cxe();function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:c=!0,maxWait:d}=i,f=Array(2);o&&(f[0]="leading"),c&&(f[1]="trailing");let m,p=null;const y=t.debounce(function(...w){m=n.apply(this,w),p=null},a,{edges:f}),g=function(...w){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(m=n.apply(this,w),p=Date.now(),y.cancel(),y.schedule(),m):(y.apply(this,w),m)},b=()=>(y.flush(),m);return g.cancel=y.cancel,g.flush=b,g}e.debounce=r})(Kj)),Kj}var yI;function Exe(){return yI||(yI=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nxe();function r(n,a=0,i={}){const{leading:o=!0,trailing:c=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:c})}e.throttle=r})(Wj)),Wj}var Yj,xI;function kxe(){return xI||(xI=1,Yj=Exe().throttle),Yj}var Axe=kxe();const Oxe=ti(Axe);var Sy=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},_q=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,c=Eo(n)?e:Number(n),d=Eo(a)?t:Number(a);return i&&i>0&&(c?d=c/i:d&&(c=d*i),o&&d!=null&&d>o&&(d=o)),{calculatedWidth:c,calculatedHeight:d}},Txe={width:0,height:0,overflow:"visible"},Rxe={width:0,overflowX:"visible"},Pxe={height:0,overflowY:"visible"},Dxe={},Mxe=e=>{var{width:t,height:r}=e,n=Eo(t),a=Eo(r);return n&&a?Txe:n?Rxe:a?Pxe:Dxe};function Ixe(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(null,arguments)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){$xe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $xe(e,t,r){return(t=Lxe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lxe(e){var t=zxe(e,"string");return typeof t=="symbol"?t:t+""}function zxe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jq=x.createContext({width:-1,height:-1});function Fxe(e){return ks(e.width)&&ks(e.height)}function Sq(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return Fxe(a)?x.createElement(jq.Provider,{value:a},t):null}var RE=()=>x.useContext(jq),Uxe=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:c,maxHeight:d,children:f,debounce:m=0,id:p,className:y,onResize:g,style:b={}}=e,w=x.useRef(null),_=x.useRef();_.current=g,x.useImperativeHandle(t,()=>w.current);var[j,N]=x.useState({containerWidth:n.width,containerHeight:n.height}),E=x.useCallback((O,P)=>{N($=>{var M=Math.round(O),L=Math.round(P);return $.containerWidth===M&&$.containerHeight===L?$:{containerWidth:M,containerHeight:L}})},[]);x.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Fm;var O=L=>{var U,{width:X,height:Y}=L[0].contentRect;E(X,Y),(U=_.current)===null||U===void 0||U.call(_,X,Y)};m>0&&(O=Oxe(O,m,{trailing:!0,leading:!1}));var P=new ResizeObserver(O),{width:$,height:M}=w.current.getBoundingClientRect();return E($,M),P.observe(w.current),()=>{P.disconnect()}},[E,m]);var{containerWidth:k,containerHeight:A}=j;Sy(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:R,calculatedHeight:T}=_q(k,A,{width:a,height:i,aspect:r,maxHeight:d});return Sy(R!=null&&R>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,T,a,i,o,c,r),x.createElement("div",{id:p?"".concat(p):void 0,className:Kt("recharts-responsive-container",y),style:wI(wI({},b),{},{width:a,height:i,minWidth:o,minHeight:c,maxHeight:d}),ref:w},x.createElement("div",{style:Mxe({width:a,height:i})},x.createElement(Sq,{width:R,height:T},f)))}),Cy=x.forwardRef((e,t)=>{var r=RE();if(ks(r.width)&&ks(r.height))return e.children;var{width:n,height:a}=Ixe({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=_q(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ue(i)&&Ue(o)?x.createElement(Sq,{width:i,height:o},e.children):x.createElement(Uxe,X1({},e,{width:n,height:a,ref:t}))});function Cq(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var u0=()=>{var e,t=Tn(),r=tt(jxe),n=tt(c0),a=(e=tt(l0))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Bxe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Nq=()=>{var e;return(e=tt(On))!==null&&e!==void 0?e:Bxe},Eq=()=>tt(Io),kq=()=>tt($o),Ut=e=>e.layout.layoutType,Bl=()=>tt(Ut),qxe=()=>{var e=Bl();if(e==="horizontal"||e==="vertical")return e},Vxe=()=>{var e=Bl();return e!==void 0},d0=e=>{var t=Xr(),r=Tn(),{width:n,height:a}=e,i=RE(),o=n,c=a;return i&&(o=i.width>0?i.width:n,c=i.height>0?i.height:a),x.useEffect(()=>{!r&&ks(o)&&ks(c)&&t(Kye({width:o,height:c}))},[t,r,o,c]),null},Aq=Symbol.for("immer-nothing"),_I=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function Wi(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var im=Object.getPrototypeOf;function Rd(e){return!!e&&!!e[Ja]}function Gc(e){return e?Oq(e)||Array.isArray(e)||!!e[_I]||!!e.constructor?.[_I]||Vm(e)||h0(e):!1}var Hxe=Object.prototype.constructor.toString(),jI=new WeakMap;function Oq(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=jI.get(r);return n===void 0&&(n=Function.toString.call(r),jI.set(r,n)),n===Hxe}function Ny(e,t,r=!0){f0(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function f0(e){const t=e[Ja];return t?t.type_:Array.isArray(e)?1:Vm(e)?2:h0(e)?3:0}function Q1(e,t){return f0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Tq(e,t,r){const n=f0(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Wxe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Vm(e){return e instanceof Map}function h0(e){return e instanceof Set}function vc(e){return e.copy_||e.base_}function J1(e,t){if(Vm(e))return new Map(e);if(h0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Oq(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ja];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],c=n[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:e[o]})}return Object.create(im(e),n)}else{const n=im(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function PE(e,t=!1){return m0(e)||Rd(e)||!Gc(e)||(f0(e)>1&&Object.defineProperties(e,{set:sv,add:sv,clear:sv,delete:sv}),Object.freeze(e),t&&Object.values(e).forEach(r=>PE(r,!0))),e}function Kxe(){Wi(2)}var sv={value:Kxe};function m0(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Gxe={};function Yc(e){const t=Gxe[e];return t||Wi(0,e),t}var sm;function Rq(){return sm}function Yxe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SI(e,t){t&&(Yc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function eC(e){tC(e),e.drafts_.forEach(Zxe),e.drafts_=null}function tC(e){e===sm&&(sm=e.parent_)}function CI(e){return sm=Yxe(sm,e)}function Zxe(e){const t=e[Ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function NI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ja].modified_&&(eC(t),Wi(4)),Gc(e)&&(e=Ey(t,e),t.parent_||ky(t,e)),t.patches_&&Yc("Patches").generateReplacementPatches_(r[Ja].base_,e,t.patches_,t.inversePatches_)):e=Ey(t,r,[]),eC(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Aq?e:void 0}function Ey(e,t,r){if(m0(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ja];if(!a)return Ny(t,(i,o)=>EI(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return ky(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,c=!1;a.type_===3&&(o=new Set(i),i.clear(),c=!0),Ny(o,(d,f)=>EI(e,a,i,d,f,r,c),n),ky(e,i,!1),r&&e.patches_&&Yc("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function EI(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const c=m0(a);if(!(c&&!o)){if(Rd(a)){const d=i&&t&&t.type_!==3&&!Q1(t.assigned_,n)?i.concat(n):void 0,f=Ey(e,a,d);if(Tq(r,n,f),Rd(f))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Gc(a)&&!c){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&c)return;Ey(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Vm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ky(e,a)}}}function ky(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PE(t,r)}function Xxe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Rq(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=DE;r&&(a=[n],i=om);const{revoke:o,proxy:c}=Proxy.revocable(a,i);return n.draft_=c,n.revoke_=o,c}var DE={get(e,t){if(t===Ja)return e;const r=vc(e);if(!Q1(r,t))return Qxe(e,r,t);const n=r[t];return e.finalized_||!Gc(n)?n:n===Zj(e.base_,t)?(Xj(e),e.copy_[t]=nC(n,e)):n},has(e,t){return t in vc(e)},ownKeys(e){return Reflect.ownKeys(vc(e))},set(e,t,r){const n=Pq(vc(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Zj(vc(e),t),i=a?.[Ja];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Wxe(r,a)&&(r!==void 0||Q1(e.base_,t)))return!0;Xj(e),rC(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Zj(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xj(e),rC(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Wi(11)},getPrototypeOf(e){return im(e.base_)},setPrototypeOf(){Wi(12)}},om={};Ny(DE,(e,t)=>{om[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});om.deleteProperty=function(e,t){return om.set.call(this,e,t,void 0)};om.set=function(e,t,r){return DE.set.call(this,e[0],t,r,e[0])};function Zj(e,t){const r=e[Ja];return(r?vc(r):e)[t]}function Qxe(e,t,r){const n=Pq(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function Pq(e,t){if(!(t in e))return;let r=im(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=im(r)}}function rC(e){e.modified_||(e.modified_=!0,e.parent_&&rC(e.parent_))}function Xj(e){e.copy_||(e.copy_=J1(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jxe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(d=i,...f){return o.produce(d,m=>r.call(this,m,...f))}}typeof r!="function"&&Wi(6),n!==void 0&&typeof n!="function"&&Wi(7);let a;if(Gc(t)){const i=CI(this),o=nC(t,void 0);let c=!0;try{a=r(o),c=!1}finally{c?eC(i):tC(i)}return SI(i,n),NI(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Aq&&(a=void 0),this.autoFreeze_&&PE(a,!0),n){const i=[],o=[];Yc("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Wi(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...c)=>this.produceWithPatches(o,d=>t(d,...c));let n,a;return[this.produce(t,r,(o,c)=>{n=o,a=c}),n,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Gc(e)||Wi(8),Rd(e)&&(e=e0e(e));const t=CI(this),r=nC(e,void 0);return r[Ja].isManual_=!0,tC(t),r}finishDraft(e,t){const r=e&&e[Ja];(!r||!r.isManual_)&&Wi(9);const{scope_:n}=r;return SI(n,t),NI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Yc("Patches").applyPatches_;return Rd(e)?n(e,t):this.produce(e,a=>n(a,t))}};function nC(e,t){const r=Vm(e)?Yc("MapSet").proxyMap_(e,t):h0(e)?Yc("MapSet").proxySet_(e,t):Xxe(e,t);return(t?t.scope_:Rq()).drafts_.push(r),r}function e0e(e){return Rd(e)||Wi(10,e),Dq(e)}function Dq(e){if(!Gc(e)||m0(e))return e;const t=e[Ja];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=J1(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=J1(e,!0);return Ny(r,(a,i)=>{Tq(r,a,Dq(i))},n),t&&(t.finalized_=!1),r}var t0e=new Jxe;t0e.produce;var r0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Mq=Ta({name:"legend",initialState:r0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:br()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Qi(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:br()},removeLegendPayload:{reducer(e,t){var r=Qi(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:br()}}}),{setLegendSize:p2e,setLegendSettings:g2e,addLegendPayload:n0e,replaceLegendPayload:a0e,removeLegendPayload:i0e}=Mq.actions,s0e=Mq.reducer;function aC(){return aC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aC.apply(null,arguments)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){o0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o0e(e,t,r){return(t=l0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l0e(e){var t=c0e(e,"string");return typeof t=="symbol"?t:t+""}function c0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0e(e){return Array.isArray(e)&&Es(e[0])&&Es(e[1])?e.join(" ~ "):e}var d0e=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:f,label:m,labelFormatter:p,accessibilityLayer:y=!1}=e,g=()=>{if(i&&i.length){var A={padding:0,margin:0},R=(c?Zx(i,c):i).map((T,O)=>{if(T.type==="none")return null;var P=T.formatter||o||u0e,{value:$,name:M}=T,L=$,U=M;if(P){var X=P($,M,T,O,i);if(Array.isArray(X))[L,U]=X;else if(X!=null)L=X;else return null}var Y=Qj({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:Y},Es(U)?x.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Es(U)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},L),x.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:A},R)}return null},b=Qj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),w=Qj({margin:0},a),_=!gr(m),j=_?m:"",N=Kt("recharts-default-tooltip",d),E=Kt("recharts-tooltip-label",f);_&&p&&i!==void 0&&i!==null&&(j=p(m,i));var k=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",aC({className:N,style:b},k),x.createElement("p",{className:E,style:w},x.isValidElement(j)?j:"".concat(j)),g())},fh="recharts-tooltip-wrapper",f0e={visibility:"hidden"};function h0e(e){var{coordinate:t,translateX:r,translateY:n}=e;return Kt(fh,{["".concat(fh,"-right")]:Ue(r)&&t&&Ue(t.x)&&r>=t.x,["".concat(fh,"-left")]:Ue(r)&&t&&Ue(t.x)&&r<t.x,["".concat(fh,"-bottom")]:Ue(n)&&t&&Ue(t.y)&&n>=t.y,["".concat(fh,"-top")]:Ue(n)&&t&&Ue(t.y)&&n<t.y})}function AI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:f}=e;if(i&&Ue(i[n]))return i[n];var m=r[n]-c-(a>0?a:0),p=r[n]+a;if(t[n])return o[n]?m:p;var y=d[n];if(y==null)return 0;if(o[n]){var g=m,b=y;return g<b?Math.max(p,y):Math.max(m,y)}if(f==null)return 0;var w=p+c,_=y+f;return w>_?Math.max(m,y):Math.max(p,y)}function m0e(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function p0e(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:c,viewBox:d}=e,f,m,p;return o.height>0&&o.width>0&&r?(m=AI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=AI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=m0e({translateX:m,translateY:p,useTranslate3d:c})):f=f0e,{cssProperties:f,cssClasses:h0e({translateX:m,translateY:p,coordinate:r})}}function OI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ov(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OI(Object(r),!0).forEach(function(n){iC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iC(e,t,r){return(t=g0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g0e(e){var t=v0e(e,"string");return typeof t=="symbol"?t:t+""}function v0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class y0e extends x.PureComponent{constructor(){super(...arguments),iC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),iC(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:c,isAnimationActive:d,offset:f,position:m,reverseDirection:p,useTranslate3d:y,viewBox:g,wrapperStyle:b,lastBoundingBox:w,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:N,cssProperties:E}=p0e({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:f,position:m,reverseDirection:p,tooltipBox:{height:w.height,width:w.width},useTranslate3d:y,viewBox:g}),k=j?{}:ov(ov({transition:d&&t?"transform ".concat(n,"ms ").concat(a):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&c?"visible":"hidden",position:"absolute",top:0,left:0}),A=ov(ov({},k),{},{visibility:!this.state.dismissed&&t&&c?"visible":"hidden"},b);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:N,style:A,ref:_},i)}}var Iq=()=>{var e;return(e=tt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function sC(){return sC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sC.apply(null,arguments)}function TI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(r),!0).forEach(function(n){x0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function x0e(e,t,r){return(t=b0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b0e(e){var t=w0e(e,"string");return typeof t=="symbol"?t:t+""}function w0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PI={curveBasisClosed:bge,curveBasisOpen:wge,curveBasis:xge,curveBumpX:ige,curveBumpY:sge,curveLinearClosed:_ge,curveLinear:Gx,curveMonotoneX:jge,curveMonotoneY:Sge,curveNatural:Cge,curveStep:Nge,curveStepAfter:kge,curveStepBefore:Ege},Ay=e=>sr(e.x)&&sr(e.y),DI=e=>e.base!=null&&Ay(e.base)&&Ay(e),hh=e=>e.x,mh=e=>e.y,_0e=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(zm(e));return(r==="curveMonotone"||r==="curveBump")&&t?PI["".concat(r).concat(t==="vertical"?"Y":"X")]:PI[r]||Gx},j0e=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=_0e(t,a),c=i?r.filter(Ay):r,d;if(Array.isArray(n)){var f=r.map((g,b)=>RI(RI({},g),{},{base:n[b]}));a==="vertical"?d=Jg().y(mh).x1(hh).x0(g=>g.base.x):d=Jg().x(hh).y1(mh).y0(g=>g.base.y);var m=d.defined(DI).curve(o),p=i?f.filter(DI):f;return m(p)}a==="vertical"&&Ue(n)?d=Jg().y(mh).x1(hh).x0(n):Ue(n)?d=Jg().x(hh).y1(mh).y0(n):d=d5().x(hh).y(mh);var y=d.defined(Ay).curve(o);return y(c)},Mh=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=Bl();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},c=r&&r.length?j0e(o):n;return x.createElement("path",sC({},Qa(e),wE(e),{className:Kt("recharts-curve",t),d:c===null?void 0:c,ref:a}))},S0e=["x","y","top","left","width","height","className"];function oC(){return oC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oC.apply(null,arguments)}function MI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function C0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(r),!0).forEach(function(n){N0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N0e(e,t,r){return(t=E0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E0e(e){var t=k0e(e,"string");return typeof t=="symbol"?t:t+""}function k0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0e(e,t){if(e==null)return{};var r,n,a=O0e(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function O0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var T0e=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),R0e=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:c}=e,d=A0e(e,S0e),f=C0e({x:t,y:r,top:n,left:a,width:i,height:o},d);return!Ue(t)||!Ue(r)||!Ue(i)||!Ue(o)||!Ue(n)||!Ue(a)?null:x.createElement("path",oC({},Xn(f),{className:Kt("recharts-cross",c),d:T0e(t,r,i,o,n,a)}))};function P0e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){D0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D0e(e,t,r){return(t=M0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $0e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$q=(e,t,r)=>e.map(n=>"".concat($0e(n)," ").concat(t,"ms ").concat(r)).join(","),L0e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),lm=(e,t)=>Object.keys(t).reduce((r,n)=>$I($I({},r),{},{[n]:e(n,t[n])}),{});function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){z0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0e(e,t,r){return(t=F0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F0e(e){var t=U0e(e,"string");return typeof t=="symbol"?t:t+""}function U0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oy=(e,t,r)=>e+(t-e)*r,lC=e=>{var{from:t,to:r}=e;return t!==r},Lq=(e,t,r)=>{var n=lm((a,i)=>{if(lC(i)){var[o,c]=e(i.from,i.to,i.velocity);return gn(gn({},i),{},{from:o,velocity:c})}return i},t);return r<1?lm((a,i)=>lC(i)&&n[a]!=null?gn(gn({},i),{},{velocity:Oy(i.velocity,n[a].velocity,r),from:Oy(i.from,n[a].from,r)}):i,t):Lq(e,n,r-1)};function B0e(e,t,r,n,a,i){var o,c=n.reduce((y,g)=>gn(gn({},y),{},{[g]:{from:e[g],velocity:0,to:t[g]}}),{}),d=()=>lm((y,g)=>g.from,c),f=()=>!Object.values(c).filter(lC).length,m=null,p=y=>{o||(o=y);var g=y-o,b=g/r.dt;c=Lq(r,c,b),a(gn(gn(gn({},e),t),d())),o=y,f()||(m=i.setTimeout(p))};return()=>(m=i.setTimeout(p),()=>{var y;(y=m)===null||y===void 0||y()})}function q0e(e,t,r,n,a,i,o){var c=null,d=a.reduce((p,y)=>{var g=e[y],b=t[y];return g==null||b==null?p:gn(gn({},p),{},{[y]:[g,b]})},{}),f,m=p=>{f||(f=p);var y=(p-f)/n,g=lm((w,_)=>Oy(..._,r(y)),d);if(i(gn(gn(gn({},e),t),g)),y<1)c=o.setTimeout(m);else{var b=lm((w,_)=>Oy(..._,r(1)),d);i(gn(gn(gn({},e),t),b))}};return()=>(c=o.setTimeout(m),()=>{var p;(p=c)===null||p===void 0||p()})}const V0e=(e,t,r,n,a,i)=>{var o=L0e(e,t);return r==null?()=>(a(gn(gn({},e),t)),()=>{}):r.isStepper===!0?B0e(e,t,r,o,a,i):q0e(e,t,r,n,o,a,i)};var Ty=1e-4,zq=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Fq=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),zI=(e,t)=>r=>{var n=zq(e,t);return Fq(n,r)},H0e=(e,t)=>r=>{var n=zq(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Fq(a,r)},W0e=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},K0e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=W0e(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},G0e=(e,t,r,n)=>{var a=zI(e,r),i=zI(t,n),o=H0e(e,r),c=f=>f>1?1:f<0?0:f,d=f=>{for(var m=f>1?1:f,p=m,y=0;y<8;++y){var g=a(p)-m,b=o(p);if(Math.abs(g-m)<Ty||b<Ty)return i(p);p=c(p-g/b)}return i(p)};return d.isStepper=!1,d},FI=function(){return G0e(...K0e(...arguments))},Y0e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,c,d)=>{var f=-(o-c)*r,m=d*n,p=d+(f-m)*a/1e3,y=d*a/1e3+o;return Math.abs(y-c)<Ty&&Math.abs(p)<Ty?[c,0]:[y,p]};return i.isStepper=!0,i.dt=a,i},Z0e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FI(e);case"spring":return Y0e();default:if(e.split("(")[0]==="cubic-bezier")return FI(e)}return typeof e=="function"?e:null};function X0e(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...f]=c;if(typeof d=="number"){a=e.setTimeout(i.bind(null,f),d);return}i(d),a=e.setTimeout(i.bind(null,f));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class Q0e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function J0e(){return X0e(new Q0e)}var ebe=x.createContext(J0e);function tbe(e,t){var r=x.useContext(ebe);return x.useMemo(()=>t??r(e),[e,t,r])}var rbe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Hm={isSsr:rbe()},nbe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},UI={t:0},Jj={t:1};function Wm(e){var t=Vn(e,nbe),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:c,onAnimationStart:d,children:f}=t,m=r==="auto"?!Hm.isSsr:r,p=tbe(t.animationId,t.animationManager),[y,g]=x.useState(m?UI:Jj),b=x.useRef(null);return x.useEffect(()=>{m||g(Jj)},[m]),x.useEffect(()=>{if(!m||!n)return Fm;var w=V0e(UI,Jj,Z0e(i),a,g,p.getTimeoutController()),_=()=>{b.current=w()};return p.start([d,o,_,a,c]),()=>{p.stop(),b.current&&b.current(),c()}},[m,n,a,i,o,d,c,p]),f(y.t)}function Km(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(tm(t)),n=x.useRef(e);return n.current!==e&&(r.current=tm(t),n.current=e),r.current}var abe=["radius"],ibe=["radius"],BI,qI,VI,HI,WI,KI,GI,YI,ZI,XI;function QI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QI(Object(r),!0).forEach(function(n){sbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sbe(e,t,r){return(t=obe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function obe(e){var t=lbe(e,"string");return typeof t=="symbol"?t:t+""}function lbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function e$(e,t){if(e==null)return{};var r,n,a=cbe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cbe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var t$=(e,t,r,n,a)=>{var i=Sl(r),o=Sl(n),c=Math.min(Math.abs(i)/2,Math.abs(o)/2),d=o>=0?1:-1,f=i>=0?1:-1,m=o>=0&&i>=0||o<0&&i<0?1:0,p;if(c>0&&a instanceof Array){for(var y=[0,0,0,0],g=0,b=4;g<b;g++)y[g]=a[g]>c?c:a[g];p=Lr(BI||(BI=fs(["M",",",""])),e,t+d*y[0]),y[0]>0&&(p+=Lr(qI||(qI=fs(["A ",",",",0,0,",",",",",""])),y[0],y[0],m,e+f*y[0],t)),p+=Lr(VI||(VI=fs(["L ",",",""])),e+r-f*y[1],t),y[1]>0&&(p+=Lr(HI||(HI=fs(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],m,e+r,t+d*y[1])),p+=Lr(WI||(WI=fs(["L ",",",""])),e+r,t+n-d*y[2]),y[2]>0&&(p+=Lr(KI||(KI=fs(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],m,e+r-f*y[2],t+n)),p+=Lr(GI||(GI=fs(["L ",",",""])),e+f*y[3],t+n),y[3]>0&&(p+=Lr(YI||(YI=fs(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],m,e,t+n-d*y[3])),p+="Z"}else if(c>0&&a===+a&&a>0){var w=Math.min(c,a);p=Lr(ZI||(ZI=fs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+d*w,w,w,m,e+f*w,t,e+r-f*w,t,w,w,m,e+r,t+d*w,e+r,t+n-d*w,w,w,m,e+r-f*w,t+n,e+f*w,t+n,w,w,m,e,t+n-d*w)}else p=Lr(XI||(XI=fs(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return p},r$={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Uq=e=>{var t=Vn(e,r$),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:i,y:o,width:c,height:d,radius:f,className:m}=t,{animationEasing:p,animationDuration:y,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:w}=t,_=x.useRef(c),j=x.useRef(d),N=x.useRef(i),E=x.useRef(o),k=x.useMemo(()=>({x:i,y:o,width:c,height:d,radius:f}),[i,o,c,d,f]),A=Km(k,"rectangle-");if(i!==+i||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var R=Kt("recharts-rectangle",m);if(!w){var T=Xn(t),{radius:O}=T,P=e$(T,abe);return x.createElement("path",Ry({},P,{x:Sl(i),y:Sl(o),width:Sl(c),height:Sl(d),radius:typeof f=="number"?f:void 0,className:R,d:t$(i,o,c,d,f)}))}var $=_.current,M=j.current,L=N.current,U=E.current,X="0px ".concat(n===-1?1:n,"px"),Y="".concat(n,"px 0px"),F=$q(["strokeDasharray"],y,typeof p=="string"?p:r$.animationEasing);return x.createElement(Wm,{animationId:A,key:A,canBegin:n>0,duration:y,easing:p,isActive:w,begin:g},H=>{var I=rr($,c,H),q=rr(M,d,H),ue=rr(L,i,H),B=rr(U,o,H);r.current&&(_.current=I,j.current=q,N.current=ue,E.current=B);var Q;b?H>0?Q={transition:F,strokeDasharray:Y}:Q={strokeDasharray:X}:Q={strokeDasharray:Y};var V=Xn(t),{radius:ae}=V,Z=e$(V,ibe);return x.createElement("path",Ry({},Z,{radius:typeof f=="number"?f:void 0,className:R,d:t$(ue,B,I,q,f),ref:r,style:JI(JI({},Q),t.style)}))})};function n$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a$(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n$(Object(r),!0).forEach(function(n){ube(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n$(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ube(e,t,r){return(t=dbe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dbe(e){var t=fbe(e,"string");return typeof t=="symbol"?t:t+""}function fbe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Py=Math.PI/180,hbe=e=>e*180/Math.PI,Bn=(e,t,r,n)=>({x:e+Math.cos(-Py*n)*r,y:t+Math.sin(-Py*n)*r}),mbe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pbe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},gbe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=pbe({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var c=(r-a)/o,d=Math.acos(c);return n>i&&(d=2*Math.PI-d),{radius:o,angle:hbe(d),angleInRadian:d}},vbe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},ybe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},xbe=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=gbe({x:r,y:n},t),{innerRadius:o,outerRadius:c}=t;if(a<o||a>c||a===0)return null;var{startAngle:d,endAngle:f}=vbe(t),m=i,p;if(d<=f){for(;m>f;)m-=360;for(;m<d;)m+=360;p=m>=d&&m<=f}else{for(;m>d;)m-=360;for(;m<f;)m+=360;p=m>=f&&m<=d}return p?a$(a$({},t),{},{radius:a,angle:ybe(m,t)}):null};function Bq(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Bn(t,r,n,a),c=Bn(t,r,n,i);return{points:[o,c],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var i$,s$,o$,l$,c$,u$,d$;function cC(){return cC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cC.apply(null,arguments)}function Nc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bbe=(e,t)=>{var r=Na(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},lv=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:c,cornerIsExternal:d}=e,f=c*(o?1:-1)+n,m=Math.asin(c/f)/Py,p=d?a:a+i*m,y=Bn(t,r,f,p),g=Bn(t,r,n,p),b=d?a-i*m:a,w=Bn(t,r,f*Math.cos(m*Py),b);return{center:y,circleTangency:g,lineTangency:w,theta:m}},qq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,c=bbe(i,o),d=i+c,f=Bn(t,r,a,i),m=Bn(t,r,a,d),p=Lr(i$||(i$=Nc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,a,a,+(Math.abs(c)>180),+(i>d),m.x,m.y);if(n>0){var y=Bn(t,r,n,i),g=Bn(t,r,n,d);p+=Lr(s$||(s$=Nc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,n,n,+(Math.abs(c)>180),+(i<=d),y.x,y.y)}else p+=Lr(o$||(o$=Nc(["L ",","," Z"])),t,r);return p},wbe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}=e,m=Na(f-d),{circleTangency:p,lineTangency:y,theta:g}=lv({cx:t,cy:r,radius:a,angle:d,sign:m,cornerRadius:i,cornerIsExternal:c}),{circleTangency:b,lineTangency:w,theta:_}=lv({cx:t,cy:r,radius:a,angle:f,sign:-m,cornerRadius:i,cornerIsExternal:c}),j=c?Math.abs(d-f):Math.abs(d-f)-g-_;if(j<0)return o?Lr(l$||(l$=Nc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,i,i,i*2,i,i,-i*2):qq({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:d,endAngle:f});var N=Lr(c$||(c$=Nc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,i,i,+(m<0),p.x,p.y,a,a,+(j>180),+(m<0),b.x,b.y,i,i,+(m<0),w.x,w.y);if(n>0){var{circleTangency:E,lineTangency:k,theta:A}=lv({cx:t,cy:r,radius:n,angle:d,sign:m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),{circleTangency:R,lineTangency:T,theta:O}=lv({cx:t,cy:r,radius:n,angle:f,sign:-m,isExternal:!0,cornerRadius:i,cornerIsExternal:c}),P=c?Math.abs(d-f):Math.abs(d-f)-A-O;if(P<0&&i===0)return"".concat(N,"L").concat(t,",").concat(r,"Z");N+=Lr(u$||(u$=Nc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,i,i,+(m<0),R.x,R.y,n,n,+(P>180),+(m>0),E.x,E.y,i,i,+(m<0),k.x,k.y)}else N+=Lr(d$||(d$=Nc(["L",",","Z"])),t,r);return N},_be={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Vq=e=>{var t=Vn(e,_be),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m,className:p}=t;if(i<a||f===m)return null;var y=Kt("recharts-sector",p),g=i-a,b=ts(o,g,0,!0),w;return b>0&&Math.abs(f-m)<360?w=wbe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(b,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):w=qq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:f,endAngle:m}),x.createElement("path",cC({},Xn(t),{className:y,d:w}))};function jbe(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(E5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:c}=t,d=Bn(n,a,i,c),f=Bn(n,a,o,c);return[{x:d.x,y:d.y},{x:f.x,y:f.y}]}return Bq(t)}}var eS={},tS={},rS={},f$;function Sbe(){return f$||(f$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z5();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rS)),rS}var h$;function Cbe(){return h$||(h$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Sbe();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tS)),tS}var m$;function Nbe(){return m$||(m$=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5(),r=Cbe();function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const c=Math.max(Math.ceil((i-a)/(o||1)),0),d=new Array(c);for(let f=0;f<c;f++)d[f]=a,a+=o;return d}e.range=n})(eS)),eS}var nS,p$;function Ebe(){return p$||(p$=1,nS=Nbe().range),nS}var kbe=Ebe();const Hq=ti(kbe);function kl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Abe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ME(e){let t,r,n;e.length!==2?(t=kl,r=(c,d)=>kl(e(c),d),n=(c,d)=>e(c)-d):(t=e===kl||e===Abe?e:Obe,r=e,n=e);function a(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<0?f=p+1:m=p}while(f<m)}return f}function i(c,d,f=0,m=c.length){if(f<m){if(t(d,d)!==0)return m;do{const p=f+m>>>1;r(c[p],d)<=0?f=p+1:m=p}while(f<m)}return f}function o(c,d,f=0,m=c.length){const p=a(c,d,f,m-1);return p>f&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:a,center:o,right:i}}function Obe(){return 0}function Wq(e){return e===null?NaN:+e}function*Tbe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Rbe=ME(kl),Gm=Rbe.right;ME(Wq).center;class g$ extends Map{constructor(t,r=Mbe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(v$(this,t))}has(t){return super.has(v$(this,t))}set(t,r){return super.set(Pbe(this,t),r)}delete(t){return super.delete(Dbe(this,t))}}function v$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Pbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Dbe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Mbe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Ibe(e=kl){if(e===kl)return Kq;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Kq(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $be=Math.sqrt(50),Lbe=Math.sqrt(10),zbe=Math.sqrt(2);function Dy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=$be?10:i>=Lbe?5:i>=zbe?2:1;let c,d,f;return a<0?(f=Math.pow(10,-a)/o,c=Math.round(e*f),d=Math.round(t*f),c/f<e&&++c,d/f>t&&--d,f=-f):(f=Math.pow(10,a)*o,c=Math.round(e/f),d=Math.round(t/f),c*f<e&&++c,d*f>t&&--d),d<c&&.5<=r&&r<2?Dy(e,t,r*2):[c,d,f]}function uC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Dy(t,e,r):Dy(e,t,r);if(!(i>=a))return[];const c=i-a+1,d=new Array(c);if(n)if(o<0)for(let f=0;f<c;++f)d[f]=(i-f)/-o;else for(let f=0;f<c;++f)d[f]=(i-f)*o;else if(o<0)for(let f=0;f<c;++f)d[f]=(a+f)/-o;else for(let f=0;f<c;++f)d[f]=(a+f)*o;return d}function dC(e,t,r){return t=+t,e=+e,r=+r,Dy(e,t,r)[2]}function fC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?dC(t,e,r):dC(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function y$(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function x$(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Gq(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Kq:Ibe(a);n>r;){if(n-r>600){const d=n-r+1,f=t-r+1,m=Math.log(d),p=.5*Math.exp(2*m/3),y=.5*Math.sqrt(m*p*(d-p)/d)*(f-d/2<0?-1:1),g=Math.max(r,Math.floor(t-f*p/d+y)),b=Math.min(n,Math.floor(t+(d-f)*p/d+y));Gq(e,t,g,b,a)}const i=e[t];let o=r,c=n;for(ph(e,r,t),a(e[n],i)>0&&ph(e,r,n);o<c;){for(ph(e,o,c),++o,--c;a(e[o],i)<0;)++o;for(;a(e[c],i)>0;)--c}a(e[r],i)===0?ph(e,r,c):(++c,ph(e,c,n)),c<=t&&(r=c+1),t<=c&&(n=c-1)}return e}function ph(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Fbe(e,t,r){if(e=Float64Array.from(Tbe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return x$(e);if(t>=1)return y$(e);var n,a=(n-1)*t,i=Math.floor(a),o=y$(Gq(e,i).subarray(0,i+1)),c=x$(e.subarray(i+1));return o+(c-o)*(a-i)}}function Ube(e,t,r=Wq){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),c=+r(e[i+1],i+1,e);return o+(c-o)*(a-i)}}function Bbe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Di(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Lo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const hC=Symbol("implicit");function IE(){var e=new g$,t=[],r=[],n=hC;function a(i){let o=e.get(i);if(o===void 0){if(n!==hC)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new g$;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return IE(t,r).unknown(n)},Di.apply(a,arguments),a}function $E(){var e=IE().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,c=!1,d=0,f=0,m=.5;delete e.unknown;function p(){var y=t().length,g=a<n,b=g?a:n,w=g?n:a;i=(w-b)/Math.max(1,y-d+f*2),c&&(i=Math.floor(i)),b+=(w-b-i*(y-d))*m,o=i*(1-d),c&&(b=Math.round(b),o=Math.round(o));var _=Bbe(y).map(function(j){return b+i*j});return r(g?_.reverse():_)}return e.domain=function(y){return arguments.length?(t(y),p()):t()},e.range=function(y){return arguments.length?([n,a]=y,n=+n,a=+a,p()):[n,a]},e.rangeRound=function(y){return[n,a]=y,n=+n,a=+a,c=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(y){return arguments.length?(c=!!y,p()):c},e.padding=function(y){return arguments.length?(d=Math.min(1,f=+y),p()):d},e.paddingInner=function(y){return arguments.length?(d=Math.min(1,y),p()):d},e.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},e.align=function(y){return arguments.length?(m=Math.max(0,Math.min(1,y)),p()):m},e.copy=function(){return $E(t(),[n,a]).round(c).paddingInner(d).paddingOuter(f).align(m)},Di.apply(p(),arguments)}function Yq(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Yq(t())},e}function qbe(){return Yq($E.apply(null,arguments).paddingInner(1))}function LE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Zq(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ym(){}var cm=.7,My=1/cm,jd="\\s*([+-]?\\d+)\\s*",um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vbe=/^#([0-9a-f]{3,8})$/,Hbe=new RegExp(`^rgb\\(${jd},${jd},${jd}\\)$`),Wbe=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),Kbe=new RegExp(`^rgba\\(${jd},${jd},${jd},${um}\\)$`),Gbe=new RegExp(`^rgba\\(${js},${js},${js},${um}\\)$`),Ybe=new RegExp(`^hsl\\(${um},${js},${js}\\)$`),Zbe=new RegExp(`^hsla\\(${um},${js},${js},${um}\\)$`),b$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LE(Ym,dm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:w$,formatHex:w$,formatHex8:Xbe,formatHsl:Qbe,formatRgb:_$,toString:_$});function w$(){return this.rgb().formatHex()}function Xbe(){return this.rgb().formatHex8()}function Qbe(){return Xq(this).formatHsl()}function _$(){return this.rgb().formatRgb()}function dm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Vbe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j$(t):r===3?new Ea(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hbe.exec(e))?new Ea(t[1],t[2],t[3],1):(t=Wbe.exec(e))?new Ea(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Kbe.exec(e))?cv(t[1],t[2],t[3],t[4]):(t=Gbe.exec(e))?cv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ybe.exec(e))?N$(t[1],t[2]/100,t[3]/100,1):(t=Zbe.exec(e))?N$(t[1],t[2]/100,t[3]/100,t[4]):b$.hasOwnProperty(e)?j$(b$[e]):e==="transparent"?new Ea(NaN,NaN,NaN,0):null}function j$(e){return new Ea(e>>16&255,e>>8&255,e&255,1)}function cv(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ea(e,t,r,n)}function Jbe(e){return e instanceof Ym||(e=dm(e)),e?(e=e.rgb(),new Ea(e.r,e.g,e.b,e.opacity)):new Ea}function mC(e,t,r,n){return arguments.length===1?Jbe(e):new Ea(e,t,r,n??1)}function Ea(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}LE(Ea,mC,Zq(Ym,{brighter(e){return e=e==null?My:Math.pow(My,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cm:Math.pow(cm,e),new Ea(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ea(Rc(this.r),Rc(this.g),Rc(this.b),Iy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S$,formatHex:S$,formatHex8:ewe,formatRgb:C$,toString:C$}));function S$(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}`}function ewe(){return`#${Ec(this.r)}${Ec(this.g)}${Ec(this.b)}${Ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function C$(){const e=Iy(this.opacity);return`${e===1?"rgb(":"rgba("}${Rc(this.r)}, ${Rc(this.g)}, ${Rc(this.b)}${e===1?")":`, ${e})`}`}function Iy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ec(e){return e=Rc(e),(e<16?"0":"")+e.toString(16)}function N$(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ki(e,t,r,n)}function Xq(e){if(e instanceof Ki)return new Ki(e.h,e.s,e.l,e.opacity);if(e instanceof Ym||(e=dm(e)),!e)return new Ki;if(e instanceof Ki)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,c=i-a,d=(i+a)/2;return c?(t===i?o=(r-n)/c+(r<n)*6:r===i?o=(n-t)/c+2:o=(t-r)/c+4,c/=d<.5?i+a:2-i-a,o*=60):c=d>0&&d<1?0:o,new Ki(o,c,d,e.opacity)}function twe(e,t,r,n){return arguments.length===1?Xq(e):new Ki(e,t,r,n??1)}function Ki(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}LE(Ki,twe,Zq(Ym,{brighter(e){return e=e==null?My:Math.pow(My,e),new Ki(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cm:Math.pow(cm,e),new Ki(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ea(aS(e>=240?e-240:e+120,a,n),aS(e,a,n),aS(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ki(E$(this.h),uv(this.s),uv(this.l),Iy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Iy(this.opacity);return`${e===1?"hsl(":"hsla("}${E$(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function E$(e){return e=(e||0)%360,e<0?e+360:e}function uv(e){return Math.max(0,Math.min(1,e||0))}function aS(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zE=e=>()=>e;function rwe(e,t){return function(r){return e+r*t}}function nwe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function awe(e){return(e=+e)==1?Qq:function(t,r){return r-t?nwe(t,r,e):zE(isNaN(t)?r:t)}}function Qq(e,t){var r=t-e;return r?rwe(e,r):zE(isNaN(e)?t:e)}const k$=(function e(t){var r=awe(t);function n(a,i){var o=r((a=mC(a)).r,(i=mC(i)).r),c=r(a.g,i.g),d=r(a.b,i.b),f=Qq(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=c(m),a.b=d(m),a.opacity=f(m),a+""}}return n.gamma=e,n})(1);function iwe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function swe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function owe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=af(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(c){for(o=0;o<n;++o)i[o]=a[o](c);return i}}function lwe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $y(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cwe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=af(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var pC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,iS=new RegExp(pC.source,"g");function uwe(e){return function(){return e}}function dwe(e){return function(t){return e(t)+""}}function fwe(e,t){var r=pC.lastIndex=iS.lastIndex=0,n,a,i,o=-1,c=[],d=[];for(e=e+"",t=t+"";(n=pC.exec(e))&&(a=iS.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),c[o]?c[o]+=i:c[++o]=i),(n=n[0])===(a=a[0])?c[o]?c[o]+=a:c[++o]=a:(c[++o]=null,d.push({i:o,x:$y(n,a)})),r=iS.lastIndex;return r<t.length&&(i=t.slice(r),c[o]?c[o]+=i:c[++o]=i),c.length<2?d[0]?dwe(d[0].x):uwe(t):(t=d.length,function(f){for(var m=0,p;m<t;++m)c[(p=d[m]).i]=p.x(f);return c.join("")})}function af(e,t){var r=typeof t,n;return t==null||r==="boolean"?zE(t):(r==="number"?$y:r==="string"?(n=dm(t))?(t=n,k$):fwe:t instanceof dm?k$:t instanceof Date?lwe:swe(t)?iwe:Array.isArray(t)?owe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cwe:$y)(e,t)}function FE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hwe(e,t){t===void 0&&(t=e,e=af);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var c=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[c](o-c)}}function mwe(e){return function(){return e}}function Ly(e){return+e}var A$=[0,1];function aa(e){return e}function gC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mwe(isNaN(t)?NaN:.5)}function pwe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gwe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=gC(a,n),i=r(o,i)):(n=gC(n,a),i=r(i,o)),function(c){return i(n(c))}}function vwe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=gC(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(c){var d=Gm(e,c,1,n)-1;return i[d](a[d](c))}}function Zm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function p0(){var e=A$,t=A$,r=af,n,a,i,o=aa,c,d,f;function m(){var y=Math.min(e.length,t.length);return o!==aa&&(o=pwe(e[0],e[y-1])),c=y>2?vwe:gwe,d=f=null,p}function p(y){return y==null||isNaN(y=+y)?i:(d||(d=c(e.map(n),t,r)))(n(o(y)))}return p.invert=function(y){return o(a((f||(f=c(t,e.map(n),$y)))(y)))},p.domain=function(y){return arguments.length?(e=Array.from(y,Ly),m()):e.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),m()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),r=FE,m()},p.clamp=function(y){return arguments.length?(o=y?!0:aa,m()):o!==aa},p.interpolate=function(y){return arguments.length?(r=y,m()):r},p.unknown=function(y){return arguments.length?(i=y,p):i},function(y,g){return n=y,a=g,m()}}function UE(){return p0()(aa,aa)}function ywe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Pd(e){return e=zy(Math.abs(e)),e?e[1]:NaN}function xwe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,c=e[0],d=0;a>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),i.push(r.substring(a-=c,a+c)),!((d+=c+1)>n));)c=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fm(e){if(!(t=wwe.exec(e)))throw new Error("invalid format: "+e);var t;return new BE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fm.prototype=BE.prototype;function BE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}BE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _we(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Jq;function jwe(e,t){var r=zy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Jq=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+zy(e,Math.max(0,t+i-1))[0]}function O$(e,t){var r=zy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const T$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ywe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>O$(e*100,t),r:O$,s:jwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function R$(e){return e}var P$=Array.prototype.map,D$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Swe(e){var t=e.grouping===void 0||e.thousands===void 0?R$:xwe(P$.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?R$:bwe(P$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",c=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(p){p=fm(p);var y=p.fill,g=p.align,b=p.sign,w=p.symbol,_=p.zero,j=p.width,N=p.comma,E=p.precision,k=p.trim,A=p.type;A==="n"?(N=!0,A="g"):T$[A]||(E===void 0&&(E=12),k=!0,A="g"),(_||y==="0"&&g==="=")&&(_=!0,y="0",g="=");var R=w==="$"?r:w==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",T=w==="$"?n:/[%p]/.test(A)?o:"",O=T$[A],P=/[defgprs%]/.test(A);E=E===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function $(M){var L=R,U=T,X,Y,F;if(A==="c")U=O(M)+U,M="";else{M=+M;var H=M<0||1/M<0;if(M=isNaN(M)?d:O(Math.abs(M),E),k&&(M=_we(M)),H&&+M==0&&b!=="+"&&(H=!1),L=(H?b==="("?b:c:b==="-"||b==="("?"":b)+L,U=(A==="s"?D$[8+Jq/3]:"")+U+(H&&b==="("?")":""),P){for(X=-1,Y=M.length;++X<Y;)if(F=M.charCodeAt(X),48>F||F>57){U=(F===46?a+M.slice(X+1):M.slice(X))+U,M=M.slice(0,X);break}}}N&&!_&&(M=t(M,1/0));var I=L.length+M.length+U.length,q=I<j?new Array(j-I+1).join(y):"";switch(N&&_&&(M=t(q+M,q.length?j-U.length:1/0),q=""),g){case"<":M=L+M+U+q;break;case"=":M=L+q+M+U;break;case"^":M=q.slice(0,I=q.length>>1)+L+M+U+q.slice(I);break;default:M=q+L+M+U;break}return i(M)}return $.toString=function(){return p+""},$}function m(p,y){var g=f((p=fm(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Pd(y)/3)))*3,w=Math.pow(10,-b),_=D$[8+b/3];return function(j){return g(w*j)+_}}return{format:f,formatPrefix:m}}var dv,qE,eV;Cwe({thousands:",",grouping:[3],currency:["$",""]});function Cwe(e){return dv=Swe(e),qE=dv.format,eV=dv.formatPrefix,dv}function Nwe(e){return Math.max(0,-Pd(Math.abs(e)))}function Ewe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)))*3-Pd(Math.abs(e)))}function kwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pd(t)-Pd(e))+1}function tV(e,t,r,n){var a=fC(e,t,r),i;switch(n=fm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Ewe(a,o))&&(n.precision=i),eV(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=kwe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Nwe(a))&&(n.precision=i-(n.type==="%")*2);break}}return qE(n)}function ql(e){var t=e.domain;return e.ticks=function(r){var n=t();return uC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return tV(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],c=n[i],d,f,m=10;for(c<o&&(f=o,o=c,c=f,f=a,a=i,i=f);m-- >0;){if(f=dC(o,c,r),f===d)return n[a]=o,n[i]=c,t(n);if(f>0)o=Math.floor(o/f)*f,c=Math.ceil(c/f)*f;else if(f<0)o=Math.ceil(o*f)/f,c=Math.floor(c*f)/f;else break;d=f}return e},e}function rV(){var e=UE();return e.copy=function(){return Zm(e,rV())},Di.apply(e,arguments),ql(e)}function nV(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ly),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nV(e).unknown(t)},e=arguments.length?Array.from(e,Ly):[0,1],ql(r)}function aV(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function M$(e){return Math.log(e)}function I$(e){return Math.exp(e)}function Awe(e){return-Math.log(-e)}function Owe(e){return-Math.exp(-e)}function Twe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Rwe(e){return e===10?Twe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Pwe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $$(e){return(t,r)=>-e(-t,r)}function VE(e){const t=e(M$,I$),r=t.domain;let n=10,a,i;function o(){return a=Pwe(n),i=Rwe(n),r()[0]<0?(a=$$(a),i=$$(i),e(Awe,Owe)):e(M$,I$),t}return t.base=function(c){return arguments.length?(n=+c,o()):n},t.domain=function(c){return arguments.length?(r(c),o()):r()},t.ticks=c=>{const d=r();let f=d[0],m=d[d.length-1];const p=m<f;p&&([f,m]=[m,f]);let y=a(f),g=a(m),b,w;const _=c==null?10:+c;let j=[];if(!(n%1)&&g-y<_){if(y=Math.floor(y),g=Math.ceil(g),f>0){for(;y<=g;++y)for(b=1;b<n;++b)if(w=y<0?b/i(-y):b*i(y),!(w<f)){if(w>m)break;j.push(w)}}else for(;y<=g;++y)for(b=n-1;b>=1;--b)if(w=y>0?b/i(-y):b*i(y),!(w<f)){if(w>m)break;j.push(w)}j.length*2<_&&(j=uC(f,m,_))}else j=uC(y,g,Math.min(g-y,_)).map(i);return p?j.reverse():j},t.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=fm(d)).precision==null&&(d.trim=!0),d=qE(d)),c===1/0)return d;const f=Math.max(1,n*c/t.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*n<n-.5&&(p*=n),p<=f?d(m):""}},t.nice=()=>r(aV(r(),{floor:c=>i(Math.floor(a(c))),ceil:c=>i(Math.ceil(a(c)))})),t}function iV(){const e=VE(p0()).domain([1,10]);return e.copy=()=>Zm(e,iV()).base(e.base()),Di.apply(e,arguments),e}function L$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function HE(e){var t=1,r=e(L$(t),z$(t));return r.constant=function(n){return arguments.length?e(L$(t=+n),z$(t)):t},ql(r)}function sV(){var e=HE(p0());return e.copy=function(){return Zm(e,sV()).constant(e.constant())},Di.apply(e,arguments)}function F$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Dwe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Mwe(e){return e<0?-e*e:e*e}function WE(e){var t=e(aa,aa),r=1;function n(){return r===1?e(aa,aa):r===.5?e(Dwe,Mwe):e(F$(r),F$(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ql(t)}function KE(){var e=WE(p0());return e.copy=function(){return Zm(e,KE()).exponent(e.exponent())},Di.apply(e,arguments),e}function Iwe(){return KE.apply(null,arguments).exponent(.5)}function U$(e){return Math.sign(e)*e*e}function $we(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oV(){var e=UE(),t=[0,1],r=!1,n;function a(i){var o=$we(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(U$(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ly)).map(U$)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return oV(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Di.apply(a,arguments),ql(a)}function lV(){var e=[],t=[],r=[],n;function a(){var o=0,c=Math.max(1,t.length);for(r=new Array(c-1);++o<c;)r[o-1]=Ube(e,o/c);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Gm(r,o)]}return i.invertExtent=function(o){var c=t.indexOf(o);return c<0?[NaN,NaN]:[c>0?r[c-1]:e[0],c<r.length?r[c]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let c of o)c!=null&&!isNaN(c=+c)&&e.push(c);return e.sort(kl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lV().domain(e).range(t).unknown(n)},Di.apply(i,arguments)}function cV(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(d){return d!=null&&d<=d?a[Gm(n,d,0,r)]:i}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,c()):[e,t]},o.range=function(d){return arguments.length?(r=(a=Array.from(d)).length-1,c()):a.slice()},o.invertExtent=function(d){var f=a.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,n[0]]:f>=r?[n[r-1],t]:[n[f-1],n[f]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cV().domain([e,t]).range(a).unknown(i)},Di.apply(ql(o),arguments)}function uV(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Gm(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return uV().domain(e).range(t).unknown(r)},Di.apply(a,arguments)}const sS=new Date,oS=new Date;function xn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),c=a.ceil(i);return i-o<c-i?o:c},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,c)=>{const d=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<o)||!(c>0))return d;let f;do d.push(f=new Date(+i)),t(i,c),e(i);while(f<i&&i<o);return d},a.filter=i=>xn(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;t(o,-1),!i(o););else for(;--c>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(sS.setTime(+i),oS.setTime(+o),e(sS),e(oS),Math.floor(r(sS,oS))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Fy=xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fy);Fy.range;const ho=1e3,ji=ho*60,mo=ji*60,Ao=mo*24,GE=Ao*7,B$=Ao*30,lS=Ao*365,kc=xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCSeconds());kc.range;const YE=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getMinutes());YE.range;const ZE=xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCMinutes());ZE.range;const XE=xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ho-e.getMinutes()*ji)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getHours());XE.range;const QE=xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mo)},(e,t)=>(t-e)/mo,e=>e.getUTCHours());QE.range;const Xm=xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ji)/Ao,e=>e.getDate()-1);Xm.range;const g0=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>e.getUTCDate()-1);g0.range;const dV=xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ao,e=>Math.floor(e/Ao));dV.range;function ou(e){return xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ji)/GE)}const v0=ou(0),Uy=ou(1),Lwe=ou(2),zwe=ou(3),Dd=ou(4),Fwe=ou(5),Uwe=ou(6);v0.range;Uy.range;Lwe.range;zwe.range;Dd.range;Fwe.range;Uwe.range;function lu(e){return xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/GE)}const y0=lu(0),By=lu(1),Bwe=lu(2),qwe=lu(3),Md=lu(4),Vwe=lu(5),Hwe=lu(6);y0.range;By.range;Bwe.range;qwe.range;Md.range;Vwe.range;Hwe.range;const JE=xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());JE.range;const ek=xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ek.range;const Oo=xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Oo.range;const To=xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());To.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});To.range;function fV(e,t,r,n,a,i){const o=[[kc,1,ho],[kc,5,5*ho],[kc,15,15*ho],[kc,30,30*ho],[i,1,ji],[i,5,5*ji],[i,15,15*ji],[i,30,30*ji],[a,1,mo],[a,3,3*mo],[a,6,6*mo],[a,12,12*mo],[n,1,Ao],[n,2,2*Ao],[r,1,GE],[t,1,B$],[t,3,3*B$],[e,1,lS]];function c(f,m,p){const y=m<f;y&&([f,m]=[m,f]);const g=p&&typeof p.range=="function"?p:d(f,m,p),b=g?g.range(f,+m+1):[];return y?b.reverse():b}function d(f,m,p){const y=Math.abs(m-f)/p,g=ME(([,,_])=>_).right(o,y);if(g===o.length)return e.every(fC(f/lS,m/lS,p));if(g===0)return Fy.every(Math.max(fC(f,m,p),1));const[b,w]=o[y/o[g-1][2]<o[g][2]/y?g-1:g];return b.every(w)}return[c,d]}const[Wwe,Kwe]=fV(To,ek,y0,dV,QE,ZE),[Gwe,Ywe]=fV(Oo,JE,v0,Xm,XE,YE);function cS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function uS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gh(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Zwe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,c=e.months,d=e.shortMonths,f=vh(a),m=yh(a),p=vh(i),y=yh(i),g=vh(o),b=yh(o),w=vh(c),_=yh(c),j=vh(d),N=yh(d),E={a:H,A:I,b:q,B:ue,c:null,d:G$,e:G$,f:x_e,g:A_e,G:T_e,H:g_e,I:v_e,j:y_e,L:hV,m:b_e,M:w_e,p:B,q:Q,Q:X$,s:Q$,S:__e,u:j_e,U:S_e,V:C_e,w:N_e,W:E_e,x:null,X:null,y:k_e,Y:O_e,Z:R_e,"%":Z$},k={a:V,A:ae,b:Z,B:ne,c:null,d:Y$,e:Y$,f:I_e,g:W_e,G:G_e,H:P_e,I:D_e,j:M_e,L:pV,m:$_e,M:L_e,p:ee,q:pe,Q:X$,s:Q$,S:z_e,u:F_e,U:U_e,V:B_e,w:q_e,W:V_e,x:null,X:null,y:H_e,Y:K_e,Z:Y_e,"%":Z$},A={a:$,A:M,b:L,B:U,c:X,d:W$,e:W$,f:f_e,g:H$,G:V$,H:K$,I:K$,j:l_e,L:d_e,m:o_e,M:c_e,p:P,q:s_e,Q:m_e,s:p_e,S:u_e,u:t_e,U:r_e,V:n_e,w:e_e,W:a_e,x:Y,X:F,y:H$,Y:V$,Z:i_e,"%":h_e};E.x=R(r,E),E.X=R(n,E),E.c=R(t,E),k.x=R(r,k),k.X=R(n,k),k.c=R(t,k);function R(G,ge){return function(ye){var le=[],Be=-1,Le=0,et=G.length,qe,Tt,Et;for(ye instanceof Date||(ye=new Date(+ye));++Be<et;)G.charCodeAt(Be)===37&&(le.push(G.slice(Le,Be)),(Tt=q$[qe=G.charAt(++Be)])!=null?qe=G.charAt(++Be):Tt=qe==="e"?" ":"0",(Et=ge[qe])&&(qe=Et(ye,Tt)),le.push(qe),Le=Be+1);return le.push(G.slice(Le,Be)),le.join("")}}function T(G,ge){return function(ye){var le=gh(1900,void 0,1),Be=O(le,G,ye+="",0),Le,et;if(Be!=ye.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(ge&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(Le=uS(gh(le.y,0,1)),et=Le.getUTCDay(),Le=et>4||et===0?By.ceil(Le):By(Le),Le=g0.offset(Le,(le.V-1)*7),le.y=Le.getUTCFullYear(),le.m=Le.getUTCMonth(),le.d=Le.getUTCDate()+(le.w+6)%7):(Le=cS(gh(le.y,0,1)),et=Le.getDay(),Le=et>4||et===0?Uy.ceil(Le):Uy(Le),Le=Xm.offset(Le,(le.V-1)*7),le.y=Le.getFullYear(),le.m=Le.getMonth(),le.d=Le.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),et="Z"in le?uS(gh(le.y,0,1)).getUTCDay():cS(gh(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(et+5)%7:le.w+le.U*7-(et+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,uS(le)):cS(le)}}function O(G,ge,ye,le){for(var Be=0,Le=ge.length,et=ye.length,qe,Tt;Be<Le;){if(le>=et)return-1;if(qe=ge.charCodeAt(Be++),qe===37){if(qe=ge.charAt(Be++),Tt=A[qe in q$?ge.charAt(Be++):qe],!Tt||(le=Tt(G,ye,le))<0)return-1}else if(qe!=ye.charCodeAt(le++))return-1}return le}function P(G,ge,ye){var le=f.exec(ge.slice(ye));return le?(G.p=m.get(le[0].toLowerCase()),ye+le[0].length):-1}function $(G,ge,ye){var le=g.exec(ge.slice(ye));return le?(G.w=b.get(le[0].toLowerCase()),ye+le[0].length):-1}function M(G,ge,ye){var le=p.exec(ge.slice(ye));return le?(G.w=y.get(le[0].toLowerCase()),ye+le[0].length):-1}function L(G,ge,ye){var le=j.exec(ge.slice(ye));return le?(G.m=N.get(le[0].toLowerCase()),ye+le[0].length):-1}function U(G,ge,ye){var le=w.exec(ge.slice(ye));return le?(G.m=_.get(le[0].toLowerCase()),ye+le[0].length):-1}function X(G,ge,ye){return O(G,t,ge,ye)}function Y(G,ge,ye){return O(G,r,ge,ye)}function F(G,ge,ye){return O(G,n,ge,ye)}function H(G){return o[G.getDay()]}function I(G){return i[G.getDay()]}function q(G){return d[G.getMonth()]}function ue(G){return c[G.getMonth()]}function B(G){return a[+(G.getHours()>=12)]}function Q(G){return 1+~~(G.getMonth()/3)}function V(G){return o[G.getUTCDay()]}function ae(G){return i[G.getUTCDay()]}function Z(G){return d[G.getUTCMonth()]}function ne(G){return c[G.getUTCMonth()]}function ee(G){return a[+(G.getUTCHours()>=12)]}function pe(G){return 1+~~(G.getUTCMonth()/3)}return{format:function(G){var ge=R(G+="",E);return ge.toString=function(){return G},ge},parse:function(G){var ge=T(G+="",!1);return ge.toString=function(){return G},ge},utcFormat:function(G){var ge=R(G+="",k);return ge.toString=function(){return G},ge},utcParse:function(G){var ge=T(G+="",!0);return ge.toString=function(){return G},ge}}}var q$={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,Xwe=/^%/,Qwe=/[\\^$*+?|[\]().{}]/g;function Ht(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Jwe(e){return e.replace(Qwe,"\\$&")}function vh(e){return new RegExp("^(?:"+e.map(Jwe).join("|")+")","i")}function yh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function e_e(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function t_e(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function r_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function n_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function a_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function V$(e,t,r){var n=Rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function H$(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function i_e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function s_e(e,t,r){var n=Rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function o_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function W$(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function l_e(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function K$(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function c_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function u_e(e,t,r){var n=Rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function d_e(e,t,r){var n=Rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function f_e(e,t,r){var n=Rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function h_e(e,t,r){var n=Xwe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function m_e(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function p_e(e,t,r){var n=Rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G$(e,t){return Ht(e.getDate(),t,2)}function g_e(e,t){return Ht(e.getHours(),t,2)}function v_e(e,t){return Ht(e.getHours()%12||12,t,2)}function y_e(e,t){return Ht(1+Xm.count(Oo(e),e),t,3)}function hV(e,t){return Ht(e.getMilliseconds(),t,3)}function x_e(e,t){return hV(e,t)+"000"}function b_e(e,t){return Ht(e.getMonth()+1,t,2)}function w_e(e,t){return Ht(e.getMinutes(),t,2)}function __e(e,t){return Ht(e.getSeconds(),t,2)}function j_e(e){var t=e.getDay();return t===0?7:t}function S_e(e,t){return Ht(v0.count(Oo(e)-1,e),t,2)}function mV(e){var t=e.getDay();return t>=4||t===0?Dd(e):Dd.ceil(e)}function C_e(e,t){return e=mV(e),Ht(Dd.count(Oo(e),e)+(Oo(e).getDay()===4),t,2)}function N_e(e){return e.getDay()}function E_e(e,t){return Ht(Uy.count(Oo(e)-1,e),t,2)}function k_e(e,t){return Ht(e.getFullYear()%100,t,2)}function A_e(e,t){return e=mV(e),Ht(e.getFullYear()%100,t,2)}function O_e(e,t){return Ht(e.getFullYear()%1e4,t,4)}function T_e(e,t){var r=e.getDay();return e=r>=4||r===0?Dd(e):Dd.ceil(e),Ht(e.getFullYear()%1e4,t,4)}function R_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ht(t/60|0,"0",2)+Ht(t%60,"0",2)}function Y$(e,t){return Ht(e.getUTCDate(),t,2)}function P_e(e,t){return Ht(e.getUTCHours(),t,2)}function D_e(e,t){return Ht(e.getUTCHours()%12||12,t,2)}function M_e(e,t){return Ht(1+g0.count(To(e),e),t,3)}function pV(e,t){return Ht(e.getUTCMilliseconds(),t,3)}function I_e(e,t){return pV(e,t)+"000"}function $_e(e,t){return Ht(e.getUTCMonth()+1,t,2)}function L_e(e,t){return Ht(e.getUTCMinutes(),t,2)}function z_e(e,t){return Ht(e.getUTCSeconds(),t,2)}function F_e(e){var t=e.getUTCDay();return t===0?7:t}function U_e(e,t){return Ht(y0.count(To(e)-1,e),t,2)}function gV(e){var t=e.getUTCDay();return t>=4||t===0?Md(e):Md.ceil(e)}function B_e(e,t){return e=gV(e),Ht(Md.count(To(e),e)+(To(e).getUTCDay()===4),t,2)}function q_e(e){return e.getUTCDay()}function V_e(e,t){return Ht(By.count(To(e)-1,e),t,2)}function H_e(e,t){return Ht(e.getUTCFullYear()%100,t,2)}function W_e(e,t){return e=gV(e),Ht(e.getUTCFullYear()%100,t,2)}function K_e(e,t){return Ht(e.getUTCFullYear()%1e4,t,4)}function G_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Md(e):Md.ceil(e),Ht(e.getUTCFullYear()%1e4,t,4)}function Y_e(){return"+0000"}function Z$(){return"%"}function X$(e){return+e}function Q$(e){return Math.floor(+e/1e3)}var id,vV,yV;Z_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Z_e(e){return id=Zwe(e),vV=id.format,id.parse,yV=id.utcFormat,id.utcParse,id}function X_e(e){return new Date(e)}function Q_e(e){return e instanceof Date?+e:+new Date(+e)}function tk(e,t,r,n,a,i,o,c,d,f){var m=UE(),p=m.invert,y=m.domain,g=f(".%L"),b=f(":%S"),w=f("%I:%M"),_=f("%I %p"),j=f("%a %d"),N=f("%b %d"),E=f("%B"),k=f("%Y");function A(R){return(d(R)<R?g:c(R)<R?b:o(R)<R?w:i(R)<R?_:n(R)<R?a(R)<R?j:N:r(R)<R?E:k)(R)}return m.invert=function(R){return new Date(p(R))},m.domain=function(R){return arguments.length?y(Array.from(R,Q_e)):y().map(X_e)},m.ticks=function(R){var T=y();return e(T[0],T[T.length-1],R??10)},m.tickFormat=function(R,T){return T==null?A:f(T)},m.nice=function(R){var T=y();return(!R||typeof R.range!="function")&&(R=t(T[0],T[T.length-1],R??10)),R?y(aV(T,R)):m},m.copy=function(){return Zm(m,tk(e,t,r,n,a,i,o,c,d,f))},m}function J_e(){return Di.apply(tk(Gwe,Ywe,Oo,JE,v0,Xm,XE,YE,kc,vV).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eje(){return Di.apply(tk(Wwe,Kwe,To,ek,y0,g0,QE,ZE,kc,yV).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function x0(){var e=0,t=1,r,n,a,i,o=aa,c=!1,d;function f(p){return p==null||isNaN(p=+p)?d:o(a===0?.5:(p=(i(p)-r)*a,c?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),f):[e,t]},f.clamp=function(p){return arguments.length?(c=!!p,f):c},f.interpolator=function(p){return arguments.length?(o=p,f):o};function m(p){return function(y){var g,b;return arguments.length?([g,b]=y,o=p(g,b),f):[o(0),o(1)]}}return f.range=m(af),f.rangeRound=m(FE),f.unknown=function(p){return arguments.length?(d=p,f):d},function(p){return i=p,r=p(e),n=p(t),a=r===n?0:1/(n-r),f}}function Vl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function xV(){var e=ql(x0()(aa));return e.copy=function(){return Vl(e,xV())},Lo.apply(e,arguments)}function bV(){var e=VE(x0()).domain([1,10]);return e.copy=function(){return Vl(e,bV()).base(e.base())},Lo.apply(e,arguments)}function wV(){var e=HE(x0());return e.copy=function(){return Vl(e,wV()).constant(e.constant())},Lo.apply(e,arguments)}function rk(){var e=WE(x0());return e.copy=function(){return Vl(e,rk()).exponent(e.exponent())},Lo.apply(e,arguments)}function tje(){return rk.apply(null,arguments).exponent(.5)}function _V(){var e=[],t=aa;function r(n){if(n!=null&&!isNaN(n=+n))return t((Gm(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(kl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Fbe(e,i/n))},r.copy=function(){return _V(t).domain(e)},Lo.apply(r,arguments)}function b0(){var e=0,t=.5,r=1,n=1,a,i,o,c,d,f=aa,m,p=!1,y;function g(w){return isNaN(w=+w)?y:(w=.5+((w=+m(w))-i)*(n*w<n*i?c:d),f(p?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([e,t,r]=w,a=m(e=+e),i=m(t=+t),o=m(r=+r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,g):[e,t,r]},g.clamp=function(w){return arguments.length?(p=!!w,g):p},g.interpolator=function(w){return arguments.length?(f=w,g):f};function b(w){return function(_){var j,N,E;return arguments.length?([j,N,E]=_,f=hwe(w,[j,N,E]),g):[f(0),f(.5),f(1)]}}return g.range=b(af),g.rangeRound=b(FE),g.unknown=function(w){return arguments.length?(y=w,g):y},function(w){return m=w,a=w(e),i=w(t),o=w(r),c=a===i?0:.5/(i-a),d=i===o?0:.5/(o-i),n=i<a?-1:1,g}}function jV(){var e=ql(b0()(aa));return e.copy=function(){return Vl(e,jV())},Lo.apply(e,arguments)}function SV(){var e=VE(b0()).domain([.1,1,10]);return e.copy=function(){return Vl(e,SV()).base(e.base())},Lo.apply(e,arguments)}function CV(){var e=HE(b0());return e.copy=function(){return Vl(e,CV()).constant(e.constant())},Lo.apply(e,arguments)}function nk(){var e=WE(b0());return e.copy=function(){return Vl(e,nk()).exponent(e.exponent())},Lo.apply(e,arguments)}function rje(){return nk.apply(null,arguments).exponent(.5)}const Sh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$E,scaleDiverging:jV,scaleDivergingLog:SV,scaleDivergingPow:nk,scaleDivergingSqrt:rje,scaleDivergingSymlog:CV,scaleIdentity:nV,scaleImplicit:hC,scaleLinear:rV,scaleLog:iV,scaleOrdinal:IE,scalePoint:qbe,scalePow:KE,scaleQuantile:lV,scaleQuantize:cV,scaleRadial:oV,scaleSequential:xV,scaleSequentialLog:bV,scaleSequentialPow:rk,scaleSequentialQuantile:_V,scaleSequentialSqrt:tje,scaleSequentialSymlog:wV,scaleSqrt:Iwe,scaleSymlog:sV,scaleThreshold:uV,scaleTime:J_e,scaleUtc:eje,tickFormat:tV},Symbol.toStringTag,{value:"Module"}));var zo=e=>e.chartData,NV=he([zo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ak=(e,t,r,n)=>n?NV(e):zo(e),EV=(e,t,r)=>r?NV(e):zo(e);function Dl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(sr(t)&&sr(r))return!0}return!1}function J$(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function kV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(sr(r))a=r;else if(typeof r=="function")return;if(sr(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Dl(o))return o}}function nje(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Dl(n))return J$(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,c;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Ue(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t?.[0]))}catch{}else if(typeof a=="string"&&fI.test(a)){var d=fI.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[0]-f}}else o=t?.[0];if(i==="auto")t!=null&&(c=Math.max(...t));else if(Ue(i))c=i;else if(typeof i=="function")try{t!=null&&(c=i(t?.[1]))}catch{}else if(typeof i=="string"&&hI.test(i)){var m=hI.exec(i);if(m==null||m[1]==null||t==null)c=void 0;else{var p=+m[1];c=t[1]+p}}else c=t?.[1];var y=[o,c];if(Dl(y))return t==null?y:J$(y,t,r)}}}var sf=1e9,aje={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sk,wr=!0,Ti="[DecimalError] ",Pc=Ti+"Invalid argument: ",ik=Ti+"Exponent out of range: ",of=Math.floor,yc=Math.pow,ije=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ha,kn=1e7,mr=7,AV=9007199254740991,qy=of(AV/mr),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*mr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ve.dividedBy=Ve.div=function(e){return xo(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,r=t.constructor;return ir(xo(t,new r(e),0,1),r.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return cn(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ha))throw Error(Ti+"NaN");if(r.s<1)throw Error(Ti+(r.s?"NaN":"-Infinity"));return r.eq(Ha)?new n(0):(wr=!1,t=xo(hm(r,i),hm(e,i),i),wr=!0,ir(t,a))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?RV(t,e):OV(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ti+"NaN");return r.s?(wr=!1,t=xo(r,e,0,1).times(e),wr=!0,r.minus(t)):ir(new n(r),a)};Ve.naturalExponential=Ve.exp=function(){return TV(this)};Ve.naturalLogarithm=Ve.ln=function(){return hm(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OV(t,e):RV(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pc+e);if(t=cn(a)+1,n=a.d.length-1,r=n*mr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ve.squareRoot=Ve.sqrt=function(){var e,t,r,n,a,i,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Ti+"NaN")}for(e=cn(c),wr=!1,a=Math.sqrt(+c),a==0||a==1/0?(t=ys(c.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=of((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new d(t)):n=new d(a.toString()),r=d.precision,a=o=r+3;;)if(i=n,n=i.plus(xo(c,i,o+2)).times(.5),ys(i.d).slice(0,o)===(t=ys(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(ir(i,r+1,0),i.times(i).eq(c)){n=i;break}}else if(t!="9999")break;o+=4}return wr=!0,ir(n,r)};Ve.times=Ve.mul=function(e){var t,r,n,a,i,o,c,d,f,m=this,p=m.constructor,y=m.d,g=(e=new p(e)).d;if(!m.s||!e.s)return new p(0);for(e.s*=m.s,r=m.e+e.e,d=y.length,f=g.length,d<f&&(i=y,y=g,g=i,o=d,d=f,f=o),i=[],o=d+f,n=o;n--;)i.push(0);for(n=f;--n>=0;){for(t=0,a=d+n;a>n;)c=i[a]+g[n]*y[a-n-1]+t,i[a--]=c%kn|0,t=c/kn|0;i[a]=(i[a]+t)%kn|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,wr?ir(e,p.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(As(e,0,sf),t===void 0?t=n.rounding:As(t,0,8),ir(r,e+cn(r)+1,t))};Ve.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zc(n,!0):(As(e,0,sf),t===void 0?t=a.rounding:As(t,0,8),n=ir(new a(n),e+1,t),r=Zc(n,!0,e+1)),r};Ve.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Zc(a):(As(e,0,sf),t===void 0?t=i.rounding:As(t,0,8),n=ir(new i(a),e+cn(a)+1,t),r=Zc(n.abs(),!1,e+cn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return ir(new t(e),cn(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,r,n,a,i,o,c=this,d=c.constructor,f=12,m=+(e=new d(e));if(!e.s)return new d(Ha);if(c=new d(c),!c.s){if(e.s<1)throw Error(Ti+"Infinity");return c}if(c.eq(Ha))return c;if(n=d.precision,e.eq(Ha))return ir(c,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=c.s,o){if((r=m<0?-m:m)<=AV){for(a=new d(Ha),t=Math.ceil(n/mr+4),wr=!1;r%2&&(a=a.times(c),tL(a.d,t)),r=of(r/2),r!==0;)c=c.times(c),tL(c.d,t);return wr=!0,e.s<0?new d(Ha).div(a):ir(a,n)}}else if(i<0)throw Error(Ti+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,c.s=1,wr=!1,a=e.times(hm(c,n+f)),wr=!0,a=TV(a),a.s=i,a};Ve.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=cn(a),n=Zc(a,r<=i.toExpNeg||r>=i.toExpPos)):(As(e,1,sf),t===void 0?t=i.rounding:As(t,0,8),a=ir(new i(a),e,t),r=cn(a),n=Zc(a,e<=r||r<=i.toExpNeg,e)),n};Ve.toSignificantDigits=Ve.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(As(e,1,sf),t===void 0?t=n.rounding:As(t,0,8)),ir(new n(r),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=cn(e),r=e.constructor;return Zc(e,t<=r.toExpNeg||t>=r.toExpPos)};function OV(e,t){var r,n,a,i,o,c,d,f,m=e.constructor,p=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),wr?ir(t,p):t;if(d=e.d,f=t.d,o=e.e,a=t.e,d=d.slice(),i=o-a,i){for(i<0?(n=d,i=-i,c=f.length):(n=f,a=o,c=d.length),o=Math.ceil(p/mr),c=o>c?o+1:c+1,i>c&&(i=c,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(c=d.length,i=f.length,c-i<0&&(i=c,n=f,f=d,d=n),r=0;i;)r=(d[--i]=d[i]+f[i]+r)/kn|0,d[i]%=kn;for(r&&(d.unshift(r),++a),c=d.length;d[--c]==0;)d.pop();return t.d=d,t.e=a,wr?ir(t,p):t}function As(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Pc+e)}function ys(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=mr-n.length,r&&(i+=yl(r)),i+=n;o=e[t],n=o+"",r=mr-n.length,r&&(i+=yl(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xo=(function(){function e(n,a){var i,o=0,c=n.length;for(n=n.slice();c--;)i=n[c]*a+o,n[c]=i%kn|0,o=i/kn|0;return o&&n.unshift(o),n}function t(n,a,i,o){var c,d;if(i!=o)d=i>o?1:-1;else for(c=d=0;c<i;c++)if(n[c]!=a[c]){d=n[c]>a[c]?1:-1;break}return d}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*kn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var c,d,f,m,p,y,g,b,w,_,j,N,E,k,A,R,T,O,P=n.constructor,$=n.s==a.s?1:-1,M=n.d,L=a.d;if(!n.s)return new P(n);if(!a.s)throw Error(Ti+"Division by zero");for(d=n.e-a.e,T=L.length,A=M.length,g=new P($),b=g.d=[],f=0;L[f]==(M[f]||0);)++f;if(L[f]>(M[f]||0)&&--d,i==null?N=i=P.precision:o?N=i+(cn(n)-cn(a))+1:N=i,N<0)return new P(0);if(N=N/mr+2|0,f=0,T==1)for(m=0,L=L[0],N++;(f<A||m)&&N--;f++)E=m*kn+(M[f]||0),b[f]=E/L|0,m=E%L|0;else{for(m=kn/(L[0]+1)|0,m>1&&(L=e(L,m),M=e(M,m),T=L.length,A=M.length),k=T,w=M.slice(0,T),_=w.length;_<T;)w[_++]=0;O=L.slice(),O.unshift(0),R=L[0],L[1]>=kn/2&&++R;do m=0,c=t(L,w,T,_),c<0?(j=w[0],T!=_&&(j=j*kn+(w[1]||0)),m=j/R|0,m>1?(m>=kn&&(m=kn-1),p=e(L,m),y=p.length,_=w.length,c=t(p,w,y,_),c==1&&(m--,r(p,T<y?O:L,y))):(m==0&&(c=m=1),p=L.slice()),y=p.length,y<_&&p.unshift(0),r(w,p,_),c==-1&&(_=w.length,c=t(L,w,T,_),c<1&&(m++,r(w,T<_?O:L,_))),_=w.length):c===0&&(m++,w=[0]),b[f++]=m,c&&w[0]?w[_++]=M[k]||0:(w=[M[k]],_=1);while((k++<A||w[0]!==void 0)&&N--)}return b[0]||b.shift(),g.e=d,ir(g,o?i+cn(g)+1:i)}})();function TV(e,t){var r,n,a,i,o,c,d=0,f=0,m=e.constructor,p=m.precision;if(cn(e)>16)throw Error(ik+cn(e));if(!e.s)return new m(Ha);for(wr=!1,c=p,o=new m(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(n=Math.log(yc(2,f))/Math.LN10*2+5|0,c+=n,r=a=i=new m(Ha),m.precision=c;;){if(a=ir(a.times(e),c),r=r.times(++d),o=i.plus(xo(a,r,c)),ys(o.d).slice(0,c)===ys(i.d).slice(0,c)){for(;f--;)i=ir(i.times(i),c);return m.precision=p,t==null?(wr=!0,ir(i,p)):i}i=o}}function cn(e){for(var t=e.e*mr,r=e.d[0];r>=10;r/=10)t++;return t}function dS(e,t,r){if(t>e.LN10.sd())throw wr=!0,r&&(e.precision=r),Error(Ti+"LN10 precision limit exceeded");return ir(new e(e.LN10),t)}function yl(e){for(var t="";e--;)t+="0";return t}function hm(e,t){var r,n,a,i,o,c,d,f,m,p=1,y=10,g=e,b=g.d,w=g.constructor,_=w.precision;if(g.s<1)throw Error(Ti+(g.s?"NaN":"-Infinity"));if(g.eq(Ha))return new w(0);if(t==null?(wr=!1,f=_):f=t,g.eq(10))return t==null&&(wr=!0),dS(w,f);if(f+=y,w.precision=f,r=ys(b),n=r.charAt(0),i=cn(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(e),r=ys(g.d),n=r.charAt(0),p++;i=cn(g),n>1?(g=new w("0."+r),i++):g=new w(n+"."+r.slice(1))}else return d=dS(w,f+2,_).times(i+""),g=hm(new w(n+"."+r.slice(1)),f-y).plus(d),w.precision=_,t==null?(wr=!0,ir(g,_)):g;for(c=o=g=xo(g.minus(Ha),g.plus(Ha),f),m=ir(g.times(g),f),a=3;;){if(o=ir(o.times(m),f),d=c.plus(xo(o,new w(a),f)),ys(d.d).slice(0,f)===ys(c.d).slice(0,f))return c=c.times(2),i!==0&&(c=c.plus(dS(w,f+2,_).times(i+""))),c=xo(c,new w(p),f),w.precision=_,t==null?(wr=!0,ir(c,_)):c;c=d,a+=2}}function eL(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=of(r/mr),e.d=[],n=(r+1)%mr,r<0&&(n+=mr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=mr;n<a;)e.d.push(+t.slice(n,n+=mr));t=t.slice(n),n=mr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),wr&&(e.e>qy||e.e<-qy))throw Error(ik+r)}else e.s=0,e.e=0,e.d=[0];return e}function ir(e,t,r){var n,a,i,o,c,d,f,m,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=mr,a=t,f=p[m=0];else{if(m=Math.ceil((n+1)/mr),i=p.length,m>=i)return e;for(f=i=p[m],o=1;i>=10;i/=10)o++;n%=mr,a=n-mr+o}if(r!==void 0&&(i=yc(10,o-a-1),c=f/i%10|0,d=t<0||p[m+1]!==void 0||f%i,d=r<4?(c||d)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?a>0?f/yc(10,o-a):0:p[m-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=cn(e),p.length=1,t=t-i-1,p[0]=yc(10,(mr-t%mr)%mr),e.e=of(-t/mr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=m,i=1,m--):(p.length=m+1,i=yc(10,mr-n),p[m]=a>0?(f/yc(10,o-a)%yc(10,a)|0)*i:0),d)for(;;)if(m==0){(p[0]+=i)==kn&&(p[0]=1,++e.e);break}else{if(p[m]+=i,p[m]!=kn)break;p[m--]=0,i=1}for(n=p.length;p[--n]===0;)p.pop();if(wr&&(e.e>qy||e.e<-qy))throw Error(ik+cn(e));return e}function RV(e,t){var r,n,a,i,o,c,d,f,m,p,y=e.constructor,g=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),wr?ir(t,g):t;if(d=e.d,p=t.d,n=t.e,f=e.e,d=d.slice(),o=f-n,o){for(m=o<0,m?(r=d,o=-o,c=p.length):(r=p,n=f,c=d.length),a=Math.max(Math.ceil(g/mr),c)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=d.length,c=p.length,m=a<c,m&&(c=a),a=0;a<c;a++)if(d[a]!=p[a]){m=d[a]<p[a];break}o=0}for(m&&(r=d,d=p,p=r,t.s=-t.s),c=d.length,a=p.length-c;a>0;--a)d[c++]=0;for(a=p.length;a>o;){if(d[--a]<p[a]){for(i=a;i&&d[--i]===0;)d[i]=kn-1;--d[i],d[a]+=kn}d[a]-=p[a]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(t.d=d,t.e=n,wr?ir(t,g):t):new y(0)}function Zc(e,t,r){var n,a=cn(e),i=ys(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+yl(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+yl(-a-1)+i,r&&(n=r-o)>0&&(i+=yl(n))):a>=o?(i+=yl(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+yl(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=yl(n))),e.s<0?"-"+i:i}function tL(e,t){if(e.length>t)return e.length=t,!0}function PV(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Pc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return eL(o,i.toString())}else if(typeof i!="string")throw Error(Pc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,ije.test(i))eL(o,i);else throw Error(Pc+i)}if(a.prototype=Ve,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=PV,a.config=a.set=sje,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function sje(e){if(!e||typeof e!="object")throw Error(Ti+"Object expected");var t,r,n,a=["precision",1,sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(of(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Pc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Pc+r+": "+n);return this}var sk=PV(aje);Ha=new sk(1);const Xt=sk;var oje=e=>e,DV={},MV=e=>e===DV,rL=e=>function t(){return arguments.length===0||arguments.length===1&&MV(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},IV=(e,t)=>e===1?t:rL(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==DV).length;return i>=e?t(...n):IV(e-i,rL(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var f=n.map(m=>MV(m)?c.shift():m);return t(...f,...c)}))}),lje=e=>IV(e.length,e),vC=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},cje=lje((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),uje=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oje;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((c,d)=>d(c),i(...arguments))}};function $V(e){var t;return e===0?t=1:t=Math.floor(new Xt(e).abs().log(10).toNumber())+1,t}function LV(e,t,r){for(var n=new Xt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var zV=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},FV=(e,t,r)=>{if(e.lte(0))return new Xt(0);var n=$V(e.toNumber()),a=new Xt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,c=new Xt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=c.mul(a);return t?new Xt(d.toNumber()):new Xt(Math.ceil(d.toNumber()))},dje=(e,t,r)=>{var n=new Xt(1),a=new Xt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Xt(10).pow($V(e)-1),a=new Xt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Xt(Math.floor(e)))}else e===0?a=new Xt(Math.floor((t-1)/2)):r||(a=new Xt(Math.floor(e)));var o=Math.floor((t-1)/2),c=uje(cje(d=>a.add(new Xt(d-o).mul(n)).toNumber()),vC);return c(0,t)},UV=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Xt(0),tickMin:new Xt(0),tickMax:new Xt(0)};var o=FV(new Xt(r).sub(t).div(n-1),a,i),c;t<=0&&r>=0?c=new Xt(0):(c=new Xt(t).add(r).div(2),c=c.sub(new Xt(c).mod(o)));var d=Math.ceil(c.sub(t).div(o).toNumber()),f=Math.ceil(new Xt(r).sub(c).div(o).toNumber()),m=d+f+1;return m>n?UV(t,r,n,a,i+1):(m<n&&(f=r>0?f+(n-m):f,d=r>0?d:d+(n-m)),{step:o,tickMin:c.sub(new Xt(d).mul(o)),tickMax:c.add(new Xt(f).mul(o))})},fje=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[c,d]=zV([r,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...vC(0,a-1).map(()=>1/0)]:[...vC(0,a-1).map(()=>-1/0),d];return r>n?f.reverse():f}if(c===d)return dje(c,a,i);var{step:m,tickMin:p,tickMax:y}=UV(c,d,o,i,0),g=LV(p,y.add(new Xt(.1).mul(m)),m);return r>n?g.reverse():g},hje=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=zV([n,a]);if(o===-1/0||c===1/0)return[n,a];if(o===c)return[o];var d=Math.max(r,2),f=FV(new Xt(c).sub(o).div(d-1),i,0),m=[...LV(new Xt(o),new Xt(c),f),c];return i===!1&&(m=m.map(p=>Math.round(p))),n>a?m.reverse():m},BV=e=>e.rootProps.maxBarSize,mje=e=>e.rootProps.barGap,qV=e=>e.rootProps.barCategoryGap,pje=e=>e.rootProps.barSize,w0=e=>e.rootProps.stackOffset,VV=e=>e.rootProps.reverseStackOrder,ok=e=>e.options.chartName,lk=e=>e.rootProps.syncId,HV=e=>e.rootProps.syncMethod,ck=e=>e.options.eventEmitter,gje=e=>e.rootProps.baseValue,yn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},co={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},_0=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},vje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:co.angleAxisId,includeHidden:!1,name:void 0,reversed:co.reversed,scale:co.scale,tick:co.tick,tickCount:void 0,ticks:void 0,type:co.type,unit:void 0},yje={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},xje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:co.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:co.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:co.scale,tick:co.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},bje={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},uk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xje:vje,dk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?bje:yje,j0=e=>e.polarOptions,fk=he([Io,$o,On],mbe),WV=he([j0,fk],(e,t)=>{if(e!=null)return ts(e.innerRadius,t,0)}),KV=he([j0,fk],(e,t)=>{if(e!=null)return ts(e.outerRadius,t,t*.8)}),wje=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},GV=he([j0],wje);he([uk,GV],_0);var YV=he([fk,WV,KV],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});he([dk,YV],_0);var ZV=he([Ut,j0,WV,KV,Io,$o],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:c,startAngle:d,endAngle:f}=t;return{cx:ts(o,a,a/2),cy:ts(c,i,i/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:f,clockWise:!1}}}),bn=(e,t)=>t,S0=(e,t,r)=>r;function C0(e){return e?.id}function XV(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:n;if(!(f==null||f.length===0)){var m=C0(c);f.forEach((p,y)=>{var g=i==null||a?y:String(zr(p,i,null)),b=zr(p,c.dataKey,0),w;o.has(g)?w=o.get(g):w={},Object.assign(w,{[m]:b}),o.set(g,w)})}}),Array.from(o.values())}function N0(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var E0=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function k0(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function _je(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var wn=e=>{var t=Ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lf=e=>e.tooltip.settings.axisId;function nL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(r),!0).forEach(function(n){jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jje(e,t,r){return(t=Sje(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sje(e){var t=Cje(e,"string");return typeof t=="symbol"?t:t+""}function Cje(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yC=[0,"auto"],Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},QV=(e,t)=>e.cartesianAxis.xAxis[t],Fo=(e,t)=>{var r=QV(e,t);return r??Nn},En={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:yC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:qm},JV=(e,t)=>e.cartesianAxis.yAxis[t],Uo=(e,t)=>{var r=JV(e,t);return r??En},Nje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Nje},fa=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return Uo(e,r);case"zAxis":return hk(e,r);case"angleAxis":return uk(e,r);case"radiusAxis":return dk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Eje=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return Uo(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Qm=(e,t,r)=>{switch(t){case"xAxis":return Fo(e,r);case"yAxis":return Uo(e,r);case"angleAxis":return uk(e,r);case"radiusAxis":return dk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},eH=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function tH(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Jm=e=>e.graphicalItems.cartesianItems,kje=he([bn,S0],tH),rH=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),ep=he([Jm,fa,kje],rH,{memoizeOptions:{resultEqualityCheck:k0}}),nH=he([ep],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(N0)),aH=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Aje=he([ep],aH),iH=e=>e.map(t=>t.data).filter(Boolean).flat(1),Oje=he([ep],iH,{memoizeOptions:{resultEqualityCheck:k0}}),sH=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},mk=he([Oje,ak],sH),oH=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:zr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:zr(a,n)}))):e.map(n=>({value:n})),A0=he([mk,fa,ep],oH);function lH(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Av(e){if(Es(e)||e instanceof Date){var t=Number(e);if(sr(t))return t}}function aL(e){if(Array.isArray(e)){var t=[Av(e[0]),Av(e[1])];return Dl(t)?t:void 0}var r=Av(e);if(r!=null)return[r,r]}function Ro(e){return e.map(Av).filter(Uge)}function Tje(e,t,r){return!r||typeof t!="number"||Ai(t)?[]:r.length?Ro(r.flatMap(n=>{var a=zr(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!sr(i)||!sr(o)))return[t-i,t+o]})):[]}var _n=e=>{var t=wn(e),r=lf(e);return Qm(e,t,r)},tp=he([_n],e=>e?.dataKey),Rje=he([nH,ak,_n],XV),cH=(e,t,r,n)=>{var a={},i=t.reduce((o,c)=>{if(c.stackId==null)return o;var d=o[c.stackId];return d==null&&(d=[]),d.push(c),o[c.stackId]=d,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[c,d]=o,f=n?[...d].reverse():d,m=f.map(C0);return[c,{stackedData:ixe(e,m,r),graphicalItems:f}]}))},Hy=he([Rje,nH,w0,VV],cH),uH=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=cxe(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Pje=he([fa],e=>e.allowDataOverflow),pk=e=>{var t;if(e==null||!("domain"in e))return yC;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Ro(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:yC},dH=he([fa],pk),fH=he([dH,Pje],kV),Dje=he([Hy,zo,bn,fH],uH,{memoizeOptions:{resultEqualityCheck:E0}}),gk=e=>e.errorBars,Mje=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>lH(r,n)),Wy=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),c=Math.max(...i);return[o,c]}},hH=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(c=>{r.forEach(d=>{var f,m,p=(f=n[d.id])===null||f===void 0?void 0:f.filter(j=>lH(a,j)),y=zr(c,(m=t.dataKey)!==null&&m!==void 0?m:d.dataKey),g=Tje(c,y,p);if(g.length>=2){var b=Math.min(...g),w=Math.max(...g);(i==null||b<i)&&(i=b),(o==null||w>o)&&(o=w)}var _=aL(y);_!=null&&(i=i==null?_[0]:Math.min(i,_[0]),o=o==null?_[1]:Math.max(o,_[1]))})}),t?.dataKey!=null&&e.forEach(c=>{var d=aL(zr(c,t.dataKey));d!=null&&(i=i==null?d[0]:Math.min(i,d[0]),o=o==null?d[1]:Math.max(o,d[1]))}),sr(i)&&sr(o))return[i,o]},Ije=he([mk,fa,Aje,gk,bn],hH,{memoizeOptions:{resultEqualityCheck:E0}});function $je(e){var{value:t}=e;if(Es(t)||t instanceof Date)return t}var Lje=(e,t,r)=>{var n=e.map($je).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&j5(n))?Hq(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},mH=e=>e.referenceElements.dots,cf=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),zje=he([mH,bn,S0],cf),pH=e=>e.referenceElements.areas,Fje=he([pH,bn,S0],cf),gH=e=>e.referenceElements.lines,Uje=he([gH,bn,S0],cf),vH=(e,t)=>{if(e!=null){var r=Ro(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Bje=he(zje,bn,vH),yH=(e,t)=>{if(e!=null){var r=Ro(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},qje=he([Fje,bn],yH);function Vje(e){var t;if(e.x!=null)return Ro([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ro(r)}function Hje(e){var t;if(e.y!=null)return Ro([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ro(r)}var xH=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Vje(n):Hje(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Wje=he([Uje,bn],xH),Kje=he(Bje,Wje,qje,(e,t,r)=>Wy(e,r,t)),bH=(e,t,r,n,a,i,o,c)=>{if(r!=null)return r;var d=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",f=d?Wy(n,i,a):Wy(i,a);return nje(t,f,e.allowDataOverflow)},Gje=he([fa,dH,fH,Dje,Ije,Kje,Ut,bn],bH,{memoizeOptions:{resultEqualityCheck:E0}}),Yje=[0,1],wH=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:c,type:d}=e,f=Is(t,i);if(f&&c==null){var m;return Hq(0,(m=r?.length)!==null&&m!==void 0?m:0)}return d==="category"?Lje(n,e,f):a==="expand"?Yje:o}},vk=he([fa,Ut,mk,A0,w0,bn,Gje],wH),_H=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var c="scale".concat(zm(i));return c in Sh?c:"point"}}},rp=he([fa,Ut,eH,ok,bn],_H);function Zje(e){if(e!=null){if(e in Sh)return Sh[e]();var t="scale".concat(zm(e));if(t in Sh)return Sh[t]()}}function yk(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Zje(t);if(a!=null){var i=a.domain(r).range(n);return exe(i),i}}}var jH=(e,t,r)=>{var n=pk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Dl(e))return fje(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Dl(e))return hje(e,t.tickCount,t.allowDecimals)}},xk=he([vk,Qm,rp],jH),SH=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Dl(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],c=r[r.length-1];return[Math.min(a,i),Math.max(o,c)]}return t},Xje=he([fa,vk,xk,bn],SH),Qje=he(A0,fa,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ro(e.map(p=>p.value))).sort((p,y)=>p-y),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var c=0;c<n.length-1;c++){var d=n[c],f=n[c+1];if(!(d==null||f==null)){var m=f-d;r=Math.min(r,m)}}return r/o}}),CH=he(Qje,Ut,qV,On,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!sr(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=ts(r,e*i),c=e*i/2;return c-o-(c-o)/i*o}return 0}),Jje=(e,t,r)=>{var n=Fo(e,t);return n==null||typeof n.padding!="string"?0:CH(e,"xAxis",t,r,n.padding)},eSe=(e,t,r)=>{var n=Uo(e,t);return n==null||typeof n.padding!="string"?0:CH(e,"yAxis",t,r,n.padding)},tSe=he(Fo,Jje,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),rSe=he(Uo,eSe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),nSe=he([On,tSe,c0,l0,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),aSe=he([On,Ut,rSe,c0,l0,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),np=(e,t,r,n)=>{var a;switch(t){case"xAxis":return nSe(e,r,n);case"yAxis":return aSe(e,r,n);case"zAxis":return(a=hk(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return GV(e);case"radiusAxis":return YV(e,r);default:return}},NH=he([fa,np],_0),O0=he([fa,rp,Xje,NH],yk);he([ep,gk,bn],Mje);function EH(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var T0=(e,t)=>t,R0=(e,t,r)=>r,iSe=he(s0,T0,R0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EH)),sSe=he(o0,T0,R0,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(EH)),kH=(e,t)=>({width:e.width,height:t.height}),oSe=(e,t)=>{var r=typeof t.width=="number"?t.width:qm;return{width:r,height:e.height}},AH=he(On,Fo,kH),lSe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},cSe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},uSe=he($o,On,iSe,T0,R0,(e,t,r,n,a)=>{var i={},o;return r.forEach(c=>{var d=kH(t,c);o==null&&(o=lSe(t,n,e));var f=n==="top"&&!a||n==="bottom"&&a;i[c.id]=o-Number(f)*d.height,o+=(f?-1:1)*d.height}),i}),dSe=he(Io,On,sSe,T0,R0,(e,t,r,n,a)=>{var i={},o;return r.forEach(c=>{var d=oSe(t,c);o==null&&(o=cSe(t,n,e));var f=n==="left"&&!a||n==="right"&&a;i[c.id]=o-Number(f)*d.width,o+=(f?-1:1)*d.width}),i}),fSe=(e,t)=>{var r=Fo(e,t);if(r!=null)return uSe(e,r.orientation,r.mirror)},hSe=he([On,Fo,fSe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),mSe=(e,t)=>{var r=Uo(e,t);if(r!=null)return dSe(e,r.orientation,r.mirror)},pSe=he([On,Uo,mSe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r?.[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),OH=he(On,Uo,(e,t)=>{var r=typeof t.width=="number"?t.width:qm;return{width:r,height:e.height}}),iL=(e,t,r)=>{switch(t){case"xAxis":return AH(e,r).width;case"yAxis":return OH(e,r).height;default:return}},TH=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,c=Is(e,n),d=t.map(f=>f.value);if(o&&c&&i==="category"&&a&&j5(d))return d}},bk=he([Ut,A0,fa,bn],TH),RH=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=Is(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(c=>c.value)}},wk=he([Ut,A0,Qm,bn],RH),sL=he([Ut,Eje,rp,O0,bk,wk,np,xk,bn],(e,t,r,n,a,i,o,c,d)=>{if(t!=null){var f=Is(e,d);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:d,categoricalDomain:i,duplicateDomain:a,isCategorical:f,niceTicks:c,range:o,realScaleType:r,scale:n}}}),gSe=(e,t,r,n,a,i,o,c,d)=>{if(!(t==null||n==null)){var f=Is(e,d),{type:m,ticks:p,tickCount:y}=t,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,b=m==="category"&&n.bandwidth?n.bandwidth()/g:0;b=d==="angleAxis"&&i!=null&&i.length>=2?Na(i[0]-i[1])*2*b:b;var w=p||a;if(w){var _=w.map((j,N)=>{var E=o?o.indexOf(j):j;return{index:N,coordinate:n(E)+b,value:j,offset:b}});return _.filter(j=>sr(j.coordinate))}return f&&c?c.map((j,N)=>({coordinate:n(j)+b,value:j,index:N,offset:b})).filter(j=>sr(j.coordinate)):n.ticks?n.ticks(y).map(j=>({coordinate:n(j)+b,value:j,offset:b})):n.domain().map((j,N)=>({coordinate:n(j)+b,value:o?o[j]:j,index:N,offset:b}))}},PH=he([Ut,Qm,rp,O0,xk,np,bk,wk,bn],gSe),vSe=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var c=Is(e,o),{tickCount:d}=t,f=0;return f=o==="angleAxis"&&n?.length>=2?Na(n[0]-n[1])*2*f:f,c&&i?i.map((m,p)=>({coordinate:r(m)+f,value:m,index:p,offset:f})):r.ticks?r.ticks(d).map(m=>({coordinate:r(m)+f,value:m,offset:f})):r.domain().map((m,p)=>({coordinate:r(m)+f,value:a?a[m]:m,index:p,offset:f}))}},Os=he([Ut,Qm,O0,np,bk,wk,bn],vSe),Ts=he(fa,O0,(e,t)=>{if(!(e==null||t==null))return Vy(Vy({},e),{},{scale:t})}),ySe=he([fa,rp,vk,NH],yk);he((e,t,r)=>hk(e,r),ySe,(e,t)=>{if(!(e==null||t==null))return Vy(Vy({},e),{},{scale:t})});var xSe=he([Ut,s0,o0],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DH=e=>e.options.defaultTooltipEventType,MH=e=>e.options.validateTooltipEventTypes;function IH(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function _k(e,t){var r=DH(e),n=MH(e);return IH(t,r,n)}function bSe(e){return tt(t=>_k(t,e))}var $H=(e,t)=>{var r,n=Number(t);if(!(Ai(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},wSe=e=>e.tooltip.settings,_l={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_Se={itemInteraction:{click:_l,hover:_l},axisInteraction:{click:_l,hover:_l},keyboardInteraction:_l,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},LH=Ta({name:"tooltip",initialState:_Se,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:br()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Qi(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:br()},removeTooltipEntrySettings:{reducer(e,t){var r=Qi(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:br()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:jSe,replaceTooltipEntrySettings:SSe,removeTooltipEntrySettings:CSe,setTooltipSettingsState:NSe,setActiveMouseOverItemIndex:zH,mouseLeaveItem:ESe,mouseLeaveChart:FH,setActiveClickItemIndex:kSe,setMouseOverAxisIndex:UH,setMouseClickAxisIndex:ASe,setSyncInteraction:xC,setKeyboardInteraction:bC}=LH.actions,OSe=LH.reducer;function oL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oL(Object(r),!0).forEach(function(n){TSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TSe(e,t,r){return(t=RSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RSe(e){var t=PSe(e,"string");return typeof t=="symbol"?t:t+""}function PSe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DSe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MSe(e){return e.index!=null}var BH=(e,t,r,n)=>{if(t==null)return _l;var a=DSe(e,t,r);if(a==null)return _l;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(MSe(a)){if(i)return fv(fv({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return fv(fv({},_l),{},{coordinate:a.coordinate})};function ISe(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $Se(e,t){var r=ISe(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function LSe(e,t,r){if(r==null||t==null)return!0;var n=zr(e,t);return n==null||!Dl(r)?!0:$Se(n,r)}var jk=(e,t,r,n)=>{var a=e?.index;if(a==null)return null;var i=Number(a);if(!sr(i))return a;var o=0,c=1/0;t.length>0&&(c=t.length-1);var d=Math.max(o,Math.min(i,c)),f=t[d];return f==null||LSe(f,r,n)?String(d):null},qH=(e,t,r,n,a,i,o,c)=>{if(!(i==null||c==null)){var d=o[0],f=d==null?void 0:c(d.positions,i);if(f!=null)return f;var m=a?.[Number(i)];if(m)switch(r){case"horizontal":return{x:m.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:m.coordinate}}}},VH=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var c;return((c=o.settings)===null||c===void 0?void 0:c.graphicalItemId)===a})},ap=e=>e.options.tooltipPayloadSearcher,uf=e=>e.tooltip;function lL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lL(Object(r),!0).forEach(function(n){zSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zSe(e,t,r){return(t=FSe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FSe(e){var t=USe(e,"string");return typeof t=="symbol"?t:t+""}function USe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BSe(e,t){return e??t}var HH=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:c,computedData:d,dataStartIndex:f,dataEndIndex:m}=r,p=[];return e.reduce((y,g)=>{var b,{dataDefinedOnItem:w,settings:_}=g,j=BSe(w,c),N=Array.isArray(j)?vq(j,f,m):j,E=(b=_?.dataKey)!==null&&b!==void 0?b:n,k=_?.nameKey,A;if(n&&Array.isArray(N)&&!Array.isArray(N[0])&&o==="axis"?A=S5(N,n,a):A=i(N,t,d,k),Array.isArray(A))A.forEach(T=>{var O=cL(cL({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(mI({tooltipEntrySettings:O,dataKey:T.dataKey,payload:T.payload,value:zr(T.payload,T.dataKey),name:T.name}))});else{var R;y.push(mI({tooltipEntrySettings:_,dataKey:E,payload:A,value:zr(A,E),name:(R=zr(A,k))!==null&&R!==void 0?R:_?.name}))}return y},p)}},Sk=he([_n,Ut,eH,ok,wn],_H),qSe=he([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VSe=he([wn,lf],tH),df=he([qSe,_n,VSe],rH,{memoizeOptions:{resultEqualityCheck:k0}}),HSe=he([df],e=>e.filter(N0)),WSe=he([df],iH,{memoizeOptions:{resultEqualityCheck:k0}}),ff=he([WSe,zo],sH),KSe=he([HSe,zo,_n],XV),Ck=he([ff,_n,df],oH),WH=he([_n],pk),GSe=he([_n],e=>e.allowDataOverflow),KH=he([WH,GSe],kV),YSe=he([df],e=>e.filter(N0)),ZSe=he([KSe,YSe,w0,VV],cH),XSe=he([ZSe,zo,wn,KH],uH),QSe=he([df],aH),JSe=he([ff,_n,QSe,gk,wn],hH,{memoizeOptions:{resultEqualityCheck:E0}}),e1e=he([mH,wn,lf],cf),t1e=he([e1e,wn],vH),r1e=he([pH,wn,lf],cf),n1e=he([r1e,wn],yH),a1e=he([gH,wn,lf],cf),i1e=he([a1e,wn],xH),s1e=he([t1e,i1e,n1e],Wy),o1e=he([_n,WH,KH,XSe,JSe,s1e,Ut,wn],bH),ip=he([_n,Ut,ff,Ck,w0,wn,o1e],wH),l1e=he([ip,_n,Sk],jH),c1e=he([_n,ip,l1e,wn],SH),GH=e=>{var t=wn(e),r=lf(e),n=!1;return np(e,t,r,n)},YH=he([_n,GH],_0),ZH=he([_n,Sk,c1e,YH],yk),u1e=he([Ut,Ck,_n,wn],TH),d1e=he([Ut,Ck,_n,wn],RH),f1e=(e,t,r,n,a,i,o,c)=>{if(t){var{type:d}=t,f=Is(e,c);if(n){var m=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;return p=c==="angleAxis"&&a!=null&&a?.length>=2?Na(a[0]-a[1])*2*p:p,f&&o?o.map((y,g)=>({coordinate:n(y)+p,value:y,index:g,offset:p})):n.domain().map((y,g)=>({coordinate:n(y)+p,value:i?i[y]:y,index:g,offset:p}))}}},Bo=he([Ut,_n,Sk,ZH,GH,u1e,d1e,wn],f1e),Nk=he([DH,MH,wSe],(e,t,r)=>IH(r.shared,e,t)),XH=e=>e.tooltip.settings.trigger,Ek=e=>e.tooltip.settings.defaultIndex,sp=he([uf,Nk,XH,Ek],BH),Xc=he([sp,ff,tp,ip],jk),QH=he([Bo,Xc],$H),JH=he([sp],e=>{if(e)return e.dataKey});he([sp],e=>{if(e)return e.graphicalItemId});var e8=he([uf,Nk,XH,Ek],VH),h1e=he([Io,$o,Ut,On,Bo,Ek,e8,ap],qH),m1e=he([sp,h1e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),p1e=he([sp],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),g1e=he([e8,Xc,zo,tp,QH,ap,Nk],HH),v1e=he([g1e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function uL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uL(Object(r),!0).forEach(function(n){y1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y1e(e,t,r){return(t=x1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x1e(e){var t=b1e(e,"string");return typeof t=="symbol"?t:t+""}function b1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w1e=()=>tt(_n),_1e=()=>{var e=w1e(),t=tt(Bo),r=tt(ZH);return Pl(!e||!r?void 0:dL(dL({},e),{},{scale:r}),t)};function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fL(Object(r),!0).forEach(function(n){j1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j1e(e,t,r){return(t=S1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S1e(e){var t=C1e(e,"string");return typeof t=="symbol"?t:t+""}function C1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N1e=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},E1e=(e,t,r,n)=>{var a=t.find(f=>f&&f.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return sd(sd(sd({},n),Bn(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var c=a.coordinate,{angle:d}=n;return sd(sd(sd({},n),Bn(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function k1e(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var t8=(e,t,r,n,a)=>{var i,o=(i=t?.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var d,f,m,p,y,g=c>0?(d=r[c-1])===null||d===void 0?void 0:d.coordinate:(f=r[o-1])===null||f===void 0?void 0:f.coordinate,b=(m=r[c])===null||m===void 0?void 0:m.coordinate,w=c>=o-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(y=r[c+1])===null||y===void 0?void 0:y.coordinate,_=void 0;if(!(g==null||b==null||w==null))if(Na(b-g)!==Na(w-b)){var j=[];if(Na(w-b)===Na(a[1]-a[0])){_=w;var N=b+a[1]-a[0];j[0]=Math.min(N,(N+g)/2),j[1]=Math.max(N,(N+g)/2)}else{_=g;var E=w+a[1]-a[0];j[0]=Math.min(b,(E+b)/2),j[1]=Math.max(b,(E+b)/2)}var k=[Math.min(b,(_+b)/2),Math.max(b,(_+b)/2)];if(e>k[0]&&e<=k[1]||e>=j[0]&&e<=j[1]){var A;return(A=r[c])===null||A===void 0?void 0:A.index}}else{var R=Math.min(g,w),T=Math.max(g,w);if(e>(R+b)/2&&e<=(T+b)/2){var O;return(O=r[c])===null||O===void 0?void 0:O.index}}}else if(t)for(var P=0;P<o;P++){var $=t[P];if($!=null){var M=t[P+1],L=t[P-1];if(P===0&&M!=null&&e<=($.coordinate+M.coordinate)/2||P===o-1&&L!=null&&e>($.coordinate+L.coordinate)/2||P>0&&P<o-1&&L!=null&&M!=null&&e>($.coordinate+L.coordinate)/2&&e<=($.coordinate+M.coordinate)/2)return $.index}}return-1},r8=()=>tt(ok),kk=(e,t)=>t,n8=(e,t,r)=>r,Ak=(e,t,r,n)=>n,A1e=he(Bo,e=>Zx(e,t=>t.coordinate)),Ok=he([uf,kk,n8,Ak],BH),Tk=he([Ok,ff,tp,ip],jk),O1e=(e,t,r)=>{if(t!=null){var n=uf(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},a8=he([uf,kk,n8,Ak],VH),Ky=he([Io,$o,Ut,On,Bo,Ak,a8,ap],qH),T1e=he([Ok,Ky],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),i8=he([Bo,Tk],$H),R1e=he([a8,Tk,zo,tp,i8,ap,kk],HH),P1e=he([Ok,Tk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),D1e=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&k1e(e,o)){var c=uxe(e,t),d=t8(c,i,a,r,n),f=N1e(t,a,d,e);return{activeIndex:String(d),activeCoordinate:f}}},M1e=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var c=xbe(e,r);if(c){var d=dxe(c,t),f=t8(d,o,i,n,a),m=E1e(t,i,f,c);return{activeIndex:String(f),activeCoordinate:m}}}},I1e=(e,t,r,n,a,i,o,c)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?D1e(e,t,n,a,i,o,c):M1e(e,t,r,n,a,i,o)},$1e=he(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),L1e=he(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(yn)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:_je}});function hL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hL(Object(r),!0).forEach(function(n){z1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z1e(e,t,r){return(t=F1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return typeof t=="symbol"?t:t+""}function U1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B1e={},q1e={zIndexMap:Object.values(yn).reduce((e,t)=>mL(mL({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),B1e)},V1e=new Set(Object.values(yn));function H1e(e){return V1e.has(e)}var s8=Ta({name:"zIndex",initialState:q1e,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:br()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!H1e(r)&&delete e.zIndexMap[r])},prepare:br()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:br()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:br()}}}),{registerZIndexPortal:W1e,unregisterZIndexPortal:K1e,registerZIndexPortalElement:G1e,unregisterZIndexPortalElement:Y1e}=s8.actions,Z1e=s8.reducer;function ni(e){var{zIndex:t,children:r}=e,n=Vxe(),a=n&&t!==void 0&&t!==0,i=Tn(),o=Xr();x.useLayoutEffect(()=>a?(o(W1e({zIndex:t})),()=>{o(K1e({zIndex:t}))}):Fm,[o,t,a]);var c=tt(d=>$1e(d,t,i));return a?c?tu.createPortal(r,c):null:r}function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(null,arguments)}function pL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pL(Object(r),!0).forEach(function(n){X1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X1e(e,t,r){return(t=Q1e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q1e(e){var t=J1e(e,"string");return typeof t=="symbol"?t:t+""}function J1e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eCe(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function tCe(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,p=r,y=n,g=a;if(!d||!p||m!=="ScatterChart"&&f!=="axis")return null;var b,w,_;if(m==="ScatterChart")b=p,w=R0e,_=yn.cursorLine;else if(m==="BarChart")b=P0e(c,p,i,o),w=Uq,_=yn.cursorRectangle;else if(c==="radial"&&E5(p)){var{cx:j,cy:N,radius:E,startAngle:k,endAngle:A}=Bq(p);b={cx:j,cy:N,startAngle:k,endAngle:A,innerRadius:E,outerRadius:E},w=Vq,_=yn.cursorLine}else b={points:jbe(c,p,i)},w=Mh,_=yn.cursorLine;var R=typeof d=="object"&&"className"in d?d.className:void 0,T=hv(hv(hv(hv({stroke:"#ccc",pointerEvents:"none"},i),b),Lm(d)),{},{payload:y,payloadIndex:g,className:Kt("recharts-tooltip-cursor",R)});return x.createElement(ni,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:_},x.createElement(eCe,{cursor:d,cursorComp:w,cursorProps:T}))}function rCe(e){var t=_1e(),r=Nq(),n=Bl(),a=r8();return t==null||r==null||n==null||a==null?null:x.createElement(tCe,wC({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var o8=x.createContext(null),nCe=()=>x.useContext(o8),fS={exports:{}},gL;function aCe(){return gL||(gL=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function i(d,f,m,p,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var g=new a(m,p||d,y),b=r?r+f:f;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],g]:d._events[b].push(g):(d._events[b]=g,d._eventsCount++),d}function o(d,f){--d._eventsCount===0?d._events=new n:delete d._events[f]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],m,p;if(this._eventsCount===0)return f;for(p in m=this._events)t.call(m,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},c.prototype.listeners=function(f){var m=r?r+f:f,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,g=p.length,b=new Array(g);y<g;y++)b[y]=p[y].fn;return b},c.prototype.listenerCount=function(f){var m=r?r+f:f,p=this._events[m];return p?p.fn?1:p.length:0},c.prototype.emit=function(f,m,p,y,g,b){var w=r?r+f:f;if(!this._events[w])return!1;var _=this._events[w],j=arguments.length,N,E;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,p),!0;case 4:return _.fn.call(_.context,m,p,y),!0;case 5:return _.fn.call(_.context,m,p,y,g),!0;case 6:return _.fn.call(_.context,m,p,y,g,b),!0}for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];_.fn.apply(_.context,N)}else{var k=_.length,A;for(E=0;E<k;E++)switch(_[E].once&&this.removeListener(f,_[E].fn,void 0,!0),j){case 1:_[E].fn.call(_[E].context);break;case 2:_[E].fn.call(_[E].context,m);break;case 3:_[E].fn.call(_[E].context,m,p);break;case 4:_[E].fn.call(_[E].context,m,p,y);break;default:if(!N)for(A=1,N=new Array(j-1);A<j;A++)N[A-1]=arguments[A];_[E].fn.apply(_[E].context,N)}}return!0},c.prototype.on=function(f,m,p){return i(this,f,m,p,!1)},c.prototype.once=function(f,m,p){return i(this,f,m,p,!0)},c.prototype.removeListener=function(f,m,p,y){var g=r?r+f:f;if(!this._events[g])return this;if(!m)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===m&&(!y||b.once)&&(!p||b.context===p)&&o(this,g);else{for(var w=0,_=[],j=b.length;w<j;w++)(b[w].fn!==m||y&&!b[w].once||p&&b[w].context!==p)&&_.push(b[w]);_.length?this._events[g]=_.length===1?_[0]:_:o(this,g)}return this},c.prototype.removeAllListeners=function(f){var m;return f?(m=r?r+f:f,this._events[m]&&o(this,m)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,e.exports=c})(fS)),fS.exports}var iCe=aCe();const sCe=ti(iCe);var mm=new sCe,_C="recharts.syncEvent.tooltip",vL="recharts.syncEvent.brush";function Rk(e,t){if(t){var r=Number.parseInt(t,10);if(!Ai(r))return e?.[r]}}var oCe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},l8=Ta({name:"options",initialState:oCe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lCe=l8.reducer,{createEventEmitter:cCe}=l8.actions;function uCe(e){return e.tooltip.syncInteraction}var dCe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},c8=Ta({name:"chartData",initialState:dCe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:yL,setDataStartEndIndexes:fCe,setComputedData:v2e}=c8.actions,hCe=c8.reducer,mCe=["x","y"];function xL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xL(Object(r),!0).forEach(function(n){pCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pCe(e,t,r){return(t=gCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=vCe(e,"string");return typeof t=="symbol"?t:t+""}function vCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yCe(e,t){if(e==null)return{};var r,n,a=xCe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xCe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bCe(){var e=tt(lk),t=tt(ck),r=Xr(),n=tt(HV),a=tt(Bo),i=Bl(),o=u0(),c=tt(d=>d.rootProps.className);x.useEffect(()=>{if(e==null)return Fm;var d=(f,m,p)=>{if(t!==p&&e===f){if(n==="index"){var y;if(o&&m!==null&&m!==void 0&&(y=m.payload)!==null&&y!==void 0&&y.coordinate&&m.payload.sourceViewBox){var g=m.payload.coordinate,{x:b,y:w}=g,_=yCe(g,mCe),{x:j,y:N,width:E,height:k}=m.payload.sourceViewBox,A=od(od({},_),{},{x:o.x+(E?(b-j)/E:0)*o.width,y:o.y+(k?(w-N)/k:0)*o.height});r(od(od({},m),{},{payload:od(od({},m.payload),{},{coordinate:A})}))}else r(m);return}if(a!=null){var R;if(typeof n=="function"){var T={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},O=n(a,T);R=a[O]}else n==="value"&&(R=a.find(F=>String(F.value)===m.payload.label));var{coordinate:P}=m.payload;if(R==null||m.payload.active===!1||P==null||o==null){r(xC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:$,y:M}=P,L=Math.min($,o.x+o.width),U=Math.min(M,o.y+o.height),X={x:i==="horizontal"?R.coordinate:L,y:i==="horizontal"?U:R.coordinate},Y=xC({active:m.payload.active,coordinate:X,dataKey:m.payload.dataKey,index:String(R.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});r(Y)}}};return mm.on(_C,d),()=>{mm.off(_C,d)}},[c,r,t,e,n,a,i,o])}function wCe(){var e=tt(lk),t=tt(ck),r=Xr();x.useEffect(()=>{if(e==null)return Fm;var n=(a,i,o)=>{t!==o&&e===a&&r(fCe(i))};return mm.on(vL,n),()=>{mm.off(vL,n)}},[r,t,e])}function _Ce(){var e=Xr();x.useEffect(()=>{e(cCe())},[e]),bCe(),wCe()}function jCe(e,t,r,n,a,i){var o=tt(g=>O1e(g,e,t)),c=tt(ck),d=tt(lk),f=tt(HV),m=tt(uCe),p=m?.active,y=u0();x.useEffect(()=>{if(!p&&d!=null&&c!=null){var g=xC({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:y,graphicalItemId:void 0});mm.emit(_C,d,g,c)}},[p,r,o,a,n,c,d,f,i,y])}function bL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bL(Object(r),!0).forEach(function(n){SCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SCe(e,t,r){return(t=CCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CCe(e){var t=NCe(e,"string");return typeof t=="symbol"?t:t+""}function NCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ECe(e){return e.dataKey}function kCe(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(d0e,t)}var _L=[],ACe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gy(e){var t,r,n=Vn(e,ACe),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:c,content:d,filterNull:f,isAnimationActive:m,offset:p,payloadUniqBy:y,position:g,reverseDirection:b,useTranslate3d:w,wrapperStyle:_,cursor:j,shared:N,trigger:E,defaultIndex:k,portal:A,axisId:R}=n,T=Xr(),O=typeof k=="number"?String(k):k;x.useEffect(()=>{T(NSe({shared:N,trigger:E,axisId:R,active:a,defaultIndex:O}))},[T,N,E,R,a,O]);var P=u0(),$=Iq(),M=bSe(N),{activeIndex:L,isActive:U}=(t=tt(ee=>P1e(ee,M,E,O)))!==null&&t!==void 0?t:{},X=tt(ee=>R1e(ee,M,E,O)),Y=tt(ee=>i8(ee,M,E,O)),F=tt(ee=>T1e(ee,M,E,O)),H=X,I=nCe(),q=(r=a??U)!==null&&r!==void 0?r:!1,[ue,B]=Yve([H,q]),Q=M==="axis"?Y:void 0;jCe(M,E,F,Q,L,q);var V=A??I;if(V==null||P==null||M==null)return null;var ae=H??_L;q||(ae=_L),f&&ae.length&&(ae=_ve(ae.filter(ee=>ee.value!=null&&(ee.hide!==!0||n.includeHidden)),y,ECe));var Z=ae.length>0,ne=x.createElement(y0e,{allowEscapeViewBox:i,animationDuration:o,animationEasing:c,isAnimationActive:m,active:q,coordinate:F,hasPayload:Z,offset:p,position:g,reverseDirection:b,useTranslate3d:w,viewBox:P,wrapperStyle:_,lastBoundingBox:ue,innerRef:B,hasPortalFromProps:!!A},kCe(d,wL(wL({},n),{},{payload:ae,label:Q,active:q,activeIndex:L,coordinate:F,accessibilityLayer:$})));return x.createElement(x.Fragment,null,tu.createPortal(ne,V),q&&x.createElement(rCe,{cursor:j,tooltipEventType:M,coordinate:F,payload:ae,index:L}))}var u8=e=>null;u8.displayName="Cell";function OCe(e,t,r){return(t=TCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TCe(e){var t=RCe(e,"string");return typeof t=="symbol"?t:t+""}function RCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PCe{constructor(t){OCe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){MCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t,r){return(t=ICe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ICe(e){var t=$Ce(e,"string");return typeof t=="symbol"?t:t+""}function $Ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LCe={cacheSize:2e3,enableCache:!0},d8=DCe({},LCe),SL=new PCe(d8.cacheSize),zCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},CL="recharts_measurement_span";function FCe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",c=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(c)}var NL=(e,t)=>{try{var r=document.getElementById(CL);r||(r=document.createElement("span"),r.setAttribute("id",CL),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,zCe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ih=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Hm.isSsr)return{width:0,height:0};if(!d8.enableCache)return NL(t,r);var n=FCe(t,r),a=SL.get(n);if(a)return a;var i=NL(t,r);return SL.set(n,i),i},f8;function UCe(e,t,r){return(t=BCe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BCe(e){var t=qCe(e,"string");return typeof t=="symbol"?t:t+""}function qCe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WCe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},KCe=["cm","mm","pt","pc","in","Q","px"];function GCe(e){return KCe.includes(e)}var md="NaN";function YCe(e,t){return e*WCe[t]}class Fn{static parse(t){var r,[,n,a]=(r=HCe.exec(t))!==null&&r!==void 0?r:[];return n==null?Fn.NaN:new Fn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Ai(t)&&(this.unit=""),r!==""&&!VCe.test(r)&&(this.num=NaN,this.unit=""),GCe(r)&&(this.num=YCe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ai(this.num)}}f8=Fn;UCe(Fn,"NaN",new f8(NaN,""));function h8(e){if(e==null||e.includes(md))return md;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=EL.exec(t))!==null&&r!==void 0?r:[],o=Fn.parse(n??""),c=Fn.parse(i??""),d=a==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return md;t=t.replace(EL,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,m,p,y]=(f=kL.exec(t))!==null&&f!==void 0?f:[],g=Fn.parse(m??""),b=Fn.parse(y??""),w=p==="+"?g.add(b):g.subtract(b);if(w.isNaN())return md;t=t.replace(kL,w.toString())}return t}var AL=/\(([^()]*)\)/;function ZCe(e){for(var t=e,r;(r=AL.exec(t))!=null;){var[,n]=r;t=t.replace(AL,h8(n))}return t}function XCe(e){var t=e.replace(/\s+/g,"");return t=ZCe(t),t=h8(t),t}function QCe(e){try{return XCe(e)}catch{return md}}function hS(e){var t=QCe(e.slice(5,-1));return t===md?"":t}var JCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],eNe=["dx","dy","angle","className","breakAll"];function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(null,arguments)}function OL(e,t){if(e==null)return{};var r,n,a=tNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var m8=/[ \f\n\r\t\v\u2028\u2029]+/,p8=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gr(t)||(r?a=t.toString().split(""):a=t.toString().split(m8));var i=a.map(c=>({word:c,width:Ih(c,n).width})),o=r?0:Ih("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function rNe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var g8=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:c}=i,d=a[a.length-1];if(d&&c!=null&&(t==null||n||d.width+c+r<Number(t)))d.words.push(o),d.width+=c+r;else{var f={words:[o],width:c};a.push(f)}return a},[]),v8=e=>e.reduce((t,r)=>t.width>r.width?t:r),nNe="",TL=(e,t,r,n,a,i,o,c)=>{var d=e.slice(0,t),f=p8({breakAll:r,style:n,children:d+nNe});if(!f)return[!1,[]];var m=g8(f.wordsWithComputedWidth,i,o,c),p=m.length>a||v8(m).width>Number(i);return[p,m]},aNe=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:c,breakAll:d}=e,f=Ue(i),m=String(o),p=g8(t,n,r,a);if(!f||a)return p;var y=p.length>i||v8(p).width>Number(n);if(!y)return p;for(var g=0,b=m.length-1,w=0,_;g<=b&&w<=m.length-1;){var j=Math.floor((g+b)/2),N=j-1,[E,k]=TL(m,N,d,c,i,n,r,a),[A]=TL(m,j,d,c,i,n,r,a);if(!E&&!A&&(g=j+1),E&&A&&(b=j-1),!E&&A){_=k;break}w++}return _||p},RL=e=>{var t=gr(e)?[]:e.toString().split(m8);return[{words:t,width:void 0}]},iNe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Hm.isSsr){var c,d,f=p8({breakAll:i,children:n,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:p}=f;c=m,d=p}else return RL(n);return aNe({breakAll:i,children:n,maxLines:o,style:a},c,d,t,!!r)}return RL(n)},y8="#808080",sNe={angle:0,breakAll:!1,capHeight:"0.71em",fill:y8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Pk=x.forwardRef((e,t)=>{var r=Vn(e,sNe),{x:n,y:a,lineHeight:i,capHeight:o,fill:c,scaleToFit:d,textAnchor:f,verticalAnchor:m}=r,p=OL(r,JCe),y=x.useMemo(()=>iNe({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:d,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,d,p.style,p.width]),{dx:g,dy:b,angle:w,className:_,breakAll:j}=p,N=OL(p,eNe);if(!Es(n)||!Es(a)||y.length===0)return null;var E=Number(n)+(Ue(g)?g:0),k=Number(a)+(Ue(b)?b:0);if(!sr(E)||!sr(k))return null;var A;switch(m){case"start":A=hS("calc(".concat(o,")"));break;case"middle":A=hS("calc(".concat((y.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:A=hS("calc(".concat(y.length-1," * -").concat(i,")"));break}var R=[];if(d){var T=y[0].width,{width:O}=p;R.push("scale(".concat(Ue(O)&&Ue(T)?O/T:1,")"))}return w&&R.push("rotate(".concat(w,", ").concat(E,", ").concat(k,")")),R.length&&(N.transform=R.join(" ")),x.createElement("text",jC({},Xn(N),{ref:t,x:E,y:k,className:Kt("recharts-text",_),textAnchor:f,fill:c.includes("url")?y8:c}),y.map((P,$)=>{var M=P.words.join(j?"":" ");return x.createElement("tspan",{x:E,dy:$===0?A:i,key:"".concat(M,"-").concat($)},M)}))});Pk.displayName="Text";var oNe=["labelRef"],lNe=["content"];function PL(e,t){if(e==null)return{};var r,n,a=cNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DL(Object(r),!0).forEach(function(n){uNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uNe(e,t,r){return(t=dNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dNe(e){var t=fNe(e,"string");return typeof t=="symbol"?t:t+""}function fNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uo(){return uo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uo.apply(null,arguments)}var x8=x.createContext(null),hNe=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:c}=e,d=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(x8.Provider,{value:d},c)},b8=()=>{var e=x.useContext(x8),t=u0();return e||Cq(t)},mNe=x.createContext(null),pNe=()=>{var e=x.useContext(mNe),t=tt(ZV);return e||t},gNe=e=>{var{value:t,formatter:r}=e,n=gr(e.children)?t:e.children;return typeof r=="function"?r(n):n},Dk=e=>e!=null&&typeof e=="function",vNe=(e,t)=>{var r=Na(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yNe=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:c,cy:d,innerRadius:f,outerRadius:m,startAngle:p,endAngle:y,clockWise:g}=a,b=(f+m)/2,w=vNe(p,y),_=w>=0?1:-1,j,N;switch(t){case"insideStart":j=p+_*i,N=g;break;case"insideEnd":j=y-_*i,N=!g;break;case"end":j=y+_*i,N=g;break;default:throw new Error("Unsupported position ".concat(t))}N=w<=0?N:!N;var E=Bn(c,d,b,j),k=Bn(c,d,b,j+(N?1:-1)*359),A="M".concat(E.x,",").concat(E.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(N?0:1,`,
    `).concat(k.x,",").concat(k.y),R=gr(e.id)?tm("recharts-radial-line-"):e.id;return x.createElement("text",uo({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:R,d:A})),x.createElement("textPath",{xlinkHref:"#".concat(R)},r))},xNe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:c,endAngle:d}=e,f=(c+d)/2;if(r==="outside"){var{x:m,y:p}=Bn(n,a,o+t,f);return{x:m,y:p,textAnchor:m>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var y=(i+o)/2,{x:g,y:b}=Bn(n,a,y,f);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},SC=e=>"cx"in e&&Ue(e.cx),bNe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!SC(r)&&(i=r);var{x:o,y:c,upperWidth:d,lowerWidth:f,height:m}=t,p=o,y=o+(d-f)/2,g=(p+y)/2,b=(d+f)/2,w=p+d/2,_=m>=0?1:-1,j=_*n,N=_>0?"end":"start",E=_>0?"start":"end",k=d>=0?1:-1,A=k*n,R=k>0?"end":"start",T=k>0?"start":"end";if(a==="top"){var O={x:p+d/2,y:c-j,textAnchor:"middle",verticalAnchor:N};return Hr(Hr({},O),i?{height:Math.max(c-i.y,0),width:d}:{})}if(a==="bottom"){var P={x:y+f/2,y:c+m+j,textAnchor:"middle",verticalAnchor:E};return Hr(Hr({},P),i?{height:Math.max(i.y+i.height-(c+m),0),width:f}:{})}if(a==="left"){var $={x:g-A,y:c+m/2,textAnchor:R,verticalAnchor:"middle"};return Hr(Hr({},$),i?{width:Math.max($.x-i.x,0),height:m}:{})}if(a==="right"){var M={x:g+b+A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"};return Hr(Hr({},M),i?{width:Math.max(i.x+i.width-M.x,0),height:m}:{})}var L=i?{width:b,height:m}:{};return a==="insideLeft"?Hr({x:g+A,y:c+m/2,textAnchor:T,verticalAnchor:"middle"},L):a==="insideRight"?Hr({x:g+b-A,y:c+m/2,textAnchor:R,verticalAnchor:"middle"},L):a==="insideTop"?Hr({x:p+d/2,y:c+j,textAnchor:"middle",verticalAnchor:E},L):a==="insideBottom"?Hr({x:y+f/2,y:c+m-j,textAnchor:"middle",verticalAnchor:N},L):a==="insideTopLeft"?Hr({x:p+A,y:c+j,textAnchor:T,verticalAnchor:E},L):a==="insideTopRight"?Hr({x:p+d-A,y:c+j,textAnchor:R,verticalAnchor:E},L):a==="insideBottomLeft"?Hr({x:y+A,y:c+m-j,textAnchor:T,verticalAnchor:N},L):a==="insideBottomRight"?Hr({x:y+f-A,y:c+m-j,textAnchor:R,verticalAnchor:N},L):a&&typeof a=="object"&&(Ue(a.x)||Eo(a.x))&&(Ue(a.y)||Eo(a.y))?Hr({x:o+ts(a.x,b),y:c+ts(a.y,m),textAnchor:"end",verticalAnchor:"end"},L):Hr({x:w,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},L)},wNe={angle:0,offset:5,zIndex:yn.label,position:"middle",textBreakAll:!1};function xl(e){var t=Vn(e,wNe),{viewBox:r,position:n,value:a,children:i,content:o,className:c="",textBreakAll:d,labelRef:f}=t,m=pNe(),p=b8(),y=n==="center"?p:m??p,g,b,w;if(r==null?g=y:SC(r)?g=r:g=Cq(r),!g||gr(a)&&gr(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var _=Hr(Hr({},t),{},{viewBox:g});if(x.isValidElement(o)){var{labelRef:j}=_,N=PL(_,oNe);return x.cloneElement(o,N)}if(typeof o=="function"){var{content:E}=_,k=PL(_,lNe);if(b=x.createElement(o,k),x.isValidElement(b))return b}else b=gNe(t);var A=Xn(t);if(SC(g)){if(n==="insideStart"||n==="insideEnd"||n==="end")return yNe(t,n,b,A,g);w=xNe(g,t.offset,t.position)}else w=bNe(t,g);return x.createElement(ni,{zIndex:t.zIndex},x.createElement(Pk,uo({ref:f,className:Kt("recharts-label",c)},A,w,{textAnchor:rNe(A.textAnchor)?A.textAnchor:w.textAnchor,breakAll:d}),b))}xl.displayName="Label";var _Ne=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(xl,uo({key:"label-implicit"},n)):Es(e)?x.createElement(xl,uo({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===xl?x.cloneElement(e,Hr({key:"label-implicit"},n)):x.createElement(xl,uo({key:"label-implicit",content:e},n)):Dk(e)?x.createElement(xl,uo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(xl,uo({},e,{key:"label-implicit"},n)):null};function jNe(e){var{label:t,labelRef:r}=e,n=b8();return _Ne(t,n,r)||null}var mS={},pS={},ML;function SNe(){return ML||(ML=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(pS)),pS}var gS={},IL;function CNe(){return IL||(IL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gS)),gS}var $L;function NNe(){return $L||($L=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SNe(),r=CNe(),n=jE();function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(mS)),mS}var vS,LL;function ENe(){return LL||(LL=1,vS=NNe().last),vS}var kNe=ENe();const ANe=ti(kNe);var ONe=["valueAccessor"],TNe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yy.apply(null,arguments)}function zL(e,t){if(e==null)return{};var r,n,a=RNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PNe=e=>Array.isArray(e.value)?ANe(e.value):e.value,w8=x.createContext(void 0),Mk=w8.Provider,_8=x.createContext(void 0);_8.Provider;function DNe(){return x.useContext(w8)}function MNe(){return x.useContext(_8)}function Ov(e){var{valueAccessor:t=PNe}=e,r=zL(e,ONe),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:c}=r,d=zL(r,TNe),f=DNe(),m=MNe(),p=f||m;return!p||!p.length?null:x.createElement(ni,{zIndex:c??yn.label},x.createElement(Qn,{className:"recharts-label-list"},p.map((y,g)=>{var b,w=gr(n)?t(y,g):zr(y&&y.payload,n),_=gr(i)?{}:{id:"".concat(i,"-").concat(g)};return x.createElement(xl,Yy({key:"label-".concat(g)},Xn(y),d,_,{fill:(b=r.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:w,textBreakAll:o,viewBox:y.viewBox,index:g,zIndex:0}))})))}Ov.displayName="LabelList";function Ik(e){var{label:t}=e;return t?t===!0?x.createElement(Ov,{key:"labelList-implicit"}):x.isValidElement(t)||Dk(t)?x.createElement(Ov,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(Ov,Yy({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function CC(){return CC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CC.apply(null,arguments)}var j8=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Kt("recharts-dot",a);return Ue(t)&&Ue(r)&&Ue(n)?x.createElement("circle",CC({},Qa(e),wE(e),{className:i,cx:t,cy:r,r:n})):null},INe={radiusAxis:{},angleAxis:{}},S8=Ta({name:"polarAxis",initialState:INe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:y2e,removeRadiusAxis:x2e,addAngleAxis:b2e,removeAngleAxis:w2e}=S8.actions,$Ne=S8.reducer,yS={exports:{}},tr={};var FL;function LNe(){if(FL)return tr;FL=1;var e=60103,t=60106,r=60107,n=60108,a=60114,i=60109,o=60110,c=60112,d=60113,f=60120,m=60115,p=60116,y=60121,g=60122,b=60117,w=60129,_=60131;if(typeof Symbol=="function"&&Symbol.for){var j=Symbol.for;e=j("react.element"),t=j("react.portal"),r=j("react.fragment"),n=j("react.strict_mode"),a=j("react.profiler"),i=j("react.provider"),o=j("react.context"),c=j("react.forward_ref"),d=j("react.suspense"),f=j("react.suspense_list"),m=j("react.memo"),p=j("react.lazy"),y=j("react.block"),g=j("react.server.block"),b=j("react.fundamental"),w=j("react.debug_trace_mode"),_=j("react.legacy_hidden")}function N(U){if(typeof U=="object"&&U!==null){var X=U.$$typeof;switch(X){case e:switch(U=U.type,U){case r:case a:case n:case d:case f:return U;default:switch(U=U&&U.$$typeof,U){case o:case c:case p:case m:case i:return U;default:return X}}case t:return X}}}var E=i,k=e,A=c,R=r,T=p,O=m,P=t,$=a,M=n,L=d;return tr.ContextConsumer=o,tr.ContextProvider=E,tr.Element=k,tr.ForwardRef=A,tr.Fragment=R,tr.Lazy=T,tr.Memo=O,tr.Portal=P,tr.Profiler=$,tr.StrictMode=M,tr.Suspense=L,tr.isAsyncMode=function(){return!1},tr.isConcurrentMode=function(){return!1},tr.isContextConsumer=function(U){return N(U)===o},tr.isContextProvider=function(U){return N(U)===i},tr.isElement=function(U){return typeof U=="object"&&U!==null&&U.$$typeof===e},tr.isForwardRef=function(U){return N(U)===c},tr.isFragment=function(U){return N(U)===r},tr.isLazy=function(U){return N(U)===p},tr.isMemo=function(U){return N(U)===m},tr.isPortal=function(U){return N(U)===t},tr.isProfiler=function(U){return N(U)===a},tr.isStrictMode=function(U){return N(U)===n},tr.isSuspense=function(U){return N(U)===d},tr.isValidElementType=function(U){return typeof U=="string"||typeof U=="function"||U===r||U===a||U===w||U===n||U===d||U===f||U===_||typeof U=="object"&&U!==null&&(U.$$typeof===p||U.$$typeof===m||U.$$typeof===i||U.$$typeof===o||U.$$typeof===c||U.$$typeof===b||U.$$typeof===y||U[0]===g)},tr.typeOf=N,tr}var UL;function zNe(){return UL||(UL=1,yS.exports=LNe()),yS.exports}var FNe=zNe(),BL=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qL=null,xS=null,C8=e=>{if(e===qL&&Array.isArray(xS))return xS;var t=[];return x.Children.forEach(e,r=>{gr(r)||(FNe.isFragment(r)?t=t.concat(C8(r.props.children)):t.push(r))}),xS=t,qL=e,t};function UNe(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>BL(a)):n=[BL(t)],C8(e).forEach(a=>{var i=Od(a,"type.displayName")||Od(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var $k=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bS={},VL;function BNe(){return VL||(VL=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bS)),bS}var wS,HL;function qNe(){return HL||(HL=1,wS=BNe().isPlainObject),wS}var VNe=qNe();const HNe=ti(VNe);var WL,KL,GL,YL,ZL;function XL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XL(Object(r),!0).forEach(function(n){WNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WNe(e,t,r){return(t=KNe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KNe(e){var t=GNe(e,"string");return typeof t=="symbol"?t:t+""}function GNe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zy(){return Zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zy.apply(null,arguments)}function xh(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var JL=(e,t,r,n,a)=>{var i=r-n,o;return o=Lr(WL||(WL=xh(["M ",",",""])),e,t),o+=Lr(KL||(KL=xh(["L ",",",""])),e+r,t),o+=Lr(GL||(GL=xh(["L ",",",""])),e+r-i/2,t+a),o+=Lr(YL||(YL=xh(["L ",",",""])),e+r-i/2-n,t+a),o+=Lr(ZL||(ZL=xh(["L ",","," Z"])),e,t),o},YNe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ZNe=e=>{var t=Vn(e,YNe),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:c}=t,{animationEasing:d,animationDuration:f,animationBegin:m,isUpdateAnimationActive:p}=t,y=x.useRef(null),[g,b]=x.useState(-1),w=x.useRef(a),_=x.useRef(i),j=x.useRef(o),N=x.useRef(r),E=x.useRef(n),k=Km(e,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var X=y.current.getTotalLength();X&&b(X)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var A=Kt("recharts-trapezoid",c);if(!p)return x.createElement("g",null,x.createElement("path",Zy({},Xn(t),{className:A,d:JL(r,n,a,i,o)})));var R=w.current,T=_.current,O=j.current,P=N.current,$=E.current,M="0px ".concat(g===-1?1:g,"px"),L="".concat(g,"px 0px"),U=$q(["strokeDasharray"],f,d);return x.createElement(Wm,{animationId:k,key:k,canBegin:g>0,duration:f,easing:d,isActive:p,begin:m},X=>{var Y=rr(R,a,X),F=rr(T,i,X),H=rr(O,o,X),I=rr(P,r,X),q=rr($,n,X);y.current&&(w.current=Y,_.current=F,j.current=H,N.current=I,E.current=q);var ue=X>0?{transition:U,strokeDasharray:L}:{strokeDasharray:M};return x.createElement("path",Zy({},Xn(t),{className:A,d:JL(I,q,Y,F,H),ref:y,style:QL(QL({},ue),t.style)}))})},XNe=["option","shapeType","activeClassName"];function QNe(e,t){if(e==null)return{};var r,n,a=JNe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JNe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){eEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eEe(e,t,r){return(t=tEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tEe(e){var t=rEe(e,"string");return typeof t=="symbol"?t:t+""}function rEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nEe(e,t){return Xy(Xy({},t),e)}function aEe(e,t){return e==="symbols"}function t4(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(Uq,r);case"trapezoid":return x.createElement(ZNe,r);case"sector":return x.createElement(Vq,r);case"symbols":if(aEe(t))return x.createElement(N5,r);break;case"curve":return x.createElement(Mh,r);default:return null}}function iEe(e){return x.isValidElement(e)?e.props:e}function N8(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=QNe(e,XNe),i;if(x.isValidElement(t))i=x.cloneElement(t,Xy(Xy({},a),iEe(t)));else if(typeof t=="function")i=t(a,a.index);else if(HNe(t)&&typeof t!="boolean"){var o=nEe(t,a);i=x.createElement(t4,{shapeType:r,elementProps:o})}else{var c=a;i=x.createElement(t4,{shapeType:r,elementProps:c})}return a.isActive?x.createElement(Qn,{className:n},i):i}var E8=(e,t,r)=>{var n=Xr();return(a,i)=>o=>{e?.(a,i,o),n(zH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},k8=e=>{var t=Xr();return(r,n)=>a=>{e?.(r,n,a),t(ESe())}},A8=(e,t,r)=>{var n=Xr();return(a,i)=>o=>{e?.(a,i,o),n(kSe({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function Lk(e){var{tooltipEntrySettings:t}=e,r=Xr(),n=Tn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(jSe(t)):a.current!==t&&r(SSe({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(CSe(a.current)),a.current=null)},[r]),null}function zk(e){var{legendPayload:t}=e,r=Xr(),n=Tn(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(n0e(t)):a.current!==t&&r(a0e({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(i0e(a.current)),a.current=null)},[r]),null}var _S,sEe=()=>{var[e]=x.useState(()=>tm("uid-"));return e},oEe=(_S=ox.useId)!==null&&_S!==void 0?_S:sEe;function lEe(e,t){var r=oEe();return t||(e?"".concat(e,"-").concat(r):r)}var cEe=x.createContext(void 0),Fk=e=>{var{id:t,type:r,children:n}=e,a=lEe("recharts-".concat(r),t);return x.createElement(cEe.Provider,{value:a},n(a))},uEe={cartesianItems:[],polarItems:[]},O8=Ta({name:"graphicalItems",initialState:uEe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:br()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Qi(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:br()},removeCartesianGraphicalItem:{reducer(e,t){var r=Qi(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:br()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:br()},removePolarGraphicalItem:{reducer(e,t){var r=Qi(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:br()}}}),{addCartesianGraphicalItem:dEe,replaceCartesianGraphicalItem:fEe,removeCartesianGraphicalItem:hEe,addPolarGraphicalItem:_2e,removePolarGraphicalItem:j2e}=O8.actions,mEe=O8.reducer,pEe=e=>{var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(dEe(e)):r.current!==e&&t(fEe({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(hEe(r.current)),r.current=null)},[t]),null},Uk=x.memo(pEe),gEe=["points"];function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){vEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vEe(e,t,r){return(t=yEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yEe(e){var t=xEe(e,"string");return typeof t=="symbol"?t:t+""}function xEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(null,arguments)}function bEe(e,t){if(e==null)return{};var r,n,a=wEe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wEe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Ee(e){var{option:t,dotProps:r,className:n}=e;if(x.isValidElement(t))return x.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Kt(n,typeof t!="boolean"?t.className:""),i=r??{},{points:o}=i,c=bEe(i,gEe);return x.createElement(j8,Qy({},c,{className:a}))}function jEe(e,t){return e==null?!1:t?!0:e.length===1}function T8(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:i,baseProps:o,needClip:c,clipPathId:d,zIndex:f=yn.scatter}=e;if(!jEe(t,r))return null;var m=$k(r),p=Gpe(r),y=t.map((b,w)=>{var _,j,N=jS(jS(jS({r:3},o),p),{},{index:w,cx:(_=b.x)!==null&&_!==void 0?_:void 0,cy:(j=b.y)!==null&&j!==void 0?j:void 0,dataKey:i,value:b.value,payload:b.payload,points:t});return x.createElement(_Ee,{key:"dot-".concat(w),option:r,dotProps:N,className:a})}),g={};return c&&d!=null&&(g.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(d,")")),x.createElement(ni,{zIndex:f},x.createElement(Qn,Qy({className:n},g),y))}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){SEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SEe(e,t,r){return(t=CEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CEe(e){var t=NEe(e,"string");return typeof t=="symbol"?t:t+""}function NEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R8=0,EEe={xAxis:{},yAxis:{},zAxis:{}},P8=Ta({name:"cartesianAxis",initialState:EEe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:br()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:br()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:br()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:br()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:br()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:br()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:br()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:br()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:br()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=a4(a4({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:kEe,replaceXAxis:AEe,removeXAxis:OEe,addYAxis:TEe,replaceYAxis:REe,removeYAxis:PEe,addZAxis:S2e,replaceZAxis:C2e,removeZAxis:N2e,updateYAxisWidth:DEe}=P8.actions,MEe=P8.reducer,IEe=he([On],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),$Ee=he([IEe,Io,$o],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),P0=()=>tt($Ee),LEe=()=>tt(v1e);function i4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i4(Object(r),!0).forEach(function(n){zEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zEe(e,t,r){return(t=FEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FEe(e){var t=UEe(e,"string");return typeof t=="symbol"?t:t+""}function UEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BEe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var c={index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},d=SS(SS(SS({},c),Lm(a)),wE(a)),f;return x.isValidElement(a)?f=x.cloneElement(a,d):typeof a=="function"?f=a(d):f=x.createElement(j8,d),x.createElement(Qn,{className:"recharts-active-dot",clipPath:o},f)};function NC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:i,zIndex:o=yn.activeDot}=e,c=tt(Xc),d=LEe();if(t==null||d==null)return null;var f=t.find(m=>d.includes(m.payload));return gr(f)?null:x.createElement(ni,{zIndex:o},x.createElement(BEe,{point:f,childIndex:Number(c),mainColor:r,dataKey:a,activeDot:n,clipPath:i}))}var s4=(e,t,r)=>{var n=r??e;if(!gr(n))return ts(n,t,0)},qEe=(e,t,r)=>{var n={},a=e.filter(N0),i=e.filter(f=>f.stackId==null),o=a.reduce((f,m)=>(f[m.stackId]||(f[m.stackId]=[]),f[m.stackId].push(m),f),n),c=Object.entries(o).map(f=>{var[m,p]=f,y=p.map(b=>b.dataKey),g=s4(t,r,p[0].barSize);return{stackId:m,dataKeys:y,barSize:g}}),d=i.map(f=>{var m=[f.dataKey].filter(y=>y!=null),p=s4(t,r,f.barSize);return{stackId:void 0,dataKeys:m,barSize:p}});return[...c,...d]};function o4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o4(Object(r),!0).forEach(function(n){VEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VEe(e,t,r){return(t=HEe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HEe(e){var t=WEe(e,"string");return typeof t=="symbol"?t:t+""}function WEe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KEe(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=ts(e,r,0,!0),c,d=[];if(sr(n[0].barSize)){var f=!1,m=r/i,p=n.reduce((j,N)=>j+(N.barSize||0),0);p+=(i-1)*o,p>=r&&(p-=(i-1)*o,o=0),p>=r&&m>0&&(f=!0,m*=.9,p=i*m);var y=(r-p)/2>>0,g={offset:y-o,size:0};c=n.reduce((j,N)=>{var E,k={stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:g.offset+g.size+o,size:f?m:(E=N.barSize)!==null&&E!==void 0?E:0}},A=[...j,k];return g=A[A.length-1].position,A},d)}else{var b=ts(t,r,0,!0);r-2*b-(i-1)*o<=0&&(o=0);var w=(r-2*b-(i-1)*o)/i;w>1&&(w>>=0);var _=sr(a)?Math.min(w,a):w;c=n.reduce((j,N,E)=>[...j,{stackId:N.stackId,dataKeys:N.dataKeys,position:{offset:b+(w+o)*E+(w-_)/2,size:_}}],d)}return c}}var GEe=(e,t,r,n,a,i,o)=>{var c=gr(o)?t:o,d=KEe(r,n,a!==i?a:i,e,c);return a!==i&&d!=null&&(d=d.map(f=>mv(mv({},f),{},{position:mv(mv({},f.position),{},{offset:f.position.offset-a/2})}))),d},YEe=(e,t)=>{var r=C0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function ZEe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&sr(e.zIndex)?e.zIndex:t}var XEe=e=>{var{chartData:t}=e,r=Xr(),n=Tn();return x.useEffect(()=>n?()=>{}:(r(yL(t)),()=>{r(yL(void 0))}),[t,r,n]),null},l4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},D8=Ta({name:"brush",initialState:l4,reducers:{setBrushSettings(e,t){return t.payload==null?l4:t.payload}}}),{setBrushSettings:E2e}=D8.actions,QEe=D8.reducer;function JEe(e,t,r){return(t=eke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eke(e){var t=tke(e,"string");return typeof t=="symbol"?t:t+""}function tke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Bk{static create(t){return new Bk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}JEe(Bk,"EPS",1e-4);function rke(e){return(e%180+180)%180}var nke=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=rke(a),o=i*Math.PI/180,c=Math.atan(n/r),d=o>c&&o<Math.PI-c?n/Math.sin(o):r/Math.cos(o);return Math.abs(d)},ake={dots:[],areas:[],lines:[]},M8=Ta({name:"referenceElements",initialState:ake,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Qi(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Qi(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Qi(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:k2e,removeDot:A2e,addArea:O2e,removeArea:T2e,addLine:R2e,removeLine:P2e}=M8.actions,ike=M8.reducer,ske=x.createContext(void 0),oke=e=>{var{children:t}=e,[r]=x.useState("".concat(tm("recharts"),"-clip")),n=P0();if(n==null)return null;var{x:a,y:i,width:o,height:c}=n;return x.createElement(ske.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:c,width:o}))),t)};function I8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function lke(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nke(n,r)}function cke(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:c}=e;return t===1?{start:n?a:i,end:n?a+o:i+c}:{start:n?a+o:i+c,end:n?a:i}}function pm(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function uke(e,t){return I8(e,t+1)}function dke(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:c}=t,d=0,f=1,m=o,p=function(){var b=n?.[d];if(b===void 0)return{v:I8(n,f)};var w=d,_,j=()=>(_===void 0&&(_=r(b,w)),_),N=b.coordinate,E=d===0||pm(e,N,j,m,c);E||(d=0,m=o,f+=1),E&&(m=N+e*(j()/2+a),d+=f)},y;f<=i.length;)if(y=p(),y)return y.v;return[]}function fke(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:c,end:d}=t,f=1;f<=o;f++){for(var m=(o-1)%f,p=c,y=!0,g=function(){var N=n[b],E=b,k,A=()=>(k===void 0&&(k=r(N,E)),k),R=N.coordinate,T=b===m||pm(e,R,A,p,d);if(!T)return y=!1,1;T&&(p=R+e*(A()/2+a))},b=m;b<o&&!g();b+=f);if(y){for(var w=[],_=m;_<o;_+=f)w.push(n[_]);return w}}return[]}function c4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c4(Object(r),!0).forEach(function(n){hke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hke(e,t,r){return(t=mke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mke(e){var t=pke(e,"string");return typeof t=="symbol"?t:t+""}function pke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gke(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:c}=t,{end:d}=t,f=function(y){var g=i[y],b,w=()=>(b===void 0&&(b=r(g,y)),b);if(y===o-1){var _=e*(g.coordinate+e*w()/2-d);i[y]=g=Gn(Gn({},g),{},{tickCoord:_>0?g.coordinate-_*e:g.coordinate})}else i[y]=g=Gn(Gn({},g),{},{tickCoord:g.coordinate});if(g.tickCoord!=null){var j=pm(e,g.tickCoord,w,c,d);j&&(d=g.tickCoord-e*(w()/2+a),i[y]=Gn(Gn({},g),{},{isShow:!0}))}},m=o-1;m>=0;m--)f(m);return i}function vke(e,t,r,n,a,i){var o=(n||[]).slice(),c=o.length,{start:d,end:f}=t;if(i){var m=n[c-1],p=r(m,c-1),y=e*(m.coordinate+e*p/2-f);if(o[c-1]=m=Gn(Gn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate}),m.tickCoord!=null){var g=pm(e,m.tickCoord,()=>p,d,f);g&&(f=m.tickCoord-e*(p/2+a),o[c-1]=Gn(Gn({},m),{},{isShow:!0}))}}for(var b=i?c-1:c,w=function(N){var E=o[N],k,A=()=>(k===void 0&&(k=r(E,N)),k);if(N===0){var R=e*(E.coordinate-e*A()/2-d);o[N]=E=Gn(Gn({},E),{},{tickCoord:R<0?E.coordinate-R*e:E.coordinate})}else o[N]=E=Gn(Gn({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var T=pm(e,E.tickCoord,A,d,f);T&&(d=E.tickCoord+e*(A()/2+a),o[N]=Gn(Gn({},E),{},{isShow:!0}))}},_=0;_<b;_++)w(_);return o}function qk(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:c,interval:d,tickFormatter:f,unit:m,angle:p}=e;if(!a||!a.length||!n)return[];if(Ue(d)||Hm.isSsr){var y;return(y=uke(a,Ue(d)?d:0))!==null&&y!==void 0?y:[]}var g=[],b=c==="top"||c==="bottom"?"width":"height",w=m&&b==="width"?Ih(m,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(E,k)=>{var A=typeof f=="function"?f(E.value,k):E.value;return b==="width"?lke(Ih(A,{fontSize:t,letterSpacing:r}),w,p):Ih(A,{fontSize:t,letterSpacing:r})[b]},j=a.length>=2?Na(a[1].coordinate-a[0].coordinate):1,N=cke(i,j,b);return d==="equidistantPreserveStart"?dke(j,N,_,a,o):d==="equidistantPreserveEnd"?fke(j,N,_,a,o):(d==="preserveStart"||d==="preserveStartEnd"?g=vke(j,N,_,a,o,d==="preserveStartEnd"):g=gke(j,N,_,a,o),g.filter(E=>E.isShow))}var yke=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(m=>{if(m){var p=m.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=r?r.getBoundingClientRect().width:0,d=a+i,f=o+d+c+(r?n:0);return Math.round(f)}return 0},xke=["axisLine","width","height","className","hide","ticks","axisType"];function bke(e,t){if(e==null)return{};var r,n,a=wke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Qc(){return Qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qc.apply(null,arguments)}function u4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u4(Object(r),!0).forEach(function(n){_ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ke(e,t,r){return(t=jke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=Ske(e,"string");return typeof t=="symbol"?t:t+""}function Ske(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:yn.axis};function Cke(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:c,otherSvgProps:d}=e;if(!c)return null;var f=on(on(on({},d),Qa(c)),{},{fill:"none"});if(i==="top"||i==="bottom"){var m=+(i==="top"&&!o||i==="bottom"&&o);f=on(on({},f),{},{x1:t,y1:r+m*a,x2:t+n,y2:r+m*a})}else{var p=+(i==="left"&&!o||i==="right"&&o);f=on(on({},f),{},{x1:t+p*n,y1:r,x2:t+p*n,y2:r+a})}return x.createElement("line",Qc({},f,{className:Kt("recharts-cartesian-axis-line",Od(c,"className"))}))}function Nke(e,t,r,n,a,i,o,c,d){var f,m,p,y,g,b,w=c?-1:1,_=e.tickSize||o,j=Ue(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":f=m=e.coordinate,y=r+ +!c*a,p=y-w*_,b=p-w*d,g=j;break;case"left":p=y=e.coordinate,m=t+ +!c*n,f=m-w*_,g=f-w*d,b=j;break;case"right":p=y=e.coordinate,m=t+ +c*n,f=m+w*_,g=f+w*d,b=j;break;default:f=m=e.coordinate,y=r+ +c*a,p=y+w*_,b=p+w*d,g=j;break}return{line:{x1:f,y1:p,x2:m,y2:y},tick:{x:g,y:b}}}function Eke(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function kke(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ake(e){var{option:t,tickProps:r,value:n}=e,a,i=Kt(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,on(on({},r),{},{className:i}));else if(typeof t=="function")a=t(on(on({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Kt(o,t?.className)),a=x.createElement(Pk,Qc({},r,{className:o}),n)}return a}var Oke=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:c,padding:d,tickTextProps:f,orientation:m,mirror:p,x:y,y:g,width:b,height:w,tickSize:_,tickMargin:j,fontSize:N,letterSpacing:E,getTicksConfig:k,events:A,axisType:R}=e,T=qk(on(on({},k),{},{ticks:r}),N,E),O=Eke(m,p),P=kke(m,p),$=Qa(k),M=Lm(n),L={};typeof a=="object"&&(L=a);var U=on(on({},$),{},{fill:"none"},L),X=T.map(H=>on({entry:H},Nke(H,y,g,b,w,m,_,p,j))),Y=X.map(H=>{var{entry:I,line:q}=H;return x.createElement(Qn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},a&&x.createElement("line",Qc({},U,q,{className:Kt("recharts-cartesian-axis-tick-line",Od(a,"className"))})))}),F=X.map((H,I)=>{var{entry:q,tick:ue}=H,B=on(on(on(on({textAnchor:O,verticalAnchor:P},$),{},{stroke:"none",fill:i},M),ue),{},{index:I,payload:q,visibleTicksCount:T.length,tickFormatter:o,padding:d},f);return x.createElement(Qn,Qc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},_E(A,q,I)),n&&x.createElement(Ake,{option:n,tickProps:B,value:"".concat(typeof o=="function"?o(q.value,I):q.value).concat(c||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(R,"-ticks")},F.length>0&&x.createElement(ni,{zIndex:yn.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(R,"-tick-labels"),ref:t},F)),Y.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(R,"-tick-lines")},Y))}),Tke=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:c,axisType:d}=e,f=bke(e,xke),[m,p]=x.useState(""),[y,g]=x.useState(""),b=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var _;return yke({ticks:b.current,label:(_=e.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var w=x.useCallback(_=>{if(_){var j=_.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=j;var N=j[0];if(N){var E=window.getComputedStyle(N),k=E.fontSize,A=E.letterSpacing;(k!==m||A!==y)&&(p(k),g(A))}}},[m,y]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(ni,{zIndex:e.zIndex},x.createElement(Qn,{className:Kt("recharts-cartesian-axis",i)},x.createElement(Cke,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Qa(e)}),x.createElement(Oke,{ref:w,axisType:d,events:f,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:y,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:c,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(hNe,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(jNe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Vk=x.forwardRef((e,t)=>{var r=Vn(e,bo);return x.createElement(Tke,Qc({},r,{ref:t}))});Vk.displayName="CartesianAxis";var Rke=["x1","y1","x2","y2","key"],Pke=["offset"],Dke=["xAxisId","yAxisId"],Mke=["xAxisId","yAxisId"];function d4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d4(Object(r),!0).forEach(function(n){Ike(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ike(e,t,r){return(t=$ke(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ke(e){var t=Lke(e,"string");return typeof t=="symbol"?t:t+""}function Lke(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ac(){return Ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ac.apply(null,arguments)}function Jy(e,t){if(e==null)return{};var r,n,a=zke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Fke=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:c}=e;return x.createElement("rect",{x:n,y:a,ry:c,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function $8(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:c,y2:d,key:f}=r,m=Jy(r,Rke),p=(a=Qa(m))!==null&&a!==void 0?a:{},{offset:y}=p,g=Jy(p,Pke);n=x.createElement("line",Ac({},g,{x1:i,y1:o,x2:c,y2:d,fill:"none",key:f}))}return n}function Uke(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Jy(e,Dke),d=a.map((f,m)=>{var p=Zn(Zn({},c),{},{x1:t,y1:f,x2:t+r,y2:f,key:"line-".concat(m),index:m});return x.createElement($8,{key:"line-".concat(m),option:n,lineItemProps:p})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function Bke(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,c=Jy(e,Mke),d=a.map((f,m)=>{var p=Zn(Zn({},c),{},{x1:f,y1:t,x2:f,y2:t+r,key:"line-".concat(m),index:m});return x.createElement($8,{option:n,lineItemProps:p,key:"line-".concat(m)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function qke(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:c,horizontal:d=!0}=e;if(!d||!t||!t.length||c==null)return null;var f=c.map(p=>Math.round(p+a-a)).sort((p,y)=>p-y);a!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var g=!f[y+1],b=g?a+o-p:f[y+1]-p;if(b<=0)return null;var w=y%t.length;return x.createElement("rect",{key:"react-".concat(y),y:p,x:n,height:b,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Vke(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:c,verticalPoints:d}=e;if(!t||!r||!r.length)return null;var f=d.map(p=>Math.round(p+a-a)).sort((p,y)=>p-y);a!==f[0]&&f.unshift(0);var m=f.map((p,y)=>{var g=!f[y+1],b=g?a+o-p:f[y+1]-p;if(b<=0)return null;var w=y%r.length;return x.createElement("rect",{key:"react-".concat(y),x:p,y:i,width:b,height:c,stroke:"none",fill:r[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Hke=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return yq(qk(Zn(Zn(Zn({},bo),r),{},{ticks:xq(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Wke=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return yq(qk(Zn(Zn(Zn({},bo),r),{},{ticks:xq(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Kke={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:yn.grid};function gm(e){var t=Eq(),r=kq(),n=Nq(),a=Zn(Zn({},Vn(e,Kke)),{},{x:Ue(e.x)?e.x:n.left,y:Ue(e.y)?e.y:n.top,width:Ue(e.width)?e.width:n.width,height:Ue(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:c,y:d,width:f,height:m,syncWithTicks:p,horizontalValues:y,verticalValues:g}=a,b=Tn(),w=tt(P=>sL(P,"xAxis",i,b)),_=tt(P=>sL(P,"yAxis",o,b));if(!ks(f)||!ks(m)||!Ue(c)||!Ue(d))return null;var j=a.verticalCoordinatesGenerator||Hke,N=a.horizontalCoordinatesGenerator||Wke,{horizontalPoints:E,verticalPoints:k}=a;if((!E||!E.length)&&typeof N=="function"){var A=y&&y.length,R=N({yAxis:_?Zn(Zn({},_),{},{ticks:A?y:_.ticks}):void 0,width:t??f,height:r??m,offset:n},A?!0:p);Sy(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof R,"]")),Array.isArray(R)&&(E=R)}if((!k||!k.length)&&typeof j=="function"){var T=g&&g.length,O=j({xAxis:w?Zn(Zn({},w),{},{ticks:T?g:w.ticks}):void 0,width:t??f,height:r??m,offset:n},T?!0:p);Sy(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(k=O)}return x.createElement(ni,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Fke,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(qke,Ac({},a,{horizontalPoints:E})),x.createElement(Vke,Ac({},a,{verticalPoints:k})),x.createElement(Uke,Ac({},a,{offset:n,horizontalPoints:E,xAxis:w,yAxis:_})),x.createElement(Bke,Ac({},a,{offset:n,verticalPoints:k,xAxis:w,yAxis:_}))))}gm.displayName="CartesianGrid";var Gke={},L8=Ta({name:"errorBars",initialState:Gke,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:D2e,replaceErrorBar:M2e,removeErrorBar:I2e}=L8.actions,Yke=L8.reducer,Zke=["children"];function Xke(e,t){if(e==null)return{};var r,n,a=Qke(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qke(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jke={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},eAe=x.createContext(Jke);function z8(e){var{children:t}=e,r=Xke(e,Zke);return x.createElement(eAe.Provider,{value:r},t)}function D0(e,t){var r,n,a=tt(f=>Fo(f,e)),i=tt(f=>Uo(f,t)),o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Nn.allowDataOverflow,c=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:En.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function Hk(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=P0(),{needClipX:i,needClipY:o,needClip:c}=D0(t,r);if(!c||!a)return null;var{x:d,y:f,width:m,height:p}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?d:d-m/2,y:o?f:f-p/2,width:i?m:m*2,height:o?p:p*2}))}var F8=(e,t,r,n)=>Ts(e,"xAxis",t,n),U8=(e,t,r,n)=>Os(e,"xAxis",t,n),B8=(e,t,r,n)=>Ts(e,"yAxis",r,n),q8=(e,t,r,n)=>Os(e,"yAxis",r,n),tAe=he([Ut,F8,B8,U8,q8],(e,t,r,n,a)=>Is(e,"xAxis")?Pl(t,n,!1):Pl(r,a,!1)),rAe=(e,t,r,n,a)=>a;function nAe(e){return e.type==="line"}var aAe=he([Jm,rAe],(e,t)=>e.filter(nAe).find(r=>r.id===t)),iAe=he([Ut,F8,B8,U8,q8,aAe,tAe,ak],(e,t,r,n,a,i,o,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:m}=c;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:p,data:y}=i,g;if(y!=null&&y.length>0?g=y:g=d?.slice(f,m+1),g!=null)return HAe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:p,bandSize:o,displayedData:g})}});function V8(e){var t=Lm(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),c=Number(i);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(c)||c<0)&&(c=n),{r:o,strokeWidth:c}}return{r,strokeWidth:n}}var CS={exports:{}},NS={};var f4;function sAe(){if(f4)return NS;f4=1;var e=$d();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,a=e.useRef,i=e.useEffect,o=e.useMemo,c=e.useDebugValue;return NS.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var g=a(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=o(function(){function _(A){if(!j){if(j=!0,N=A,A=p(A),y!==void 0&&b.hasValue){var R=b.value;if(y(R,A))return E=R}return E=A}if(R=E,r(N,A))return R;var T=p(A);return y!==void 0&&y(R,T)?(N=A,R):(N=A,E=T)}var j=!1,N,E,k=m===void 0?null:m;return[function(){return _(f())},k===null?void 0:function(){return _(k())}]},[f,m,p,y]);var w=n(d,g[0],g[1]);return i(function(){b.hasValue=!0,b.value=w},[w]),c(w),w},NS}var h4;function oAe(){return h4||(h4=1,CS.exports=sAe()),CS.exports}oAe();function lAe(e){e()}function cAe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){lAe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var m4={notify(){},get:()=>[]};function uAe(e,t){let r,n=m4,a=0,i=!1;function o(w){m();const _=n.subscribe(w);let j=!1;return()=>{j||(j=!0,_(),p())}}function c(){n.notify()}function d(){b.onStateChange&&b.onStateChange()}function f(){return i}function m(){a++,r||(r=e.subscribe(d),n=cAe())}function p(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=m4)}function y(){i||(i=!0,m())}function g(){i&&(i=!1,p())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:f,trySubscribe:y,tryUnsubscribe:g,getListeners:()=>n};return b}var dAe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fAe=dAe(),hAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mAe=hAe(),pAe=()=>fAe||mAe?x.useLayoutEffect:x.useEffect,gAe=pAe();function p4(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function vAe(e,t){if(p4(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!p4(e[r[a]],t[r[a]]))return!1;return!0}var yAe=Symbol.for("react-redux-context"),xAe=typeof globalThis<"u"?globalThis:{};function bAe(){if(!x.createContext)return{};const e=xAe[yAe]??=new Map;let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var wAe=bAe();function _Ae(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const d=uAe(a);return{store:a,subscription:d,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);gAe(()=>{const{subscription:d}=i;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==a.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[i,o]);const c=r||wAe;return x.createElement(c.Provider,{value:i},t)}var jAe=_Ae,SAe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function CAe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function op(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(SAe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!vAe(e[n],t[n]))return!1}else if(!CAe(e[n],t[n]))return!1;return!0}var NAe=["id"],EAe=["type","layout","connectNulls","needClip","shape"],kAe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function vm(){return vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vm.apply(null,arguments)}function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){AAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AAe(e,t,r){return(t=OAe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=TAe(e,"string");return typeof t=="symbol"?t:t+""}function TAe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wk(e,t){if(e==null)return{};var r,n,a=RAe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function RAe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PAe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:nf(r,t),payload:e}]},DAe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:c,unit:d,tooltipType:f,id:m}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nf(o,t),hide:c,type:f,color:n,unit:d,graphicalItemId:m}};return x.createElement(Lk,{tooltipEntrySettings:p})}),H8=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function MAe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var IAe=(e,t,r)=>{var n=r.reduce((p,y)=>p+y);if(!n)return H8(t,e);for(var a=Math.floor(e/n),i=e%n,o=t-e,c=[],d=0,f=0;d<r.length;f+=r[d],++d)if(f+r[d]>i){c=[...r.slice(0,d),i-f];break}var m=c.length%2===0?[0,o]:[o];return[...MAe(r,a),...c,...m].map(p=>"".concat(p,"px")).join(", ")};function $Ae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:o}=n,{id:c}=n,d=Wk(n,NAe),f=Qa(d);return x.createElement(T8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:f,needClip:o,clipPathId:t})}function LAe(e){var{showLabels:t,children:r,points:n}=e,a=x.useMemo(()=>n?.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ps(ps({},d),{},{value:i.value,payload:i.payload,viewBox:d,parentViewBox:void 0,fill:void 0})}),[n]);return x.createElement(Mk,{value:t?a:void 0},r)}function v4(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:o,layout:c,connectNulls:d,needClip:f,shape:m}=i,p=Wk(i,EAe),y=ps(ps({},Xn(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:c,connectNulls:d,strokeDasharray:a??i.strokeDasharray});return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(N8,vm({shapeType:"curve",option:m},y,{pathRef:r})),x.createElement($Ae,{points:n,clipPathId:t,props:i}))}function zAe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function FAe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,animateNewValues:y,width:g,height:b,onAnimationEnd:w,onAnimationStart:_}=r,j=a.current,N=Km(o,"recharts-line-"),E=x.useRef(N),[k,A]=x.useState(!1),R=!k,T=x.useCallback(()=>{typeof w=="function"&&w(),A(!1)},[w]),O=x.useCallback(()=>{typeof _=="function"&&_(),A(!0)},[_]),P=zAe(n.current),$=x.useRef(0);E.current!==N&&($.current=i.current,E.current=N);var M=$.current;return x.createElement(LAe,{points:o,showLabels:R},r.children,x.createElement(Wm,{animationId:N,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:T,onAnimationStart:O,key:N},L=>{var U=rr(M,P+M,L),X=Math.min(U,P),Y;if(d)if(c){var F="".concat(c).split(/[,\s]+/gim).map(q=>parseFloat(q));Y=IAe(X,P,F)}else Y=H8(P,X);else Y=c==null?void 0:String(c);if(L>0&&P>0&&(a.current=o,i.current=Math.max(i.current,X)),j){var H=j.length/o.length,I=L===1?o:o.map((q,ue)=>{var B=Math.floor(ue*H);if(j[B]){var Q=j[B];return ps(ps({},q),{},{x:rr(Q.x,q.x,L),y:rr(Q.y,q.y,L)})}return y?ps(ps({},q),{},{x:rr(g*2,q.x,L),y:rr(b/2,q.y,L)}):ps(ps({},q),{},{x:q.x,y:q.y})});return a.current=I,x.createElement(v4,{props:r,points:I,clipPathId:t,pathRef:n,strokeDasharray:Y})}return x.createElement(v4,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:Y})}),x.createElement(Ik,{label:r.label}))}function UAe(e){var{clipPathId:t,props:r}=e,n=x.useRef(null),a=x.useRef(0),i=x.useRef(null);return x.createElement(FAe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var BAe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:zr(e.payload,t)}};class qAe extends x.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:o,top:c,left:d,width:f,height:m,id:p,needClip:y,zIndex:g}=this.props;if(t)return null;var b=Kt("recharts-line",a),w=p,{r:_,strokeWidth:j}=V8(r),N=$k(r),E=_*2+j,k=y?"url(#clipPath-".concat(N?"":"dots-").concat(w,")"):void 0;return x.createElement(ni,{zIndex:g},x.createElement(Qn,{className:b},y&&x.createElement("defs",null,x.createElement(Hk,{clipPathId:w,xAxisId:i,yAxisId:o}),!N&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:d-E/2,y:c-E/2,width:f+E,height:m+E}))),x.createElement(z8,{xAxisId:i,yAxisId:o,data:n,dataPointFormatter:BAe,errorBarOffset:0},x.createElement(UAe,{props:this.props,clipPathId:w}))),x.createElement(NC,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var W8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:yn.line,type:"linear"};function VAe(e){var t=Vn(e,W8),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,hide:f,isAnimationActive:m,label:p,legendType:y,xAxisId:g,yAxisId:b,id:w}=t,_=Wk(t,kAe),{needClip:j}=D0(g,b),N=P0(),E=Bl(),k=Tn(),A=tt($=>iAe($,g,b,k,w));if(E!=="horizontal"&&E!=="vertical"||A==null||N==null)return null;var{height:R,width:T,x:O,y:P}=N;return x.createElement(qAe,vm({},_,{id:w,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:m,hide:f,label:p,legendType:y,xAxisId:g,yAxisId:b,points:A,layout:E,height:R,width:T,left:O,top:P,needClip:j}))}function HAe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:c,displayedData:d}=e;return d.map((f,m)=>{var p=zr(f,o);if(t==="horizontal"){var y=jy({axis:r,ticks:a,bandSize:c,entry:f,index:m}),g=gr(p)?null:n.scale(p);return{x:y,y:g,value:p,payload:f}}var b=gr(p)?null:r.scale(p),w=jy({axis:n,ticks:i,bandSize:c,entry:f,index:m});return b==null||w==null?null:{x:b,y:w,value:p,payload:f}}).filter(Boolean)}function WAe(e){var t=Vn(e,W8),r=Tn();return x.createElement(Fk,{id:t.id,type:"line"},n=>x.createElement(x.Fragment,null,x.createElement(zk,{legendPayload:PAe(t)}),x.createElement(DAe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(Uk,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),x.createElement(VAe,vm({},t,{id:n}))))}var Kk=x.memo(WAe,op);Kk.displayName="Line";function $s(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:R8}function Ls(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:R8}var K8=(e,t,r)=>Ts(e,"xAxis",$s(e,t),r),G8=(e,t,r)=>Os(e,"xAxis",$s(e,t),r),Y8=(e,t,r)=>Ts(e,"yAxis",Ls(e,t),r),Z8=(e,t,r)=>Os(e,"yAxis",Ls(e,t),r),KAe=he([Ut,K8,Y8,G8,Z8],(e,t,r,n,a)=>Is(e,"xAxis")?Pl(t,n,!1):Pl(r,a,!1)),GAe=(e,t)=>t,X8=he([Jm,GAe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Q8=e=>{var t=Ut(e),r=Is(t,"xAxis");return r?"yAxis":"xAxis"},YAe=(e,t)=>{var r=Q8(e);return r==="yAxis"?Ls(e,t):$s(e,t)},ZAe=(e,t,r)=>Hy(e,Q8(e),YAe(e,t),r),XAe=he([X8,ZAe],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,a=C0(e);if(!(n==null||a==null)){var i=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=i?.find(c=>c.key===a);if(o!=null)return o.map(c=>[c[0],c[1]])}}}),QAe=he([Ut,K8,Y8,G8,Z8,XAe,EV,KAe,X8,gje],(e,t,r,n,a,i,o,c,d,f)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:y}=o;if(!(d==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||c==null)){var{data:g}=d,b;if(g&&g.length>0?b=g:b=m?.slice(p,y+1),b!=null)return vOe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:p,areaSettings:d,stackedData:i,displayedData:b,chartBaseValue:f,bandSize:c})}}),JAe=["id"],eOe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dc.apply(null,arguments)}function J8(e,t){if(e==null)return{};var r,n,a=tOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function y4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y4(Object(r),!0).forEach(function(n){rOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rOe(e,t,r){return(t=nOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nOe(e){var t=aOe(e,"string");return typeof t=="symbol"?t:t+""}function aOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ex(e,t){return e&&e!=="none"?e:t}var iOe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:ex(n,a),value:nf(r,t),payload:e}]},sOe=x.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:o,hide:c,unit:d,tooltipType:f,id:m}=e,p={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:nf(o,t),hide:c,type:f,color:ex(n,i),unit:d,graphicalItemId:m}};return x.createElement(Lk,{tooltipEntrySettings:p})});function oOe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:o}=n,c=Qa(n);return x.createElement(T8,{points:r,dot:i,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:c,needClip:a,clipPathId:t})}function lOe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var o,c,d={x:(o=i.x)!==null&&o!==void 0?o:0,y:(c=i.y)!==null&&c!==void 0?c:0,width:0,lowerWidth:0,upperWidth:0,height:0};return pd(pd({},d),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:d,fill:void 0})});return x.createElement(Mk,{value:t?a:void 0},r)}function x4(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:o,type:c,stroke:d,connectNulls:f,isRange:m}=i,{id:p}=i,y=J8(i,JAe),g=Qa(y),b=Xn(y);return x.createElement(x.Fragment,null,t?.length>1&&x.createElement(Qn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},x.createElement(Mh,Dc({},b,{id:p,points:t,connectNulls:f,type:c,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),d!=="none"&&x.createElement(Mh,Dc({},g,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:t})),d!=="none"&&m&&x.createElement(Mh,Dc({},g,{className:"recharts-area-curve",layout:o,type:c,connectNulls:f,fill:"none",points:r}))),x.createElement(oOe,{points:t,props:y,clipPathId:a}))}function cOe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.y,d=(r=i[i.length-1])===null||r===void 0?void 0:r.y;if(!sr(c)||!sr(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(p=>p.x||0));return Ue(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(p=>p.x||0),m)),Ue(m)?x.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(o?parseInt("".concat(o),10):1),height:Math.floor(f)}):null}function uOe(e){var t,r,{alpha:n,baseLine:a,points:i,strokeWidth:o}=e,c=(t=i[0])===null||t===void 0?void 0:t.x,d=(r=i[i.length-1])===null||r===void 0?void 0:r.x;if(!sr(c)||!sr(d))return null;var f=n*Math.abs(c-d),m=Math.max(...i.map(p=>p.y||0));return Ue(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(p=>p.y||0),m)),Ue(m)?x.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(o?parseInt("".concat(o),10):1))}):null}function dOe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?x.createElement(cOe,{alpha:t,points:n,baseLine:a,strokeWidth:i}):x.createElement(uOe,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function fOe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:o,baseLine:c,isAnimationActive:d,animationBegin:f,animationDuration:m,animationEasing:p,onAnimationStart:y,onAnimationEnd:g}=n,b=x.useMemo(()=>({points:o,baseLine:c}),[o,c]),w=Km(b,"recharts-area-"),_=qxe(),[j,N]=x.useState(!1),E=!j,k=x.useCallback(()=>{typeof g=="function"&&g(),N(!1)},[g]),A=x.useCallback(()=>{typeof y=="function"&&y(),N(!0)},[y]);if(_==null)return null;var R=a.current,T=i.current;return x.createElement(lOe,{showLabels:E,points:o},n.children,x.createElement(Wm,{animationId:w,begin:f,duration:m,isActive:d,easing:p,onAnimationEnd:k,onAnimationStart:A,key:w},O=>{if(R){var P=R.length/o.length,$=O===1?o:o.map((L,U)=>{var X=Math.floor(U*P);if(R[X]){var Y=R[X];return pd(pd({},L),{},{x:rr(Y.x,L.x,O),y:rr(Y.y,L.y,O)})}return L}),M;return Ue(c)?M=rr(T,c,O):gr(c)||Ai(c)?M=rr(T,0,O):M=c.map((L,U)=>{var X=Math.floor(U*P);if(Array.isArray(T)&&T[X]){var Y=T[X];return pd(pd({},L),{},{x:rr(Y.x,L.x,O),y:rr(Y.y,L.y,O)})}return L}),O>0&&(a.current=$,i.current=M),x.createElement(x4,{points:$,baseLine:M,needClip:t,clipPathId:r,props:n})}return O>0&&(a.current=o,i.current=c),x.createElement(Qn,null,d&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(r)},x.createElement(dOe,{alpha:O,points:o,baseLine:c,layout:_,strokeWidth:n.strokeWidth}))),x.createElement(Qn,{clipPath:"url(#animationClipPath-".concat(r,")")},x.createElement(x4,{points:o,baseLine:c,needClip:t,clipPathId:r,props:n})))}),x.createElement(Ik,{label:n.label}))}function hOe(e){var{needClip:t,clipPathId:r,props:n}=e,a=x.useRef(null),i=x.useRef();return x.createElement(fOe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class mOe extends x.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:i,left:o,needClip:c,xAxisId:d,yAxisId:f,width:m,height:p,id:y,baseLine:g,zIndex:b}=this.props;if(t)return null;var w=Kt("recharts-area",a),_=y,{r:j,strokeWidth:N}=V8(r),E=$k(r),k=j*2+N,A=c?"url(#clipPath-".concat(E?"":"dots-").concat(_,")"):void 0;return x.createElement(ni,{zIndex:b},x.createElement(Qn,{className:w},c&&x.createElement("defs",null,x.createElement(Hk,{clipPathId:_,xAxisId:d,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(_)},x.createElement("rect",{x:o-k/2,y:i-k/2,width:m+k,height:p+k}))),x.createElement(hOe,{needClip:c,clipPathId:_,props:this.props})),x.createElement(NC,{points:n,mainColor:ex(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}),this.props.isRange&&Array.isArray(g)&&x.createElement(NC,{points:g,mainColor:ex(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:A}))}}var eW={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:yn.area};function pOe(e){var t,r=Vn(e,eW),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:c,dot:d,fill:f,fillOpacity:m,hide:p,isAnimationActive:y,legendType:g,stroke:b,xAxisId:w,yAxisId:_}=r,j=J8(r,eOe),N=Bl(),E=r8(),{needClip:k}=D0(w,_),A=Tn(),{points:R,isRange:T,baseLine:O}=(t=tt(X=>QAe(X,e.id,A)))!==null&&t!==void 0?t:{},P=P0();if(N!=="horizontal"&&N!=="vertical"||P==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:$,width:M,x:L,y:U}=P;return!R||!R.length?null:x.createElement(mOe,Dc({},j,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:o,baseLine:O,connectNulls:c,dot:d,fill:f,fillOpacity:m,height:$,hide:p,layout:N,isAnimationActive:y==="auto"?!Hm.isSsr:y,isRange:T,legendType:g,needClip:k,points:R,stroke:b,width:M,left:L,top:U,xAxisId:w,yAxisId:_}))}var gOe=(e,t,r,n,a)=>{var i=r??t;if(Ue(i))return i;var o=e==="horizontal"?a:n,c=o.scale.domain();if(o.type==="number"){var d=Math.max(c[0],c[1]),f=Math.min(c[0],c[1]);return i==="dataMin"?f:i==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return i==="dataMin"?c[0]:i==="dataMax"?c[1]:c[0]};function vOe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:o,xAxis:c,yAxis:d,displayedData:f,dataStartIndex:m,xAxisTicks:p,yAxisTicks:y,bandSize:g}=e,b=a&&a.length,w=gOe(i,o,r,c,d),_=i==="horizontal",j=!1,N=f.map((k,A)=>{var R,T,O;if(b)O=a[m+A];else{var P=zr(k,n);Array.isArray(P)?(O=P,j=!0):O=[w,P]}var $=(R=(T=O)===null||T===void 0?void 0:T[1])!==null&&R!==void 0?R:null,M=$==null||b&&!t&&zr(k,n)==null;return _?{x:jy({axis:c,ticks:p,bandSize:g,entry:k,index:A}),y:M?null:d.scale($),value:O,payload:k}:{x:M?null:c.scale($),y:jy({axis:d,ticks:y,bandSize:g,entry:k,index:A}),value:O,payload:k}}),E;return b||j?E=N.map(k=>{var A=Array.isArray(k.value)?k.value[0]:null;return _?{x:k.x,y:A!=null&&k.y!=null?d.scale(A):null,payload:k.payload}:{x:A!=null?c.scale(A):null,y:k.y,payload:k.payload}}):E=_?d.scale(w):c.scale(w),{points:N,baseLine:E,isRange:j}}function yOe(e){var t=Vn(e,eW),r=Tn();return x.createElement(Fk,{id:t.id,type:"area"},n=>x.createElement(x.Fragment,null,x.createElement(zk,{legendPayload:iOe(t)}),x.createElement(sOe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),x.createElement(Uk,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:bq(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),x.createElement(pOe,Dc({},t,{id:n}))))}var tW=x.memo(yOe,op);tW.displayName="Area";var xOe="Invariant failed";function bOe(e,t){throw new Error(xOe)}function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(null,arguments)}function tx(e){return x.createElement(N8,EC({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var wOe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Ue(t))return t;var i=Ue(n)||gr(n);return i?t(n,a):(i||bOe(),r)}},_Oe=(e,t,r)=>r,jOe=(e,t)=>t,lp=he([Jm,jOe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),SOe=he([lp],e=>e?.maxBarSize),COe=(e,t,r,n)=>n,NOe=he([Ut,Jm,$s,Ls,_Oe],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),EOe=(e,t,r)=>{var n=Ut(e),a=$s(e,t),i=Ls(e,t);if(!(a==null||i==null))return n==="horizontal"?Hy(e,"yAxis",i,r):Hy(e,"xAxis",a,r)},kOe=(e,t)=>{var r=Ut(e),n=$s(e,t),a=Ls(e,t);if(!(n==null||a==null))return r==="horizontal"?iL(e,"xAxis",n):iL(e,"yAxis",a)},AOe=he([NOe,pje,kOe],qEe),OOe=(e,t,r)=>{var n,a,i=lp(e,t);if(i!=null){var o=$s(e,t),c=Ls(e,t);if(!(o==null||c==null)){var d=Ut(e),f=BV(e),{maxBarSize:m}=i,p=gr(m)?f:m,y,g;return d==="horizontal"?(y=Ts(e,"xAxis",o,r),g=Os(e,"xAxis",o,r)):(y=Ts(e,"yAxis",c,r),g=Os(e,"yAxis",c,r)),(n=(a=Pl(y,g,!0))!==null&&a!==void 0?a:p)!==null&&n!==void 0?n:0}}},rW=(e,t,r)=>{var n=Ut(e),a=$s(e,t),i=Ls(e,t);if(!(a==null||i==null)){var o,c;return n==="horizontal"?(o=Ts(e,"xAxis",a,r),c=Os(e,"xAxis",a,r)):(o=Ts(e,"yAxis",i,r),c=Os(e,"yAxis",i,r)),Pl(o,c)}},TOe=he([AOe,BV,mje,qV,OOe,rW,SOe],GEe),ROe=(e,t,r)=>{var n=$s(e,t);if(n!=null)return Ts(e,"xAxis",n,r)},POe=(e,t,r)=>{var n=Ls(e,t);if(n!=null)return Ts(e,"yAxis",n,r)},DOe=(e,t,r)=>{var n=$s(e,t);if(n!=null)return Os(e,"xAxis",n,r)},MOe=(e,t,r)=>{var n=Ls(e,t);if(n!=null)return Os(e,"yAxis",n,r)},IOe=he([TOe,lp],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),$Oe=he([EOe,lp],YEe),LOe=he([On,TE,ROe,POe,DOe,MOe,IOe,Ut,EV,rW,$Oe,lp,COe],(e,t,r,n,a,i,o,c,d,f,m,p,y)=>{var{chartData:g,dataStartIndex:b,dataEndIndex:w}=d;if(!(p==null||o==null||t==null||c!=="horizontal"&&c!=="vertical"||r==null||n==null||a==null||i==null||f==null)){var{data:_}=p,j;if(_!=null&&_.length>0?j=_:j=g?.slice(b,w+1),j!=null)return hTe({layout:c,barSettings:p,pos:o,parentViewBox:t,bandSize:f,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:m,displayedData:j,offset:e,cells:y,dataStartIndex:b})}}),zOe=["index"];function kC(){return kC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kC.apply(null,arguments)}function FOe(e,t){if(e==null)return{};var r,n,a=UOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function UOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nW=x.createContext(void 0),BOe=e=>{var t=x.useContext(nW);if(t!=null)return t.stackId;if(e!=null)return bq(e)},qOe=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),VOe=e=>{var t=x.useContext(nW);if(t!=null){var{stackId:r}=t;return"url(#".concat(qOe(r,e),")")}},HOe=e=>{var{index:t}=e,r=FOe(e,zOe),n=VOe(t);return x.createElement(Qn,kC({className:"recharts-bar-stack-layer",clipPath:n},r))},WOe=["onMouseEnter","onMouseLeave","onClick"],KOe=["value","background","tooltipPosition"],GOe=["id"],YOe=["onMouseEnter","onClick","onMouseLeave"];function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Po.apply(null,arguments)}function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){ZOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZOe(e,t,r){return(t=XOe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XOe(e){var t=QOe(e,"string");return typeof t=="symbol"?t:t+""}function QOe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rx(e,t){if(e==null)return{};var r,n,a=JOe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JOe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eTe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:nf(r,t),payload:e}]},tTe=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:c,tooltipType:d,id:f}=e,m={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:nf(i,t),hide:o,type:d,color:a,unit:c,graphicalItemId:f}};return x.createElement(Lk,{tooltipEntrySettings:m})});function rTe(e){var t=tt(Xc),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:c,onClick:d}=i,f=rx(i,WOe),m=E8(o,n,i.id),p=k8(c),y=A8(d,n,i.id);if(!a||r==null)return null;var g=Lm(a);return x.createElement(ni,{zIndex:ZEe(a,yn.barBackground)},r.map((b,w)=>{var{value:_,background:j,tooltipPosition:N}=b,E=rx(b,KOe);if(!j)return null;var k=m(b,w),A=p(b,w),R=y(b,w),T=na(na(na(na(na({option:a,isActive:String(w)===t},E),{},{fill:"#eee"},j),g),_E(f,b,w)),{},{onMouseEnter:k,onMouseLeave:A,onClick:R,dataKey:n,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(tx,Po({key:"background-bar-".concat(w)},T))}))}function nTe(e){var{showLabels:t,children:r,rects:n}=e,a=n?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return na(na({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(Mk,{value:t?a:void 0},r)}function aTe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,c=tt(Xc),d=tt(JH),f=r&&String(i)===c&&(d==null||o===d),m=f?r:t;return f?x.createElement(ni,{zIndex:yn.activeBar},x.createElement(tx,Po({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:o}))):x.createElement(tx,Po({},n,{name:String(n.name)},a,{isActive:f,option:m,index:i,dataKey:o}))}function iTe(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(tx,Po({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function sTe(e){var t,{data:r,props:n}=e,a=(t=Qa(n))!==null&&t!==void 0?t:{},{id:i}=a,o=rx(a,GOe),{shape:c,dataKey:d,activeBar:f}=n,{onMouseEnter:m,onClick:p,onMouseLeave:y}=n,g=rx(n,YOe),b=E8(m,d,i),w=k8(y),_=A8(p,d,i);return r?x.createElement(x.Fragment,null,r.map((j,N)=>x.createElement(HOe,Po({index:N,key:"rectangle-".concat(j?.x,"-").concat(j?.y,"-").concat(j?.value,"-").concat(N),className:"recharts-bar-rectangle"},_E(g,j,N),{onMouseEnter:b(j,N),onMouseLeave:w(j,N),onClick:_(j,N)}),f?x.createElement(aTe,{shape:c,activeBar:f,baseProps:o,entry:j,index:N,dataKey:d}):x.createElement(iTe,{shape:c,baseProps:o,entry:j,index:N,dataKey:d})))):null}function oTe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:c,animationEasing:d,onAnimationEnd:f,onAnimationStart:m}=t,p=r.current,y=Km(t,"recharts-bar-"),[g,b]=x.useState(!1),w=!g,_=x.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),j=x.useCallback(()=>{typeof m=="function"&&m(),b(!0)},[m]);return x.createElement(nTe,{showLabels:w,rects:n},x.createElement(Wm,{animationId:y,begin:o,duration:c,isActive:i,easing:d,onAnimationEnd:_,onAnimationStart:j,key:y},N=>{var E=N===1?n:n?.map((k,A)=>{var R=p&&p[A];if(R)return na(na({},k),{},{x:rr(R.x,k.x,N),y:rr(R.y,k.y,N),width:rr(R.width,k.width,N),height:rr(R.height,k.height,N)});if(a==="horizontal"){var T=rr(0,k.height,N),O=rr(k.stackedBarStart,k.y,N);return na(na({},k),{},{y:O,height:T})}var P=rr(0,k.width,N),$=rr(k.stackedBarStart,k.x,N);return na(na({},k),{},{width:P,x:$})});return N>0&&(r.current=E??null),E==null?null:x.createElement(Qn,null,x.createElement(sTe,{props:t,data:E}))}),x.createElement(Ik,{label:t.label}),t.children)}function lTe(e){var t=x.useRef(null);return x.createElement(oTe,{previousRectanglesRef:t,props:e})}var aW=0,cTe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zr(e,t)}};class uTe extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:c,background:d,id:f}=this.props;if(t||r==null)return null;var m=Kt("recharts-bar",a),p=f;return x.createElement(Qn,{className:m,id:f},c&&x.createElement("defs",null,x.createElement(Hk,{clipPathId:p,xAxisId:i,yAxisId:o})),x.createElement(Qn,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},x.createElement(rTe,{data:r,dataKey:n,background:d,allOtherBarProps:this.props}),x.createElement(lTe,this.props)))}}var dTe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:aW,xAxisId:0,yAxisId:0,zIndex:yn.bar};function fTe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m}=e,{needClip:p}=D0(t,r),y=Bl(),g=Tn(),b=UNe(e.children,u8),w=tt(N=>LOe(N,e.id,g,b));if(y!=="vertical"&&y!=="horizontal")return null;var _,j=w?.[0];return j==null||j.height==null||j.width==null?_=0:_=y==="vertical"?j.height/2:j.width/2,x.createElement(z8,{xAxisId:t,yAxisId:r,data:w,dataPointFormatter:cTe,errorBarOffset:_},x.createElement(uTe,Po({},e,{layout:y,needClip:p,data:w,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:c,animationDuration:d,animationEasing:f,isAnimationActive:m})))}function hTe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:c,xAxisTicks:d,yAxisTicks:f,stackedData:m,displayedData:p,offset:y,cells:g,parentViewBox:b,dataStartIndex:w}=e,_=t==="horizontal"?c:o,j=m?_.scale.domain():null,N=sxe({numericAxis:_}),E=_.scale(N);return p.map((k,A)=>{var R,T,O,P,$,M;if(m){var L=m[A+w];if(L==null)return null;R=txe(L,j)}else R=zr(k,r),Array.isArray(R)||(R=[N,R]);var U=wOe(n,aW)(R[1],A);if(t==="horizontal"){var X,[Y,F]=[c.scale(R[0]),c.scale(R[1])];T=dI({axis:o,ticks:d,bandSize:i,offset:a.offset,entry:k,index:A}),O=(X=F??Y)!==null&&X!==void 0?X:void 0,P=a.size;var H=Y-F;if($=Ai(H)?0:H,M={x:T,y:y.top,width:P,height:y.height},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var I=Na($||U)*(Math.abs(U)-Math.abs($));O-=I,$+=I}}else{var[q,ue]=[o.scale(R[0]),o.scale(R[1])];if(T=q,O=dI({axis:c,ticks:f,bandSize:i,offset:a.offset,entry:k,index:A}),P=ue-q,$=a.size,M={x:y.left,y:O,width:y.width,height:$},Math.abs(U)>0&&Math.abs(P)<Math.abs(U)){var B=Na(P||U)*(Math.abs(U)-Math.abs(P));P+=B}}if(T==null||O==null||P==null||$==null)return null;var Q=na(na({},k),{},{stackedBarStart:E,x:T,y:O,width:P,height:$,value:m?R:R[1],payload:k,background:M,tooltipPosition:{x:T+P/2,y:O+$/2},parentViewBox:b},g&&g[A]&&g[A].props);return Q}).filter(Boolean)}function mTe(e){var t=Vn(e,dTe),r=BOe(t.stackId),n=Tn();return x.createElement(Fk,{id:t.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement(zk,{legendPayload:eTe(t)}),x.createElement(tTe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),x.createElement(Uk,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(ni,{zIndex:t.zIndex},x.createElement(fTe,Po({},t,{id:a})))))}var iW=x.memo(mTe,op);iW.displayName="Bar";var pTe=["domain","range"],gTe=["domain","range"];function w4(e,t){if(e==null)return{};var r,n,a=vTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _4(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function sW(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=w4(e,pTe),{domain:i,range:o}=t,c=w4(t,gTe);return!_4(r,i)||!_4(n,o)?!1:op(a,c)}var yTe=["dangerouslySetInnerHTML","ticks","scale"],xTe=["id","scale"];function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AC.apply(null,arguments)}function j4(e,t){if(e==null)return{};var r,n,a=bTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wTe(e){var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(kEe(e)):r.current!==e&&t(AEe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(OEe(r.current)),r.current=null)},[t]),null}var _Te=e=>{var{xAxisId:t,className:r}=e,n=tt(TE),a=Tn(),i="xAxis",o=tt(j=>PH(j,i,t,a)),c=tt(j=>AH(j,t)),d=tt(j=>hSe(j,t)),f=tt(j=>QV(j,t));if(c==null||d==null||f==null)return null;var{dangerouslySetInnerHTML:m,ticks:p,scale:y}=e,g=j4(e,yTe),{id:b,scale:w}=f,_=j4(f,xTe);return x.createElement(Vk,AC({},g,_,{x:d.x,y:d.y,width:c.width,height:c.height,className:Kt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},jTe={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:bo.axisLine,height:Nn.height,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:bo.tickLine,tickSize:bo.tickSize,type:Nn.type,xAxisId:0},STe=e=>{var t=Vn(e,jTe);return x.createElement(x.Fragment,null,x.createElement(wTe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(_Te,t))},ym=x.memo(STe,sW);ym.displayName="XAxis";var CTe=["dangerouslySetInnerHTML","ticks","scale"],NTe=["id","scale"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},OC.apply(null,arguments)}function S4(e,t){if(e==null)return{};var r,n,a=ETe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ETe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kTe(e){var t=Xr(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(TEe(e)):r.current!==e&&t(REe({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(PEe(r.current)),r.current=null)},[t]),null}var ATe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),c=tt(TE),d=Tn(),f=Xr(),m="yAxis",p=tt(R=>OH(R,t)),y=tt(R=>pSe(R,t)),g=tt(R=>PH(R,m,t,d)),b=tt(R=>JV(R,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Dk(a)||x.isValidElement(a)||b==null)){var R=i.current;if(R){var T=R.getCalculatedWidth();Math.round(p.width)!==Math.round(T)&&f(DEe({id:t,width:T}))}}},[g,p,f,a,t,n,b]),p==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:j}=e,N=S4(e,CTe),{id:E,scale:k}=b,A=S4(b,NTe);return x.createElement(Vk,OC({},N,A,{ref:i,labelRef:o,x:y.x,y:y.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:Kt("recharts-".concat(m," ").concat(m),r),viewBox:c,ticks:g,axisType:m}))},OTe={allowDataOverflow:En.allowDataOverflow,allowDecimals:En.allowDecimals,allowDuplicatedCategory:En.allowDuplicatedCategory,angle:En.angle,axisLine:bo.axisLine,hide:!1,includeHidden:En.includeHidden,interval:En.interval,minTickGap:En.minTickGap,mirror:En.mirror,orientation:En.orientation,padding:En.padding,reversed:En.reversed,scale:En.scale,tick:En.tick,tickCount:En.tickCount,tickLine:bo.tickLine,tickSize:bo.tickSize,type:En.type,width:En.width,yAxisId:0},TTe=e=>{var t=Vn(e,OTe);return x.createElement(x.Fragment,null,x.createElement(kTe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(ATe,t))},xm=x.memo(TTe,sW);xm.displayName="YAxis";var RTe=(e,t)=>t,Gk=he([RTe,Ut,ZV,wn,YH,Bo,A1e,On],I1e),Yk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},oW=Oi("mouseClick"),lW=Bm();lW.startListening({actionCreator:oW,effect:(e,t)=>{var r=e.payload,n=Gk(t.getState(),Yk(r));n?.activeIndex!=null&&t.dispatch(ASe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var TC=Oi("mouseMove"),cW=Bm(),pv=null;cW.startListening({actionCreator:TC,effect:(e,t)=>{var r=e.payload;pv!==null&&cancelAnimationFrame(pv);var n=Yk(r);pv=requestAnimationFrame(()=>{var a=t.getState(),i=_k(a,a.tooltip.settings.shared);if(i==="axis"){var o=Gk(a,n);o?.activeIndex!=null?t.dispatch(UH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(FH())}pv=null})}});function PTe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var C4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uW=Ta({name:"rootProps",initialState:C4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:C4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),DTe=uW.reducer,{updateOptions:MTe}=uW.actions,dW=Ta({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$2e}=dW.actions,ITe=dW.reducer,fW=Oi("keyDown"),hW=Oi("focus"),Zk=Bm();Zk.startListening({actionCreator:fW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=jk(a,ff(r),tp(r),ip(r)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var d=Bo(r);if(i==="Enter"){var f=Ky(r,"axis","hover",String(a.index));t.dispatch(bC({active:!a.active,activeIndex:a.index,activeCoordinate:f}));return}var m=xSe(r),p=m==="left-to-right"?1:-1,y=i==="ArrowRight"?1:-1,g=c+y*p;if(!(d==null||g>=d.length||g<0)){var b=Ky(r,"axis","hover",String(g));t.dispatch(bC({active:!0,activeIndex:g.toString(),activeCoordinate:b}))}}}}}});Zk.startListening({actionCreator:hW,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=Ky(r,"axis","hover",String(i));t.dispatch(bC({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var vi=Oi("externalEvent"),mW=Bm(),ES=new Map;mW.startListening({actionCreator:vi,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=ES.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var c=t.getState(),d={activeCoordinate:m1e(c),activeDataKey:JH(c),activeIndex:Xc(c),activeLabel:QH(c),activeTooltipIndex:Xc(c),isTooltipActive:p1e(c)};r(d,n)}finally{ES.delete(a)}});ES.set(a,o)}}});var $Te=he([uf],e=>e.tooltipItemPayloads),LTe=he([$Te,ap,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(c=>c.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),pW=Oi("touchMove"),gW=Bm();gW.startListening({actionCreator:pW,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=_k(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=Gk(n,Yk({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(UH({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var c,d=r.touches[0];if(document.elementFromPoint==null||d==null)return;var f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(hxe),p=(c=f.getAttribute(mxe))!==null&&c!==void 0?c:void 0,y=df(n).find(w=>w.id===p);if(m==null||y==null||p==null)return;var{dataKey:g}=y,b=LTe(n,m,p);t.dispatch(zH({activeDataKey:g,activeIndex:m,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var zTe=q5({brush:QEe,cartesianAxis:MEe,chartData:hCe,errorBars:Yke,graphicalItems:mEe,layout:Yye,legend:s0e,options:lCe,polarAxis:$Ne,polarOptions:ITe,referenceElements:ike,rootProps:DTe,tooltip:OSe,zIndex:Z1e}),FTe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return bye({reducer:zTe,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([lW.middleware,cW.middleware,Zk.middleware,mW.middleware,gW.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(aq({type:"raf"}))},devTools:{serialize:{replacer:PTe},name:"recharts-".concat(r)}})};function UTe(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Tn(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=FTe(t,n));var o=SE;return x.createElement(jAe,{context:o,store:i.current},r)}function BTe(e){var{layout:t,margin:r}=e,n=Xr(),a=Tn();return x.useEffect(()=>{a||(n(Wye(t)),n(Hye(r)))},[n,a,t,r]),null}var qTe=x.memo(BTe,op);function VTe(e){var t=Xr();return x.useEffect(()=>{t(MTe(e))},[t,e]),null}function N4(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=Xr();return x.useLayoutEffect(()=>(n.current&&a(G1e({zIndex:t,element:n.current,isPanorama:r})),()=>{a(Y1e({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function E4(e){var{children:t,isPanorama:r}=e,n=tt(L1e);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(N4,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(N4,{key:o,zIndex:o,isPanorama:r})))}var HTe=["children"];function WTe(e,t){if(e==null)return{};var r,n,a=KTe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KTe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(null,arguments)}var GTe={width:"100%",height:"100%",display:"block"},YTe=x.forwardRef((e,t)=>{var r=Eq(),n=kq(),a=Iq();if(!ks(r)||!ks(n))return null;var{children:i,otherAttributes:o,title:c,desc:d}=e,f,m;return o!=null&&(typeof o.tabIndex=="number"?f=o.tabIndex:f=a?0:void 0,typeof o.role=="string"?m=o.role:m=a?"application":void 0),x.createElement(i5,nx({},o,{title:c,desc:d,role:m,tabIndex:f,width:r,height:n,style:GTe,ref:t}),i)}),ZTe=e=>{var{children:t}=e,r=tt(c0);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(i5,{width:n,height:a,x:o,y:i},t)},k4=x.forwardRef((e,t)=>{var{children:r}=e,n=WTe(e,HTe),a=Tn();return a?x.createElement(ZTe,null,x.createElement(E4,{isPanorama:!0},r)):x.createElement(YTe,nx({ref:t},n),x.createElement(E4,{isPanorama:!1},r))});function XTe(){var e=Xr(),[t,r]=x.useState(null),n=tt(fxe);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;sr(i)&&i!==n&&e(Gye(i))}},[t,e,n]),r}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QTe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){JTe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JTe(e,t,r){return(t=eRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eRe(e){var t=tRe(e,"string");return typeof t=="symbol"?t:t+""}function tRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jc.apply(null,arguments)}var rRe=()=>(_Ce(),null);function ax(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nRe=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:ax((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:ax((n=e.style)===null||n===void 0?void 0:n.height)}),c=x.useCallback((f,m)=>{o(p=>{var y=Math.round(f),g=Math.round(m);return p.containerWidth===y&&p.containerHeight===g?p:{containerWidth:y,containerHeight:g}})},[]),d=x.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null&&typeof ResizeObserver<"u"){var{width:m,height:p}=f.getBoundingClientRect();c(m,p);var y=b=>{var{width:w,height:_}=b[0].contentRect;c(w,_)},g=new ResizeObserver(y);g.observe(f),a.current=g}},[t,c]);return x.useEffect(()=>()=>{var f=a.current;f?.disconnect()},[c]),x.createElement(x.Fragment,null,x.createElement(d0,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Jc({ref:d},e)))}),aRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:ax(r),containerHeight:ax(n)}),o=x.useCallback((d,f)=>{i(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=x.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null){var{width:f,height:m}=d.getBoundingClientRect();o(f,m)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(d0,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Jc({ref:c},e)))}),iRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(d0,{width:r,height:n}),x.createElement("div",Jc({ref:t},e)))}),sRe=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Eo(r)||Eo(n)?x.createElement(aRe,Jc({},e,{ref:t})):x.createElement(iRe,Jc({},e,{ref:t}))});function oRe(e){return e===!0?nRe:sRe}var lRe=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:f,onMouseLeave:m,onMouseMove:p,onMouseUp:y,onTouchEnd:g,onTouchMove:b,onTouchStart:w,style:_,width:j,responsive:N,dispatchTouchEvents:E=!0}=e,k=x.useRef(null),A=Xr(),[R,T]=x.useState(null),[O,P]=x.useState(null),$=XTe(),M=RE(),L=M?.width>0?M.width:j,U=M?.height>0?M.height:a,X=x.useCallback(G=>{$(G),typeof t=="function"&&t(G),T(G),P(G),G!=null&&(k.current=G)},[$,t,T,P]),Y=x.useCallback(G=>{A(oW(G)),A(vi({handler:i,reactEvent:G}))},[A,i]),F=x.useCallback(G=>{A(TC(G)),A(vi({handler:f,reactEvent:G}))},[A,f]),H=x.useCallback(G=>{A(FH()),A(vi({handler:m,reactEvent:G}))},[A,m]),I=x.useCallback(G=>{A(TC(G)),A(vi({handler:p,reactEvent:G}))},[A,p]),q=x.useCallback(()=>{A(hW())},[A]),ue=x.useCallback(G=>{A(fW(G.key))},[A]),B=x.useCallback(G=>{A(vi({handler:o,reactEvent:G}))},[A,o]),Q=x.useCallback(G=>{A(vi({handler:c,reactEvent:G}))},[A,c]),V=x.useCallback(G=>{A(vi({handler:d,reactEvent:G}))},[A,d]),ae=x.useCallback(G=>{A(vi({handler:y,reactEvent:G}))},[A,y]),Z=x.useCallback(G=>{A(vi({handler:w,reactEvent:G}))},[A,w]),ne=x.useCallback(G=>{E&&A(pW(G)),A(vi({handler:b,reactEvent:G}))},[A,E,b]),ee=x.useCallback(G=>{A(vi({handler:g,reactEvent:G}))},[A,g]),pe=oRe(N);return x.createElement(o8.Provider,{value:R},x.createElement(tge.Provider,{value:O},x.createElement(pe,{width:L??_?.width,height:U??_?.height,className:Kt("recharts-wrapper",n),style:QTe({position:"relative",cursor:"default",width:L,height:U},_),onClick:Y,onContextMenu:B,onDoubleClick:Q,onFocus:q,onKeyDown:ue,onMouseDown:V,onMouseEnter:F,onMouseLeave:H,onMouseMove:I,onMouseUp:ae,onTouchEnd:ee,onTouchMove:ne,onTouchStart:Z,ref:X},x.createElement(rRe,null),r)))}),cRe=["width","height","responsive","children","className","style","compact","title","desc"];function uRe(e,t){if(e==null)return{};var r,n,a=dRe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fRe=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:c,compact:d,title:f,desc:m}=e,p=uRe(e,cRe),y=Qa(p);return d?x.createElement(x.Fragment,null,x.createElement(d0,{width:r,height:n}),x.createElement(k4,{otherAttributes:y,title:f,desc:m},i)):x.createElement(lRe,{className:o,style:c,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(k4,{otherAttributes:y,title:f,desc:m,ref:t},x.createElement(oke,null,i)))});function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RC.apply(null,arguments)}var hRe={top:5,right:5,bottom:5,left:5},mRe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:hRe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Xk=x.forwardRef(function(t,r){var n,a=Vn(t.categoricalChartProps,mRe),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,categoricalChartProps:f}=t,m={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(UTe,{preloadedState:{options:m},reduxStoreName:(n=f.id)!==null&&n!==void 0?n:i},x.createElement(XEe,{chartData:f.data}),x.createElement(qTe,{layout:a.layout,margin:a.margin}),x.createElement(VTe,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(fRe,RC({},a,{ref:r})))}),pRe=["axis"],vW=x.forwardRef((e,t)=>x.createElement(Xk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pRe,tooltipPayloadSearcher:Rk,categoricalChartProps:e,ref:t})),gRe=["axis","item"],vRe=x.forwardRef((e,t)=>x.createElement(Xk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gRe,tooltipPayloadSearcher:Rk,categoricalChartProps:e,ref:t})),yRe=["axis"],xRe=x.forwardRef((e,t)=>x.createElement(Xk,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yRe,tooltipPayloadSearcher:Rk,categoricalChartProps:e,ref:t}));async function kS(e,t,r){const{data:n,error:a}=await je.from("work_stats").select("earnings, units_completed, hours_worked").eq("worker_id",e).gte("work_date",t).lte("work_date",r);if(a)throw new Error(`Failed to calculate balance: ${a.message}`);const i=n||[];return{worker_id:e,total_earnings:i.reduce((o,c)=>o+(c.earnings||0),0),total_units:i.reduce((o,c)=>o+(c.units_completed||0),0),total_hours:i.reduce((o,c)=>o+(c.hours_worked||0),0),work_days:i.length,currency:"USD"}}async function bRe(e,t,r){const{data:n,error:a}=await je.from("work_stats").select(`
      project_id,
      earnings,
      units_completed,
      hours_worked,
      projects:project_id (
        id,
        name
      )
    `).eq("worker_id",e).gte("work_date",t).lte("work_date",r);if(a)throw new Error(`Failed to get balance breakdown: ${a.message}`);const i=new Map;for(const o of n||[]){const c=o.project_id,d=o.projects;i.has(c)||i.set(c,{project_id:c,project_name:d?.name||"Unknown Project",total_earnings:0,total_units:0,total_hours:0,work_days:0});const f=i.get(c);f.total_earnings+=o.earnings||0,f.total_units+=o.units_completed||0,f.total_hours+=o.hours_worked||0,f.work_days+=1}return Array.from(i.values()).sort((o,c)=>c.total_earnings-o.total_earnings)}function wRe({workerId:e,workerName:t}){const r=new Date,n=Fe(_s(r),"yyyy-MM-dd"),a=Fe(Co(r),"yyyy-MM-dd"),i=Fe(_v(r),"yyyy-MM-dd"),o=Fe(O1(r),"yyyy-MM-dd"),c=Fe(Qv(r,6),"yyyy-MM-dd"),{data:d,isLoading:f}=Je({queryKey:["worker-balance-month",e,n,a],queryFn:()=>kS(e,n,a)}),{data:m,isLoading:p}=Je({queryKey:["worker-balance-quarter",e,i,o],queryFn:()=>kS(e,i,o)}),{data:y,isLoading:g}=Je({queryKey:["worker-balance-total",e],queryFn:()=>kS(e,"2020-01-01",Fe(r,"yyyy-MM-dd"))}),{data:b,isLoading:w}=Je({queryKey:["worker-balance-breakdown",e,c],queryFn:()=>bRe(e,c,Fe(r,"yyyy-MM-dd"))}),_=Fe(Qv(r,1),"yyyy-MM-dd"),{data:j,isLoading:N}=Je({queryKey:["worker-daily-earnings",e,_],queryFn:async()=>{const{data:R,error:T}=await je.from("work_stats").select(`
          work_date,
          earnings,
          units_completed,
          hours_worked,
          projects:project_id (
            name
          )
        `).eq("worker_id",e).gte("work_date",_).order("work_date",{ascending:!1});if(T)throw T;return(R||[]).map(O=>({work_date:O.work_date,earnings:O.earnings||0,units_completed:O.units_completed||0,hours_worked:O.hours_worked||0,project_name:O.projects?.name||"Unknown"}))}}),E=x.useMemo(()=>{if(!j)return[];const R=new Map;return j.forEach(T=>{const O=T.work_date.substring(0,7);R.set(O,(R.get(O)||0)+T.earnings)}),Array.from(R.entries()).sort((T,O)=>T[0].localeCompare(O[0])).map(([T,O])=>({month:Fe(new Date(T+"-01"),"MMM yyyy"),total:O}))},[j]),k=R=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(R);return f||p||g?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[...Array(3)].map((R,T)=>s.jsx(De,{className:"h-32"},T))}),s.jsx(De,{className:"h-64"}),s.jsx(De,{className:"h-96"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(fo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:k(y?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y?.work_days||0," work days recorded"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"This Month"}),s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:k(d?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d?.total_units||0," units | ",d?.total_hours?.toFixed(1)||0," hours"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"This Quarter"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:k(m?.total_earnings||0)}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[m?.work_days||0," work days"]})]})]})]}),E.length>0&&s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5"}),"Earnings Over Time"]}),s.jsx(ot,{children:"Monthly earnings breakdown"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"h-80 w-full",children:s.jsx(Cy,{width:"100%",height:"100%",children:s.jsxs(xRe,{data:E,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"colorEarnings",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:.1})]})}),s.jsx(gm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ym,{dataKey:"month",tick:{fontSize:12},tickLine:!1,axisLine:!1,className:"text-muted-foreground"}),s.jsx(xm,{tickFormatter:R=>`$${R.toLocaleString()}`,tick:{fontSize:12},tickLine:!1,axisLine:!1,className:"text-muted-foreground",width:80}),s.jsx(Gy,{content:({active:R,payload:T})=>R&&T&&T.length?s.jsx("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:s.jsx("div",{className:"grid gap-2",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:T[0].payload.month}),s.jsx("span",{className:"font-bold text-primary",children:k(T[0].value)})]})})}):null}),s.jsx(tW,{type:"monotone",dataKey:"total",stroke:"hsl(var(--primary))",strokeWidth:2,fillOpacity:1,fill:"url(#colorEarnings)"})]})})})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"}),"Earnings by Project"]}),s.jsx(ot,{children:"Last 6 months breakdown"})]}),s.jsx(Ne,{children:w?s.jsx(De,{className:"h-48"}):b&&b.length>0?s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Project"}),s.jsx(Te,{className:"text-right",children:"Earnings"}),s.jsx(Te,{className:"text-right",children:"Units"}),s.jsx(Te,{className:"text-right",children:"Hours"}),s.jsx(Te,{className:"text-right",children:"Days"})]})}),s.jsx(Yr,{children:b.map(R=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:R.project_name}),s.jsx(Oe,{className:"text-right font-semibold text-green-600",children:k(R.total_earnings)}),s.jsx(Oe,{className:"text-right",children:R.total_units}),s.jsx(Oe,{className:"text-right",children:R.total_hours.toFixed(1)}),s.jsx(Oe,{className:"text-right",children:s.jsx(ze,{variant:"secondary",children:R.work_days})})]},R.project_id))})]}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No project earnings recorded in the last 6 months."})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(_o,{className:"h-5 w-5"}),"Recent Earnings"]}),s.jsx(ot,{children:"Last 30 days detailed breakdown"})]}),s.jsx(Ne,{children:N?s.jsx(De,{className:"h-48"}):j&&j.length>0?s.jsx("div",{className:"max-h-96 overflow-y-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Date"}),s.jsx(Te,{children:"Project"}),s.jsx(Te,{className:"text-right",children:"Units"}),s.jsx(Te,{className:"text-right",children:"Hours"}),s.jsx(Te,{className:"text-right",children:"Earnings"})]})}),s.jsx(Yr,{children:j.map((R,T)=>s.jsxs(vt,{children:[s.jsx(Oe,{children:Fe(new Date(R.work_date),"MMM d, yyyy")}),s.jsx(Oe,{className:"font-medium",children:R.project_name}),s.jsx(Oe,{className:"text-right",children:R.units_completed||"-"}),s.jsx(Oe,{className:"text-right",children:R.hours_worked?R.hours_worked.toFixed(1):"-"}),s.jsx(Oe,{className:"text-right font-semibold text-green-600",children:R.earnings?k(R.earnings):"-"})]},`${R.work_date}-${T}`))})]})}):s.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No earnings recorded in the last 30 days."})})]})]})}function _Re(){const{id:e}=eu(),t=Or(),n=ri().hash.replace("#","")||"profile",{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["worker",e],queryFn:async()=>{if(!e)throw new Error("Worker ID is required");const{data:f,error:m}=await je.from("workers").select("*").eq("id",e).single();if(m)throw m;const p=f;if(p.supervisor_id){const{data:g}=await je.from("workers").select("full_name").eq("id",p.supervisor_id).single();g&&(p.supervisor_name=g.full_name)}const y=[p.created_by,p.updated_by].filter(g=>!!g);if(y.length>0){const{data:g}=await je.from("profiles").select("id, full_name").in("id",y);if(g){const b=new Map(g.map(w=>[w.id,w.full_name]));p.created_by&&(p.created_by_name=b.get(p.created_by)||null),p.updated_by&&(p.updated_by_name=b.get(p.updated_by)||null)}}return p},enabled:!!e}),d=f=>({active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"})[f]||"secondary";return i?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-24 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):o||!a?s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load worker: ",c?.message||"Worker not found"]})}),s.jsxs(se,{variant:"outline",onClick:()=>t("/workers"),className:"mt-4",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Workers"]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/workers"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Workers"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold",children:a.full_name}),s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx("span",{children:a.email_personal}),s.jsx("span",{children:""}),s.jsxs("span",{children:["HR ID: ",a.hr_id]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{variant:d(a.status),className:"text-sm px-3 py-1",children:a.status.toUpperCase()})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",onClick:()=>t(`/workers/${e}/edit`),children:"Edit Worker"}),s.jsx(se,{variant:"outline",disabled:!0,children:"Replace Account"}),s.jsx(se,{variant:"outline",disabled:!0,children:"Assign to Project"})]})]}),s.jsxs(hE,{value:n,onValueChange:f=>t(`#${f}`),children:[s.jsxs(Wx,{children:[s.jsx(wi,{value:"profile",children:"Profile"}),s.jsx(wi,{value:"accounts",children:"Accounts"}),s.jsx(wi,{value:"projects",children:"Projects"}),s.jsx(wi,{value:"earnings",children:"Earnings"}),s.jsx(wi,{value:"activity",children:"Activity"})]}),s.jsx(_i,{value:"profile",className:"mt-6",children:s.jsx(Ppe,{worker:a})}),s.jsx(_i,{value:"accounts",className:"mt-6",children:s.jsx(Bpe,{workerId:a.id,workerName:a.full_name})}),s.jsx(_i,{value:"projects",className:"mt-6",children:s.jsx(qpe,{workerId:a.id,workerName:a.full_name})}),s.jsx(_i,{value:"earnings",className:"mt-6",children:s.jsx(wRe,{workerId:a.id,workerName:a.full_name})}),s.jsx(_i,{value:"activity",className:"mt-6",children:s.jsx(Vpe,{workerId:a.id,workerName:a.full_name})})]})]})}function jRe(){const e=Or(),[t,r]=BC(),{isManagerOrAbove:n}=Sr(),[a,i]=x.useState([]),[o,c]=x.useState([]),[d,f]=x.useState(t.get("search")||""),[m,p]=x.useState(t.get("status")||"all"),[y,g]=x.useState(t.get("department")||"all"),{data:b,isLoading:w,isError:_,error:j}=Je({queryKey:["projects"],queryFn:async()=>{const{data:P,error:$}=await je.from("workforce_projects").select("*").order("created_at",{ascending:!1});if($)throw $;return P}}),{data:N}=Je({queryKey:["departments-map"],queryFn:async()=>{const{data:P,error:$}=await je.from("departments").select("id, department_name");if($)throw $;const M=new Map;return P?.forEach(L=>M.set(L.id,L.department_name)),M}}),E=x.useMemo(()=>!b||!N?b||[]:b.map(P=>({...P,departments:P.department_id?{name:N.get(P.department_id)||"Unknown"}:void 0})),[b,N]),{data:k}=Je({queryKey:["departments"],queryFn:async()=>{const{data:P,error:$}=await je.from("departments").select("id, department_name").order("department_name");if($)throw $;return P}});x.useEffect(()=>{const P=new URLSearchParams;d&&P.set("search",d),m!=="all"&&P.set("status",m),y!=="all"&&P.set("department",y),r(P,{replace:!0})},[d,m,y,r]);const A=x.useMemo(()=>E?E.filter(P=>{const $=d.toLowerCase(),M=!d||P.project_code.toLowerCase().includes($)||P.project_name.toLowerCase().includes($),L=m==="all"||P.status===m,U=y==="all"||P.department_id===y;return M&&L&&U}):[],[E,d,m,y]),R=[{accessorKey:"project_code",header:"Project Code",cell:({row:P})=>s.jsx("div",{className:"font-medium",children:P.original.project_code})},{accessorKey:"project_name",header:"Project Name",cell:({row:P})=>s.jsx("div",{className:"max-w-md truncate",children:P.original.project_name})},{accessorKey:"departments",header:"Department",cell:({row:P})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:P.original.departments?.name||"-"})},{accessorKey:"expert_tier",header:"Tier",cell:({row:P})=>{const $=P.original.expert_tier,M={tier0:"outline",tier1:"secondary",tier2:"default"};return s.jsx(ze,{variant:M[$]||"outline",children:$.toUpperCase()})}},{accessorKey:"status",header:"Status",cell:({row:P})=>{const $=P.original.status,M={active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"};return s.jsx(ze,{variant:M[$]||"secondary",children:$})}},{accessorKey:"start_date",header:"Start Date",cell:({row:P})=>{const $=P.original.start_date;return $?s.jsx("div",{className:"text-sm",children:Fe(new Date($),"MMM d, yyyy")}):s.jsx("span",{children:"-"})}},{id:"actions",header:"Actions",cell:({row:P})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),e(`/projects/${P.original.id}/edit`)},children:"Edit"})})}],T=Yd({data:A,columns:R,getCoreRowModel:Wd(),getSortedRowModel:Gd(),getPaginationRowModel:Kd(),getFilteredRowModel:Am(),onSortingChange:i,onColumnFiltersChange:c,state:{sorting:a,columnFilters:o},initialState:{pagination:{pageSize:25}}}),O=()=>{f(""),p("all"),g("all")};return w?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx(De,{className:"h-8 w-64"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):_?s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load projects: ",j?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Projects"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage workforce projects (",b?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/projects/create"),children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Create Project"]})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qe,{id:"search",placeholder:"Search by project code or name...",value:d,onChange:P=>f(P.target.value),className:"pr-8"}),d&&s.jsx("button",{onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Ps,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"status",children:"Status"}),s.jsxs(Ct,{value:m,onValueChange:p,children:[s.jsx(wt,{id:"status",children:s.jsx(Nt,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Statuses"}),s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"paused",children:"Paused"}),s.jsx(Me,{value:"completed",children:"Completed"}),s.jsx(Me,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"department",children:"Department"}),s.jsxs(Ct,{value:y,onValueChange:g,children:[s.jsx(wt,{id:"department",children:s.jsx(Nt,{placeholder:"All Departments"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Departments"}),k?.map(P=>s.jsx(Me,{value:P.id,children:P.department_name},P.id))]})]})]}),(d||m!=="all"||y!=="all")&&s.jsx(se,{variant:"outline",onClick:O,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A.length," of ",b?.length||0," projects"]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:T.getHeaderGroups().map(P=>s.jsx(vt,{children:P.headers.map($=>s.jsx(Te,{children:$.isPlaceholder?null:Ei($.column.columnDef.header,$.getContext())},$.id))},P.id))}),s.jsx(Yr,{children:T.getRowModel().rows?.length?T.getRowModel().rows.map(P=>s.jsx(vt,{onClick:()=>e(`/projects/${P.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:P.getVisibleCells().map($=>s.jsx(Oe,{children:Ei($.column.columnDef.cell,$.getContext())},$.id))},P.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:R.length,className:"h-24 text-center",children:"No projects found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",T.getState().pagination.pageIndex+1," of ",T.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>T.previousPage(),disabled:!T.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>T.nextPage(),disabled:!T.getCanNextPage(),children:"Next"})]})]})]})}const yW=au({project_code:Rt().min(3,"Project code must be at least 3 characters").max(20,"Project code must be at most 20 characters").regex(/^[a-zA-Z0-9_-]+$/,"Project code can only contain letters, numbers, hyphens, and underscores"),project_name:Rt().min(5,"Project name must be at least 5 characters"),department_id:Rt().uuid("Please select a department"),expert_tier:Vh(["tier0","tier1","tier2"]),status:Vh(["active","paused","completed","cancelled"]).default("active"),start_date:Rt().optional().or(gs("")),end_date:Rt().optional().or(gs(""))});var Qk="Radio",[SRe,xW]=ua(Qk),[CRe,NRe]=SRe(Qk),bW=x.forwardRef((e,t)=>{const{__scopeRadio:r,name:n,checked:a=!1,required:i,disabled:o,value:c="on",onCheck:d,form:f,...m}=e,[p,y]=x.useState(null),g=jt(t,_=>y(_)),b=x.useRef(!1),w=p?f||!!p.closest("form"):!0;return s.jsxs(CRe,{scope:r,checked:a,disabled:o,children:[s.jsx(st.button,{type:"button",role:"radio","aria-checked":a,"data-state":SW(a),"data-disabled":o?"":void 0,disabled:o,value:c,...m,ref:g,onClick:$e(e.onClick,_=>{a||d?.(),w&&(b.current=_.isPropagationStopped(),b.current||_.stopPropagation())})}),w&&s.jsx(jW,{control:p,bubbles:!b.current,name:n,value:c,checked:a,required:i,disabled:o,form:f,style:{transform:"translateX(-100%)"}})]})});bW.displayName=Qk;var wW="RadioIndicator",_W=x.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:n,...a}=e,i=NRe(wW,r);return s.jsx(qn,{present:n||i.checked,children:s.jsx(st.span,{"data-state":SW(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:t})})});_W.displayName=wW;var ERe="RadioBubbleInput",jW=x.forwardRef(({__scopeRadio:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),c=jt(o,i),d=Tx(r),f=Ax(t);return x.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&g){const b=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(b)}},[d,r,n]),s.jsx(st.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jW.displayName=ERe;function SW(e){return e?"checked":"unchecked"}var kRe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],M0="RadioGroup",[ARe]=ua(M0,[rf,xW]),CW=rf(),NW=xW(),[ORe,TRe]=ARe(M0),EW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:n,defaultValue:a,value:i,required:o=!1,disabled:c=!1,orientation:d,dir:f,loop:m=!0,onValueChange:p,...y}=e,g=CW(r),b=Zd(f),[w,_]=Ns({prop:i,defaultProp:a??null,onChange:p,caller:M0});return s.jsx(ORe,{scope:r,name:n,required:o,disabled:c,value:w,onValueChange:_,children:s.jsx(zN,{asChild:!0,...g,orientation:d,dir:b,loop:m,children:s.jsx(st.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":c?"":void 0,dir:b,...y,ref:t})})})});EW.displayName=M0;var kW="RadioGroupItem",AW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:n,...a}=e,i=TRe(kW,r),o=i.disabled||n,c=CW(r),d=NW(r),f=x.useRef(null),m=jt(t,f),p=i.value===a.value,y=x.useRef(!1);return x.useEffect(()=>{const g=w=>{kRe.includes(w.key)&&(y.current=!0)},b=()=>y.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",b)}},[]),s.jsx(FN,{asChild:!0,...c,focusable:!o,active:p,children:s.jsx(bW,{disabled:o,required:i.required,checked:p,...d,...a,name:i.name,ref:m,onCheck:()=>i.onValueChange(a.value),onKeyDown:$e(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:$e(a.onFocus,()=>{y.current&&f.current?.click()})})})});AW.displayName=kW;var RRe="RadioGroupIndicator",OW=x.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...n}=e,a=NW(r);return s.jsx(_W,{...a,...n,ref:t})});OW.displayName=RRe;var TW=EW,RW=AW,PRe=OW;const Jk=x.forwardRef(({className:e,...t},r)=>s.jsx(TW,{className:Ie("grid gap-2",e),...t,ref:r}));Jk.displayName=TW.displayName;const eA=x.forwardRef(({className:e,...t},r)=>s.jsx(RW,{ref:r,className:Ie("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(PRe,{className:"flex items-center justify-center",children:s.jsx(sU,{className:"h-2.5 w-2.5 fill-current text-current"})})}));eA.displayName=RW.displayName;const DRe=[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],MRe=[{value:"tier0",label:"Tier 0",description:"Entry-level annotators"},{value:"tier1",label:"Tier 1",description:"Experienced annotators"},{value:"tier2",label:"Tier 2",description:"Expert annotators"}];function IRe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,setValue:o,watch:c,formState:{errors:d}}=Do({resolver:Mo(yW),defaultValues:{status:"active",expert_tier:"tier0"}}),{data:f}=Je({queryKey:["departments"],queryFn:async()=>{const{data:w,error:_}=await je.from("departments").select("id, department_name").order("department_name");if(_)throw _;return w}}),m=pr({mutationFn:async w=>{const{error:_}=await je.from("workforce_projects").insert({project_code:w.project_code,project_name:w.project_name,department_id:w.department_id,expert_tier:w.expert_tier,status:w.status,start_date:w.start_date||null,end_date:w.end_date||null});if(_)throw _},onSuccess:()=>{t.invalidateQueries({queryKey:["projects"]}),e("/projects")},onError:w=>{n(w.message||"Failed to create project")}}),p=w=>{n(null),m.mutate(w)},y=c("expert_tier"),g=c("department_id"),b=c("status");return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/projects"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new workforce project to the system"})]}),r&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:r})}),s.jsxs("form",{onSubmit:i(p),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Basic Information"}),s.jsx(ot,{children:"Project identification and basic details"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_code",children:["Project Code ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"project_code",placeholder:"e.g., PROJ-001",...a("project_code"),"aria-invalid":!!d.project_code}),d.project_code&&s.jsx("p",{className:"text-sm text-destructive",children:d.project_code.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier (letters, numbers, hyphens, underscores)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_name",children:["Project Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"project_name",placeholder:"e.g., Data Annotation Project",...a("project_name"),"aria-invalid":!!d.project_name}),d.project_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.project_name.message})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Project Configuration"}),s.jsx(ot,{children:"Department assignment and expert tier requirements"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:g,onValueChange:w=>o("department_id",w),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Nt,{placeholder:"Select department"})}),s.jsx(_t,{children:f?.map(w=>s.jsx(Me,{value:w.id,children:w.department_name},w.id))})]}),d.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"status",children:["Status ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:b,onValueChange:w=>o("status",w),children:[s.jsx(wt,{id:"status",children:s.jsx(Nt,{placeholder:"Select status"})}),s.jsx(_t,{children:DRe.map(w=>s.jsx(Me,{value:w.value,children:w.label},w.value))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(_e,{children:["Expert Tier ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Jk,{value:y,onValueChange:w=>o("expert_tier",w),children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:MRe.map(w=>s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(eA,{value:w.value,id:w.value,className:"mt-1"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(_e,{htmlFor:w.value,className:"font-medium cursor-pointer",children:w.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.description})]})]},w.value))})})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Timeline"}),s.jsx(ot,{children:"Project start and end dates (optional)"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Qe,{id:"start_date",type:"date",...a("start_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"end_date",children:"End Date"}),s.jsx(Qe,{id:"end_date",type:"date",...a("end_date")})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/projects"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:m.isPending,children:m.isPending?"Creating...":"Create Project"})]})]})]})}const $Re=[{value:"active",label:"Active"},{value:"paused",label:"Paused"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],LRe=[{value:"tier0",label:"Tier 0",description:"Entry-level annotators"},{value:"tier1",label:"Tier 1",description:"Experienced annotators"},{value:"tier2",label:"Tier 2",description:"Expert annotators"}];function zRe(){const{id:e}=eu(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,reset:f,formState:{errors:m}}=Do({resolver:Mo(yW)}),{data:p,isLoading:y}=Je({queryKey:["project",e],queryFn:async()=>{if(!e)throw new Error("Project ID is required");const{data:E,error:k}=await je.from("workforce_projects").select("*").eq("id",e).single();if(k)throw k;return E},enabled:!!e}),{data:g}=Je({queryKey:["departments"],queryFn:async()=>{const{data:E,error:k}=await je.from("departments").select("id, department_name").order("department_name");if(k)throw k;return E}});x.useEffect(()=>{p&&f({project_code:p.project_code,project_name:p.project_name,department_id:p.department_id,expert_tier:p.expert_tier,status:p.status,start_date:p.start_date||"",end_date:p.end_date||""})},[p,f]);const b=pr({mutationFn:async E=>{if(!e)throw new Error("Project ID is required");const{error:k}=await je.from("workforce_projects").update({project_code:E.project_code,project_name:E.project_name,department_id:E.department_id,expert_tier:E.expert_tier,status:E.status,start_date:E.start_date||null,end_date:E.end_date||null,updated_at:new Date().toISOString()}).eq("id",e);if(k)throw k},onSuccess:()=>{r.invalidateQueries({queryKey:["projects"]}),r.invalidateQueries({queryKey:["project",e]}),t("/projects")},onError:E=>{a(E.message||"Failed to update project")}}),w=E=>{a(null),b.mutate(E)},_=d("expert_tier")||p?.expert_tier,j=d("department_id")||p?.department_id,N=d("status")||p?.status;return y?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-64 w-full"}),s.jsx(De,{className:"h-64 w-full"})]}):p?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/projects"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Project"}),s.jsx("p",{className:"text-muted-foreground",children:"Update project information"})]}),n&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:n})}),s.jsxs("form",{onSubmit:o(w),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Basic Information"}),s.jsx(ot,{children:"Project identification and basic details"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_code",children:["Project Code ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"project_code",placeholder:"e.g., PROJ-001",...i("project_code"),"aria-invalid":!!m.project_code}),m.project_code&&s.jsx("p",{className:"text-sm text-destructive",children:m.project_code.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique identifier (letters, numbers, hyphens, underscores)"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"project_name",children:["Project Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"project_name",placeholder:"e.g., Data Annotation Project",...i("project_name"),"aria-invalid":!!m.project_name}),m.project_name&&s.jsx("p",{className:"text-sm text-destructive",children:m.project_name.message})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Project Configuration"}),s.jsx(ot,{children:"Department assignment and expert tier requirements"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:j,onValueChange:E=>c("department_id",E),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Nt,{placeholder:"Select department"})}),s.jsx(_t,{children:g?.map(E=>s.jsx(Me,{value:E.id,children:E.department_name},E.id))})]}),m.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:m.department_id.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"status",children:["Status ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:N,onValueChange:E=>c("status",E),children:[s.jsx(wt,{id:"status",children:s.jsx(Nt,{placeholder:"Select status"})}),s.jsx(_t,{children:$Re.map(E=>s.jsx(Me,{value:E.value,children:E.label},E.value))})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(_e,{children:["Expert Tier ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Jk,{value:_,onValueChange:E=>c("expert_tier",E),children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:LRe.map(E=>s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(eA,{value:E.value,id:E.value,className:"mt-1"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx(_e,{htmlFor:E.value,className:"font-medium cursor-pointer",children:E.label}),s.jsx("p",{className:"text-xs text-muted-foreground",children:E.description})]})]},E.value))})})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Timeline"}),s.jsx(ot,{children:"Project start and end dates (optional)"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"start_date",children:"Start Date"}),s.jsx(Qe,{id:"start_date",type:"date",...i("start_date")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"end_date",children:"End Date"}),s.jsx(Qe,{id:"end_date",type:"date",...i("end_date")})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/projects"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":"Save Changes"})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:"Project not found"})})})}var FRe=Symbol("radix.slottable");function URe(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=FRe,t}var PW="AlertDialog",[BRe]=ua(PW,[r6]),qo=r6(),DW=e=>{const{__scopeAlertDialog:t,...r}=e,n=qo(t);return s.jsx(y6,{...n,...r,modal:!0})};DW.displayName=PW;var qRe="AlertDialogTrigger",VRe=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qo(r);return s.jsx(Pme,{...a,...n,ref:t})});VRe.displayName=qRe;var HRe="AlertDialogPortal",MW=e=>{const{__scopeAlertDialog:t,...r}=e,n=qo(t);return s.jsx(x6,{...n,...r})};MW.displayName=HRe;var WRe="AlertDialogOverlay",IW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qo(r);return s.jsx(eE,{...a,...n,ref:t})});IW.displayName=WRe;var Sd="AlertDialogContent",[KRe,GRe]=BRe(Sd),YRe=URe("AlertDialogContent"),$W=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=qo(r),o=x.useRef(null),c=jt(t,o),d=x.useRef(null);return s.jsx(Ame,{contentName:Sd,titleName:LW,docsSlug:"alert-dialog",children:s.jsx(KRe,{scope:r,cancelRef:d,children:s.jsxs(tE,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:$e(a.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[s.jsx(YRe,{children:n}),s.jsx(XRe,{contentRef:o})]})})})});$W.displayName=Sd;var LW="AlertDialogTitle",zW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qo(r);return s.jsx(rE,{...a,...n,ref:t})});zW.displayName=LW;var FW="AlertDialogDescription",UW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qo(r);return s.jsx(nE,{...a,...n,ref:t})});UW.displayName=FW;var ZRe="AlertDialogAction",BW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=qo(r);return s.jsx(aE,{...a,...n,ref:t})});BW.displayName=ZRe;var qW="AlertDialogCancel",VW=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=GRe(qW,r),i=qo(r),o=jt(t,a);return s.jsx(aE,{...i,...n,ref:o})});VW.displayName=qW;var XRe=({contentRef:e})=>{const t=`\`${Sd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Sd}\` by passing a \`${FW}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Sd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},QRe=DW,JRe=MW,HW=IW,WW=$W,KW=BW,GW=VW,YW=zW,ZW=UW;const tA=QRe,ePe=JRe,XW=x.forwardRef(({className:e,...t},r)=>s.jsx(HW,{className:Ie("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));XW.displayName=HW.displayName;const I0=x.forwardRef(({className:e,...t},r)=>s.jsxs(ePe,{children:[s.jsx(XW,{}),s.jsx(WW,{ref:r,className:Ie("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));I0.displayName=WW.displayName;const $0=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col space-y-2 text-center sm:text-left",e),...t});$0.displayName="AlertDialogHeader";const L0=({className:e,...t})=>s.jsx("div",{className:Ie("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});L0.displayName="AlertDialogFooter";const z0=x.forwardRef(({className:e,...t},r)=>s.jsx(YW,{ref:r,className:Ie("text-lg font-semibold",e),...t}));z0.displayName=YW.displayName;const F0=x.forwardRef(({className:e,...t},r)=>s.jsx(ZW,{ref:r,className:Ie("text-sm text-muted-foreground",e),...t}));F0.displayName=ZW.displayName;const U0=x.forwardRef(({className:e,...t},r)=>s.jsx(KW,{ref:r,className:Ie(xd(),e),...t}));U0.displayName=KW.displayName;const B0=x.forwardRef(({className:e,...t},r)=>s.jsx(GW,{ref:r,className:Ie(xd({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));B0.displayName=GW.displayName;function tPe({open:e,onOpenChange:t,projectId:r,projectName:n,existingTeamIds:a}){const{user:i}=Sr(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState(""),[p,y]=x.useState(null),{data:g,isLoading:b}=Je({queryKey:["teams-for-assignment"],queryFn:async()=>{const{data:R,error:T}=await je.from("teams").select(`
          id,
          team_name,
          locale_primary,
          locale_secondary,
          locale_region,
          is_active,
          department:departments(department_name)
        `).eq("is_active",!0).order("team_name");if(T)throw T;return R},enabled:e}),w=g?.filter(R=>{const T=!a.includes(R.id),O=f===""||R.team_name.toLowerCase().includes(f.toLowerCase())||R.locale_primary.toLowerCase().includes(f.toLowerCase())||R.department?.department_name?.toLowerCase().includes(f.toLowerCase());return T&&O}),_=pr({mutationFn:async R=>{const T=R.map(P=>({project_id:r,team_id:P,created_by:i?.id||null})),{error:O}=await je.from("project_teams").insert(T);if(O)throw O},onSuccess:()=>{o.invalidateQueries({queryKey:["project-teams",r]}),o.invalidateQueries({queryKey:["teams-for-project"]}),d([]),m(""),y(null),t(!1)},onError:R=>{y(R instanceof Error?R.message:"Failed to assign teams")}}),j=R=>{d(T=>T.includes(R)?T.filter(O=>O!==R):[...T,R])},N=()=>{w&&d(w.map(R=>R.id))},E=()=>{d([])},k=()=>{c.length!==0&&(y(null),_.mutate(c))},A=R=>{R||(d([]),m(""),y(null)),t(R)};return s.jsx(ka,{open:e,onOpenChange:A,children:s.jsxs(sa,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Assign Teams to Project"}),s.jsxs(ki,{children:["Select teams to assign to ",s.jsx("span",{className:"font-medium",children:n})]})]}),p&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:p})}),s.jsxs("div",{className:"relative",children:[s.jsx(Hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Qe,{placeholder:"Search teams by name, locale, or department...",value:f,onChange:R=>m(R.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c.length," of ",w?.length||0," teams selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{variant:"ghost",size:"sm",onClick:N,children:"Select All"}),s.jsx(se,{variant:"ghost",size:"sm",onClick:E,children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md min-h-[200px] max-h-[400px]",children:b?s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"})]}):w&&w.length>0?s.jsx("div",{className:"divide-y",children:w.map(R=>s.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>j(R.id),children:[s.jsx(No,{checked:c.includes(R.id),onCheckedChange:()=>j(R.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:R.team_name}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:R.department?.department_name||"No department"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:"outline",children:R.locale_primary}),R.locale_region&&s.jsx(ze,{variant:"secondary",children:R.locale_region})]})]},R.id))}):s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(Ss,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),g&&g.length>0?s.jsx("p",{children:"No available teams match your search, or all teams are already assigned."}):s.jsx("p",{children:"No active teams found. Create teams first before assigning to projects."})]})}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsxs(se,{onClick:k,disabled:c.length===0||_.isPending,children:[_.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length," Team",c.length!==1?"s":""]})]})]})})}function rPe({projectId:e,projectName:t="this project"}){const r=jr(),[n,a]=x.useState(!1),[i,o]=x.useState(null),{data:c,isLoading:d}=Je({queryKey:["project-teams",e],queryFn:async()=>{const{data:b,error:w}=await je.from("project_teams").select("id, team_id, project_id, created_at").eq("project_id",e).order("created_at",{ascending:!1});if(w)throw w;return b}}),f=c?.map(b=>b.team_id)||[],{data:m}=Je({queryKey:["teams-for-project",f],queryFn:async()=>{if(f.length===0)return[];const{data:b,error:w}=await je.from("teams").select("id, team_name, locale_primary").in("id",f);if(w)throw w;return b},enabled:f.length>0}),p=c?.map(b=>({...b,teams:m?.find(w=>w.id===b.team_id)})),y=pr({mutationFn:async b=>{const{error:w}=await je.from("project_teams").delete().eq("id",b);if(w)throw w},onSuccess:()=>{r.invalidateQueries({queryKey:["project-teams",e]}),o(null)}}),g=()=>{i&&y.mutate(i.id)};return d?s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Assigned Teams"}),s.jsx(ot,{children:"Teams assigned to this project"})]}),s.jsx(Ne,{children:s.jsx("p",{className:"text-muted-foreground",children:"Loading teams..."})})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ae,{children:"Assigned Teams"}),s.jsxs(ot,{children:[p?.length||0," team(s) assigned to this project"]})]}),s.jsxs(se,{onClick:()=>a(!0),children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Assign Teams"]})]})}),s.jsx(Ne,{children:p&&p.length>0?s.jsx("div",{className:"space-y-3",children:p.map(b=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"font-medium",children:b.teams?.team_name||"Unknown Team"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Assigned on ",Fe(new Date(b.created_at),"MMM d, yyyy")]})]}),b.teams?.locale_primary&&s.jsx(ze,{variant:"outline",children:b.teams.locale_primary})]}),s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>o({id:b.id,name:b.teams?.team_name||"Unknown Team"}),disabled:y.isPending,children:[s.jsx(Ps,{className:"h-4 w-4 mr-1"}),"Remove"]})]},b.id))}):s.jsx(ht,{children:s.jsx(mt,{children:'No teams assigned yet. Click "Assign Teams" to add teams to this project.'})})})]}),s.jsx(tPe,{open:n,onOpenChange:a,projectId:e,projectName:t,existingTeamIds:c?.map(b=>b.team_id)||[]}),s.jsx(tA,{open:!!i,onOpenChange:b=>!b&&o(null),children:s.jsxs(I0,{children:[s.jsxs($0,{children:[s.jsx(z0,{children:"Remove Team from Project"}),s.jsxs(F0,{children:["Are you sure you want to remove ",s.jsx("span",{className:"font-medium",children:i?.name})," from this project? This action cannot be undone."]})]}),s.jsxs(L0,{children:[s.jsx(B0,{children:"Cancel"}),s.jsx(U0,{onClick:g,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Team"})]})]})})]})}function nPe({open:e,onOpenChange:t,projectId:r,projectName:n,existingWorkerIds:a}){const{user:i}=Sr(),o=jr(),[c,d]=x.useState([]),[f,m]=x.useState(""),[p,y]=x.useState(null),{data:g,isLoading:b}=Je({queryKey:["workers-for-project-assignment"],queryFn:async()=>{const{data:T,error:O}=await je.from("workers").select("id, hr_id, full_name, email_personal, status, locale_primary").in("status",["active","pending"]).order("full_name");if(O)throw O;return T},enabled:e}),w=g?.filter(T=>{const O=!a.includes(T.id),P=f===""||T.full_name.toLowerCase().includes(f.toLowerCase())||T.hr_id.toLowerCase().includes(f.toLowerCase())||T.email_personal.toLowerCase().includes(f.toLowerCase())||T.locale_primary.toLowerCase().includes(f.toLowerCase());return O&&P}),_=pr({mutationFn:async T=>{const O=T.map(M=>({project_id:r,worker_id:M,assigned_at:new Date().toISOString(),assigned_by:i?.id||null})),{data:P,error:$}=await je.from("worker_assignments").insert(O).select();if($)throw $;return P},onSuccess:(T,O)=>{o.invalidateQueries({queryKey:["worker-assignments",r]}),O.forEach(P=>{o.invalidateQueries({queryKey:["worker-assignments",P]}),o.invalidateQueries({queryKey:["worker-active-project-ids",P]})}),d([]),m(""),y(null),t(!1)},onError:T=>{y(T instanceof Error?T.message:"Failed to assign workers")}}),j=T=>{d(O=>O.includes(T)?O.filter(P=>P!==T):[...O,T])},N=()=>{w&&d(w.map(T=>T.id))},E=()=>{d([])},k=()=>{c.length!==0&&(y(null),_.mutate(c))},A=T=>{T||(d([]),m(""),y(null)),t(T)},R={active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"};return s.jsx(ka,{open:e,onOpenChange:A,children:s.jsxs(sa,{className:"max-w-2xl max-h-[80vh] flex flex-col",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Assign Workers to Project"}),s.jsxs(ki,{children:["Select workers to assign to ",s.jsx("span",{className:"font-medium",children:n})]})]}),p&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:p})}),s.jsxs("div",{className:"relative",children:[s.jsx(Hd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Qe,{placeholder:"Search workers by name, HR ID, email, or locale...",value:f,onChange:T=>m(T.target.value),className:"pl-9"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c.length," of ",w?.length||0," workers selected"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{variant:"ghost",size:"sm",onClick:N,children:"Select All"}),s.jsx(se,{variant:"ghost",size:"sm",onClick:E,children:"Deselect All"})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto border rounded-md min-h-[200px] max-h-[400px]",children:b?s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"})]}):w&&w.length>0?s.jsx("div",{className:"divide-y",children:w.map(T=>s.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-muted/50 cursor-pointer",onClick:()=>j(T.id),children:[s.jsx(No,{checked:c.includes(T.id),onCheckedChange:()=>j(T.id)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium truncate",children:T.full_name}),s.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[T.hr_id,"  ",T.email_personal]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ze,{variant:R[T.status],children:T.status}),s.jsx(ze,{variant:"outline",children:T.locale_primary})]})]},T.id))}):s.jsxs("div",{className:"p-8 text-center text-muted-foreground",children:[s.jsx(xN,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),g&&g.length>0?s.jsx("p",{children:"No available workers match your search, or all workers are already assigned."}):s.jsx("p",{children:"No active workers found."})]})}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),s.jsxs(se,{onClick:k,disabled:c.length===0||_.isPending,children:[_.isPending&&s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",c.length," Worker",c.length!==1?"s":""]})]})]})})}function aPe({projectId:e,projectName:t="this project"}){const r=jr(),[n,a]=x.useState(!1),[i,o]=x.useState(null),{data:c,isLoading:d}=Je({queryKey:["worker-assignments",e],queryFn:async()=>{const{data:j,error:N}=await je.from("worker_assignments").select("id, worker_id, project_id, assigned_at, removed_at").eq("project_id",e).order("assigned_at",{ascending:!1});if(N)throw N;return j}}),f=c?.map(j=>j.worker_id)||[],{data:m}=Je({queryKey:["workers-for-project",f],queryFn:async()=>{if(f.length===0)return[];const{data:j,error:N}=await je.from("workers").select("id, full_name, email_personal, status").in("id",f);if(N)throw N;return j},enabled:f.length>0}),p=c?.map(j=>({...j,workers:m?.find(N=>N.id===j.worker_id)})),y=p?.filter(j=>!j.removed_at)||[],g=p?.filter(j=>j.removed_at)||[],b=pr({mutationFn:async({assignmentId:j,workerId:N})=>{const{error:E}=await je.from("worker_assignments").update({removed_at:new Date().toISOString()}).eq("id",j);if(E)throw E;return{workerId:N}},onSuccess:(j,N)=>{r.invalidateQueries({queryKey:["worker-assignments",e]}),r.invalidateQueries({queryKey:["worker-assignments",N.workerId]}),r.invalidateQueries({queryKey:["worker-active-project-ids",N.workerId]}),o(null)}}),w=()=>{i&&b.mutate({assignmentId:i.id,workerId:i.workerId})};if(d)return s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Assigned Workers"}),s.jsx(ot,{children:"Workers assigned to this project"})]}),s.jsx(Ne,{children:s.jsx("p",{className:"text-muted-foreground",children:"Loading workers..."})})]});const _={active:"default",pending:"secondary",terminated:"destructive",inactive:"outline"};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ae,{children:"Current Assignments"}),s.jsxs(ot,{children:[y.length," worker(s) currently assigned"]})]}),s.jsxs(se,{onClick:()=>a(!0),children:[s.jsx(xN,{className:"h-4 w-4 mr-2"}),"Assign Workers"]})]})}),s.jsx(Ne,{children:y.length>0?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Worker Name"}),s.jsx(Te,{children:"Email"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Assigned Date"}),s.jsx(Te,{children:"Actions"})]})}),s.jsx(Yr,{children:y.map(j=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:j.workers?.full_name||"Unknown"}),s.jsx(Oe,{className:"text-sm text-muted-foreground",children:j.workers?.email_personal||"-"}),s.jsx(Oe,{children:j.workers&&s.jsx(ze,{variant:_[j.workers.status],children:j.workers.status})}),s.jsx(Oe,{className:"text-sm",children:Fe(new Date(j.assigned_at),"MMM d, yyyy")}),s.jsx(Oe,{children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>o({id:j.id,workerId:j.worker_id,name:j.workers?.full_name||"Unknown"}),disabled:b.isPending,children:[s.jsx(Ps,{className:"h-4 w-4 mr-1"}),"Remove"]})})]},j.id))})]})}):s.jsx(ht,{children:s.jsx(mt,{children:'No workers assigned yet. Click "Assign Workers" to add workers to this project.'})})})]}),g.length>0&&s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Past Assignments"}),s.jsxs(ot,{children:[g.length," worker(s) previously assigned"]})]}),s.jsx(Ne,{children:s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Worker Name"}),s.jsx(Te,{children:"Email"}),s.jsx(Te,{children:"Assigned Date"}),s.jsx(Te,{children:"Removed Date"})]})}),s.jsx(Yr,{children:g.map(j=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:j.workers?.full_name||"Unknown"}),s.jsx(Oe,{className:"text-sm text-muted-foreground",children:j.workers?.email_personal||"-"}),s.jsx(Oe,{className:"text-sm",children:Fe(new Date(j.assigned_at),"MMM d, yyyy")}),s.jsx(Oe,{className:"text-sm",children:j.removed_at?Fe(new Date(j.removed_at),"MMM d, yyyy"):"-"})]},j.id))})]})})})]}),s.jsx(nPe,{open:n,onOpenChange:a,projectId:e,projectName:t,existingWorkerIds:y.map(j=>j.worker_id)}),s.jsx(tA,{open:!!i,onOpenChange:j=>!j&&o(null),children:s.jsxs(I0,{children:[s.jsxs($0,{children:[s.jsx(z0,{children:"Remove Worker from Project"}),s.jsxs(F0,{children:["Are you sure you want to remove ",s.jsx("span",{className:"font-medium",children:i?.name})," from this project? The worker will be soft-deleted and moved to past assignments."]})]}),s.jsxs(L0,{children:[s.jsx(B0,{children:"Cancel"}),s.jsx(U0,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove Worker"})]})]})})]})}function iPe(){const{id:e}=eu(),t=Or(),n=ri().hash.replace("#","")||"overview",[a,i]=x.useState(n),{data:o,isLoading:c,isError:d,error:f}=Je({queryKey:["project",e],queryFn:async()=>{if(!e)throw new Error("Project ID is required");const{data:b,error:w}=await je.from("workforce_projects").select("*").eq("id",e).single();if(w)throw w;return b},enabled:!!e}),{data:m}=Je({queryKey:["department",o?.department_id],queryFn:async()=>{if(!o?.department_id)return null;const{data:b,error:w}=await je.from("departments").select("department_name").eq("id",o.department_id).single();if(w)throw w;return b},enabled:!!o?.department_id}),p=b=>{i(b),t(`#${b}`,{replace:!0})};if(c)return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-96 w-full"})]});if(d||!o)return s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:f?.message||"Project not found"})})});const y={active:"default",paused:"secondary",completed:"outline",cancelled:"destructive"},g={tier0:"outline",tier1:"secondary",tier2:"default"};return s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/projects"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Projects"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold",children:o.project_name}),s.jsx(ze,{variant:y[o.status],children:o.status}),s.jsx(ze,{variant:g[o.expert_tier],children:o.expert_tier.toUpperCase()})]}),s.jsxs("p",{className:"text-muted-foreground",children:["Project Code: ",s.jsx("span",{className:"font-medium",children:o.project_code})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(se,{variant:"outline",onClick:()=>t(`/projects/${e}/edit`),children:[s.jsx(yN,{className:"h-4 w-4 mr-2"}),"Edit Project"]})})]})]}),s.jsxs(hE,{value:a,onValueChange:p,children:[s.jsxs(Wx,{children:[s.jsx(wi,{value:"overview",children:"Overview"}),s.jsx(wi,{value:"teams",children:"Teams"}),s.jsx(wi,{value:"workers",children:"Workers"})]}),s.jsx(_i,{value:"overview",className:"space-y-4",children:s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Project Information"}),s.jsx(ot,{children:"Basic details about this project"})]}),s.jsx(Ne,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Project Code"}),s.jsx("p",{className:"text-base font-medium",children:o.project_code})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Project Name"}),s.jsx("p",{className:"text-base font-medium",children:o.project_name})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{className:"text-base",children:m?.department_name||"Loading..."})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Expert Tier"}),s.jsx(ze,{variant:g[o.expert_tier],children:o.expert_tier.toUpperCase()})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx(ze,{variant:y[o.status],children:o.status})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Start Date"}),s.jsx("p",{className:"text-base",children:o.start_date?Fe(new Date(o.start_date),"MMM d, yyyy"):"-"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"End Date"}),s.jsx("p",{className:"text-base",children:o.end_date?Fe(new Date(o.end_date),"MMM d, yyyy"):"-"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Created At"}),s.jsx("p",{className:"text-base",children:Fe(new Date(o.created_at),"MMM d, yyyy HH:mm")})]})]})})]})}),s.jsx(_i,{value:"teams",className:"space-y-4",children:s.jsx(rPe,{projectId:e,projectName:o.project_name})}),s.jsx(_i,{value:"workers",className:"space-y-4",children:s.jsx(aPe,{projectId:e,projectName:o.project_name})})]})]})}function sPe(){const e=Or(),[t,r]=BC(),{isManagerOrAbove:n}=Sr(),[a,i]=x.useState([]),[o,c]=x.useState([]),[d,f]=x.useState(t.get("search")||""),[m,p]=x.useState(t.get("department")||"all"),[y,g]=x.useState(t.get("active")||"all"),{data:b,isLoading:w,isError:_,error:j}=Je({queryKey:["teams"],queryFn:async()=>{const{data:P,error:$}=await je.from("teams").select("*").order("created_at",{ascending:!1});if($)throw $;return P}}),{data:N}=Je({queryKey:["departments-map"],queryFn:async()=>{const{data:P,error:$}=await je.from("departments").select("id, department_name");if($)throw $;const M=new Map;return P?.forEach(L=>M.set(L.id,L.department_name)),M}}),{data:E}=Je({queryKey:["departments"],queryFn:async()=>{const{data:P,error:$}=await je.from("departments").select("id, department_name").order("department_name");if($)throw $;return P}}),k=x.useMemo(()=>b?b.map(P=>({...P,departments:P.department_id?{name:N?.get(P.department_id)||"Unknown"}:void 0,workers_count:0})):[],[b,N]);x.useEffect(()=>{const P=new URLSearchParams;d&&P.set("search",d),m!=="all"&&P.set("department",m),y!=="all"&&P.set("active",y),r(P,{replace:!0})},[d,m,y,r]);const A=x.useMemo(()=>k?k.filter(P=>{const $=d.toLowerCase(),M=!d||P.team_name.toLowerCase().includes($),L=m==="all"||P.department_id===m,U=y==="all"||y==="active"&&P.is_active||y==="inactive"&&!P.is_active;return M&&L&&U}):[],[k,d,m,y]),R=[{accessorKey:"team_name",header:"Team Name",cell:({row:P})=>s.jsx("div",{className:"font-medium",children:P.original.team_name})},{accessorKey:"departments",header:"Department",cell:({row:P})=>s.jsx("div",{className:"text-sm text-muted-foreground",children:P.original.departments?.name||"-"})},{accessorKey:"locale_primary",header:"Primary Locale",cell:({row:P})=>s.jsx(ze,{variant:"outline",children:P.original.locale_primary})},{accessorKey:"locale_secondary",header:"Secondary Locale",cell:({row:P})=>{const $=P.original.locale_secondary;return $?s.jsx(ze,{variant:"secondary",children:$}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"is_active",header:"Status",cell:({row:P})=>{const $=P.original.is_active;return s.jsx(ze,{variant:$?"default":"secondary",children:$?"Active":"Inactive"})}},{id:"actions",header:"Actions",cell:({row:P})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:$=>{$.stopPropagation(),e(`/teams/${P.original.id}/edit`)},children:"Edit"})})}],T=Yd({data:A,columns:R,getCoreRowModel:Wd(),getSortedRowModel:Gd(),getPaginationRowModel:Kd(),getFilteredRowModel:Am(),onSortingChange:i,onColumnFiltersChange:c,state:{sorting:a,columnFilters:o},initialState:{pagination:{pageSize:25}}}),O=()=>{f(""),p("all"),g("all")};return w?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx(De,{className:"h-8 w-64"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):_?s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load teams: ",j?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Teams"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage language-based teams (",b?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/teams/create"),children:[s.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Create Team"]})]}),s.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(_e,{htmlFor:"search",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Qe,{id:"search",placeholder:"Search by team name...",value:d,onChange:P=>f(P.target.value),className:"pr-8"}),d&&s.jsx("button",{onClick:()=>f(""),className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:s.jsx(Ps,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"department",children:"Department"}),s.jsxs(Ct,{value:m,onValueChange:p,children:[s.jsx(wt,{id:"department",children:s.jsx(Nt,{placeholder:"All Departments"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Departments"}),E?.map(P=>s.jsx(Me,{value:P.id,children:P.department_name},P.id))]})]})]}),s.jsxs("div",{className:"w-full md:w-48",children:[s.jsx(_e,{htmlFor:"active",children:"Status"}),s.jsxs(Ct,{value:y,onValueChange:g,children:[s.jsx(wt,{id:"active",children:s.jsx(Nt,{placeholder:"All Statuses"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Statuses"}),s.jsx(Me,{value:"active",children:"Active"}),s.jsx(Me,{value:"inactive",children:"Inactive"})]})]})]}),(d||m!=="all"||y!=="all")&&s.jsx(se,{variant:"outline",onClick:O,children:"Clear Filters"})]}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",A.length," of ",b?.length||0," teams"]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:T.getHeaderGroups().map(P=>s.jsx(vt,{children:P.headers.map($=>s.jsx(Te,{children:$.isPlaceholder?null:Ei($.column.columnDef.header,$.getContext())},$.id))},P.id))}),s.jsx(Yr,{children:T.getRowModel().rows?.length?T.getRowModel().rows.map(P=>s.jsx(vt,{onClick:()=>e(`/teams/${P.original.id}`),className:"cursor-pointer hover:bg-muted/50",children:P.getVisibleCells().map($=>s.jsx(Oe,{children:Ei($.column.columnDef.cell,$.getContext())},$.id))},P.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:R.length,className:"h-24 text-center",children:"No teams found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",T.getState().pagination.pageIndex+1," of ",T.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>T.previousPage(),disabled:!T.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>T.nextPage(),disabled:!T.getCanNextPage(),children:"Next"})]})]})]})}const QW=au({team_name:Rt().min(3,"Team name must be at least 3 characters"),department_id:Rt().uuid("Please select a department"),locale_primary:Rt().min(1,"Please select a primary locale"),locale_secondary:Rt().optional().or(gs("")),locale_region:Rt().optional().or(gs("")),is_active:jne()}),O4=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"ja",label:"Japanese"},{value:"zh",label:"Chinese"},{value:"pt",label:"Portuguese"},{value:"it",label:"Italian"},{value:"ru",label:"Russian"},{value:"ar",label:"Arabic"},{value:"ko",label:"Korean"},{value:"hi",label:"Hindi"}],oPe=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"EU",label:"Europe"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"JP",label:"Japan"},{value:"CN",label:"China"},{value:"IN",label:"India"},{value:"PH",label:"Philippines"},{value:"AU",label:"Australia"}];function lPe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,setValue:o,watch:c,formState:{errors:d}}=Do({resolver:Mo(QW),defaultValues:{is_active:!0}}),{data:f}=Je({queryKey:["departments"],queryFn:async()=>{const{data:j,error:N}=await je.from("departments").select("id, department_name").order("department_name");if(N)throw N;return j}}),m=pr({mutationFn:async j=>{const{error:N}=await je.from("teams").insert({team_name:j.team_name,department_id:j.department_id,locale_primary:j.locale_primary,locale_secondary:j.locale_secondary||null,locale_region:j.locale_region||null,is_active:j.is_active});if(N)throw N},onSuccess:()=>{t.invalidateQueries({queryKey:["teams"]}),e("/teams")},onError:j=>{n(j.message||"Failed to create team")}}),p=j=>{n(null),m.mutate(j)},y=c("locale_primary"),g=c("locale_secondary"),b=c("locale_region"),w=c("department_id"),_=c("is_active")??!0;return s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/teams"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new language-based team to the system"})]}),r&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:r})}),s.jsxs("form",{onSubmit:i(p),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Basic Information"}),s.jsx(ot,{children:"Team identification and department assignment"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"team_name",children:["Team Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"team_name",placeholder:"e.g., Spanish Annotation Team",...a("team_name"),"aria-invalid":!!d.team_name}),d.team_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.team_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:w,onValueChange:j=>o("department_id",j),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Nt,{placeholder:"Select department"})}),s.jsx(_t,{children:f?.map(j=>s.jsx(Me,{value:j.id,children:j.department_name},j.id))})]}),d.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_id.message})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Locale Configuration"}),s.jsx(ot,{children:"Language and region settings for the team"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"locale_primary",children:["Primary Locale ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:y,onValueChange:j=>o("locale_primary",j),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Nt,{placeholder:"Select primary locale"})}),s.jsx(_t,{children:O4.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))})]}),d.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:d.locale_primary.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_secondary",children:"Secondary Locale"}),s.jsxs(Ct,{value:g||"none",onValueChange:j=>o("locale_secondary",j==="none"?"":j),children:[s.jsx(wt,{id:"locale_secondary",children:s.jsx(Nt,{placeholder:"Select secondary locale (optional)"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"None"}),O4.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_region",children:"Locale Region"}),s.jsxs(Ct,{value:b||"none",onValueChange:j=>o("locale_region",j==="none"?"":j),children:[s.jsx(wt,{id:"locale_region",children:s.jsx(Nt,{placeholder:"Select region (optional)"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"None"}),oPe.map(j=>s.jsx(Me,{value:j.value,children:j.label},j.value))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional geographic region for locale specialization"})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Team Status"}),s.jsx(ot,{children:"Set the team's active status"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"is_active",checked:_,onCheckedChange:j=>o("is_active",j)}),s.jsx(_e,{htmlFor:"is_active",className:"font-normal cursor-pointer",children:"Team is active"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/teams"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:m.isPending,children:m.isPending?"Creating...":"Create Team"})]})]})]})}const T4=[{value:"en",label:"English"},{value:"es",label:"Spanish"},{value:"fr",label:"French"},{value:"de",label:"German"},{value:"ja",label:"Japanese"},{value:"zh",label:"Chinese"},{value:"pt",label:"Portuguese"},{value:"it",label:"Italian"},{value:"ru",label:"Russian"},{value:"ar",label:"Arabic"},{value:"ko",label:"Korean"},{value:"hi",label:"Hindi"}],cPe=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"GB",label:"United Kingdom"},{value:"EU",label:"Europe"},{value:"MX",label:"Mexico"},{value:"BR",label:"Brazil"},{value:"AR",label:"Argentina"},{value:"ES",label:"Spain"},{value:"FR",label:"France"},{value:"DE",label:"Germany"},{value:"JP",label:"Japan"},{value:"CN",label:"China"},{value:"IN",label:"India"},{value:"PH",label:"Philippines"},{value:"AU",label:"Australia"}];function uPe(){const{id:e}=eu(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,setValue:c,watch:d,reset:f,formState:{errors:m}}=Do({resolver:Mo(QW)}),{data:p,isLoading:y}=Je({queryKey:["team",e],queryFn:async()=>{if(!e)throw new Error("Team ID is required");const{data:A,error:R}=await je.from("teams").select("*").eq("id",e).single();if(R)throw R;return A},enabled:!!e}),{data:g}=Je({queryKey:["departments"],queryFn:async()=>{const{data:A,error:R}=await je.from("departments").select("id, department_name").order("department_name");if(R)throw R;return A}});x.useEffect(()=>{p&&f({team_name:p.team_name,department_id:p.department_id,locale_primary:p.locale_primary,locale_secondary:p.locale_secondary||"",locale_region:p.locale_region||"",is_active:p.is_active})},[p,f]);const b=pr({mutationFn:async A=>{if(!e)throw new Error("Team ID is required");const{error:R}=await je.from("teams").update({team_name:A.team_name,department_id:A.department_id,locale_primary:A.locale_primary,locale_secondary:A.locale_secondary||null,locale_region:A.locale_region||null,is_active:A.is_active,updated_at:new Date().toISOString()}).eq("id",e);if(R)throw R},onSuccess:()=>{r.invalidateQueries({queryKey:["teams"]}),r.invalidateQueries({queryKey:["team",e]}),t("/teams")},onError:A=>{a(A.message||"Failed to update team")}}),w=A=>{a(null),b.mutate(A)},_=d("locale_primary")||p?.locale_primary,j=d("locale_secondary")??p?.locale_secondary,N=d("locale_region")??p?.locale_region,E=d("department_id")||p?.department_id,k=d("is_active")??p?.is_active;return y?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-64 w-full"}),s.jsx(De,{className:"h-64 w-full"})]}):p?s.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/teams"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Team"}),s.jsx("p",{className:"text-muted-foreground",children:"Update team information"})]}),n&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:n})}),s.jsxs("form",{onSubmit:o(w),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Basic Information"}),s.jsx(ot,{children:"Team identification and department assignment"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"team_name",children:["Team Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"team_name",placeholder:"e.g., Spanish Annotation Team",...i("team_name"),"aria-invalid":!!m.team_name}),m.team_name&&s.jsx("p",{className:"text-sm text-destructive",children:m.team_name.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_id",children:["Department ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:E,onValueChange:A=>c("department_id",A),children:[s.jsx(wt,{id:"department_id",children:s.jsx(Nt,{placeholder:"Select department"})}),s.jsx(_t,{children:g?.map(A=>s.jsx(Me,{value:A.id,children:A.department_name},A.id))})]}),m.department_id&&s.jsx("p",{className:"text-sm text-destructive",children:m.department_id.message})]})]})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Locale Configuration"}),s.jsx(ot,{children:"Language and region settings for the team"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"locale_primary",children:["Primary Locale ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsxs(Ct,{value:_,onValueChange:A=>c("locale_primary",A),children:[s.jsx(wt,{id:"locale_primary",children:s.jsx(Nt,{placeholder:"Select primary locale"})}),s.jsx(_t,{children:T4.map(A=>s.jsx(Me,{value:A.value,children:A.label},A.value))})]}),m.locale_primary&&s.jsx("p",{className:"text-sm text-destructive",children:m.locale_primary.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_secondary",children:"Secondary Locale"}),s.jsxs(Ct,{value:j||"none",onValueChange:A=>c("locale_secondary",A==="none"?"":A),children:[s.jsx(wt,{id:"locale_secondary",children:s.jsx(Nt,{placeholder:"Select secondary locale (optional)"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"None"}),T4.map(A=>s.jsx(Me,{value:A.value,children:A.label},A.value))]})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"locale_region",children:"Locale Region"}),s.jsxs(Ct,{value:N||"none",onValueChange:A=>c("locale_region",A==="none"?"":A),children:[s.jsx(wt,{id:"locale_region",children:s.jsx(Nt,{placeholder:"Select region (optional)"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"none",children:"None"}),cPe.map(A=>s.jsx(Me,{value:A.value,children:A.label},A.value))]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional geographic region for locale specialization"})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Team Status"}),s.jsx(ot,{children:"Set the team's active status"})]}),s.jsx(Ne,{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(No,{id:"is_active",checked:k,onCheckedChange:A=>c("is_active",A)}),s.jsx(_e,{htmlFor:"is_active",className:"font-normal cursor-pointer",children:"Team is active"})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/teams"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:b.isPending,children:b.isPending?"Saving...":"Save Changes"})]})]})]}):s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:"Team not found"})})})}function dPe({team:e}){return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(wx,{className:"h-5 w-5"}),"Team Information"]})}),s.jsxs(Ne,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Team Name"}),s.jsx("p",{className:"text-base",children:e.team_name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Department"}),s.jsx("p",{className:"text-base",children:e.department?.department_name||"Not assigned"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),s.jsx("div",{children:s.jsx(ze,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})})]})]}),s.jsx(Hc,{}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold mb-4 flex items-center gap-2",children:[s.jsx(Wh,{className:"h-4 w-4"}),"Locale Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Primary Locale"}),s.jsx("div",{children:s.jsx(ze,{variant:"default",children:e.locale_primary})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Secondary Locale"}),s.jsx("div",{children:e.locale_secondary?s.jsx(ze,{variant:"secondary",children:e.locale_secondary}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Not set"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Region"}),s.jsx("div",{children:e.locale_region?s.jsx(ze,{variant:"outline",children:e.locale_region}):s.jsx("span",{className:"text-sm text-muted-foreground",children:"Not set"})})]})]})]}),s.jsx(Hc,{}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold mb-4",children:"Metadata"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),s.jsx("p",{className:"text-sm",children:Fe(new Date(e.created_at),"PPP")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),s.jsx("p",{className:"text-sm",children:Fe(new Date(e.updated_at),"PPP")})]})]})]})]})]})})}function fPe({teamId:e,teamName:t}){const r=Or(),{data:n,isLoading:a,isError:i,error:o}=Je({queryKey:["team-projects",e],queryFn:async()=>{const{data:d,error:f}=await je.from("project_teams").select(`
          project:workforce_projects(
            id,
            project_code,
            project_name,
            status,
            start_date,
            end_date
          )
        `).eq("team_id",e).order("created_at",{ascending:!1});if(f)throw f;return d.map(m=>m.project).filter(Boolean)}}),c=d=>({active:"default",planning:"secondary",paused:"outline",completed:"outline",cancelled:"destructive"})[d]||"secondary";return a?s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"})]}):i?s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load projects: ",o?.message||"Unknown error"]})}):!n||n.length===0?s.jsx(Ce,{children:s.jsxs(Ne,{className:"py-12 text-center",children:[s.jsx(zc,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No projects assigned to this team yet."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Teams are assigned to projects through the project management interface."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Projects"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," project",n.length!==1?"s":""," assigned to ",t]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"}),"Assigned Projects"]}),s.jsx(ot,{children:"Projects that this team is currently working on"})]}),s.jsx(Ne,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Project Code"}),s.jsx(Te,{children:"Project Name"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Start Date"}),s.jsx(Te,{children:"End Date"}),s.jsx(Te,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:n.map(d=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:d.project_code}),s.jsx(Oe,{children:d.project_name}),s.jsx(Oe,{children:s.jsx(ze,{variant:c(d.status),children:d.status.toUpperCase()})}),s.jsx(Oe,{children:d.start_date?new Date(d.start_date).toLocaleDateString():"-"}),s.jsx(Oe,{children:d.end_date?new Date(d.end_date).toLocaleDateString():"-"}),s.jsx(Oe,{className:"text-right",children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(`/projects/${d.id}`),children:[s.jsx(lU,{className:"h-4 w-4 mr-1"}),"View"]})})]},d.id))})]})})]})]})}function hPe({teamId:e,teamName:t}){const r=Or(),{data:n,isLoading:a,isError:i,error:o}=Je({queryKey:["team-workers",e],queryFn:async()=>{const{data:m,error:p}=await je.from("project_teams").select("project_id").eq("team_id",e);if(p)throw p;if(!m||m.length===0)return[];const y=m.map(_=>_.project_id),{data:g,error:b}=await je.from("worker_assignments").select(`
          worker_id,
          workers (
            id,
            hr_id,
            full_name,
            email_personal,
            status,
            worker_role,
            hire_date
          )
        `).in("project_id",y).is("removed_at",null);if(b)throw b;if(!g)return[];const w=new Map;return g.forEach(_=>{_.workers&&!w.has(_.workers.id)&&w.set(_.workers.id,_.workers)}),Array.from(w.values()).sort((_,j)=>_.full_name.localeCompare(j.full_name))}}),c=m=>({active:"default",pending:"secondary",inactive:"outline",terminated:"destructive"})[m]||"secondary";if(a)return s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-32 w-full"}),s.jsx(De,{className:"h-32 w-full"})]});if(i)return s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load workers: ",o?.message||"Unknown error"]})});if(!n||n.length===0)return s.jsx(Ce,{children:s.jsxs(Ne,{className:"py-12 text-center",children:[s.jsx(Ss,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-muted-foreground mb-2",children:"No workers currently assigned to projects for this team."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Workers appear here when they are assigned to projects that this team works on."})]})});const d=n.filter(m=>m.status==="active"||m.status==="pending"),f=n.filter(m=>m.status==="inactive"||m.status==="terminated");return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Workers on Team Projects"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.length," worker",n.length!==1?"s":""," on projects assigned to ",t," ","(",d.length," active)"]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"h-5 w-5"}),"Workers"]}),s.jsx(ot,{children:"Workers assigned to projects this team works on"})]}),s.jsx(Ne,{children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"HR ID"}),s.jsx(Te,{children:"Name"}),s.jsx(Te,{children:"Email"}),s.jsx(Te,{children:"Role"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Hire Date"}),s.jsx(Te,{className:"text-right",children:"Actions"})]})}),s.jsx(Yr,{children:n.map(m=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium",children:m.hr_id}),s.jsx(Oe,{children:m.full_name}),s.jsx(Oe,{className:"text-sm text-muted-foreground",children:m.email_personal}),s.jsx(Oe,{className:"text-sm",children:m.worker_role||"-"}),s.jsx(Oe,{children:s.jsx(ze,{variant:c(m.status),children:m.status.toUpperCase()})}),s.jsx(Oe,{children:new Date(m.hire_date).toLocaleDateString()}),s.jsx(Oe,{className:"text-right",children:s.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>r(`/workers/${m.id}`),children:[s.jsx(lU,{className:"h-4 w-4 mr-1"}),"View"]})})]},m.id))})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-3",children:s.jsx(Ae,{className:"text-sm font-medium",children:"Active Workers"})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:d.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active or pending"})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-3",children:s.jsx(Ae,{className:"text-sm font-medium",children:"Inactive Workers"})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:f.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactive or terminated"})]})]})]})]})}function mPe(){const{id:e}=eu(),t=Or(),n=ri().hash.replace("#","")||"overview",{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["team",e],queryFn:async()=>{if(!e)throw new Error("Team ID is required");const{data:d,error:f}=await je.from("teams").select(`
          *,
          department:departments(id, department_name)
        `).eq("id",e).single();if(f)throw f;return d},enabled:!!e});return i?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-24 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):o||!a?s.jsxs("div",{className:"container mx-auto py-8",children:[s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load team: ",c?.message||"Team not found"]})}),s.jsxs(se,{variant:"outline",onClick:()=>t("/teams"),className:"mt-4",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Teams"]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/teams"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Teams"]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("h1",{className:"text-3xl font-bold",children:a.team_name}),s.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[s.jsx("span",{children:a.department?.department_name||"No department"}),s.jsx("span",{children:""}),s.jsxs("span",{children:["Primary Locale: ",a.locale_primary]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(ze,{variant:a.is_active?"default":"secondary",className:"text-sm px-3 py-1",children:a.is_active?"ACTIVE":"INACTIVE"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(se,{variant:"outline",onClick:()=>t(`/teams/${e}/edit`),children:"Edit Team"})})]}),s.jsxs(hE,{value:n,onValueChange:d=>t(`#${d}`),children:[s.jsxs(Wx,{children:[s.jsx(wi,{value:"overview",children:"Overview"}),s.jsx(wi,{value:"projects",children:"Projects"}),s.jsx(wi,{value:"workers",children:"Workers"})]}),s.jsx(_i,{value:"overview",className:"mt-6",children:s.jsx(dPe,{team:a})}),s.jsx(_i,{value:"projects",className:"mt-6",children:s.jsx(fPe,{teamId:a.id,teamName:a.team_name})}),s.jsx(_i,{value:"workers",className:"mt-6",children:s.jsx(hPe,{teamId:a.id,teamName:a.team_name})})]})]})}function pPe(){const e=Or(),[t,r]=x.useState([]),{isAdminOrAbove:n}=Sr(),{data:a,isLoading:i,isError:o,error:c}=Je({queryKey:["departments-list"],queryFn:async()=>{const{data:y,error:g}=await je.from("departments").select("id, department_name, description, created_at").order("department_name",{ascending:!0});if(g)throw g;return y}}),{data:d}=Je({queryKey:["departments-teams-counts"],queryFn:async()=>{const{data:y,error:g}=await je.from("teams").select("id, department_id");if(g)throw g;const b=new Map;return y?.forEach(w=>{b.set(w.department_id,(b.get(w.department_id)||0)+1)}),b}}),f=x.useMemo(()=>a?a.map(y=>({...y,teams_count:d?.get(y.id)||0})):[],[a,d]),m=[{accessorKey:"department_name",header:"Name",cell:({row:y})=>s.jsx("div",{className:"font-medium",children:y.original.department_name})},{accessorKey:"description",header:"Description",cell:({row:y})=>s.jsx("div",{className:"max-w-md text-sm text-muted-foreground truncate",children:y.original.description||"-"})},{accessorKey:"teams_count",header:"Teams",cell:({row:y})=>s.jsx("div",{className:"text-sm",children:y.original.teams_count||0})},{accessorKey:"created_at",header:"Created",cell:({row:y})=>{const g=y.original.created_at;return g?s.jsx("div",{className:"text-sm",children:Fe(new Date(g),"MMM d, yyyy")}):s.jsx("span",{children:"-"})}},{id:"actions",header:"Actions",cell:({row:y})=>s.jsx("div",{className:"flex gap-2",children:s.jsx(se,{variant:"ghost",size:"sm",onClick:g=>{g.stopPropagation(),e(`/departments/${y.original.id}/edit`)},children:"Edit"})})}],p=Yd({data:f,columns:m,getCoreRowModel:Wd(),getSortedRowModel:Gd(),getPaginationRowModel:Kd(),onSortingChange:r,state:{sorting:t},initialState:{pagination:{pageSize:25}}});return i?s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx(De,{className:"h-8 w-64"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-96 w-full"})]}):o?s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load departments: ",c?.message||"Unknown error"]})})}):s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Departments"}),s.jsxs("p",{className:"text-muted-foreground mt-1",children:["Manage organizational departments (",a?.length||0," total)"]})]}),n&&s.jsxs(se,{onClick:()=>e("/departments/create"),children:[s.jsx(wx,{className:"h-4 w-4 mr-2"}),"Create Department"]})]}),s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:p.getHeaderGroups().map(y=>s.jsx(vt,{children:y.headers.map(g=>s.jsx(Te,{children:g.isPlaceholder?null:Ei(g.column.columnDef.header,g.getContext())},g.id))},y.id))}),s.jsx(Yr,{children:p.getRowModel().rows?.length?p.getRowModel().rows.map(y=>s.jsx(vt,{className:"hover:bg-muted/50",children:y.getVisibleCells().map(g=>s.jsx(Oe,{children:Ei(g.column.columnDef.cell,g.getContext())},g.id))},y.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:m.length,className:"h-24 text-center",children:"No departments found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",p.getState().pagination.pageIndex+1," of ",p.getPageCount()||1]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>p.previousPage(),disabled:!p.getCanPreviousPage(),children:"Previous"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>p.nextPage(),disabled:!p.getCanNextPage(),children:"Next"})]})]})]})}const JW=au({department_name:Rt().min(3,"Department name must be at least 3 characters"),description:Rt().optional().or(gs(""))}),rA=x.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:Ie("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));rA.displayName="Textarea";function gPe(){const e=Or(),t=jr(),[r,n]=x.useState(null),{register:a,handleSubmit:i,formState:{errors:o}}=Do({resolver:Mo(JW)}),c=pr({mutationFn:async f=>{const{error:m}=await je.from("departments").insert({department_name:f.department_name,description:f.description||null});if(m)throw m},onSuccess:()=>{t.invalidateQueries({queryKey:["departments"]}),t.invalidateQueries({queryKey:["departments-list"]}),e("/departments")},onError:f=>{n(f.message||"Failed to create department")}}),d=f=>{n(null),c.mutate(f)};return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>e("/departments"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Departments"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Create Department"}),s.jsx("p",{className:"text-muted-foreground",children:"Add a new department to the organization"})]}),r&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:r})}),s.jsxs("form",{onSubmit:i(d),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Department Information"}),s.jsx(ot,{children:"Basic details about the department"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_name",children:["Department Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"department_name",placeholder:"e.g., Annotation, Quality Assurance, Operations",...a("department_name"),"aria-invalid":!!o.department_name}),o.department_name&&s.jsx("p",{className:"text-sm text-destructive",children:o.department_name.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be unique across all departments"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"description",children:"Description"}),s.jsx(rA,{id:"description",placeholder:"Optional description of the department's responsibilities and focus areas",rows:4,...a("description")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide additional context about this department"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>e("/departments"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:c.isPending,children:c.isPending?"Creating...":"Create Department"})]})]})]})}function vPe(){const{id:e}=eu(),t=Or(),r=jr(),[n,a]=x.useState(null),{register:i,handleSubmit:o,reset:c,formState:{errors:d}}=Do({resolver:Mo(JW)}),{data:f,isLoading:m}=Je({queryKey:["department",e],queryFn:async()=>{if(!e)throw new Error("Department ID is required");const{data:w,error:_}=await je.from("departments").select("*").eq("id",e).single();if(_)throw _;return w},enabled:!!e}),{data:p}=Je({queryKey:["department-usage",e],queryFn:async()=>{if(!e)return{teams:0,projects:0};const[w,_]=await Promise.all([je.from("teams").select("id",{count:"exact",head:!0}).eq("department_id",e),je.from("workforce_projects").select("id",{count:"exact",head:!0}).eq("department_id",e)]);return{teams:w.count||0,projects:_.count||0}},enabled:!!e});x.useEffect(()=>{f&&c({department_name:f.department_name,description:f.description||""})},[f,c]);const y=pr({mutationFn:async w=>{if(!e)throw new Error("Department ID is required");const{error:_}=await je.from("departments").update({department_name:w.department_name,description:w.description||null,updated_at:new Date().toISOString()}).eq("id",e);if(_)throw _},onSuccess:()=>{r.invalidateQueries({queryKey:["departments"]}),r.invalidateQueries({queryKey:["departments-list"]}),r.invalidateQueries({queryKey:["department",e]}),t("/departments")},onError:w=>{a(w.message||"Failed to update department")}}),g=w=>{a(null),y.mutate(w)};if(m)return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx(De,{className:"h-64 w-full"})]});if(!f)return s.jsx("div",{className:"p-6",children:s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:"Department not found"})})});const b=(p?.teams||0)>0||(p?.projects||0)>0;return s.jsxs("div",{className:"p-6 max-w-2xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(se,{variant:"ghost",onClick:()=>t("/departments"),className:"mb-2",children:[s.jsx(Za,{className:"h-4 w-4 mr-2"}),"Back to Departments"]}),s.jsx("h1",{className:"text-3xl font-bold",children:"Edit Department"}),s.jsx("p",{className:"text-muted-foreground",children:"Update department information"})]}),b&&s.jsxs(ht,{children:[s.jsx(Gi,{className:"h-4 w-4"}),s.jsxs(mt,{children:["This department has ",s.jsxs("strong",{children:[p?.teams||0," team(s)"]})," and"," ",s.jsxs("strong",{children:[p?.projects||0," project(s)"]})," assigned to it. Deletion is not allowed while resources are associated."]})]}),n&&s.jsx(ht,{variant:"destructive",children:s.jsx(mt,{children:n})}),s.jsxs("form",{onSubmit:o(g),className:"space-y-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Department Information"}),s.jsx(ot,{children:"Basic details about the department"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(_e,{htmlFor:"department_name",children:["Department Name ",s.jsx("span",{className:"text-destructive",children:"*"})]}),s.jsx(Qe,{id:"department_name",placeholder:"e.g., Annotation, Quality Assurance, Operations",...i("department_name"),"aria-invalid":!!d.department_name}),d.department_name&&s.jsx("p",{className:"text-sm text-destructive",children:d.department_name.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be unique across all departments"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{htmlFor:"description",children:"Description"}),s.jsx(rA,{id:"description",placeholder:"Optional description of the department's responsibilities and focus areas",rows:4,...i("description")}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Provide additional context about this department"})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(se,{type:"button",variant:"outline",onClick:()=>t("/departments"),children:"Cancel"}),s.jsx(se,{type:"submit",disabled:y.isPending,children:y.isPending?"Saving...":"Save Changes"})]})]})]})}const AS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,e9=/^\d{4}-\d{2}-\d{2}$/,yPe=/^\d{1,2}\/\d{1,2}\/\d{4}$/;function xPe(e){if(!e||typeof e!="string")return e;const t=e.trim();if(e9.test(t))return t;if(yPe.test(t)){const r=t.split("/"),n=r[0].padStart(2,"0"),a=r[1].padStart(2,"0");return`${r[2]}-${a}-${n}`}return t}const bPe=Rt().transform((e,t)=>{const r=xPe(e);if(!e9.test(r))return t.addIssue({code:LD.custom,message:"Invalid date format (use YYYY-MM-DD or DD/MM/YYYY)"}),pD;const[n,a,i]=r.split("-").map(Number),o=new Date(n,a-1,i);return o.getFullYear()!==n||o.getMonth()!==a-1||o.getDate()!==i?(t.addIssue({code:LD.custom,message:"Invalid date (check day/month values)"}),pD):r}),wPe=au({worker_account_email:Rt().email("Invalid email format"),project_code:Rt().min(1,"Project code is required"),work_date:bPe,locale_code:Rt().optional().nullable(),units_completed:yd().int().positive("Units must be greater than 0").optional().nullable(),hours_worked:yd().positive("Hours must be greater than 0").max(24,"Hours cannot exceed 24").optional().nullable(),earnings:yd().nonnegative("Earnings must be non-negative").optional().nullable()}),_Pe=au({worker_id:Rt().regex(AS,"Invalid worker ID format"),worker_account_id:Rt().regex(AS,"Invalid worker account ID format").optional().nullable(),project_id:Rt().regex(AS,"Invalid project ID format"),work_date:Rt().regex(/^\d{4}-\d{2}-\d{2}$/,"Invalid date format (use YYYY-MM-DD)"),units_completed:yd().int().positive("Units must be greater than 0").optional().nullable(),hours_worked:yd().positive("Hours must be greater than 0").max(24,"Hours cannot exceed 24").optional().nullable(),earnings:yd().nonnegative("Earnings must be non-negative").optional().nullable()});_Pe.extend({id:Rt().uuid().optional(),created_at:Rt().optional(),created_by:Rt().uuid().optional().nullable(),updated_at:Rt().optional(),updated_by:Rt().uuid().optional().nullable()});async function jPe(e){const{data:t,error:r}=await je.from("worker_accounts").select(`
      id,
      worker_id,
      worker_account_email,
      workers:worker_id (
        id,
        locale_primary,
        country_residence
      )
    `).eq("worker_account_email",e).eq("status","active").eq("is_current",!0).single();if(r||!t){const{data:a,error:i}=await je.from("workers").select("id, email_pph, locale_primary, country_residence").eq("email_pph",e).single();if(i||!a)return null;const{data:o}=await je.from("worker_accounts").select("id").eq("worker_id",a.id).eq("status","active").eq("is_current",!0).single();return{worker_id:a.id,worker_account_id:o?.id||"",locale_primary:a.locale_primary,country_residence:a.country_residence}}const n=t.workers;return{worker_id:t.worker_id,worker_account_id:t.id,locale_primary:n?.locale_primary||"",country_residence:n?.country_residence||""}}async function SPe(e){const{data:t,error:r}=await je.from("workforce_projects").select("id, expert_tier").eq("project_code",e).single();if(!r&&t)return{id:t.id,expert_tier:t.expert_tier};const{data:n,error:a}=await je.from("projects").select("id, name").ilike("name",`%${e}%`).limit(1).single();return!a&&n?{id:n.id,expert_tier:"standard"}:null}async function CPe(e){const{data:t,error:r}=await je.from("locale_mappings").select("standard_iso_code, locale_name").eq("client_locale_code",e).single();return r||!t?null:{standard_iso_code:t.standard_iso_code,locale_name:t.locale_name}}async function NPe(e,t,r,n){const a=r,{data:i,error:o}=await je.from("rates_payable").select("rate_per_unit, rate_per_hour, currency").eq("locale",e).eq("country",t).eq("expert_tier",a).lte("effective_from",n).or(`effective_to.is.null,effective_to.gte.${n}`).order("effective_from",{ascending:!1}).limit(1);if(!o&&i&&i.length>0)return{rate_per_unit:i[0].rate_per_unit,rate_per_hour:i[0].rate_per_hour,currency:i[0].currency};const{data:c,error:d}=await je.from("rates_payable").select("rate_per_unit, rate_per_hour, currency").eq("locale",e).eq("expert_tier",a).lte("effective_from",n).or(`effective_to.is.null,effective_to.gte.${n}`).order("effective_from",{ascending:!1}).limit(1);return!d&&c&&c.length>0?{rate_per_unit:c[0].rate_per_unit,rate_per_hour:c[0].rate_per_hour,currency:c[0].currency}:null}function EPe(e,t,r){if(!r)return null;let n=0;return e&&r.rate_per_unit&&(n+=e*r.rate_per_unit),t&&r.rate_per_hour&&!r.rate_per_unit&&(n+=t*r.rate_per_hour),n>0?Number(n.toFixed(2)):null}async function kPe(e,t){const r=[],n=await jPe(e.worker_account_email);n||r.push({row:t,field:"worker_account_email",message:`No active worker account found for email: ${e.worker_account_email}`,data:e});const a=await SPe(e.project_code);a||r.push({row:t,field:"project_code",message:`Project not found with code: ${e.project_code}`,data:e});let i=n?.locale_primary||"";if(e.locale_code){const o=await CPe(e.locale_code);o?i=o.standard_iso_code:i=e.locale_code}return r.length>0||!n||!a?{result:null,errors:r}:{result:{worker_id:n.worker_id,worker_account_id:n.worker_account_id||null,project_id:a.id,worker_locale:i,worker_country:n.country_residence,project_expert_tier:a.expert_tier},errors:[],resolvedLocale:i}}async function APe(e,t,r,n){let a=je.from("work_stats").select("*",{count:"exact",head:!0}).eq("worker_id",e).eq("project_id",t).eq("work_date",r);n&&(a=a.eq("worker_account_id",n));const{count:i,error:o}=await a;return o?(console.error("Error checking duplicate:",o),!1):(i||0)>0}function OPe(e){const t=new Date;return t.setHours(0,0,0,0),new Date(e)<=t}async function TPe(e,t,r){const n=[];return OPe(e.work_date)||n.push({row:r,field:"work_date",message:"Work date cannot be in the future",data:t}),await APe(e.worker_id,e.project_id,e.work_date,e.worker_account_id)&&n.push({row:r,field:"work_date",message:"Duplicate entry: Work stat already exists for this worker, project, and date",data:t}),n}async function RPe(e,t,r=10){let n=0,a=0;const i=[];for(let o=0;o<e.length;o+=r){const c=e.slice(o,o+r),d=c.map(p=>({worker_id:p.worker_id,worker_account_id:p.worker_account_id||null,project_id:p.project_id,work_date:p.work_date,units_completed:p.units_completed||null,hours_worked:p.hours_worked||null,earnings:p.earnings||null,created_by:t,created_at:new Date().toISOString()})),{data:f,error:m}=await je.from("work_stats").insert(d).select();m?(console.error("Batch insert error:",m),a+=c.length,c.forEach((p,y)=>{i.push({row:o+y+2,message:`Insert failed: ${m.message}`})})):n+=f?.length||0}return{successCount:n,errorCount:a,errors:i}}const R4=["worker_account_email","project_code","work_date"],PPe=["locale_code","units_completed","hours_worked","earnings"];function DPe(){const{user:e}=Sr(),{toast:t}=Ul(),r=jr(),[n,a]=x.useState(null),[i,o]=x.useState([]),[c,d]=x.useState([]),[f,m]=x.useState(!1),[p,y]=x.useState(0),[g,b]=x.useState(null),w=()=>{const R=[...R4,...PPe],T=new Date,O=new Date(T),P=Math.floor(Math.random()*170)+30,$=I=>I.toISOString().split("T")[0],M=new Date(O);M.setDate(M.getDate()-P);const L=new Date(O);L.setDate(L.getDate()-P-1);const U=new Date(O);U.setDate(U.getDate()-P-2);const X=[R.join(","),`john.doe@pph.com,VA-ENG-2024,${$(M)},en-US,150,8,200.00`,`jane.smith@pph.com,VA-ENG-2024,${$(L)},en-GB,180,8,`,`carlos.garcia@pph.com,AUD-SPA-2024,${$(U)},es-MX,100,6,150.00`].join(`
`),Y=new Blob([X],{type:"text/csv"}),F=URL.createObjectURL(Y),H=document.createElement("a");H.href=F,H.download="work_stats_import_template.csv",document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(F),t({title:"Template Downloaded",description:"CSV template downloaded successfully"})},_=()=>{if(c.length===0)return;const R=c.map(M=>({row:M.row,field:M.field||"general",message:M.message,worker_account_email:M.data?.worker_account_email||"",project_code:M.data?.project_code||"",work_date:M.data?.work_date||""})),T=P1.unparse(R),O=new Blob([T],{type:"text/csv"}),P=URL.createObjectURL(O),$=document.createElement("a");$.href=P,$.download="work_stats_import_errors.csv",document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(P),t({title:"Error Report Downloaded",description:`Downloaded error report with ${c.length} error(s)`})},j=R=>{const T=R.target.files?.[0];T&&(a(T),d([]),o([]),b(null))},N=async()=>{if(!n){t({variant:"destructive",title:"No File Selected",description:"Please select a CSV file first"});return}m(!0),d([]),o([]);try{P1.parse(n,{header:!0,skipEmptyLines:!0,complete:async R=>{try{const T=[],O=[];if(!R.data||R.data.length===0){T.push({row:0,field:"file",message:"CSV file is empty or has no data rows"}),d(T),m(!1),t({variant:"destructive",title:"Empty File",description:"The CSV file contains no data rows"});return}const P=Object.keys(R.data[0]||{}),$=R4.filter(M=>!P.includes(M));if($.length>0){T.push({row:0,field:"headers",message:`Missing required columns: ${$.join(", ")}`}),d(T),m(!1),t({variant:"destructive",title:"Missing Columns",description:`Required columns missing: ${$.join(", ")}`});return}for(let M=0;M<R.data.length;M++){const L=R.data[M],U=M+2;try{const X=wPe.parse({worker_account_email:L.worker_account_email?.trim(),project_code:L.project_code?.trim(),work_date:L.work_date?.trim(),locale_code:L.locale_code?.trim()||null,units_completed:L.units_completed?.trim()||null,hours_worked:L.hours_worked?.trim()||null,earnings:L.earnings?.trim()||null}),{result:Y,errors:F}=await kPe(X,U);if(F.length>0){T.push(...F);continue}if(!Y)continue;let H=X.earnings;if(!H&&(X.units_completed||X.hours_worked)){const ue=await NPe(Y.worker_locale,Y.worker_country,Y.project_expert_tier,X.work_date);ue&&(H=EPe(X.units_completed,X.hours_worked,ue))}const I={worker_id:Y.worker_id,worker_account_id:Y.worker_account_id,project_id:Y.project_id,work_date:X.work_date,units_completed:X.units_completed,hours_worked:X.hours_worked,earnings:H},q=await TPe(I,X,U);q.length>0?T.push(...q):O.push(I)}catch(X){X.errors&&Array.isArray(X.errors)?X.errors.forEach(Y=>{const F=Array.isArray(Y.path)?Y.path.join("."):Y.path||"unknown";T.push({row:U,field:F,message:Y.message||"Invalid value",data:L})}):X.issues&&Array.isArray(X.issues)?X.issues.forEach(Y=>{const F=Array.isArray(Y.path)?Y.path.join("."):"unknown";T.push({row:U,field:F,message:Y.message||"Invalid value",data:L})}):T.push({row:U,field:"unknown",message:typeof X.message=="string"?X.message:"Validation error",data:L})}}d(T),o(O),m(!1),T.length===0&&O.length>0?t({title:"Validation Successful",description:`${O.length} rows are valid and ready to import`}):O.length>0?t({variant:"destructive",title:"Validation Completed",description:`${O.length} valid rows, ${T.length} error(s) found`}):t({variant:"destructive",title:"Validation Failed",description:`All ${T.length} rows have errors`})}catch(T){m(!1),t({variant:"destructive",title:"Validation Error",description:T.message||"An error occurred during validation"})}},error:R=>{m(!1),t({variant:"destructive",title:"Parse Error",description:`Failed to parse CSV: ${R.message}`})}})}catch(R){m(!1),t({variant:"destructive",title:"Error",description:R.message||"An unexpected error occurred"})}},E=pr({mutationFn:async R=>{y(0);const T=await RPe(R,e?.id||null);return y(100),T},onSuccess:R=>{b({successful:R.successCount,failed:R.errorCount,errors:R.errors}),R.errorCount>0&&d(R.errors),r.invalidateQueries({queryKey:["work-stats"]}),t({title:R.errorCount===0?"Import Successful":"Import Completed with Errors",description:R.errorCount===0?`Successfully imported ${R.successCount} work stat record(s)`:`Imported ${R.successCount} record(s), ${R.errorCount} failed`,variant:R.errorCount===0?"default":"destructive"})},onError:R=>{t({variant:"destructive",title:"Import Failed",description:R.message})}}),k=()=>{i.length!==0&&E.mutate(i)},A=()=>{a(null),o([]),d([]),b(null),y(0);const R=document.getElementById("csv-upload");R&&(R.value="")};return s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Work Stats Import"}),s.jsx("p",{className:"text-muted-foreground",children:"Bulk import work statistics from CSV files"})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(Fie,{className:"h-5 w-5"}),"CSV File Upload"]}),s.jsx(ot,{children:"Download the template, fill in your work stats data, and upload the file for validation"})]}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-4",children:s.jsxs(se,{onClick:w,variant:"outline",children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Download Template"]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"csv-upload",className:"text-sm font-medium",children:"Select CSV File"}),s.jsx("input",{id:"csv-upload",type:"file",accept:".csv",onChange:j,className:`block w-full text-sm text-muted-foreground
                file:mr-4 file:py-2 file:px-4
                file:rounded-md file:border-0
                file:text-sm file:font-semibold
                file:bg-primary file:text-primary-foreground
                hover:file:bg-primary/90
                file:cursor-pointer cursor-pointer`})]}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(u1,{className:"h-4 w-4 text-green-600"}),s.jsxs("span",{children:["Selected: ",n.name]}),s.jsxs(ze,{variant:"secondary",children:[(n.size/1024).toFixed(2)," KB"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(se,{onClick:N,disabled:!n||f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Validating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(u1,{className:"mr-2 h-4 w-4"}),"Validate File"]})}),(i.length>0||c.length>0)&&s.jsx(se,{onClick:A,variant:"outline",children:"Reset"})]})]})]}),(i.length>0||c.length>0)&&s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{className:"flex items-center gap-2",children:c.length===0?s.jsxs(s.Fragment,{children:[s.jsx(c1,{className:"h-5 w-5 text-green-600"}),"Validation Successful"]}):s.jsxs(s.Fragment,{children:[s.jsx(ia,{className:"h-5 w-5 text-amber-600"}),"Validation Results"]})})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Valid Rows"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.length})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Errors"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:c.length})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Total Rows"}),s.jsx("p",{className:"text-2xl font-bold",children:i.length+c.length})]})]}),c.length>0&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{children:["Found ",c.length," validation error(s). Please fix the errors before importing.",s.jsxs(se,{variant:"outline",size:"sm",className:"ml-4",onClick:_,children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})]}),c.length>0&&c.length<=50&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"text-sm font-medium",children:"Error Details:"}),s.jsx(em,{className:"h-[300px] rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{className:"w-16",children:"Row"}),s.jsx(Te,{className:"w-32",children:"Field"}),s.jsx(Te,{children:"Error Message"})]})}),s.jsx(Yr,{children:c.slice(0,50).map((R,T)=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-mono text-sm",children:R.row}),s.jsx(Oe,{children:s.jsx(ze,{variant:"outline",className:"font-mono text-xs",children:R.field||"general"})}),s.jsx(Oe,{className:"text-sm text-muted-foreground max-w-md",children:R.message})]},T))})]})}),c.length>50&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Showing first 50 errors. Download the error report to see all errors."})]}),i.length>0&&s.jsxs("div",{className:"space-y-2",children:[c.length>0&&s.jsxs("p",{className:"text-sm text-amber-600",children:["Note: ",c.length," row(s) have errors and will be skipped. Only ",i.length," valid row(s) will be imported."]}),s.jsx(se,{onClick:k,disabled:E.isPending,className:"w-full",size:"lg",children:E.isPending?s.jsxs(s.Fragment,{children:[s.jsx(Si,{className:"mr-2 h-4 w-4 animate-spin"}),"Importing ",i.length," Record(s)..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Fc,{className:"mr-2 h-4 w-4"}),"Import ",i.length," Valid Work Stat Record(s)"]})})]}),E.isPending&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Import Progress"}),s.jsxs("span",{children:[p,"%"]})]}),s.jsx(oE,{value:p})]})]})]}),g&&s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(c1,{className:"h-5 w-5 text-green-600"}),"Import Complete"]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Successfully Imported"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.successful})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:"Failed"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:g.failed})]})]}),g.failed>0&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsxs(mt,{children:[g.failed," record(s) failed to import. Check the error details below.",s.jsxs(se,{variant:"outline",size:"sm",className:"ml-4",onClick:_,children:[s.jsx(Nl,{className:"mr-2 h-4 w-4"}),"Download Error Report"]})]})]}),s.jsx(se,{onClick:A,variant:"outline",className:"w-full",children:"Import Another File"})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Import Instructions"})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Required Columns:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"worker_account_email"})," - Worker's PPH email (e.g., john.doe@pph.com)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"project_code"})," - Project code (e.g., VA-ENG-2024)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"work_date"})," - Date in YYYY-MM-DD or DD/MM/YYYY format"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Optional Columns:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"locale_code"})," - Client locale code (will be mapped to ISO standard)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"units_completed"})," - Number of units completed"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"hours_worked"})," - Decimal hours worked (max 24)"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"earnings"})," - Decimal earnings amount (auto-calculated if not provided)"]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Auto-Calculation Features:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Locale Mapping:"})," Client locale codes are automatically mapped to ISO standard codes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Earnings Calculation:"})," If earnings is not provided, it will be auto-calculated using the rates_payable table based on worker locale, country, project tier, and work date"]}),s.jsx("li",{children:"Rate lookup uses: worker's locale + country + project expert tier + effective date"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Validation Rules:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsx("li",{children:"Worker email must match an active worker account"}),s.jsx("li",{children:"Project code must exist in the database"}),s.jsx("li",{children:"Work date cannot be in the future"}),s.jsx("li",{children:"Hours worked must be between 0 and 24"}),s.jsx("li",{children:"Duplicate entries (same worker, project, and date) are not allowed"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-medium",children:"Example Project Codes:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"VA-ENG-2024"})," - Voice Assistant Training - English"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"MED-IMG-2024"})," - Medical Image Annotation"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"AUD-SPA-2024"})," - Spanish Audio Transcription"]}),s.jsxs("li",{children:[s.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:"NLP-SENT-2024"})," - Sentiment Analysis Dataset"]})]})]})]})]})]})}function MPe(e){const t=IPe(e),r=x.forwardRef((n,a)=>{const{children:i,...o}=n,c=x.Children.toArray(i),d=c.find(LPe);if(d){const f=d.props.children,m=c.map(p=>p===d?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...o,ref:a,children:x.isValidElement(f)?x.cloneElement(f,void 0,m):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}function IPe(e){const t=x.forwardRef((r,n)=>{const{children:a,...i}=r;if(x.isValidElement(a)){const o=FPe(a),c=zPe(i,a.props);return a.type!==x.Fragment&&(c.ref=n?Rs(n,o):o),x.cloneElement(a,c)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Pe=Symbol("radix.slottable");function LPe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Pe}function zPe(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function FPe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var q0="Popover",[t9]=ua(q0,[Jd]),cp=Jd(),[UPe,Hl]=t9(q0),r9=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!1}=e,c=cp(t),d=x.useRef(null),[f,m]=x.useState(!1),[p,y]=Ns({prop:n,defaultProp:a??!1,onChange:i,caller:q0});return s.jsx(PN,{...c,children:s.jsx(UPe,{scope:t,contentId:Xi(),triggerRef:d,open:p,onOpenChange:y,onOpenToggle:x.useCallback(()=>y(g=>!g),[y]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>m(!0),[]),onCustomAnchorRemove:x.useCallback(()=>m(!1),[]),modal:o,children:r})})};r9.displayName=q0;var n9="PopoverAnchor",BPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(n9,r),i=cp(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=a;return x.useEffect(()=>(o(),()=>c()),[o,c]),s.jsx(Ox,{...i,...n,ref:t})});BPe.displayName=n9;var a9="PopoverTrigger",i9=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(a9,r),i=cp(r),o=jt(t,a.triggerRef),c=s.jsx(st.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":u9(a.open),...n,ref:o,onClick:$e(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?c:s.jsx(Ox,{asChild:!0,...i,children:c})});i9.displayName=a9;var nA="PopoverPortal",[qPe,VPe]=t9(nA,{forceMount:void 0}),s9=e=>{const{__scopePopover:t,forceMount:r,children:n,container:a}=e,i=Hl(nA,t);return s.jsx(qPe,{scope:t,forceMount:r,children:s.jsx(qn,{present:r||i.open,children:s.jsx(Pm,{asChild:!0,container:a,children:n})})})};s9.displayName=nA;var Id="PopoverContent",o9=x.forwardRef((e,t)=>{const r=VPe(Id,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,i=Hl(Id,e.__scopePopover);return s.jsx(qn,{present:n||i.open,children:i.modal?s.jsx(WPe,{...a,ref:t}):s.jsx(KPe,{...a,ref:t})})});o9.displayName=Id;var HPe=MPe("PopoverContent.RemoveScroll"),WPe=x.forwardRef((e,t)=>{const r=Hl(Id,e.__scopePopover),n=x.useRef(null),a=jt(t,n),i=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return Rx(o)},[]),s.jsx(Dm,{as:HPe,allowPinchZoom:!0,children:s.jsx(l9,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,o=>{o.preventDefault(),i.current||r.triggerRef.current?.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,f=c.button===2||d;i.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:$e(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),KPe=x.forwardRef((e,t)=>{const r=Hl(Id,e.__scopePopover),n=x.useRef(!1),a=x.useRef(!1);return s.jsx(l9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),l9=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,...p}=e,y=Hl(Id,r),g=cp(r);return Sx(),s.jsx(Tm,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Om,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>y.onOpenChange(!1),children:s.jsx(DN,{"data-state":u9(y.open),role:"dialog",id:y.contentId,...g,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),c9="PopoverClose",GPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=Hl(c9,r);return s.jsx(st.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>a.onOpenChange(!1))})});GPe.displayName=c9;var YPe="PopoverArrow",ZPe=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,a=cp(r);return s.jsx(MN,{...a,...n,ref:t})});ZPe.displayName=YPe;function u9(e){return e?"open":"closed"}var XPe=r9,QPe=i9,JPe=s9,d9=o9;const ix=XPe,sx=QPe,bm=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},a)=>s.jsx(JPe,{children:s.jsx(d9,{ref:a,align:t,sideOffset:r,className:Ie("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));bm.displayName=d9.displayName;function eDe(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const tDe={},Ch={};function Oc(e,t){try{const n=(tDe[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in Ch?Ch[n]:P4(n,n.split(":"))}catch{if(e in Ch)return Ch[e];const r=e?.match(rDe);return r?P4(e,r.slice(1)):NaN}}const rDe=/([+-]\d\d):?(\d\d)?/;function P4(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return Ch[e]=r*60+n>0?r*60+n+a:r*60-n-a}class xs extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Oc(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),f9(this),PC(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new xs(...r,t):new xs(Date.now(),t)}withTimeZone(t){return new xs(+this,t)}getTimezoneOffset(){const t=-Oc(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),PC(this),+this}[Symbol.for("constructDateFrom")](t){return new xs(+new Date(t),this.timeZone)}}const D4=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!D4.test(e))return;const t=e.replace(D4,"$1UTC");xs.prototype[t]&&(e.startsWith("get")?xs.prototype[e]=function(){return this.internal[t]()}:(xs.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),nDe(this),+this},xs.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),PC(this),+this}))});function PC(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Oc(e.timeZone,e)*60))}function nDe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),f9(e)}function f9(e){const t=Oc(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),i=-new Date(+n).getTimezoneOffset(),o=a-i,c=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();o&&c&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+o);const d=a-r;d&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const f=new Date(+e);f.setUTCSeconds(0);const m=a>0?f.getSeconds():(f.getSeconds()-60)%60,p=Math.round(-(Oc(e.timeZone,e)*60))%60;(p||m)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+p),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+p+m));const y=Oc(e.timeZone,e),g=y>0?Math.floor(y):Math.ceil(y),w=-new Date(+e).getTimezoneOffset()-g,_=g!==r,j=w-d;if(_&&j){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+j);const N=Oc(e.timeZone,e),E=N>0?Math.floor(N):Math.ceil(N),k=g-E;k&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+k),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+k))}}class Yn extends xs{static tz(t,...r){return r.length?new Yn(...r,t):new Yn(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${eDe(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new Yn(+this,t)}[Symbol.for("constructDateFrom")](t){return new Yn(+new Date(t),this.timeZone)}}const M4=5,aDe=4;function iDe(e,t){const r=t.startOfMonth(e),n=r.getDay()>0?r.getDay():7,a=t.addDays(e,-n+1),i=t.addDays(a,M4*7-1);return t.getMonth(e)===t.getMonth(i)?M4:aDe}function h9(e,t){const r=t.startOfMonth(e),n=r.getDay();return n===1?r:n===0?t.addDays(r,-6):t.addDays(r,-1*(n-1))}function sDe(e,t){const r=h9(e,t),n=iDe(e,t);return t.addDays(r,n*7-1)}class ei{constructor(t,r){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?Yn.tz(this.options.timeZone):new this.Date,this.newDate=(n,a,i)=>this.overrides?.newDate?this.overrides.newDate(n,a,i):this.options.timeZone?new Yn(n,a,i,this.options.timeZone):new Date(n,a,i),this.addDays=(n,a)=>this.overrides?.addDays?this.overrides.addDays(n,a):$N(n,a),this.addMonths=(n,a)=>this.overrides?.addMonths?this.overrides.addMonths(n,a):LN(n,a),this.addWeeks=(n,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(n,a):Que(n,a),this.addYears=(n,a)=>this.overrides?.addYears?this.overrides.addYears(n,a):Jue(n,a),this.differenceInCalendarDays=(n,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(n,a):z3(n,a),this.differenceInCalendarMonths=(n,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(n,a):U3(n,a),this.eachMonthOfInterval=n=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(n):dde(n),this.eachYearOfInterval=n=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(n):fde(n),i=new Set(a.map(c=>this.getYear(c)));if(i.size===a.length)return a;const o=[];return i.forEach(c=>{o.push(new Date(c,0,1))}),o},this.endOfBroadcastWeek=n=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(n):sDe(n,this),this.endOfISOWeek=n=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(n):hde(n),this.endOfMonth=n=>this.overrides?.endOfMonth?this.overrides.endOfMonth(n):Co(n),this.endOfWeek=(n,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(n,a):Xv(n,this.options),this.endOfYear=n=>this.overrides?.endOfYear?this.overrides.endOfYear(n):A1(n),this.format=(n,a,i)=>{const o=this.overrides?.format?this.overrides.format(n,a,this.options):Fe(n,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(o):o},this.getISOWeek=n=>this.overrides?.getISOWeek?this.overrides.getISOWeek(n):q3(n),this.getMonth=(n,a)=>this.overrides?.getMonth?this.overrides.getMonth(n,this.options):ffe(n,this.options),this.getYear=(n,a)=>this.overrides?.getYear?this.overrides.getYear(n,this.options):hfe(n,this.options),this.getWeek=(n,a)=>this.overrides?.getWeek?this.overrides.getWeek(n,this.options):H3(n,this.options),this.isAfter=(n,a)=>this.overrides?.isAfter?this.overrides.isAfter(n,a):mfe(n,a),this.isBefore=(n,a)=>this.overrides?.isBefore?this.overrides.isBefore(n,a):pfe(n,a),this.isDate=n=>this.overrides?.isDate?this.overrides.isDate(n):F3(n),this.isSameDay=(n,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(n,a):nde(n,a),this.isSameMonth=(n,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(n,a):gfe(n,a),this.isSameYear=(n,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(n,a):vfe(n,a),this.max=n=>this.overrides?.max?this.overrides.max(n):ede(n),this.min=n=>this.overrides?.min?this.overrides.min(n):tde(n),this.setMonth=(n,a)=>this.overrides?.setMonth?this.overrides.setMonth(n,a):Pfe(n,a),this.setYear=(n,a)=>this.overrides?.setYear?this.overrides.setYear(n,a):Dfe(n,a),this.startOfBroadcastWeek=(n,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(n,this):h9(n,this),this.startOfDay=n=>this.overrides?.startOfDay?this.overrides.startOfDay(n):Zh(n),this.startOfISOWeek=n=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(n):Yh(n),this.startOfMonth=n=>this.overrides?.startOfMonth?this.overrides.startOfMonth(n):_s(n),this.startOfWeek=(n,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(n,this.options):Rl(n,this.options),this.startOfYear=n=>this.overrides?.startOfYear?this.overrides.startOfYear(n):Ph(n),this.options={locale:$x,...t},this.overrides=r}getDigitMap(){const{numerals:t="latn"}=this.options,r=new Intl.NumberFormat("en-US",{numberingSystem:t}),n={};for(let a=0;a<10;a++)n[a.toString()]=r.format(a);return n}replaceDigits(t){const r=this.getDigitMap();return t.replace(/\d/g,n=>r[n]||n)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ei.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:r,timeZone:n,numerals:a}=this.options,i=r?.code;if(i&&ei.yearFirstLocales.has(i))try{return new Intl.DateTimeFormat(i,{month:"long",year:"numeric",timeZone:n,numberingSystem:a}).format(t)}catch{}const o=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,o)}}ei.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const zs=new ei;class m9{constructor(t,r,n=zs){this.date=t,this.displayMonth=r,this.outside=!!(r&&!n.isSameMonth(t,r)),this.dateLib=n}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class oDe{constructor(t,r){this.date=t,this.weeks=r}}class lDe{constructor(t,r){this.days=r,this.weekNumber=t}}function cDe(e){return re.createElement("button",{...e})}function uDe(e){return re.createElement("span",{...e})}function dDe(e){const{size:t=24,orientation:r="left",className:n}=e;return re.createElement("svg",{className:n,width:t,height:t,viewBox:"0 0 24 24"},r==="up"&&re.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),r==="down"&&re.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),r==="left"&&re.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),r==="right"&&re.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function fDe(e){const{day:t,modifiers:r,...n}=e;return re.createElement("td",{...n})}function hDe(e){const{day:t,modifiers:r,...n}=e,a=re.useRef(null);return re.useEffect(()=>{r.focused&&a.current?.focus()},[r.focused]),re.createElement("button",{ref:a,...n})}var rt;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(rt||(rt={}));var Ar;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Ar||(Ar={}));var Yi;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Yi||(Yi={}));var za;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(za||(za={}));function mDe(e){const{options:t,className:r,components:n,classNames:a,...i}=e,o=[a[rt.Dropdown],r].join(" "),c=t?.find(({value:d})=>d===i.value);return re.createElement("span",{"data-disabled":i.disabled,className:a[rt.DropdownRoot]},re.createElement(n.Select,{className:o,...i},t?.map(({value:d,label:f,disabled:m})=>re.createElement(n.Option,{key:d,value:d,disabled:m},f))),re.createElement("span",{className:a[rt.CaptionLabel],"aria-hidden":!0},c?.label,re.createElement(n.Chevron,{orientation:"down",size:18,className:a[rt.Chevron]})))}function pDe(e){return re.createElement("div",{...e})}function gDe(e){return re.createElement("div",{...e})}function vDe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return re.createElement("div",{...n},e.children)}function yDe(e){const{calendarMonth:t,displayIndex:r,...n}=e;return re.createElement("div",{...n})}function xDe(e){return re.createElement("table",{...e})}function bDe(e){return re.createElement("div",{...e})}const p9=x.createContext(void 0);function up(){const e=x.useContext(p9);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function wDe(e){const{components:t}=up();return re.createElement(t.Dropdown,{...e})}function _De(e){const{onPreviousClick:t,onNextClick:r,previousMonth:n,nextMonth:a,...i}=e,{components:o,classNames:c,labels:{labelPrevious:d,labelNext:f}}=up(),m=x.useCallback(y=>{a&&r?.(y)},[a,r]),p=x.useCallback(y=>{n&&t?.(y)},[n,t]);return re.createElement("nav",{...i},re.createElement(o.PreviousMonthButton,{type:"button",className:c[rt.PreviousMonthButton],tabIndex:n?void 0:-1,"aria-disabled":n?void 0:!0,"aria-label":d(n),onClick:p},re.createElement(o.Chevron,{disabled:n?void 0:!0,className:c[rt.Chevron],orientation:"left"})),re.createElement(o.NextMonthButton,{type:"button",className:c[rt.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":f(a),onClick:m},re.createElement(o.Chevron,{disabled:a?void 0:!0,orientation:"right",className:c[rt.Chevron]})))}function jDe(e){const{components:t}=up();return re.createElement(t.Button,{...e})}function SDe(e){return re.createElement("option",{...e})}function CDe(e){const{components:t}=up();return re.createElement(t.Button,{...e})}function NDe(e){const{rootRef:t,...r}=e;return re.createElement("div",{...r,ref:t})}function EDe(e){return re.createElement("select",{...e})}function kDe(e){const{week:t,...r}=e;return re.createElement("tr",{...r})}function ADe(e){return re.createElement("th",{...e})}function ODe(e){return re.createElement("thead",{"aria-hidden":!0},re.createElement("tr",{...e}))}function TDe(e){const{week:t,...r}=e;return re.createElement("th",{...r})}function RDe(e){return re.createElement("th",{...e})}function PDe(e){return re.createElement("tbody",{...e})}function DDe(e){const{components:t}=up();return re.createElement(t.Dropdown,{...e})}const MDe=Object.freeze(Object.defineProperty({__proto__:null,Button:cDe,CaptionLabel:uDe,Chevron:dDe,Day:fDe,DayButton:hDe,Dropdown:mDe,DropdownNav:pDe,Footer:gDe,Month:vDe,MonthCaption:yDe,MonthGrid:xDe,Months:bDe,MonthsDropdown:wDe,Nav:_De,NextMonthButton:jDe,Option:SDe,PreviousMonthButton:CDe,Root:NDe,Select:EDe,Week:kDe,WeekNumber:TDe,WeekNumberHeader:RDe,Weekday:ADe,Weekdays:ODe,Weeks:PDe,YearsDropdown:DDe},Symbol.toStringTag,{value:"Module"}));function po(e,t,r=!1,n=zs){let{from:a,to:i}=e;const{differenceInCalendarDays:o,isSameDay:c}=n;return a&&i?(o(i,a)<0&&([a,i]=[i,a]),o(t,a)>=(r?1:0)&&o(i,t)>=(r?1:0)):!r&&i?c(i,t):!r&&a?c(a,t):!1}function g9(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function aA(e){return!!(e&&typeof e=="object"&&"from"in e)}function v9(e){return!!(e&&typeof e=="object"&&"after"in e)}function y9(e){return!!(e&&typeof e=="object"&&"before"in e)}function x9(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function b9(e,t){return Array.isArray(e)&&e.every(t.isDate)}function go(e,t,r=zs){const n=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:i,isAfter:o}=r;return n.some(c=>{if(typeof c=="boolean")return c;if(r.isDate(c))return a(e,c);if(b9(c,r))return c.includes(e);if(aA(c))return po(c,e,!1,r);if(x9(c))return Array.isArray(c.dayOfWeek)?c.dayOfWeek.includes(e.getDay()):c.dayOfWeek===e.getDay();if(g9(c)){const d=i(c.before,e),f=i(c.after,e),m=d>0,p=f<0;return o(c.before,c.after)?p&&m:m||p}return v9(c)?i(e,c.after)>0:y9(c)?i(c.before,e)>0:typeof c=="function"?c(e):!1})}function IDe(e,t,r,n,a){const{disabled:i,hidden:o,modifiers:c,showOutsideDays:d,broadcastCalendar:f,today:m}=t,{isSameDay:p,isSameMonth:y,startOfMonth:g,isBefore:b,endOfMonth:w,isAfter:_}=a,j=r&&g(r),N=n&&w(n),E={[Ar.focused]:[],[Ar.outside]:[],[Ar.disabled]:[],[Ar.hidden]:[],[Ar.today]:[]},k={};for(const A of e){const{date:R,displayMonth:T}=A,O=!!(T&&!y(R,T)),P=!!(j&&b(R,j)),$=!!(N&&_(R,N)),M=!!(i&&go(R,i,a)),L=!!(o&&go(R,o,a))||P||$||!f&&!d&&O||f&&d===!1&&O,U=p(R,m??a.today());O&&E.outside.push(A),M&&E.disabled.push(A),L&&E.hidden.push(A),U&&E.today.push(A),c&&Object.keys(c).forEach(X=>{const Y=c?.[X];Y&&go(R,Y,a)&&(k[X]?k[X].push(A):k[X]=[A])})}return A=>{const R={[Ar.focused]:!1,[Ar.disabled]:!1,[Ar.hidden]:!1,[Ar.outside]:!1,[Ar.today]:!1},T={};for(const O in E){const P=E[O];R[O]=P.some($=>$===A)}for(const O in k)T[O]=k[O].some(P=>P===A);return{...R,...T}}}function $De(e,t,r={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[i])=>(r[i]?a.push(r[i]):t[Ar[i]]?a.push(t[Ar[i]]):t[Yi[i]]&&a.push(t[Yi[i]]),a),[t[rt.Day]])}function LDe(e){return{...MDe,...e}}function zDe(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([r,n])=>{r.startsWith("data-")&&(t[r]=n)}),t}function FDe(){const e={};for(const t in rt)e[rt[t]]=`rdp-${rt[t]}`;for(const t in Ar)e[Ar[t]]=`rdp-${Ar[t]}`;for(const t in Yi)e[Yi[t]]=`rdp-${Yi[t]}`;for(const t in za)e[za[t]]=`rdp-${za[t]}`;return e}function w9(e,t,r){return(r??new ei(t)).formatMonthYear(e)}const UDe=w9;function BDe(e,t,r){return(r??new ei(t)).format(e,"d")}function qDe(e,t=zs){return t.format(e,"LLLL")}function VDe(e,t,r){return(r??new ei(t)).format(e,"cccccc")}function HDe(e,t=zs){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function WDe(){return""}function _9(e,t=zs){return t.format(e,"yyyy")}const KDe=_9,GDe=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:w9,formatDay:BDe,formatMonthCaption:UDe,formatMonthDropdown:qDe,formatWeekNumber:HDe,formatWeekNumberHeader:WDe,formatWeekdayName:VDe,formatYearCaption:KDe,formatYearDropdown:_9},Symbol.toStringTag,{value:"Module"}));function YDe(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...GDe,...e}}function ZDe(e,t,r,n,a){const{startOfMonth:i,startOfYear:o,endOfYear:c,eachMonthOfInterval:d,getMonth:f}=a;return d({start:o(e),end:c(e)}).map(y=>{const g=n.formatMonthDropdown(y,a),b=f(y),w=t&&y<i(t)||r&&y>i(r)||!1;return{value:b,label:g,disabled:w}})}function XDe(e,t={},r={}){let n={...t?.[rt.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{n={...n,...r?.[a]}}),n}function QDe(e,t,r){const n=e.today(),a=t?e.startOfISOWeek(n):e.startOfWeek(n),i=[];for(let o=0;o<7;o++){const c=e.addDays(a,o);i.push(c)}return i}function JDe(e,t,r,n,a=!1){if(!e||!t)return;const{startOfYear:i,endOfYear:o,eachYearOfInterval:c,getYear:d}=n,f=i(e),m=o(t),p=c({start:f,end:m});return a&&p.reverse(),p.map(y=>{const g=r.formatYearDropdown(y,n);return{value:d(y),label:g,disabled:!1}})}function j9(e,t,r,n){let a=(n??new ei(r)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const eMe=j9;function S9(e,t,r){return(r??new ei(t)).formatMonthYear(e)}const tMe=S9;function rMe(e,t,r,n){let a=(n??new ei(r)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function nMe(e){return"Choose the Month"}function aMe(){return""}function iMe(e){return"Go to the Next Month"}function sMe(e){return"Go to the Previous Month"}function oMe(e,t,r){return(r??new ei(t)).format(e,"cccc")}function lMe(e,t){return`Week ${e}`}function cMe(e){return"Week Number"}function uMe(e){return"Choose the Year"}const dMe=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:tMe,labelDay:eMe,labelDayButton:j9,labelGrid:S9,labelGridcell:rMe,labelMonthDropdown:nMe,labelNav:aMe,labelNext:iMe,labelPrevious:sMe,labelWeekNumber:lMe,labelWeekNumberHeader:cMe,labelWeekday:oMe,labelYearDropdown:uMe},Symbol.toStringTag,{value:"Module"})),dp=e=>e instanceof HTMLElement?e:null,OS=e=>[...e.querySelectorAll("[data-animated-month]")??[]],fMe=e=>dp(e.querySelector("[data-animated-month]")),TS=e=>dp(e.querySelector("[data-animated-caption]")),RS=e=>dp(e.querySelector("[data-animated-weeks]")),hMe=e=>dp(e.querySelector("[data-animated-nav]")),mMe=e=>dp(e.querySelector("[data-animated-weekdays]"));function pMe(e,t,{classNames:r,months:n,focused:a,dateLib:i}){const o=x.useRef(null),c=x.useRef(n),d=x.useRef(!1);x.useLayoutEffect(()=>{const f=c.current;if(c.current=n,!t||!e.current||!(e.current instanceof HTMLElement)||n.length===0||f.length===0||n.length!==f.length)return;const m=i.isSameMonth(n[0].date,f[0].date),p=i.isAfter(n[0].date,f[0].date),y=p?r[za.caption_after_enter]:r[za.caption_before_enter],g=p?r[za.weeks_after_enter]:r[za.weeks_before_enter],b=o.current,w=e.current.cloneNode(!0);if(w instanceof HTMLElement?(OS(w).forEach(E=>{if(!(E instanceof HTMLElement))return;const k=fMe(E);k&&E.contains(k)&&E.removeChild(k);const A=TS(E);A&&A.classList.remove(y);const R=RS(E);R&&R.classList.remove(g)}),o.current=w):o.current=null,d.current||m||a)return;const _=b instanceof HTMLElement?OS(b):[],j=OS(e.current);if(j?.every(N=>N instanceof HTMLElement)&&_&&_.every(N=>N instanceof HTMLElement)){d.current=!0,e.current.style.isolation="isolate";const N=hMe(e.current);N&&(N.style.zIndex="1"),j.forEach((E,k)=>{const A=_[k];if(!A)return;E.style.position="relative",E.style.overflow="hidden";const R=TS(E);R&&R.classList.add(y);const T=RS(E);T&&T.classList.add(g);const O=()=>{d.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),R&&R.classList.remove(y),T&&T.classList.remove(g),E.style.position="",E.style.overflow="",E.contains(A)&&E.removeChild(A)};A.style.pointerEvents="none",A.style.position="absolute",A.style.overflow="hidden",A.setAttribute("aria-hidden","true");const P=mMe(A);P&&(P.style.opacity="0");const $=TS(A);$&&($.classList.add(p?r[za.caption_before_exit]:r[za.caption_after_exit]),$.addEventListener("animationend",O));const M=RS(A);M&&M.classList.add(p?r[za.weeks_before_exit]:r[za.weeks_after_exit]),E.insertBefore(A,E.firstChild)})}})}function gMe(e,t,r,n){const a=e[0],i=e[e.length-1],{ISOWeek:o,fixedWeeks:c,broadcastCalendar:d}=r??{},{addDays:f,differenceInCalendarDays:m,differenceInCalendarMonths:p,endOfBroadcastWeek:y,endOfISOWeek:g,endOfMonth:b,endOfWeek:w,isAfter:_,startOfBroadcastWeek:j,startOfISOWeek:N,startOfWeek:E}=n,k=d?j(a,n):o?N(a):E(a),A=d?y(i):o?g(b(i)):w(b(i)),R=m(A,k),T=p(i,a)+1,O=[];for(let M=0;M<=R;M++){const L=f(k,M);if(t&&_(L,t))break;O.push(L)}const $=(d?35:42)*T;if(c&&O.length<$){const M=$-O.length;for(let L=0;L<M;L++){const U=f(O[O.length-1],1);O.push(U)}}return O}function vMe(e){const t=[];return e.reduce((r,n)=>{const a=n.weeks.reduce((i,o)=>i.concat(o.days.slice()),t.slice());return r.concat(a.slice())},t.slice())}function yMe(e,t,r,n){const{numberOfMonths:a=1}=r,i=[];for(let o=0;o<a;o++){const c=n.addMonths(e,o);if(t&&c>t)break;i.push(c)}return i}function I4(e,t,r,n){const{month:a,defaultMonth:i,today:o=n.today(),numberOfMonths:c=1}=e;let d=a||i||o;const{differenceInCalendarMonths:f,addMonths:m,startOfMonth:p}=n;if(r&&f(r,d)<c-1){const y=-1*(c-1);d=m(r,y)}return t&&f(d,t)<0&&(d=t),p(d)}function xMe(e,t,r,n){const{addDays:a,endOfBroadcastWeek:i,endOfISOWeek:o,endOfMonth:c,endOfWeek:d,getISOWeek:f,getWeek:m,startOfBroadcastWeek:p,startOfISOWeek:y,startOfWeek:g}=n,b=e.reduce((w,_)=>{const j=r.broadcastCalendar?p(_,n):r.ISOWeek?y(_):g(_),N=r.broadcastCalendar?i(_):r.ISOWeek?o(c(_)):d(c(_)),E=t.filter(T=>T>=j&&T<=N),k=r.broadcastCalendar?35:42;if(r.fixedWeeks&&E.length<k){const T=t.filter(O=>{const P=k-E.length;return O>N&&O<=a(N,P)});E.push(...T)}const A=E.reduce((T,O)=>{const P=r.ISOWeek?f(O):m(O),$=T.find(L=>L.weekNumber===P),M=new m9(O,_,n);return $?$.days.push(M):T.push(new lDe(P,[M])),T},[]),R=new oDe(_,A);return w.push(R),w},[]);return r.reverseMonths?b.reverse():b}function bMe(e,t){let{startMonth:r,endMonth:n}=e;const{startOfYear:a,startOfDay:i,startOfMonth:o,endOfMonth:c,addYears:d,endOfYear:f,newDate:m,today:p}=t,{fromYear:y,toYear:g,fromMonth:b,toMonth:w}=e;!r&&b&&(r=b),!r&&y&&(r=t.newDate(y,0,1)),!n&&w&&(n=w),!n&&g&&(n=m(g,11,31));const _=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return r?r=o(r):y?r=m(y,0,1):!r&&_&&(r=a(d(e.today??p(),-100))),n?n=c(n):g?n=m(g,11,31):!n&&_&&(n=f(e.today??p())),[r&&i(r),n&&i(n)]}function wMe(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i=1}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,f=a?i:1,m=o(e);if(!t)return c(m,f);if(!(d(t,e)<i))return c(m,f)}function _Me(e,t,r,n){if(r.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:i}=r,{startOfMonth:o,addMonths:c,differenceInCalendarMonths:d}=n,f=a?i??1:1,m=o(e);if(!t)return c(m,-f);if(!(d(m,t)<=0))return c(m,-f)}function jMe(e){const t=[];return e.reduce((r,n)=>r.concat(n.weeks.slice()),t.slice())}function V0(e,t){const[r,n]=x.useState(e);return[t===void 0?r:t,n]}function SMe(e,t){const[r,n]=bMe(e,t),{startOfMonth:a,endOfMonth:i}=t,o=I4(e,r,n,t),[c,d]=V0(o,e.month?o:void 0);x.useEffect(()=>{const R=I4(e,r,n,t);d(R)},[e.timeZone]);const f=yMe(c,n,e,t),m=gMe(f,e.endMonth?i(e.endMonth):void 0,e,t),p=xMe(f,m,e,t),y=jMe(p),g=vMe(p),b=_Me(c,r,e,t),w=wMe(c,n,e,t),{disableNavigation:_,onMonthChange:j}=e,N=R=>y.some(T=>T.days.some(O=>O.isEqualTo(R))),E=R=>{if(_)return;let T=a(R);r&&T<a(r)&&(T=a(r)),n&&T>a(n)&&(T=a(n)),d(T),j?.(T)};return{months:p,weeks:y,days:g,navStart:r,navEnd:n,previousMonth:b,nextMonth:w,goToMonth:E,goToDay:R=>{N(R)||E(R.date)}}}var hs;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(hs||(hs={}));function $4(e){return!e[Ar.disabled]&&!e[Ar.hidden]&&!e[Ar.outside]}function CMe(e,t,r,n){let a,i=-1;for(const o of e){const c=t(o);$4(c)&&(c[Ar.focused]&&i<hs.FocusedModifier?(a=o,i=hs.FocusedModifier):n?.isEqualTo(o)&&i<hs.LastFocused?(a=o,i=hs.LastFocused):r(o.date)&&i<hs.Selected?(a=o,i=hs.Selected):c[Ar.today]&&i<hs.Today&&(a=o,i=hs.Today))}return a||(a=e.find(o=>$4(t(o)))),a}function NMe(e,t,r,n,a,i,o){const{ISOWeek:c,broadcastCalendar:d}=i,{addDays:f,addMonths:m,addWeeks:p,addYears:y,endOfBroadcastWeek:g,endOfISOWeek:b,endOfWeek:w,max:_,min:j,startOfBroadcastWeek:N,startOfISOWeek:E,startOfWeek:k}=o;let R={day:f,week:p,month:m,year:y,startOfWeek:T=>d?N(T,o):c?E(T):k(T),endOfWeek:T=>d?g(T):c?b(T):w(T)}[e](r,t==="after"?1:-1);return t==="before"&&n?R=_([n,R]):t==="after"&&a&&(R=j([a,R])),R}function C9(e,t,r,n,a,i,o,c=0){if(c>365)return;const d=NMe(e,t,r.date,n,a,i,o),f=!!(i.disabled&&go(d,i.disabled,o)),m=!!(i.hidden&&go(d,i.hidden,o)),p=d,y=new m9(d,p,o);return!f&&!m?y:C9(e,t,y,n,a,i,o,c+1)}function EMe(e,t,r,n,a){const{autoFocus:i}=e,[o,c]=x.useState(),d=CMe(t.days,r,n||(()=>!1),o),[f,m]=x.useState(i?d:void 0);return{isFocusTarget:w=>!!d?.isEqualTo(w),setFocused:m,focused:f,blur:()=>{c(f),m(void 0)},moveFocus:(w,_)=>{if(!f)return;const j=C9(w,_,f,t.navStart,t.navEnd,e,a);j&&(e.disableNavigation&&!t.days.some(E=>E.isEqualTo(j))||(t.goToDay(j),m(j)))}}}function kMe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=V0(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t,f=g=>c?.some(b=>d(b,g))??!1,{min:m,max:p}=e;return{selected:c,select:(g,b,w)=>{let _=[...c??[]];if(f(g)){if(c?.length===m||n&&c?.length===1)return;_=c?.filter(j=>!d(j,g))}else c?.length===p?_=[g]:_=[..._,g];return a||o(_),a?.(_,g,b,w),_},isSelected:f}}function AMe(e,t,r=0,n=0,a=!1,i=zs){const{from:o,to:c}=t||{},{isSameDay:d,isAfter:f,isBefore:m}=i;let p;if(!o&&!c)p={from:e,to:r>0?void 0:e};else if(o&&!c)d(o,e)?r===0?p={from:o,to:e}:a?p={from:o,to:void 0}:p=void 0:m(e,o)?p={from:e,to:o}:p={from:o,to:e};else if(o&&c)if(d(o,e)&&d(c,e))a?p={from:o,to:c}:p=void 0;else if(d(o,e))p={from:o,to:r>0?void 0:e};else if(d(c,e))p={from:e,to:r>0?void 0:e};else if(m(e,o))p={from:e,to:c};else if(f(e,o))p={from:o,to:e};else if(f(e,c))p={from:o,to:e};else throw new Error("Invalid range");if(p?.from&&p?.to){const y=i.differenceInCalendarDays(p.to,p.from);n>0&&y>n?p={from:e,to:void 0}:r>1&&y<r&&(p={from:e,to:void 0})}return p}function OMe(e,t,r=zs){const n=Array.isArray(t)?t:[t];let a=e.from;const i=r.differenceInCalendarDays(e.to,e.from),o=Math.min(i,6);for(let c=0;c<=o;c++){if(n.includes(a.getDay()))return!0;a=r.addDays(a,1)}return!1}function L4(e,t,r=zs){return po(e,t.from,!1,r)||po(e,t.to,!1,r)||po(t,e.from,!1,r)||po(t,e.to,!1,r)}function TMe(e,t,r=zs){const n=Array.isArray(t)?t:[t];if(n.filter(c=>typeof c!="function").some(c=>typeof c=="boolean"?c:r.isDate(c)?po(e,c,!1,r):b9(c,r)?c.some(d=>po(e,d,!1,r)):aA(c)?c.from&&c.to?L4(e,{from:c.from,to:c.to},r):!1:x9(c)?OMe(e,c.dayOfWeek,r):g9(c)?r.isAfter(c.before,c.after)?L4(e,{from:r.addDays(c.after,1),to:r.addDays(c.before,-1)},r):go(e.from,c,r)||go(e.to,c,r):v9(c)||y9(c)?go(e.from,c,r)||go(e.to,c,r):!1))return!0;const o=n.filter(c=>typeof c=="function");if(o.length){let c=e.from;const d=r.differenceInCalendarDays(e.to,e.from);for(let f=0;f<=d;f++){if(o.some(m=>m(c)))return!0;c=r.addDays(c,1)}}return!1}function RMe(e,t){const{disabled:r,excludeDisabled:n,selected:a,required:i,onSelect:o}=e,[c,d]=V0(a,o?a:void 0),f=o?a:c;return{selected:f,select:(y,g,b)=>{const{min:w,max:_}=e,j=y?AMe(y,f,w,_,i,t):void 0;return n&&r&&j?.from&&j.to&&TMe({from:j.from,to:j.to},r,t)&&(j.from=y,j.to=void 0),o||d(j),o?.(j,y,g,b),j},isSelected:y=>f&&po(f,y,!1,t)}}function PMe(e,t){const{selected:r,required:n,onSelect:a}=e,[i,o]=V0(r,a?r:void 0),c=a?r:i,{isSameDay:d}=t;return{selected:c,select:(p,y,g)=>{let b=p;return!n&&c&&c&&d(p,c)&&(b=void 0),a||o(b),a?.(b,p,y,g),b},isSelected:p=>c?d(c,p):!1}}function DMe(e,t){const r=PMe(e,t),n=kMe(e,t),a=RMe(e,t);switch(e.mode){case"single":return r;case"multiple":return n;case"range":return a;default:return}}function MMe(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new Yn(t.today,t.timeZone)),t.month&&(t.month=new Yn(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new Yn(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new Yn(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new Yn(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new Yn(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(xt=>new Yn(xt,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new Yn(t.selected.from,t.timeZone):void 0,to:t.selected.to?new Yn(t.selected.to,t.timeZone):void 0}));const{components:r,formatters:n,labels:a,dateLib:i,locale:o,classNames:c}=x.useMemo(()=>{const xt={...$x,...t.locale};return{dateLib:new ei({locale:xt,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:LDe(t.components),formatters:YDe(t.formatters),labels:{...dMe,...t.labels},locale:xt,classNames:{...FDe(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:d,mode:f,navLayout:m,numberOfMonths:p=1,onDayBlur:y,onDayClick:g,onDayFocus:b,onDayKeyDown:w,onDayMouseEnter:_,onDayMouseLeave:j,onNextClick:N,onPrevClick:E,showWeekNumber:k,styles:A}=t,{formatCaption:R,formatDay:T,formatMonthDropdown:O,formatWeekNumber:P,formatWeekNumberHeader:$,formatWeekdayName:M,formatYearDropdown:L}=n,U=SMe(t,i),{days:X,months:Y,navStart:F,navEnd:H,previousMonth:I,nextMonth:q,goToMonth:ue}=U,B=IDe(X,t,F,H,i),{isSelected:Q,select:V,selected:ae}=DMe(t,i)??{},{blur:Z,focused:ne,isFocusTarget:ee,moveFocus:pe,setFocused:G}=EMe(t,U,B,Q??(()=>!1),i),{labelDayButton:ge,labelGridcell:ye,labelGrid:le,labelMonthDropdown:Be,labelNav:Le,labelPrevious:et,labelNext:qe,labelWeekday:Tt,labelWeekNumber:Et,labelWeekNumberHeader:St,labelYearDropdown:W}=a,ie=x.useMemo(()=>QDe(i,t.ISOWeek),[i,t.ISOWeek]),de=f!==void 0||g!==void 0,Re=x.useCallback(()=>{I&&(ue(I),E?.(I))},[I,ue,E]),be=x.useCallback(()=>{q&&(ue(q),N?.(q))},[ue,q,N]),Ee=x.useCallback((xt,zt)=>ft=>{ft.preventDefault(),ft.stopPropagation(),G(xt),V?.(xt.date,zt,ft),g?.(xt.date,zt,ft)},[V,g,G]),Pe=x.useCallback((xt,zt)=>ft=>{G(xt),b?.(xt.date,zt,ft)},[b,G]),lt=x.useCallback((xt,zt)=>ft=>{Z(),y?.(xt.date,zt,ft)},[Z,y]),yt=x.useCallback((xt,zt)=>ft=>{const Bt={ArrowLeft:[ft.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[ft.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[ft.shiftKey?"year":"week","after"],ArrowUp:[ft.shiftKey?"year":"week","before"],PageUp:[ft.shiftKey?"year":"month","before"],PageDown:[ft.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Bt[ft.key]){ft.preventDefault(),ft.stopPropagation();const[Br,kt]=Bt[ft.key];pe(Br,kt)}w?.(xt.date,zt,ft)},[pe,w,t.dir]),vr=x.useCallback((xt,zt)=>ft=>{_?.(xt.date,zt,ft)},[_]),dn=x.useCallback((xt,zt)=>ft=>{j?.(xt.date,zt,ft)},[j]),Rr=x.useCallback(xt=>zt=>{const ft=Number(zt.target.value),Bt=i.setMonth(i.startOfMonth(xt),ft);ue(Bt)},[i,ue]),Nr=x.useCallback(xt=>zt=>{const ft=Number(zt.target.value),Bt=i.setYear(i.startOfMonth(xt),ft);ue(Bt)},[i,ue]),{className:fn,style:yr}=x.useMemo(()=>({className:[c[rt.Root],t.className].filter(Boolean).join(" "),style:{...A?.[rt.Root],...t.style}}),[c,t.className,t.style,A]),Jn=zDe(t),Pr=x.useRef(null);pMe(Pr,!!t.animate,{classNames:c,months:Y,focused:ne,dateLib:i});const Wl={dayPickerProps:t,selected:ae,select:V,isSelected:Q,months:Y,nextMonth:q,previousMonth:I,goToMonth:ue,getModifiers:B,components:r,classNames:c,styles:A,labels:a,formatters:n};return re.createElement(p9.Provider,{value:Wl},re.createElement(r.Root,{rootRef:t.animate?Pr:void 0,className:fn,style:yr,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...Jn},re.createElement(r.Months,{className:c[rt.Months],style:A?.[rt.Months]},!t.hideNavigation&&!m&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[rt.Nav],style:A?.[rt.Nav],"aria-label":Le(),onPreviousClick:Re,onNextClick:be,previousMonth:I,nextMonth:q}),Y.map((xt,zt)=>re.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:c[rt.Month],style:A?.[rt.Month],key:zt,displayIndex:zt,calendarMonth:xt},m==="around"&&!t.hideNavigation&&zt===0&&re.createElement(r.PreviousMonthButton,{type:"button",className:c[rt.PreviousMonthButton],tabIndex:I?void 0:-1,"aria-disabled":I?void 0:!0,"aria-label":et(I),onClick:Re,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:I?void 0:!0,className:c[rt.Chevron],orientation:t.dir==="rtl"?"right":"left"})),re.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:c[rt.MonthCaption],style:A?.[rt.MonthCaption],calendarMonth:xt,displayIndex:zt},d?.startsWith("dropdown")?re.createElement(r.DropdownNav,{className:c[rt.Dropdowns],style:A?.[rt.Dropdowns]},(()=>{const ft=d==="dropdown"||d==="dropdown-months"?re.createElement(r.MonthsDropdown,{key:"month",className:c[rt.MonthsDropdown],"aria-label":Be(),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Rr(xt.date),options:ZDe(xt.date,F,H,n,i),style:A?.[rt.Dropdown],value:i.getMonth(xt.date)}):re.createElement("span",{key:"month"},O(xt.date,i)),Bt=d==="dropdown"||d==="dropdown-years"?re.createElement(r.YearsDropdown,{key:"year",className:c[rt.YearsDropdown],"aria-label":W(i.options),classNames:c,components:r,disabled:!!t.disableNavigation,onChange:Nr(xt.date),options:JDe(F,H,n,i,!!t.reverseYears),style:A?.[rt.Dropdown],value:i.getYear(xt.date)}):re.createElement("span",{key:"year"},L(xt.date,i));return i.getMonthYearOrder()==="year-first"?[Bt,ft]:[ft,Bt]})(),re.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},R(xt.date,i.options,i))):re.createElement(r.CaptionLabel,{className:c[rt.CaptionLabel],role:"status","aria-live":"polite"},R(xt.date,i.options,i))),m==="around"&&!t.hideNavigation&&zt===p-1&&re.createElement(r.NextMonthButton,{type:"button",className:c[rt.NextMonthButton],tabIndex:q?void 0:-1,"aria-disabled":q?void 0:!0,"aria-label":qe(q),onClick:be,"data-animated-button":t.animate?"true":void 0},re.createElement(r.Chevron,{disabled:q?void 0:!0,className:c[rt.Chevron],orientation:t.dir==="rtl"?"left":"right"})),zt===p-1&&m==="after"&&!t.hideNavigation&&re.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:c[rt.Nav],style:A?.[rt.Nav],"aria-label":Le(),onPreviousClick:Re,onNextClick:be,previousMonth:I,nextMonth:q}),re.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":le(xt.date,i.options,i)||void 0,className:c[rt.MonthGrid],style:A?.[rt.MonthGrid]},!t.hideWeekdays&&re.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:c[rt.Weekdays],style:A?.[rt.Weekdays]},k&&re.createElement(r.WeekNumberHeader,{"aria-label":St(i.options),className:c[rt.WeekNumberHeader],style:A?.[rt.WeekNumberHeader],scope:"col"},$()),ie.map(ft=>re.createElement(r.Weekday,{"aria-label":Tt(ft,i.options,i),className:c[rt.Weekday],key:String(ft),style:A?.[rt.Weekday],scope:"col"},M(ft,i.options,i)))),re.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:c[rt.Weeks],style:A?.[rt.Weeks]},xt.weeks.map(ft=>re.createElement(r.Week,{className:c[rt.Week],key:ft.weekNumber,style:A?.[rt.Week],week:ft},k&&re.createElement(r.WeekNumber,{week:ft,style:A?.[rt.WeekNumber],"aria-label":Et(ft.weekNumber,{locale:o}),className:c[rt.WeekNumber],scope:"row",role:"rowheader"},P(ft.weekNumber,i)),ft.days.map(Bt=>{const{date:Br}=Bt,kt=B(Bt);if(kt[Ar.focused]=!kt.hidden&&!!ne?.isEqualTo(Bt),kt[Yi.selected]=Q?.(Br)||kt.selected,aA(ae)){const{from:Jr,to:ai}=ae;kt[Yi.range_start]=!!(Jr&&ai&&i.isSameDay(Br,Jr)),kt[Yi.range_end]=!!(Jr&&ai&&i.isSameDay(Br,ai)),kt[Yi.range_middle]=po(ae,Br,!0,i)}const pt=XDe(kt,A,t.modifiersStyles),or=$De(kt,c,t.modifiersClassNames),Qr=!de&&!kt.hidden?ye(Br,kt,i.options,i):void 0;return re.createElement(r.Day,{key:`${i.format(Br,"yyyy-MM-dd")}_${i.format(Bt.displayMonth,"yyyy-MM")}`,day:Bt,modifiers:kt,className:or.join(" "),style:pt,role:"gridcell","aria-selected":kt.selected||void 0,"aria-label":Qr,"data-day":i.format(Br,"yyyy-MM-dd"),"data-month":Bt.outside?i.format(Br,"yyyy-MM"):void 0,"data-selected":kt.selected||void 0,"data-disabled":kt.disabled||void 0,"data-hidden":kt.hidden||void 0,"data-outside":Bt.outside||void 0,"data-focused":kt.focused||void 0,"data-today":kt.today||void 0},!kt.hidden&&de?re.createElement(r.DayButton,{className:c[rt.DayButton],style:A?.[rt.DayButton],type:"button",day:Bt,modifiers:kt,disabled:kt.disabled||void 0,tabIndex:ee(Bt)?0:-1,"aria-label":ge(Br,kt,i.options,i),onClick:Ee(Bt,kt),onBlur:lt(Bt,kt),onFocus:Pe(Bt,kt),onKeyDown:yt(Bt,kt),onMouseEnter:vr(Bt,kt),onMouseLeave:dn(Bt,kt)},T(Br,i.options,i)):!kt.hidden&&T(Bt.date,i.options,i))})))))))),t.footer&&re.createElement(r.Footer,{className:c[rt.Footer],style:A?.[rt.Footer],role:"status","aria-live":"polite"},t.footer)))}function wm({className:e,classNames:t,showOutsideDays:r=!0,...n}){return s.jsx(MMe,{showOutsideDays:r,className:Ie("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",month_caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",button_previous:Ie(xd({variant:"outline"}),"absolute left-1 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),button_next:Ie(xd({variant:"outline"}),"absolute right-1 h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),month_grid:"w-full border-collapse space-y-1",weekdays:"flex",weekday:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem] text-center",week:"flex w-full mt-2",day:"h-9 w-9 text-center text-sm p-0 relative",day_button:Ie(xd({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100 hover:bg-accent hover:text-accent-foreground"),selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground rounded-md",today:"bg-accent text-accent-foreground rounded-md",outside:"text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",disabled:"text-muted-foreground opacity-50",range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",hidden:"invisible",...t},components:{Chevron:({orientation:a})=>{const i=a==="left"?_x:km;return s.jsx(i,{className:"h-4 w-4"})}},...n})}wm.displayName="Calendar";function IMe(){const e=Or(),[t,r]=x.useState([{id:"work_date",desc:!0}]),[n,a]=x.useState(Un(new Date,30)),[i,o]=x.useState(new Date),[c,d]=x.useState("all"),[f,m]=x.useState("all"),{data:p}=Je({queryKey:["workers-dropdown"],queryFn:async()=>{const{data:M,error:L}=await je.from("workers").select("id, hr_id, full_name").order("full_name");if(L)throw L;return M}}),{data:y}=Je({queryKey:["projects-dropdown"],queryFn:async()=>{const{data:M,error:L}=await je.from("projects").select("id, name").order("name");if(L)throw L;return M}}),{data:g,isLoading:b,isError:w,error:_,refetch:j}=Je({queryKey:["work-stats",n,i,c,f],queryFn:async()=>{let M=je.from("work_stats").select(`
          id,
          worker_id,
          worker_account_id,
          project_id,
          work_date,
          units_completed,
          hours_worked,
          earnings,
          created_at,
          created_by,
          worker:workers!work_stats_worker_id_fkey(id, hr_id, full_name),
          project:projects!work_stats_project_id_fkey(id, name)
        `).order("work_date",{ascending:!1});n&&(M=M.gte("work_date",Fe(n,"yyyy-MM-dd"))),i&&(M=M.lte("work_date",Fe(i,"yyyy-MM-dd"))),c&&c!=="all"&&(M=M.eq("worker_id",c)),f&&f!=="all"&&(M=M.eq("project_id",f));const{data:L,error:U}=await M;if(U)throw U;return L}}),N=x.useMemo(()=>{if(!g||g.length===0)return{totalRecords:0,totalUnits:0,totalHours:0,totalEarnings:0,avgUnitsPerDay:0,avgHoursPerDay:0,activeWorkers:0};const M=g.reduce((F,H)=>F+(H.units_completed||0),0),L=g.reduce((F,H)=>F+(H.hours_worked||0),0),U=g.reduce((F,H)=>F+(H.earnings||0),0),X=new Set(g.map(F=>F.work_date)).size,Y=new Set(g.map(F=>F.worker_id)).size;return{totalRecords:g.length,totalUnits:M,totalHours:L,totalEarnings:U,avgUnitsPerDay:X>0?Math.round(M/X):0,avgHoursPerDay:X>0?(L/X).toFixed(1):"0",activeWorkers:Y}},[g]),E=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach(L=>{const U=L.work_date;M[U]=(M[U]||0)+(L.earnings||0)}),Object.entries(M).sort(([L],[U])=>L.localeCompare(U)).map(([L,U])=>({date:Fe(K3(L),"MMM d"),fullDate:L,earnings:Number(U.toFixed(2))}))},[g]),k=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach(L=>{const U=L.project_id,X=L.project?.name||"Unknown Project";M[U]||(M[U]={name:X,units:0,hours:0}),M[U].units+=L.units_completed||0,M[U].hours+=L.hours_worked||0}),Object.values(M).sort((L,U)=>U.units-L.units).slice(0,5)},[g]),A=x.useMemo(()=>{if(!g||g.length===0)return[];const M={};return g.forEach(L=>{const U=L.worker_id,X=L.worker?.full_name||"Unknown Worker",Y=L.worker?.hr_id||"";M[U]||(M[U]={name:X,hrId:Y,earnings:0,units:0,hours:0}),M[U].earnings+=L.earnings||0,M[U].units+=L.units_completed||0,M[U].hours+=L.hours_worked||0}),Object.entries(M).map(([L,U])=>({id:L,...U})).sort((L,U)=>U.earnings-L.earnings).slice(0,10)},[g]),R=x.useMemo(()=>[{accessorKey:"work_date",header:"Date",cell:({row:M})=>Fe(new Date(M.original.work_date),"MMM d, yyyy")},{accessorKey:"worker",header:"Worker",cell:({row:M})=>{const L=M.original.worker;return L?s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:L.full_name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:L.hr_id})]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"project",header:"Project",cell:({row:M})=>{const L=M.original.project;return L?s.jsx("span",{children:L.name}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"units_completed",header:"Units",cell:({row:M})=>{const L=M.original.units_completed;return L!==null?s.jsx(ze,{variant:"secondary",children:L.toLocaleString()}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"hours_worked",header:"Hours",cell:({row:M})=>{const L=M.original.hours_worked;return L!==null?s.jsxs("span",{children:[L.toFixed(1),"h"]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"earnings",header:"Earnings",cell:({row:M})=>{const L=M.original.earnings;return L!==null?s.jsxs("span",{className:"font-medium",children:["$",L.toFixed(2)]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}},{accessorKey:"created_at",header:"Imported",cell:({row:M})=>Fe(new Date(M.original.created_at),"MMM d, yyyy")}],[]),T=Yd({data:g||[],columns:R,state:{sorting:t},onSortingChange:r,getCoreRowModel:Wd(),getSortedRowModel:Gd(),getPaginationRowModel:Kd(),getFilteredRowModel:Am(),initialState:{pagination:{pageSize:20}}}),O=()=>{a(Un(new Date,30)),o(new Date),d("all"),m("all")},P=M=>{const L=new Date;switch(M){case"today":a(L),o(L);break;case"last7":a(Un(L,7)),o(L);break;case"last30":a(Un(L,30)),o(L);break;case"last90":a(Un(L,90)),o(L);break;case"thisMonth":a(_s(L)),o(Co(L));break;case"lastMonth":const U=Qv(L,1);a(_s(U)),o(Co(U));break;case"allTime":a(void 0),o(void 0);break}},$=c!=="all"||f!=="all"||n&&Fe(n,"yyyy-MM-dd")!==Fe(Un(new Date,30),"yyyy-MM-dd")||i&&Fe(i,"yyyy-MM-dd")!==Fe(new Date,"yyyy-MM-dd");return b?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((M,L)=>s.jsx(De,{className:"h-24"},L))}),s.jsx(De,{className:"h-96"})]}):w?s.jsx("div",{className:"container mx-auto py-6",children:s.jsx(ht,{variant:"destructive",children:s.jsxs(mt,{children:["Failed to load work stats: ",_?.message||"Unknown error"]})})}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Work Stats"}),s.jsx("p",{className:"text-muted-foreground",children:"View and manage worker productivity statistics"})]}),s.jsxs(se,{onClick:()=>e("/stats/import"),children:[s.jsx(Fc,{className:"mr-2 h-4 w-4"}),"Import Stats"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Active Workers"}),s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.activeWorkers.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.totalRecords," records in period"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Units"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N.totalUnits.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",N.avgUnitsPerDay," per day"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(Hh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[N.totalHours.toFixed(1),"h"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",N.avgHoursPerDay,"h per day"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Earnings"}),s.jsx(fo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",N.totalEarnings.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all workers"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5"}),"Earnings Over Time"]}),s.jsx(ot,{children:"Daily earnings in selected period"})]}),s.jsx(Ne,{children:E.length>0?s.jsx(Cy,{width:"100%",height:300,children:s.jsxs(vW,{data:E,children:[s.jsx(gm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ym,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(xm,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:M=>`$${M}`}),s.jsx(Gy,{formatter:M=>[`$${M.toFixed(2)}`,"Earnings"],labelFormatter:M=>`Date: ${M}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Kk,{type:"monotone",dataKey:"earnings",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2},activeDot:{r:6}})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No earnings data available"})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(Ed,{className:"h-5 w-5"}),"Units by Project"]}),s.jsx(ot,{children:"Top 5 projects by units completed"})]}),s.jsx(Ne,{children:k.length>0?s.jsx(Cy,{width:"100%",height:300,children:s.jsxs(vRe,{data:k,layout:"vertical",children:[s.jsx(gm,{strokeDasharray:"3 3",className:"stroke-muted",horizontal:!0,vertical:!1}),s.jsx(ym,{type:"number",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(xm,{type:"category",dataKey:"name",tick:{fontSize:11},tickLine:!1,axisLine:!1,width:150}),s.jsx(Gy,{formatter:(M,L)=>[M.toLocaleString(),L==="units"?"Units":"Hours"],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(iW,{dataKey:"units",fill:"hsl(var(--primary))",radius:[0,4,4,0]})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:"No project data available"})})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(S_,{className:"h-5 w-5 text-yellow-500"}),"Top Earners"]}),s.jsx(ot,{children:"Workers ranked by earnings in selected period"})]}),s.jsx(Ne,{children:A.length>0?s.jsx("div",{className:"space-y-3",children:A.map((M,L)=>{const U=X=>{switch(X){case 0:return s.jsx(S_,{className:"h-5 w-5 text-yellow-500"});case 1:return s.jsx(ase,{className:"h-5 w-5 text-gray-400"});case 2:return s.jsx(uie,{className:"h-5 w-5 text-amber-600"});default:return s.jsx("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-medium text-muted-foreground",children:X+1})}};return s.jsxs("div",{className:Ie("flex items-center justify-between p-3 rounded-lg border",L===0&&"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20 dark:border-yellow-800",L===1&&"bg-gray-50 border-gray-200 dark:bg-gray-900/20 dark:border-gray-700",L===2&&"bg-amber-50 border-amber-200 dark:bg-amber-950/20 dark:border-amber-800",L>2&&"bg-muted/30"),children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex items-center justify-center w-8",children:U(L)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:M.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:M.hrId})]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-right",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Units"}),s.jsx("div",{className:"font-medium",children:M.units.toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Hours"}),s.jsxs("div",{className:"font-medium",children:[M.hours.toFixed(1),"h"]})]}),s.jsxs("div",{className:"min-w-[80px]",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Earnings"}),s.jsxs("div",{className:"font-bold text-green-600 dark:text-green-400",children:["$",M.earnings.toFixed(2)]})]})]})]},M.id)})}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[s.jsx(S_,{className:"h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{children:"No earner data available"})]})})]}),s.jsxs(Ce,{children:[s.jsx(ke,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ae,{className:"text-base",children:"Filters"}),$&&s.jsxs(se,{variant:"ghost",size:"sm",onClick:O,children:[s.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Clear Filters"]})]})}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("today"),children:"Today"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last7"),children:"Last 7 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last30"),children:"Last 30 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("last90"),children:"Last 90 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("thisMonth"),children:"This Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("lastMonth"),children:"Last Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>P("allTime"),children:"All Time"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"From Date"}),s.jsxs(ix,{children:[s.jsx(sx,{asChild:!0,children:s.jsxs(se,{variant:"outline",className:Ie("w-full justify-start text-left font-normal",!n&&"text-muted-foreground"),children:[s.jsx(_o,{className:"mr-2 h-4 w-4"}),n?Fe(n,"MMM d, yyyy"):s.jsx("span",{children:"Select start date"})]})}),s.jsx(bm,{className:"w-auto p-0",align:"start",children:s.jsx(wm,{mode:"single",selected:n,onSelect:a,disabled:M=>i?M>i:!1,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"To Date"}),s.jsxs(ix,{children:[s.jsx(sx,{asChild:!0,children:s.jsxs(se,{variant:"outline",className:Ie("w-full justify-start text-left font-normal",!i&&"text-muted-foreground"),children:[s.jsx(_o,{className:"mr-2 h-4 w-4"}),i?Fe(i,"MMM d, yyyy"):s.jsx("span",{children:"Select end date"})]})}),s.jsx(bm,{className:"w-auto p-0",align:"start",children:s.jsx(wm,{mode:"single",selected:i,onSelect:o,disabled:M=>n?M<n:!1,initialFocus:!0})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Worker"}),s.jsxs(Ct,{value:c,onValueChange:d,children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"All Workers"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Workers"}),p?.map(M=>s.jsx(Me,{value:M.id,children:M.full_name},M.id))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_e,{children:"Project"}),s.jsxs(Ct,{value:f,onValueChange:m,children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"All Projects"})}),s.jsxs(_t,{children:[s.jsx(Me,{value:"all",children:"All Projects"}),y?.map(M=>s.jsx(Me,{value:M.id,children:M.name},M.id))]})]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Work Stats History"}),s.jsxs(ot,{children:["Showing ",g?.length||0," records"]})]}),s.jsx(Ne,{children:g&&g.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:T.getHeaderGroups().map(M=>s.jsx(vt,{children:M.headers.map(L=>s.jsx(Te,{children:L.isPlaceholder?null:Ei(L.column.columnDef.header,L.getContext())},L.id))},M.id))}),s.jsx(Yr,{children:T.getRowModel().rows.map(M=>s.jsx(vt,{children:M.getVisibleCells().map(L=>s.jsx(Oe,{children:Ei(L.column.columnDef.cell,L.getContext())},L.id))},M.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",T.getState().pagination.pageIndex*T.getState().pagination.pageSize+1," to"," ",Math.min((T.getState().pagination.pageIndex+1)*T.getState().pagination.pageSize,g.length)," ","of ",g.length," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>T.previousPage(),disabled:!T.getCanPreviousPage(),children:[s.jsx(_x,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>T.nextPage(),disabled:!T.getCanNextPage(),children:["Next",s.jsx(km,{className:"h-4 w-4"})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Ed,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No work stats found"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:$?"Try adjusting your filters or import some stats.":"Get started by importing work stats from a CSV file."}),s.jsxs(se,{onClick:()=>e("/stats/import"),children:[s.jsx(Fc,{className:"mr-2 h-4 w-4"}),"Import Stats"]})]})})]})]})}function $Me(){const{user:e}=Sr(),[t,r]=x.useState(Un(new Date,30)),[n,a]=x.useState(new Date),[i,o]=x.useState(0),c=10,{data:d,isLoading:f}=Je({queryKey:["my-worker-profile",e?.email],queryFn:async()=>{if(!e?.email)return null;const{data:k,error:A}=await je.from("workers").select("id, hr_id, full_name, email_personal, email_pph, status, hire_date").or(`email_personal.eq.${e.email},email_pph.eq.${e.email}`).single();return A?(console.error("Error finding linked worker:",A),null):k},enabled:!!e?.email}),{data:m}=Je({queryKey:["my-assignments",d?.id],queryFn:async()=>{if(!d?.id)return[];const{data:k,error:A}=await je.from("worker_assignments").select(`
          id,
          assigned_at,
          project:workforce_projects(id, project_name, project_code, status)
        `).eq("worker_id",d.id).is("removed_at",null).order("assigned_at",{ascending:!1});if(A)throw A;return k},enabled:!!d?.id}),{data:p,isLoading:y}=Je({queryKey:["my-work-stats",d?.id,t,n],queryFn:async()=>{if(!d?.id)return[];let k=je.from("work_stats").select(`
          id,
          worker_id,
          project_id,
          work_date,
          units_completed,
          hours_worked,
          earnings,
          project:projects!work_stats_project_id_fkey(id, name)
        `).eq("worker_id",d.id).order("work_date",{ascending:!1});t&&(k=k.gte("work_date",Fe(t,"yyyy-MM-dd"))),n&&(k=k.lte("work_date",Fe(n,"yyyy-MM-dd")));const{data:A,error:R}=await k;if(R)throw R;return A},enabled:!!d?.id}),g=x.useMemo(()=>{if(!p||p.length===0)return{totalUnits:0,totalHours:0,totalEarnings:0,avgUnitsPerDay:0,avgHoursPerDay:0,daysWorked:0};const k=p.reduce((O,P)=>O+(P.units_completed||0),0),A=p.reduce((O,P)=>O+(P.hours_worked||0),0),R=p.reduce((O,P)=>O+(P.earnings||0),0),T=new Set(p.map(O=>O.work_date)).size;return{totalUnits:k,totalHours:A,totalEarnings:R,avgUnitsPerDay:T>0?Math.round(k/T):0,avgHoursPerDay:T>0?(A/T).toFixed(1):"0",daysWorked:T}},[p]),b=x.useMemo(()=>{if(!p||p.length===0)return null;const k=t&&n?Math.ceil((n.getTime()-t.getTime())/(1e3*60*60*24))+1:30,A=new Set(p.map($=>$.work_date)).size,R=Math.min(A/k*100,100),T=A>0?p.reduce(($,M)=>$+(M.units_completed||0),0)/A:0,O=Math.min(T/50*100,100),P=Math.round(R*.4+O*.6);return Math.min(P,100)},[p,t,n]),w=x.useMemo(()=>m?m.filter(k=>k.project?.status==="active").length:0,[m]),_=x.useMemo(()=>{if(!p||p.length===0)return[];const k={};return p.forEach(A=>{const R=A.work_date;k[R]=(k[R]||0)+(A.earnings||0)}),Object.entries(k).sort(([A],[R])=>A.localeCompare(R)).map(([A,R])=>({date:Fe(K3(A),"MMM d"),fullDate:A,earnings:Number(R.toFixed(2))}))},[p]),j=x.useMemo(()=>{if(!p)return[];const k=i*c;return p.slice(k,k+c)},[p,i]),N=Math.ceil((p?.length||0)/c),E=k=>{const A=new Date;switch(k){case"last7":r(Un(A,7)),a(A);break;case"last30":r(Un(A,30)),a(A);break;case"thisMonth":r(_s(A)),a(Co(A));break;case"lastMonth":const R=Qv(A,1);r(_s(R)),a(Co(R));break}o(0)};return f?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((k,A)=>s.jsx(De,{className:"h-24"},A))}),s.jsx(De,{className:"h-96"})]}):d?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Stats"}),s.jsx("p",{className:"text-muted-foreground",children:"View your work statistics, earnings, and project assignments"})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{className:"text-lg",children:"My Profile"})}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Name"}),s.jsx("p",{className:"font-medium",children:d.full_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"HR ID"}),s.jsx("p",{className:"font-medium",children:d.hr_id})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Status"}),s.jsx(ze,{variant:d.status==="active"?"default":"secondary",children:d.status})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hire Date"}),s.jsx("p",{className:"font-medium",children:d.hire_date?Fe(new Date(d.hire_date),"MMM d, yyyy"):"-"})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{className:"text-lg",children:"Quick Actions"})}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Wa,{to:"#assignments",onClick:k=>{k.preventDefault(),document.getElementById("assignments-section")?.scrollIntoView({behavior:"smooth"})},children:s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[s.jsx(bs,{className:"h-8 w-8 text-blue-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"View Assignments"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:[m?.length||0," active"]})]})}),s.jsx(Wa,{to:"/messages",children:s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[s.jsx(sse,{className:"h-8 w-8 text-green-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Message Manager"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Send a message"})]})}),s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg bg-muted/30 cursor-not-allowed opacity-60",children:[s.jsx(Wie,{className:"h-8 w-8 text-purple-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"View Training"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Coming soon"})]}),s.jsx(Wa,{to:"#earnings",onClick:k=>{k.preventDefault(),document.getElementById("earnings-section")?.scrollIntoView({behavior:"smooth"})},children:s.jsxs("div",{className:"flex flex-col items-center p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[s.jsx(fo,{className:"h-8 w-8 text-emerald-600 mb-2"}),s.jsx("span",{className:"text-sm font-medium",children:"View Earnings"}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["$",g.totalEarnings.toFixed(0)," total"]})]})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Current Projects"}),s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:m?.length||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active assignments"})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"This Month's Earnings"}),s.jsx(fo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",g.totalEarnings.toFixed(2)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"In selected period"})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Pending Tasks"}),s.jsx(Zie,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:w}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w===0?"All caught up!":"Projects needing attention"})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Quality Score"}),s.jsx(JD,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:Ie("text-2xl font-bold",b===null?"text-muted-foreground":b>=80?"text-green-600":b>=60?"text-yellow-600":"text-red-600"),children:b!==null?`${b}%`:""}),b!==null&&b>=80&&s.jsx(JD,{className:"h-5 w-5 text-yellow-500 fill-yellow-500"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:b===null?"No data yet":b>=80?"Excellent performance!":b>=60?"Good progress":"Needs improvement"})]})]})]}),s.jsxs(Ce,{id:"assignments-section",children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(bs,{className:"h-5 w-5"}),"Current Assignments"]}),s.jsx(ot,{children:"Projects you are currently assigned to"})]}),s.jsx(Ne,{children:m&&m.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(k=>s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:k.project?.project_name||"Unknown Project"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:k.project?.project_code||"-"})]}),s.jsx(ze,{variant:k.project?.status==="active"?"default":"secondary",children:k.project?.status||"unknown"})]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Assigned: ",Fe(new Date(k.assigned_at),"MMM d, yyyy")]})]},k.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"You are not currently assigned to any projects."})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(se,{variant:"outline",size:"sm",onClick:()=>E("last7"),children:"Last 7 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>E("last30"),children:"Last 30 Days"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>E("thisMonth"),children:"This Month"}),s.jsx(se,{variant:"outline",size:"sm",onClick:()=>E("lastMonth"),children:"Last Month"}),s.jsx("div",{className:"flex-1"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ix,{children:[s.jsx(sx,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",className:Ie(!t&&"text-muted-foreground"),children:[s.jsx(_o,{className:"mr-2 h-4 w-4"}),t?Fe(t,"MMM d"):"From"]})}),s.jsx(bm,{className:"w-auto p-0",align:"start",children:s.jsx(wm,{mode:"single",selected:t,onSelect:k=>{r(k),o(0)},disabled:k=>n?k>n:!1,initialFocus:!0})})]}),s.jsx("span",{className:"text-muted-foreground",children:"to"}),s.jsxs(ix,{children:[s.jsx(sx,{asChild:!0,children:s.jsxs(se,{variant:"outline",size:"sm",className:Ie(!n&&"text-muted-foreground"),children:[s.jsx(_o,{className:"mr-2 h-4 w-4"}),n?Fe(n,"MMM d"):"To"]})}),s.jsx(bm,{className:"w-auto p-0",align:"start",children:s.jsx(wm,{mode:"single",selected:n,onSelect:k=>{a(k),o(0)},disabled:k=>t?k<t:!1,initialFocus:!0})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Units"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.totalUnits.toLocaleString()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",g.avgUnitsPerDay," per day"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Hours"}),s.jsx(Hh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[g.totalHours.toFixed(1),"h"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Avg ",g.avgHoursPerDay,"h per day"]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Days Worked"}),s.jsx(Ed,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.daysWorked}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Days with activity"})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Avg Units/Day"}),s.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Ne,{children:[s.jsx("div",{className:"text-2xl font-bold",children:g.avgUnitsPerDay}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Productivity rate"})]})]})]}),_.length>0&&s.jsxs(Ce,{id:"earnings-section",children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(yo,{className:"h-5 w-5"}),"My Earnings Over Time"]}),s.jsx(ot,{children:"Daily earnings in selected period"})]}),s.jsx(Ne,{children:s.jsx(Cy,{width:"100%",height:300,children:s.jsxs(vW,{data:_,children:[s.jsx(gm,{strokeDasharray:"3 3",className:"stroke-muted"}),s.jsx(ym,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(xm,{tick:{fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:k=>`$${k}`}),s.jsx(Gy,{formatter:k=>[`$${k.toFixed(2)}`,"Earnings"],labelFormatter:k=>`Date: ${k}`,contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Kk,{type:"monotone",dataKey:"earnings",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2},activeDot:{r:6}})]})})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsx(Ae,{children:"Work History"}),s.jsxs(ot,{children:["Showing ",p?.length||0," records in selected period"]})]}),s.jsx(Ne,{children:y?s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((k,A)=>s.jsx(De,{className:"h-12 w-full"},A))}):j.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"rounded-md border",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{children:"Date"}),s.jsx(Te,{children:"Project"}),s.jsx(Te,{children:"Units"}),s.jsx(Te,{children:"Hours"}),s.jsx(Te,{children:"Earnings"})]})}),s.jsx(Yr,{children:j.map(k=>s.jsxs(vt,{children:[s.jsx(Oe,{children:Fe(new Date(k.work_date),"MMM d, yyyy")}),s.jsx(Oe,{children:k.project?.name||"-"}),s.jsx(Oe,{children:k.units_completed!==null?s.jsx(ze,{variant:"secondary",children:k.units_completed.toLocaleString()}):"-"}),s.jsx(Oe,{children:k.hours_worked!==null?`${k.hours_worked.toFixed(1)}h`:"-"}),s.jsx(Oe,{className:"font-medium text-green-600",children:k.earnings!==null?`$${k.earnings.toFixed(2)}`:"-"})]},k.id))})]})}),N>1&&s.jsxs("div",{className:"flex items-center justify-between px-2 py-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Page ",i+1," of ",N]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(k=>Math.max(0,k-1)),disabled:i===0,children:[s.jsx(_x,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>o(k=>Math.min(N-1,k+1)),disabled:i>=N-1,children:["Next",s.jsx(km,{className:"h-4 w-4"})]})]})]})]}):s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Ed,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-semibold",children:"No work stats found"}),s.jsx("p",{className:"text-muted-foreground",children:"No work statistics recorded for the selected period."})]})})]})]}):s.jsx("div",{className:"container mx-auto py-6",children:s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(bx,{children:"No Worker Profile Found"}),s.jsxs(mt,{children:["Your user account (",e?.email,") is not linked to a worker profile in the system. Please contact your administrator to set up your worker profile."]})]})})}function LMe(){const{user:e}=Sr(),{data:t,isLoading:r}=Je({queryKey:["my-full-worker-profile",e?.email],queryFn:async()=>{if(!e?.email)return null;const{data:c,error:d}=await je.from("workers").select(`
          id,
          hr_id,
          full_name,
          email_personal,
          email_pph,
          country_residence,
          locale_primary,
          locale_all,
          engagement_model,
          worker_role,
          status,
          hire_date,
          rtw_datetime,
          bgc_expiration_date,
          created_at,
          supervisor:workers!workers_supervisor_id_fkey(id, full_name)
        `).or(`email_personal.eq.${e.email},email_pph.eq.${e.email}`).single();return d?(console.error("Error finding linked worker:",d),null):c},enabled:!!e?.email}),{data:n}=Je({queryKey:["my-platform-accounts",t?.id],queryFn:async()=>{if(!t?.id)return[];const{data:c,error:d}=await je.from("worker_accounts").select("id, platform_type, platform_username, is_active, assigned_at").eq("worker_id",t.id).order("assigned_at",{ascending:!1});if(d)throw d;return c},enabled:!!t?.id}),{data:a}=Je({queryKey:["my-earnings-summary",t?.id],queryFn:async()=>{if(!t?.id)return null;const c=new Date,d=Fe(_s(c),"yyyy-MM-dd"),f=Fe(Un(c,30),"yyyy-MM-dd"),{data:m}=await je.from("work_stats").select("earnings, units_completed, hours_worked").eq("worker_id",t.id),{data:p}=await je.from("work_stats").select("earnings").eq("worker_id",t.id).gte("work_date",d),{data:y}=await je.from("work_stats").select("earnings").eq("worker_id",t.id).gte("work_date",f),g=m?.reduce((N,E)=>N+(E.earnings||0),0)||0,b=p?.reduce((N,E)=>N+(E.earnings||0),0)||0,w=y?.reduce((N,E)=>N+(E.earnings||0),0)||0,_=m?.reduce((N,E)=>N+(E.units_completed||0),0)||0,j=m?.reduce((N,E)=>N+(E.hours_worked||0),0)||0;return{allTime:g,thisMonth:b,last30Days:w,totalUnits:_,totalHours:j}},enabled:!!t?.id}),i=c=>c?c.charAt(0).toUpperCase()+c.slice(1).replace("_"," "):"Not specified",o=x.useMemo(()=>{if(!t?.bgc_expiration_date)return null;const c=new Date(t.bgc_expiration_date),d=new Date,f=Math.ceil((c.getTime()-d.getTime())/(1e3*60*60*24));return f<0?{status:"expired",days:Math.abs(f)}:f<=30?{status:"expiring",days:f}:{status:"valid",days:f}},[t?.bgc_expiration_date]);return r?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(De,{className:"h-10 w-64"}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsx(De,{className:"h-64"}),s.jsx(De,{className:"h-64"})]}),s.jsx(De,{className:"h-48"})]}):t?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),s.jsx("p",{className:"text-muted-foreground",children:"View your personal information, accounts, and earnings"})]}),s.jsx(Ce,{children:s.jsx(Ne,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-6",children:[s.jsx("div",{className:"h-20 w-20 rounded-full bg-primary/10 flex items-center justify-center",children:s.jsx(f1,{className:"h-10 w-10 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:t.full_name}),s.jsx(ze,{variant:t.status==="active"?"default":"secondary",children:t.status})]}),s.jsx("p",{className:"text-muted-foreground",children:t.hr_id}),t.worker_role&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.worker_role})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(Th,{className:"h-5 w-5"}),"Contact Information"]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Th,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Personal Email"}),s.jsx("p",{className:"font-medium",children:t.email_personal})]})]}),t.email_pph&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Th,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"PPH Email"}),s.jsx("p",{className:"font-medium",children:t.email_pph})]})]}),t.country_residence&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rse,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Country of Residence"}),s.jsx("p",{className:"font-medium",children:t.country_residence})]})]}),t.locale_primary&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wh,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Primary Locale"}),s.jsx("p",{className:"font-medium",children:t.locale_primary})]})]}),t.locale_all&&t.locale_all.length>0&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Wh,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"All Locales"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.locale_all.map(c=>s.jsx(ze,{variant:"outline",className:"text-xs",children:c},c))})]})]})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(zc,{className:"h-5 w-5"}),"Employment Details"]})}),s.jsxs(Ne,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(zc,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Engagement Model"}),s.jsx("p",{className:"font-medium",children:i(t.engagement_model)})]})]}),t.hire_date&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hire Date"}),s.jsx("p",{className:"font-medium",children:Fe(new Date(t.hire_date),"MMMM d, yyyy")})]})]}),t.rtw_datetime&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"RTW Date"}),s.jsx("p",{className:"font-medium",children:Fe(new Date(t.rtw_datetime),"MMMM d, yyyy")})]})]}),t.supervisor&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(f1,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Supervisor"}),s.jsx("p",{className:"font-medium",children:t.supervisor.full_name})]})]}),t.bgc_expiration_date&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(xse,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"BGC Expiration"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:"font-medium",children:Fe(new Date(t.bgc_expiration_date),"MMMM d, yyyy")}),o?.status==="expired"&&s.jsx(ze,{variant:"destructive",children:"Expired"}),o?.status==="expiring"&&s.jsxs(ze,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:["Expires in ",o.days," days"]})]})]})]})]})]})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(ZD,{className:"h-5 w-5"}),"Platform Accounts"]}),s.jsx(ot,{children:"Your assigned platform accounts for work"})]}),s.jsx(Ne,{children:n&&n.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(c=>s.jsxs("div",{className:"p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ZD,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium capitalize",children:c.platform_type.replace("_"," ")})]}),s.jsx(ze,{variant:c.is_active?"default":"secondary",children:c.is_active?"Active":"Inactive"})]}),s.jsx("p",{className:"text-sm font-mono bg-muted px-2 py-1 rounded",children:c.platform_username}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Assigned: ",Fe(new Date(c.assigned_at),"MMM d, yyyy")]})]},c.id))}):s.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No platform accounts assigned yet."})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{children:[s.jsxs(Ae,{className:"flex items-center gap-2",children:[s.jsx(fo,{className:"h-5 w-5"}),"Earnings Summary"]}),s.jsx(ot,{children:"Your earnings overview"})]}),s.jsx(Ne,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx(fo,{className:"h-6 w-6 mx-auto text-green-600 mb-2"}),s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",a?.allTime.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All Time"})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx(fo,{className:"h-6 w-6 mx-auto text-blue-600 mb-2"}),s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",a?.thisMonth.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx(fo,{className:"h-6 w-6 mx-auto text-purple-600 mb-2"}),s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",a?.last30Days.toFixed(2)||"0.00"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Last 30 Days"})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx(yo,{className:"h-6 w-6 mx-auto text-orange-600 mb-2"}),s.jsx("p",{className:"text-2xl font-bold",children:a?.totalUnits.toLocaleString()||"0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Units"})]}),s.jsxs("div",{className:"p-4 border rounded-lg text-center",children:[s.jsx(Hh,{className:"h-6 w-6 mx-auto text-cyan-600 mb-2"}),s.jsxs("p",{className:"text-2xl font-bold",children:[a?.totalHours.toFixed(1)||"0","h"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Hours"})]})]})})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{className:"text-sm font-medium text-muted-foreground",children:"Account Information"})}),s.jsx(Ne,{children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Profile created: ",Fe(new Date(t.created_at),"MMMM d, yyyy")]})})]})]}):s.jsx("div",{className:"container mx-auto py-6",children:s.jsxs(ht,{variant:"destructive",children:[s.jsx(ia,{className:"h-4 w-4"}),s.jsx(bx,{children:"No Worker Profile Found"}),s.jsxs(mt,{children:["Your user account (",e?.email,") is not linked to a worker profile in the system. Please contact your administrator to set up your worker profile."]})]})})}const z4=["tier0","tier1","tier2"],F4={tier0:"Tier 0 (Entry)",tier1:"Tier 1 (Intermediate)",tier2:"Tier 2 (Expert)"},U4=["USD","EUR","GBP","CAD","AUD","PHP","INR","MXN"];function zMe(){const{user:e}=Sr(),t=jr(),[r,n]=x.useState([]),[a,i]=x.useState(""),[o,c]=x.useState(!1),[d,f]=x.useState(!1),[m,p]=x.useState(!1),[y,g]=x.useState(null),[b,w]=x.useState({locale:"",expert_tier:"tier0",country:"",rate_per_unit:"",rate_per_hour:"",currency:"USD",effective_from:new Date().toISOString().split("T")[0],effective_to:""}),{data:_}=Je({queryKey:["user-profile",e?.id],queryFn:async()=>{if(!e?.id)return null;const{data:I,error:q}=await je.from("profiles").select("id, role, email").eq("id",e.id).single();return q?(console.error("Error fetching user profile:",q),null):I},enabled:!!e?.id}),{data:j,isLoading:N}=Je({queryKey:["rates-payable"],queryFn:async()=>{const{data:I,error:q}=await je.from("rates_payable").select("*").order("locale",{ascending:!0}).order("expert_tier",{ascending:!0}).order("effective_from",{ascending:!1});if(q)throw q;return I}}),E=pr({mutationFn:async I=>{const{data:q,error:ue}=await je.from("rates_payable").insert({locale:I.locale,expert_tier:I.expert_tier,country:I.country,rate_per_unit:I.rate_per_unit?parseFloat(I.rate_per_unit):null,rate_per_hour:I.rate_per_hour?parseFloat(I.rate_per_hour):null,currency:I.currency,effective_from:I.effective_from,effective_to:I.effective_to||null,created_by:null}).select();if(ue)throw ue;if(!q||q.length===0)throw new Error("Insert failed: No rows were created. You may not have permission to add rates.");return q[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),c(!1),R(),ja.success("Rate Added",{description:"The rate card has been created successfully."})},onError:I=>{ja.error("Error",{description:I.message})}}),k=pr({mutationFn:async({id:I,data:q})=>{const{data:ue,error:B}=await je.from("rates_payable").update({locale:q.locale,expert_tier:q.expert_tier,country:q.country,rate_per_unit:q.rate_per_unit?parseFloat(q.rate_per_unit):null,rate_per_hour:q.rate_per_hour?parseFloat(q.rate_per_hour):null,currency:q.currency,effective_from:q.effective_from,effective_to:q.effective_to||null}).eq("id",I).select();if(B)throw B;if(!ue||ue.length===0)throw new Error("Update failed: No rows were updated. You may not have permission to update this rate.");return ue[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),f(!1),g(null),R(),ja.success("Rate Updated",{description:"The rate card has been updated successfully."})},onError:I=>{ja.error("Error",{description:I.message})}}),A=pr({mutationFn:async I=>{const{data:q,error:ue}=await je.from("rates_payable").update({effective_to:new Date().toISOString().split("T")[0]}).eq("id",I).select();if(ue)throw ue;if(!q||q.length===0)throw new Error("Deactivation failed: No rows were updated. You may not have permission to update this rate.");return q[0]},onSuccess:()=>{t.invalidateQueries({queryKey:["rates-payable"]}),p(!1),g(null),ja.success("Rate Deactivated",{description:"The rate card has been deactivated."})},onError:I=>{ja.error("Error",{description:I.message})}}),R=()=>{w({locale:"",expert_tier:"tier0",country:"",rate_per_unit:"",rate_per_hour:"",currency:"USD",effective_from:new Date().toISOString().split("T")[0],effective_to:""})},T=I=>{g(I),w({locale:I.locale,expert_tier:I.expert_tier,country:I.country,rate_per_unit:I.rate_per_unit?.toString()||"",rate_per_hour:I.rate_per_hour?.toString()||"",currency:I.currency,effective_from:I.effective_from,effective_to:I.effective_to||""}),f(!0)},O=I=>{g(I),p(!0)},P=(I,q)=>q?new Date(q)>new Date(I):!0,$=()=>{const I=[];return b.locale||I.push("Locale"),b.expert_tier||I.push("Expert Tier"),b.country||I.push("Country"),b.currency||I.push("Currency"),b.effective_from||I.push("Effective From"),I},M=()=>{const I=$();if(I.length>0){ja.error("Missing Required Fields",{description:`Please fill in: ${I.join(", ")}`});return}if(b.effective_to&&!P(b.effective_from,b.effective_to)){ja.error("Invalid Date Range",{description:"Effective To date must be after Effective From date."});return}E.mutate(b)},L=()=>{if(!y)return;const I=$();if(I.length>0){ja.error("Missing Required Fields",{description:`Please fill in: ${I.join(", ")}`});return}if(b.effective_to&&!P(b.effective_from,b.effective_to)){ja.error("Invalid Date Range",{description:"Effective To date must be after Effective From date."});return}k.mutate({id:y.id,data:b})},U=I=>I.effective_to?new Date(I.effective_to)>=new Date:!0,X=x.useMemo(()=>_?["root","admin","manager"].includes(_.role):!1,[_]),Y=x.useMemo(()=>{if(!j)return{total:0,active:0,locales:0,tiers:0};const I=j.filter(U),q=new Set(j.map(B=>B.locale)).size,ue=new Set(j.map(B=>B.expert_tier)).size;return{total:j.length,active:I.length,locales:q,tiers:ue}},[j]),F=x.useMemo(()=>[{accessorKey:"locale",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Locale"}),cell:({row:I})=>s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx(Wh,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:I.original.locale})]})},{accessorKey:"expert_tier",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Expert Tier"}),cell:({row:I})=>{const q=I.original.expert_tier,ue={tier0:"bg-slate-100 text-slate-800",tier1:"bg-blue-100 text-blue-800",tier2:"bg-purple-100 text-purple-800"},B={tier0:"Tier 0",tier1:"Tier 1",tier2:"Tier 2"};return s.jsx(ze,{variant:"secondary",className:`whitespace-nowrap ${ue[q]||""}`,children:B[q]||q})}},{accessorKey:"country",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Country"}),cell:({row:I})=>s.jsx("span",{className:"whitespace-nowrap",children:I.original.country||"-"})},{accessorKey:"rate_per_unit",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Rate/Unit"}),cell:({row:I})=>{const q=I.original.rate_per_unit,ue=I.original.currency;return s.jsx("span",{className:"whitespace-nowrap",children:q?`${ue} ${q.toFixed(2)}`:"-"})}},{accessorKey:"rate_per_hour",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Rate/Hour"}),cell:({row:I})=>{const q=I.original.rate_per_hour,ue=I.original.currency;return s.jsx("span",{className:"whitespace-nowrap",children:q?`${ue} ${q.toFixed(2)}`:"-"})}},{accessorKey:"currency",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Currency"}),cell:({row:I})=>s.jsx(ze,{variant:"outline",className:"whitespace-nowrap",children:I.original.currency})},{accessorKey:"effective_from",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Effective From"}),cell:({row:I})=>s.jsx("span",{className:"whitespace-nowrap",children:Fe(new Date(I.original.effective_from),"MMM d, yyyy")})},{accessorKey:"effective_to",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Effective To"}),cell:({row:I})=>{const q=I.original.effective_to;if(!q)return s.jsx(ze,{variant:"secondary",className:"whitespace-nowrap",children:"Active"});const ue=new Date(q)<new Date;return s.jsx("span",{className:`whitespace-nowrap ${ue?"text-muted-foreground":""}`,children:Fe(new Date(q),"MMM d, yyyy")})}},{accessorKey:"status",header:()=>s.jsx("span",{className:"whitespace-nowrap",children:"Status"}),cell:({row:I})=>{const q=U(I.original);return s.jsx(ze,{variant:q?"default":"secondary",className:"whitespace-nowrap",children:q?"Active":"Inactive"})}},{id:"actions",header:"Actions",cell:({row:I})=>s.jsxs(ty,{children:[s.jsx(ry,{asChild:!0,children:s.jsx(se,{variant:"ghost",size:"icon",disabled:!X,children:s.jsx(Iie,{className:"h-4 w-4"})})}),s.jsxs(Jh,{align:"end",children:[s.jsxs(Cc,{onClick:()=>T(I.original),disabled:!X,children:[s.jsx(cse,{className:"mr-2 h-4 w-4"}),"Edit"]}),U(I.original)&&s.jsxs(Cc,{onClick:()=>O(I.original),className:"text-destructive",disabled:!X,children:[s.jsx(cU,{className:"mr-2 h-4 w-4"}),"Deactivate"]})]})]})}],[X]),H=Yd({data:j||[],columns:F,state:{sorting:r,globalFilter:a},onSortingChange:n,onGlobalFilterChange:i,getCoreRowModel:Wd(),getFilteredRowModel:Am(),getPaginationRowModel:Kd(),getSortedRowModel:Gd(),initialState:{pagination:{pageSize:10}}});return N?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(De,{className:"h-10 w-48"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[...Array(4)].map((I,q)=>s.jsx(De,{className:"h-24"},q))}),s.jsx(De,{className:"h-96"})]}):s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Rate Cards"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage payable rates by locale, expert tier, and country"})]}),s.jsxs(se,{onClick:()=>c(!0),disabled:!X,children:[s.jsx(vN,{className:"mr-2 h-4 w-4"}),"Add Rate"]})]}),_&&!X&&s.jsxs(ht,{variant:"destructive",children:[s.jsx(Gi,{className:"h-4 w-4"}),s.jsx(bx,{children:"Limited Access"}),s.jsxs(mt,{children:["Your current role (",_.role,") does not have permission to add, edit, or deactivate rate cards. Contact an administrator to request the 'admin' or 'manager' role."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Total Rates"}),s.jsx(oU,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.total})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Active Rates"}),s.jsx(fo,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold text-green-600",children:Y.active})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Locales"}),s.jsx(Wh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.locales})})]}),s.jsxs(Ce,{children:[s.jsxs(ke,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ae,{className:"text-sm font-medium",children:"Expert Tiers"}),s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(Ne,{children:s.jsx("div",{className:"text-2xl font-bold",children:Y.tiers})})]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ae,{children:"Rate Cards"}),s.jsxs("div",{className:"relative w-64",children:[s.jsx(Hd,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Qe,{placeholder:"Search rates...",value:a,onChange:I=>i(I.target.value),className:"pl-8"})]})]})}),s.jsxs(Ne,{children:[s.jsx("div",{className:"rounded-md border overflow-x-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:H.getHeaderGroups().map(I=>s.jsx(vt,{children:I.headers.map(q=>s.jsx(Te,{className:"whitespace-nowrap",children:q.isPlaceholder?null:Ei(q.column.columnDef.header,q.getContext())},q.id))},I.id))}),s.jsx(Yr,{children:H.getRowModel().rows?.length?H.getRowModel().rows.map(I=>s.jsx(vt,{children:I.getVisibleCells().map(q=>s.jsx(Oe,{className:"whitespace-nowrap",children:Ei(q.column.columnDef.cell,q.getContext())},q.id))},I.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:F.length,className:"h-24 text-center",children:"No rates found."})})})]})}),s.jsxs("div",{className:"flex items-center justify-between py-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Showing ",H.getState().pagination.pageIndex*H.getState().pagination.pageSize+1," to"," ",Math.min((H.getState().pagination.pageIndex+1)*H.getState().pagination.pageSize,H.getFilteredRowModel().rows.length)," ","of ",H.getFilteredRowModel().rows.length," rates"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>H.previousPage(),disabled:!H.getCanPreviousPage(),children:[s.jsx(_x,{className:"h-4 w-4"}),"Previous"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>H.nextPage(),disabled:!H.getCanNextPage(),children:["Next",s.jsx(km,{className:"h-4 w-4"})]})]})]})]})]}),s.jsx(ka,{open:o,onOpenChange:c,children:s.jsxs(sa,{className:"max-w-md",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Add New Rate"}),s.jsx(ki,{children:"Create a new rate card for a specific locale and expert tier."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"locale",children:"Locale *"}),s.jsx(Qe,{id:"locale",placeholder:"e.g., en-US, es-MX, fr-FR",value:b.locale,onChange:I=>w({...b,locale:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"expert_tier",children:"Expert Tier *"}),s.jsxs(Ct,{value:b.expert_tier,onValueChange:I=>w({...b,expert_tier:I}),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select tier"})}),s.jsx(_t,{children:z4.map(I=>s.jsx(Me,{value:I,children:F4[I]||I},I))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"country",children:"Country *"}),s.jsx(Qe,{id:"country",placeholder:"e.g., US, MX, PH",value:b.country,onChange:I=>w({...b,country:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"rate_per_unit",children:"Rate per Unit"}),s.jsx(Qe,{id:"rate_per_unit",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_unit,onChange:I=>w({...b,rate_per_unit:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"rate_per_hour",children:"Rate per Hour"}),s.jsx(Qe,{id:"rate_per_hour",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_hour,onChange:I=>w({...b,rate_per_hour:I.target.value})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"currency",children:"Currency *"}),s.jsxs(Ct,{value:b.currency,onValueChange:I=>w({...b,currency:I}),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select currency"})}),s.jsx(_t,{children:U4.map(I=>s.jsx(Me,{value:I,children:I},I))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"effective_from",children:"Effective From *"}),s.jsx(Qe,{id:"effective_from",type:"date",value:b.effective_from,onChange:I=>w({...b,effective_from:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"effective_to",children:"Effective To"}),s.jsx(Qe,{id:"effective_to",type:"date",value:b.effective_to,onChange:I=>w({...b,effective_to:I.target.value})})]})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),s.jsx(se,{onClick:M,disabled:E.isPending,children:E.isPending?"Adding...":"Add Rate"})]})]})}),s.jsx(ka,{open:d,onOpenChange:f,children:s.jsxs(sa,{className:"max-w-md",children:[s.jsxs(oa,{children:[s.jsx(la,{children:"Edit Rate"}),s.jsx(ki,{children:"Update the rate card details."})]}),s.jsxs("div",{className:"grid gap-4 py-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-locale",children:"Locale *"}),s.jsx(Qe,{id:"edit-locale",placeholder:"e.g., en-US, es-MX, fr-FR",value:b.locale,onChange:I=>w({...b,locale:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-expert_tier",children:"Expert Tier *"}),s.jsxs(Ct,{value:b.expert_tier,onValueChange:I=>w({...b,expert_tier:I}),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select tier"})}),s.jsx(_t,{children:z4.map(I=>s.jsx(Me,{value:I,children:F4[I]||I},I))})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-country",children:"Country *"}),s.jsx(Qe,{id:"edit-country",placeholder:"e.g., US, MX, PH",value:b.country,onChange:I=>w({...b,country:I.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-rate_per_unit",children:"Rate per Unit"}),s.jsx(Qe,{id:"edit-rate_per_unit",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_unit,onChange:I=>w({...b,rate_per_unit:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-rate_per_hour",children:"Rate per Hour"}),s.jsx(Qe,{id:"edit-rate_per_hour",type:"number",step:"0.01",placeholder:"0.00",value:b.rate_per_hour,onChange:I=>w({...b,rate_per_hour:I.target.value})})]})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-currency",children:"Currency *"}),s.jsxs(Ct,{value:b.currency,onValueChange:I=>w({...b,currency:I}),children:[s.jsx(wt,{children:s.jsx(Nt,{placeholder:"Select currency"})}),s.jsx(_t,{children:U4.map(I=>s.jsx(Me,{value:I,children:I},I))})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-effective_from",children:"Effective From *"}),s.jsx(Qe,{id:"edit-effective_from",type:"date",value:b.effective_from,onChange:I=>w({...b,effective_from:I.target.value})})]}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(_e,{htmlFor:"edit-effective_to",children:"Effective To"}),s.jsx(Qe,{id:"edit-effective_to",type:"date",value:b.effective_to,onChange:I=>w({...b,effective_to:I.target.value})})]})]})]}),s.jsxs(Aa,{children:[s.jsx(se,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),s.jsx(se,{onClick:L,disabled:k.isPending,children:k.isPending?"Saving...":"Save Changes"})]})]})}),s.jsx(tA,{open:m,onOpenChange:p,children:s.jsxs(I0,{children:[s.jsxs($0,{children:[s.jsx(z0,{children:"Deactivate Rate"}),s.jsx(F0,{children:"Are you sure you want to deactivate this rate card? This will set the effective end date to today. The rate will no longer be used for new calculations."})]}),s.jsxs(L0,{children:[s.jsx(B0,{children:"Cancel"}),s.jsx(U0,{onClick:()=>y&&A.mutate(y.id),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:A.isPending?"Deactivating...":"Deactivate"})]})]})})]})}var H0="Switch",[FMe]=ua(H0),[UMe,BMe]=FMe(H0),N9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:f,form:m,...p}=e,[y,g]=x.useState(null),b=jt(t,E=>g(E)),w=x.useRef(!1),_=y?m||!!y.closest("form"):!0,[j,N]=Ns({prop:a,defaultProp:i??!1,onChange:f,caller:H0});return s.jsxs(UMe,{scope:r,checked:j,disabled:c,children:[s.jsx(st.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":O9(j),"data-disabled":c?"":void 0,disabled:c,value:d,...p,ref:b,onClick:$e(e.onClick,E=>{N(k=>!k),_&&(w.current=E.isPropagationStopped(),w.current||E.stopPropagation())})}),_&&s.jsx(A9,{control:y,bubbles:!w.current,name:n,value:d,checked:j,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});N9.displayName=H0;var E9="SwitchThumb",k9=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=BMe(E9,r);return s.jsx(st.span,{"data-state":O9(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});k9.displayName=E9;var qMe="SwitchBubbleInput",A9=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...a},i)=>{const o=x.useRef(null),c=jt(o,i),d=Tx(r),f=Ax(t);return x.useEffect(()=>{const m=o.current;if(!m)return;const p=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==r&&g){const b=new Event("click",{bubbles:n});g.call(m,r),m.dispatchEvent(b)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});A9.displayName=qMe;function O9(e){return e?"checked":"unchecked"}var T9=N9,VMe=k9;const R9=x.forwardRef(({className:e,...t},r)=>s.jsx(T9,{className:Ie("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:r,children:s.jsx(VMe,{className:Ie("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));R9.displayName=T9.displayName;const HMe=["root","admin","manager","team_lead","worker"],WMe=e=>{if(!e)return"";try{return ufe(new Date(e),{addSuffix:!0})}catch{return e}},KMe=e=>e==="root"?"Super Admin":e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");function GMe(){const e=jr(),{isAdminOrAbove:t,isRoot:r,profile:n}=Sr(),[a,i]=x.useState(null),[o,c]=x.useState(null),{data:d,isLoading:f,error:m,refetch:p}=Je({queryKey:["users-management"],queryFn:async()=>{console.log("Fetching users from profiles table...");const{data:_,error:j}=await je.from("profiles").select("id, email, full_name, role, suspended, updated_at").order("full_name",{ascending:!0});if(j)throw console.error("Error fetching profiles:",j),j;return console.log("Fetched users:",_),_||[]}}),y=pr({mutationFn:async({userId:_,newRole:j})=>{i(_);const{error:N}=await je.from("profiles").update({role:j,updated_at:new Date().toISOString()}).eq("id",_);if(N)throw N},onSuccess:()=>{e.invalidateQueries({queryKey:["users-management"]}),ja.success("Role updated successfully")},onError:_=>{ja.error("Failed to update role",{description:_.message})},onSettled:()=>{i(null)}}),g=pr({mutationFn:async({userId:_,suspended:j})=>{c(_);const{error:N}=await je.from("profiles").update({suspended:j,updated_at:new Date().toISOString()}).eq("id",_);if(N)throw N},onSuccess:(_,j)=>{e.invalidateQueries({queryKey:["users-management"]}),ja.success(j.suspended?"User suspended":"User activated")},onError:_=>{ja.error("Failed to update status",{description:_.message})},onSettled:()=>{c(null)}}),b=(_,j)=>{y.mutate({userId:_,newRole:j})},w=(_,j)=>{g.mutate({userId:_,suspended:!j})};return f?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading users..."})]})}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"User Directory"})}),s.jsx(Ne,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-12 w-full"})]})})]})]}):m?s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsx("div",{className:"flex flex-wrap items-center justify-between gap-4",children:s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Administer platform access, assign roles, and activate/deactivate users."})]})}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"Error Loading Users"})}),s.jsxs(Ne,{children:[s.jsxs("p",{className:"text-destructive mb-4",children:["Failed to load users: ",m.message]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This could be due to:"}),s.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground mb-4",children:[s.jsx("li",{children:"Missing RLS policy for profiles table"}),s.jsx("li",{children:"No data in the profiles table"}),s.jsx("li",{children:"Network connection issues"})]}),s.jsxs(se,{variant:"outline",onClick:()=>p(),children:[s.jsx(XD,{className:"h-4 w-4 mr-2"}),"Try Again"]})]})]})]}):s.jsxs("div",{className:"container mx-auto py-8 space-y-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-semibold tracking-tight",children:"User Management"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Administer platform access, assign roles, and activate/deactivate users."})]}),s.jsxs(se,{variant:"outline",onClick:()=>p(),children:[s.jsx(XD,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),s.jsxs(Ce,{children:[s.jsx(ke,{children:s.jsx(Ae,{children:"User Directory"})}),s.jsx(Ne,{className:"p-0",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Kr,{children:[s.jsx(Gr,{children:s.jsxs(vt,{children:[s.jsx(Te,{className:"whitespace-nowrap min-w-[180px]",children:"Name"}),s.jsx(Te,{className:"whitespace-nowrap min-w-[200px]",children:"Email"}),s.jsx(Te,{className:"whitespace-nowrap min-w-[160px]",children:"Role"}),s.jsx(Te,{className:"whitespace-nowrap min-w-[100px]",children:"Status"}),s.jsx(Te,{className:"whitespace-nowrap min-w-[140px]",children:"Last Updated"}),s.jsx(Te,{className:"whitespace-nowrap min-w-[160px] text-right",children:"Action"})]})}),s.jsx(Yr,{children:d&&d.length>0?d.map(_=>s.jsxs(vt,{children:[s.jsx(Oe,{className:"font-medium whitespace-nowrap",children:_.full_name||""}),s.jsx(Oe,{className:"whitespace-nowrap",children:_.email}),s.jsx(Oe,{className:"whitespace-nowrap",children:s.jsxs(Ct,{value:_.role,onValueChange:j=>b(_.id,j),disabled:a===_.id||!t||_.id===n?.id,children:[s.jsx(wt,{className:"w-[140px]",children:s.jsx(Nt,{placeholder:"Select role"})}),s.jsx(_t,{children:HMe.filter(j=>j==="root"?r:!0).map(j=>s.jsx(Me,{value:j,children:KMe(j)},j))})]})}),s.jsx(Oe,{className:"whitespace-nowrap",children:s.jsx(ze,{variant:_.suspended?"destructive":"outline",children:_.suspended?"Suspended":"Active"})}),s.jsx(Oe,{className:"whitespace-nowrap",children:WMe(_.updated_at)}),s.jsx(Oe,{className:"whitespace-nowrap text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(R9,{checked:!_.suspended,onCheckedChange:()=>w(_.id,_.suspended),disabled:o===_.id||!t||_.id===n?.id}),s.jsx("span",{className:"text-xs text-muted-foreground w-[70px]",children:_.suspended?"Activate":"Deactivate"})]})})]},_.id)):s.jsx(vt,{children:s.jsx(Oe,{colSpan:6,className:"py-6 text-center text-muted-foreground",children:"No users found."})})})]})})})]})]})}function Ir({children:e}){const{user:t,loading:r}=Sr();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[s.jsx(De,{className:"h-12 w-full"}),s.jsx(De,{className:"h-64 w-full"}),s.jsx(De,{className:"h-12 w-full"})]})}):t?s.jsx(s.Fragment,{children:e}):s.jsx(zC,{to:"/login",replace:!0})}function YMe(e,t=[]){let r=[];function n(i,o){const c=x.createContext(o);c.displayName=i+"Context";const d=r.length;r=[...r,o];const f=p=>{const{scope:y,children:g,...b}=p,w=y?.[e]?.[d]||c,_=x.useMemo(()=>b,Object.values(b));return s.jsx(w.Provider,{value:_,children:g})};f.displayName=i+"Provider";function m(p,y){const g=y?.[e]?.[d]||c,b=x.useContext(g);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[f,m]}const a=()=>{const i=r.map(o=>x.createContext(o));return function(c){const d=c?.[e]||i;return x.useMemo(()=>({[`__scope${e}`]:{...c,[e]:d}}),[c,d])}};return a.scopeName=e,[n,ZMe(a,...t)]}function ZMe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:f})=>{const p=d(i)[`__scope${f}`];return{...c,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var XMe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iA=XMe.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=x.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),QMe=$5();function JMe(){return QMe.useSyncExternalStore(e2e,()=>!0,()=>!1)}function e2e(){return()=>{}}var sA="Avatar",[t2e]=YMe(sA),[r2e,P9]=t2e(sA),D9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=x.useState("idle");return s.jsx(r2e,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(iA.span,{...n,ref:t})})});D9.displayName=sA;var M9="AvatarImage",I9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=P9(M9,r),c=n2e(n,i),d=An(f=>{a(f),o.onImageLoadingStatusChange(f)});return un(()=>{c!=="idle"&&d(c)},[c,d]),c==="loaded"?s.jsx(iA.img,{...i,ref:t,src:n}):null});I9.displayName=M9;var $9="AvatarFallback",L9=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=P9($9,r),[o,c]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>c(!0),n);return()=>window.clearTimeout(d)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(iA.span,{...a,ref:t}):null});L9.displayName=$9;function B4(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function n2e(e,{referrerPolicy:t,crossOrigin:r}){const n=JMe(),a=x.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,c]=x.useState(()=>B4(i,e));return un(()=>{c(B4(i,e))},[i,e]),un(()=>{const d=p=>()=>{c(p)};if(!i)return;const f=d("loaded"),m=d("error");return i.addEventListener("load",f),i.addEventListener("error",m),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",f),i.removeEventListener("error",m)}},[i,r,t]),o}var z9=D9,F9=I9,U9=L9;const B9=x.forwardRef(({className:e,...t},r)=>s.jsx(z9,{ref:r,className:Ie("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));B9.displayName=z9.displayName;const a2e=x.forwardRef(({className:e,...t},r)=>s.jsx(F9,{ref:r,className:Ie("aspect-square h-full w-full",e),...t}));a2e.displayName=F9.displayName;const q9=x.forwardRef(({className:e,...t},r)=>s.jsx(U9,{ref:r,className:Ie("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));q9.displayName=U9.displayName;const q4=e=>e?{root:"Super Admin",admin:"Admin",manager:"Manager",team_lead:"Team Lead",worker:"Worker"}[e]||e:"User",V4=e=>e?e==="root"?"destructive":e==="admin"?"default":"secondary":"outline";function $r({children:e,pageTitle:t}){const{user:r,profile:n,signOut:a,isManagerOrAbove:i}=Sr(),o=ri(),c=x.useMemo(()=>[{title:"Home",items:[{title:"Dashboard",href:"/dashboard",icon:Gie},{title:"Workers",href:"/workers",icon:Ss,requiredRoles:["root","admin","manager","team_lead"]},{title:"Projects",href:"/projects",icon:bs,requiredRoles:["root","admin","manager"]},{title:"Teams",href:"/teams",icon:d1,requiredRoles:["root","admin","manager"]},{title:"Departments",href:"/departments",icon:wx,requiredRoles:["root","admin"]},{title:"Stats",href:"/stats",icon:Ed,requiredRoles:["root","admin","manager","team_lead"]},{title:"My Stats",href:"/my-stats",icon:Ed,requiredRoles:["worker"]},{title:"My Profile",href:"/my-profile",icon:f1,requiredRoles:["worker"]},{title:"Rate Cards",href:"/rates",icon:oU,requiredRoles:["root","admin","manager"]},{title:"User Management",href:"/users",icon:vse,requiredRoles:["root","admin"]},{title:"Messages",href:"/messages",icon:Th}]}],[]),d=x.useMemo(()=>{const g=n?.role;return c.map(b=>({...b,items:b.items.filter(w=>w.requiredRoles?g?w.requiredRoles.includes(g):!1:!0)}))},[c,n?.role]),f=x.useMemo(()=>[{title:"Add Worker",href:"/workers/create",icon:Ss},{title:"Create Project",href:"/projects/create",icon:bs},{title:"Create Team",href:"/teams/create",icon:d1},{title:"Import CSV",href:"/workers/bulk-upload",icon:GD}],[]),m=[{title:"Settings",icon:QD,onClick:()=>console.info("Settings coming soon"),comingSoon:!0},{title:"Get Help",icon:YD,onClick:()=>console.info("Help coming soon"),comingSoon:!0},{title:"Search",icon:Hd,onClick:()=>console.info("Search coming soon"),comingSoon:!0}],p=g=>o.pathname===g||o.pathname.startsWith(g+"/"),y=g=>g.split(" ").map(b=>b[0]).join("").toUpperCase().slice(0,2);return s.jsx("div",{className:"flex h-screen bg-background",children:s.jsxs("div",{className:"flex w-full",children:[s.jsxs("div",{className:"w-64 border-r bg-sidebar flex flex-col",children:[s.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-3",children:[s.jsx(Wa,{to:"/dashboard",className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground hover:bg-primary/90 transition-colors",children:s.jsx("span",{className:"text-lg font-bold",children:"P"})}),s.jsx(Wa,{to:"/dashboard",className:"flex items-center",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-semibold text-sm",children:"PPH Connect"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Workforce Hub"})]})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto px-2 py-2",children:s.jsx("nav",{className:"space-y-1",children:d.map((g,b)=>s.jsxs("div",{className:`space-y-1 ${b===1?"mt-8":""}`,children:[s.jsx("div",{className:"px-2 py-1.5",children:s.jsx("h3",{className:"text-xs font-medium text-sidebar-foreground/60",children:g.title})}),g.items.map(w=>s.jsxs(Wa,{to:w.href,className:`flex items-center gap-3 rounded-md px-2 text-sm transition-colors ${p(w.href)?"bg-sidebar-primary text-sidebar-primary-foreground font-medium py-2":"text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground py-1.5"}`,children:[s.jsx(w.icon,{className:"h-4 w-4"}),s.jsx("span",{children:w.title}),w.badge&&s.jsx(ze,{variant:"destructive",className:"ml-auto h-5 px-1.5 text-xs",children:w.badge})]},w.href))]},g.title))})}),s.jsx("div",{className:"px-2 py-2",children:s.jsx("div",{className:"space-y-1",children:m.map(g=>s.jsxs("button",{onClick:g.onClick,className:"flex w-full items-center gap-3 rounded-md px-2 py-1.5 text-sm text-sidebar-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",children:[s.jsx(g.icon,{className:"h-4 w-4"}),s.jsx("span",{children:g.title})]},g.title))})}),s.jsx("div",{className:"border-t p-2",children:s.jsxs(ty,{children:[s.jsx(ry,{asChild:!0,children:s.jsxs("button",{className:"flex w-full items-center gap-2 rounded-lg px-2 py-1.5 hover:bg-sidebar-accent",children:[s.jsx(B9,{className:"h-8 w-8",children:s.jsx(q9,{className:"bg-sidebar-primary text-sidebar-primary-foreground text-xs font-medium",children:r?.email?y(r.email):"U"})}),s.jsxs("div",{className:"flex flex-1 flex-col items-start text-left min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground truncate w-full",children:r?.email?r.email.split("@")[0]:"User"}),s.jsx("span",{className:"text-xs text-sidebar-foreground/60 truncate w-full",title:r?.email||"email@example.com",children:r?.email||"email@example.com"}),s.jsx(ze,{variant:V4(n?.role),className:"mt-1 text-xs",children:q4(n?.role)})]}),s.jsx(_ie,{className:"h-4 w-4 text-sidebar-foreground/60"})]})}),s.jsxs(Jh,{align:"end",className:"w-56",children:[s.jsx(GN,{children:s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("span",{className:"font-medium truncate w-full",children:r?.email?r.email.split("@")[0]:"User"}),s.jsx("span",{className:"text-xs font-normal text-muted-foreground truncate w-full",title:r?.email,children:r?.email})]})}),s.jsx(ny,{}),s.jsxs(Cc,{onClick:()=>console.info("Settings coming soon"),className:"cursor-pointer",children:[s.jsx(QD,{className:"mr-2 h-4 w-4"}),"Account Settings"]}),s.jsxs(Cc,{onClick:()=>console.info("Help coming soon"),className:"cursor-pointer",children:[s.jsx(YD,{className:"mr-2 h-4 w-4"}),"Support"]}),s.jsx(ny,{}),s.jsxs(Cc,{onClick:a,className:"text-red-600 hover:text-red-700 hover:bg-red-50 cursor-pointer",children:[s.jsx(Jie,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]})})]}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"flex h-16 items-center justify-between border-b px-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-2xl font-bold",children:t||"Dashboard"}),s.jsx(ze,{variant:V4(n?.role),className:"uppercase tracking-wide text-xs",children:q4(n?.role)})]}),i&&s.jsxs(ty,{children:[s.jsx(ry,{asChild:!0,children:s.jsxs(se,{variant:"default",size:"sm",className:"gap-1.5",children:[s.jsx(GD,{className:"h-4 w-4"}),"Quick Create"]})}),s.jsx(Jh,{align:"end",className:"w-56",children:f.map(g=>s.jsx(Cc,{asChild:!0,children:s.jsxs(Wa,{to:g.href,className:"flex items-center cursor-pointer gap-2",children:[s.jsx(g.icon,{className:"h-4 w-4"}),g.title]})},g.href))})]})]}),s.jsx("main",{className:"flex-1 overflow-y-auto",children:e})]})]})})}function i2e(){return s.jsxs(s.Fragment,{children:[s.jsx(dJ,{richColors:!0,position:"top-right"}),s.jsxs(tY,{children:[s.jsx(hr,{path:"/login",element:s.jsx(Jae,{})}),s.jsx(hr,{path:"/dashboard",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Dashboard",children:s.jsx(Rse,{})})})}),s.jsx(hr,{path:"/workers",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Workers",children:s.jsx(bpe,{})})})}),s.jsx(hr,{path:"/workers/create",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Create Worker",children:s.jsx(Cpe,{})})})}),s.jsx(hr,{path:"/workers/:id",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Worker Details",children:s.jsx(_Re,{})})})}),s.jsx(hr,{path:"/workers/:id/edit",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Edit Worker",children:s.jsx(Ape,{})})})}),s.jsx(hr,{path:"/projects",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Projects",children:s.jsx(jRe,{})})})}),s.jsx(hr,{path:"/projects/create",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Create Project",children:s.jsx(IRe,{})})})}),s.jsx(hr,{path:"/projects/:id",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Project Details",children:s.jsx(iPe,{})})})}),s.jsx(hr,{path:"/projects/:id/edit",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Edit Project",children:s.jsx(zRe,{})})})}),s.jsx(hr,{path:"/teams",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Teams",children:s.jsx(sPe,{})})})}),s.jsx(hr,{path:"/teams/create",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Create Team",children:s.jsx(lPe,{})})})}),s.jsx(hr,{path:"/teams/:id",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Team Details",children:s.jsx(mPe,{})})})}),s.jsx(hr,{path:"/teams/:id/edit",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Edit Team",children:s.jsx(uPe,{})})})}),s.jsx(hr,{path:"/departments",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Departments",children:s.jsx(pPe,{})})})}),s.jsx(hr,{path:"/departments/create",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Create Department",children:s.jsx(gPe,{})})})}),s.jsx(hr,{path:"/departments/:id/edit",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Edit Department",children:s.jsx(vPe,{})})})}),s.jsx(hr,{path:"/stats",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Work Stats",children:s.jsx(IMe,{})})})}),s.jsx(hr,{path:"/stats/import",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Work Stats Import",children:s.jsx(DPe,{})})})}),s.jsx(hr,{path:"/my-stats",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"My Stats",children:s.jsx($Me,{})})})}),s.jsx(hr,{path:"/my-profile",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"My Profile",children:s.jsx(LMe,{})})})}),s.jsx(hr,{path:"/rates",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"Rate Cards",children:s.jsx(zMe,{})})})}),s.jsx(hr,{path:"/users",element:s.jsx(Ir,{children:s.jsx($r,{pageTitle:"User Management",children:s.jsx(GMe,{})})})}),s.jsx(hr,{path:"/",element:s.jsx(zC,{to:"/dashboard",replace:!0})})]})]})}const s2e=new nZ({defaultOptions:{queries:{staleTime:1e3*60*5,refetchOnWindowFocus:!1}}});d7.createRoot(document.getElementById("root")).render(s.jsx(re.StrictMode,{children:s.jsx(aZ,{client:s2e,children:s.jsx(CY,{children:s.jsx(LQ,{children:s.jsx(i2e,{})})})})}));
